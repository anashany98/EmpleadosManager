(()=>{var ZY=Object.create;var cI=Object.defineProperty;var e$=Object.getOwnPropertyDescriptor;var t$=Object.getOwnPropertyNames;var r$=Object.getPrototypeOf,n$=Object.prototype.hasOwnProperty;var Rx=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var en=(r,e)=>()=>(r&&(e=r(r=0)),e);var we=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),AI=(r,e)=>{for(var t in e)cI(r,t,{get:e[t],enumerable:!0})},a$=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of t$(e))!n$.call(r,a)&&a!==t&&cI(r,a,{get:()=>e[a],enumerable:!(n=e$(e,a))||n.enumerable});return r};var At=(r,e,t)=>(t=r!=null?ZY(r$(r)):{},a$(e||!r||!r.__esModule?cI(t,"default",{value:r,enumerable:!0}):t,r));var pN=we(Sr=>{"use strict";var hI=Symbol.for("react.transitional.element"),o$=Symbol.for("react.portal"),i$=Symbol.for("react.fragment"),s$=Symbol.for("react.strict_mode"),u$=Symbol.for("react.profiler"),l$=Symbol.for("react.consumer"),c$=Symbol.for("react.context"),A$=Symbol.for("react.forward_ref"),f$=Symbol.for("react.suspense"),d$=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),h$=Symbol.for("react.activity"),oN=Symbol.iterator;function p$(r){return r===null||typeof r!="object"?null:(r=oN&&r[oN]||r["@@iterator"],typeof r=="function"?r:null)}var cN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AN=Object.assign,fN={};function Ap(r,e,t){this.props=r,this.context=e,this.refs=fN,this.updater=t||cN}Ap.prototype.isReactComponent={};Ap.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};Ap.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function dN(){}dN.prototype=Ap.prototype;function pI(r,e,t){this.props=r,this.context=e,this.refs=fN,this.updater=t||cN}var mI=pI.prototype=new dN;mI.constructor=pI;AN(mI,Ap.prototype);mI.isPureReactComponent=!0;var iN=Array.isArray;function dI(){}var Vn={H:null,A:null,T:null,S:null},hN=Object.prototype.hasOwnProperty;function gI(r,e,t){var n=t.ref;return{$$typeof:hI,type:r,key:e,ref:n!==void 0?n:null,props:t}}function m$(r,e){return gI(r.type,e,r.props)}function vI(r){return typeof r=="object"&&r!==null&&r.$$typeof===hI}function g$(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var sN=/\/+/g;function fI(r,e){return typeof r=="object"&&r!==null&&r.key!=null?g$(""+r.key):e.toString(36)}function v$(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(dI,dI):(r.status="pending",r.then(function(e){r.status==="pending"&&(r.status="fulfilled",r.value=e)},function(e){r.status==="pending"&&(r.status="rejected",r.reason=e)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function cp(r,e,t,n,a){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var i=!1;if(r===null)i=!0;else switch(o){case"bigint":case"string":case"number":i=!0;break;case"object":switch(r.$$typeof){case hI:case o$:i=!0;break;case lN:return i=r._init,cp(i(r._payload),e,t,n,a)}}if(i)return a=a(r),i=n===""?"."+fI(r,0):n,iN(a)?(t="",i!=null&&(t=i.replace(sN,"$&/")+"/"),cp(a,e,t,"",function(l){return l})):a!=null&&(vI(a)&&(a=m$(a,t+(a.key==null||r&&r.key===a.key?"":(""+a.key).replace(sN,"$&/")+"/")+i)),e.push(a)),1;i=0;var s=n===""?".":n+":";if(iN(r))for(var u=0;u<r.length;u++)n=r[u],o=s+fI(n,u),i+=cp(n,e,t,o,a);else if(u=p$(r),typeof u=="function")for(r=u.call(r),u=0;!(n=r.next()).done;)n=n.value,o=s+fI(n,u++),i+=cp(n,e,t,o,a);else if(o==="object"){if(typeof r.then=="function")return cp(v$(r),e,t,n,a);throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function Mx(r,e,t){if(r==null)return r;var n=[],a=0;return cp(r,n,"","",function(o){return e.call(t,o,a++)}),n}function y$(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var uN=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},x$={map:Mx,forEach:function(r,e,t){Mx(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return Mx(r,function(){e++}),e},toArray:function(r){return Mx(r,function(e){return e})||[]},only:function(r){if(!vI(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Sr.Activity=h$;Sr.Children=x$;Sr.Component=Ap;Sr.Fragment=i$;Sr.Profiler=u$;Sr.PureComponent=pI;Sr.StrictMode=s$;Sr.Suspense=f$;Sr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vn;Sr.__COMPILER_RUNTIME={__proto__:null,c:function(r){return Vn.H.useMemoCache(r)}};Sr.cache=function(r){return function(){return r.apply(null,arguments)}};Sr.cacheSignal=function(){return null};Sr.cloneElement=function(r,e,t){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var n=AN({},r.props),a=r.key;if(e!=null)for(o in e.key!==void 0&&(a=""+e.key),e)!hN.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(n[o]=e[o]);var o=arguments.length-2;if(o===1)n.children=t;else if(1<o){for(var i=Array(o),s=0;s<o;s++)i[s]=arguments[s+2];n.children=i}return gI(r.type,a,n)};Sr.createContext=function(r){return r={$$typeof:c$,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:l$,_context:r},r};Sr.createElement=function(r,e,t){var n,a={},o=null;if(e!=null)for(n in e.key!==void 0&&(o=""+e.key),e)hN.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=e[n]);var i=arguments.length-2;if(i===1)a.children=t;else if(1<i){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+2];a.children=s}if(r&&r.defaultProps)for(n in i=r.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return gI(r,o,a)};Sr.createRef=function(){return{current:null}};Sr.forwardRef=function(r){return{$$typeof:A$,render:r}};Sr.isValidElement=vI;Sr.lazy=function(r){return{$$typeof:lN,_payload:{_status:-1,_result:r},_init:y$}};Sr.memo=function(r,e){return{$$typeof:d$,type:r,compare:e===void 0?null:e}};Sr.startTransition=function(r){var e=Vn.T,t={};Vn.T=t;try{var n=r(),a=Vn.S;a!==null&&a(t,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(dI,uN)}catch(o){uN(o)}finally{e!==null&&t.types!==null&&(e.types=t.types),Vn.T=e}};Sr.unstable_useCacheRefresh=function(){return Vn.H.useCacheRefresh()};Sr.use=function(r){return Vn.H.use(r)};Sr.useActionState=function(r,e,t){return Vn.H.useActionState(r,e,t)};Sr.useCallback=function(r,e){return Vn.H.useCallback(r,e)};Sr.useContext=function(r){return Vn.H.useContext(r)};Sr.useDebugValue=function(){};Sr.useDeferredValue=function(r,e){return Vn.H.useDeferredValue(r,e)};Sr.useEffect=function(r,e){return Vn.H.useEffect(r,e)};Sr.useEffectEvent=function(r){return Vn.H.useEffectEvent(r)};Sr.useId=function(){return Vn.H.useId()};Sr.useImperativeHandle=function(r,e,t){return Vn.H.useImperativeHandle(r,e,t)};Sr.useInsertionEffect=function(r,e){return Vn.H.useInsertionEffect(r,e)};Sr.useLayoutEffect=function(r,e){return Vn.H.useLayoutEffect(r,e)};Sr.useMemo=function(r,e){return Vn.H.useMemo(r,e)};Sr.useOptimistic=function(r,e){return Vn.H.useOptimistic(r,e)};Sr.useReducer=function(r,e,t){return Vn.H.useReducer(r,e,t)};Sr.useRef=function(r){return Vn.H.useRef(r)};Sr.useState=function(r){return Vn.H.useState(r)};Sr.useSyncExternalStore=function(r,e,t){return Vn.H.useSyncExternalStore(r,e,t)};Sr.useTransition=function(){return Vn.H.useTransition()};Sr.version="19.2.3"});var jt=we((pCe,mN)=>{"use strict";mN.exports=pN()});var o3=we(Li=>{"use strict";var HJ=jt();function a3(r){var e="https://react.dev/errors/"+r;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function IA(){}var Ei={d:{f:IA,r:function(){throw Error(a3(522))},D:IA,C:IA,L:IA,m:IA,X:IA,S:IA,M:IA},p:0,findDOMNode:null},VJ=Symbol.for("react.portal");function qJ(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:VJ,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}var c0=HJ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function zx(r,e){if(r==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ei;Li.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(a3(299));return qJ(r,e,null,t)};Li.flushSync=function(r){var e=c0.T,t=Ei.p;try{if(c0.T=null,Ei.p=2,r)return r()}finally{c0.T=e,Ei.p=t,Ei.d.f()}};Li.preconnect=function(r,e){typeof r=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ei.d.C(r,e))};Li.prefetchDNS=function(r){typeof r=="string"&&Ei.d.D(r)};Li.preinit=function(r,e){if(typeof r=="string"&&e&&typeof e.as=="string"){var t=e.as,n=zx(t,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?Ei.d.S(r,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:o}):t==="script"&&Ei.d.X(r,{crossOrigin:n,integrity:a,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Li.preinitModule=function(r,e){if(typeof r=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=zx(e.as,e.crossOrigin);Ei.d.M(r,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ei.d.M(r)};Li.preload=function(r,e){if(typeof r=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,n=zx(t,e.crossOrigin);Ei.d.L(r,t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Li.preloadModule=function(r,e){if(typeof r=="string")if(e){var t=zx(e.as,e.crossOrigin);Ei.d.m(r,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ei.d.m(r)};Li.requestFormReset=function(r){Ei.d.r(r)};Li.unstable_batchedUpdates=function(r,e){return r(e)};Li.useFormState=function(r,e,t){return c0.H.useFormState(r,e,t)};Li.useFormStatus=function(){return c0.H.useHostTransitionStatus()};Li.version="19.2.3"});var u3=we((ECe,s3)=>{"use strict";function i3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i3)}catch(r){console.error(r)}}i3(),s3.exports=o3()});var A3=we(Gx=>{"use strict";var GJ=Symbol.for("react.transitional.element"),KJ=Symbol.for("react.fragment");function c3(r,e,t){var n=null;if(t!==void 0&&(n=""+t),e.key!==void 0&&(n=""+e.key),"key"in e){t={};for(var a in e)a!=="key"&&(t[a]=e[a])}else t=e;return e=t.ref,{$$typeof:GJ,type:r,key:n,ref:e!==void 0?e:null,props:t}}Gx.Fragment=KJ;Gx.jsx=c3;Gx.jsxs=c3});var vp=we((JBe,f3)=>{"use strict";f3.exports=A3()});var RR=we((Ev,KE)=>{(function(e,t){typeof Ev=="object"&&typeof KE=="object"?KE.exports=t(jt()):typeof define=="function"&&define.amd?define(["react"],t):typeof Ev=="object"?Ev.Webcam=t(jt()):e.Webcam=t(e.React)})(Ev,function(r){return(function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(a,o,i){n.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:i})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,o){if(o&1&&(a=n(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var s in a)n.d(i,s,function(u){return a[u]}.bind(null,s));return i},n.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(o,"a",o),o},n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},n.p="",n(n.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(e,t,n){"use strict";n.r(t);var a=n("react"),o=n.n(a),i=(function(){var A=function(d,f){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])},A(d,f)};return function(d,f){A(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),s=function(){return s=Object.assign||function(A){for(var d,f=1,h=arguments.length;f<h;f++){d=arguments[f];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(A[p]=d[p])}return A},s.apply(this,arguments)},u=function(A,d){var f={};for(var h in A)Object.prototype.hasOwnProperty.call(A,h)&&d.indexOf(h)<0&&(f[h]=A[h]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,h=Object.getOwnPropertySymbols(A);p<h.length;p++)d.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(A,h[p])&&(f[h[p]]=A[h[p]]);return f};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(d){var f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return f?new Promise(function(h,p){f.call(navigator,d,h,p)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function l(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var c=(function(A){i(d,A);function d(f){var h=A.call(this,f)||this;return h.canvas=null,h.ctx=null,h.requestUserMediaId=0,h.unmounted=!1,h.state={hasUserMedia:!1},h}return d.prototype.componentDidMount=function(){var f=this,h=f.state,p=f.props;if(this.unmounted=!1,!l()){p.onUserMediaError("getUserMedia not supported");return}h.hasUserMedia||this.requestUserMedia(),p.children&&typeof p.children!="function"&&console.warn("children must be a function")},d.prototype.componentDidUpdate=function(f){var h=this.props;if(!l()){h.onUserMediaError("getUserMedia not supported");return}var p=JSON.stringify(f.audioConstraints)!==JSON.stringify(h.audioConstraints),v=JSON.stringify(f.videoConstraints)!==JSON.stringify(h.videoConstraints),g=f.minScreenshotWidth!==h.minScreenshotWidth,B=f.minScreenshotHeight!==h.minScreenshotHeight;(v||g||B)&&(this.canvas=null,this.ctx=null),(p||v)&&(this.stopAndCleanup(),this.requestUserMedia())},d.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},d.stopMediaStream=function(f){f&&(f.getVideoTracks&&f.getAudioTracks?(f.getVideoTracks().map(function(h){f.removeTrack(h),h.stop()}),f.getAudioTracks().map(function(h){f.removeTrack(h),h.stop()})):f.stop())},d.prototype.stopAndCleanup=function(){var f=this.state;f.hasUserMedia&&(d.stopMediaStream(this.stream),f.src&&window.URL.revokeObjectURL(f.src))},d.prototype.getScreenshot=function(f){var h=this,p=h.state,v=h.props;if(!p.hasUserMedia)return null;var g=this.getCanvas(f);return g&&g.toDataURL(v.screenshotFormat,v.screenshotQuality)},d.prototype.getCanvas=function(f){var h=this,p=h.state,v=h.props;if(!this.video||!p.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,B=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var I=g/B;g=v.minScreenshotWidth||this.video.clientWidth,B=g/I,v.minScreenshotHeight&&B<v.minScreenshotHeight&&(B=v.minScreenshotHeight,g=B*I)}this.canvas=document.createElement("canvas"),this.canvas.width=f?.width||g,this.canvas.height=f?.height||B,this.ctx=this.canvas.getContext("2d")}var S=this,E=S.ctx,T=S.canvas;return E&&T&&(T.width=f?.width||T.width,T.height=f?.height||T.height,v.mirrored&&(E.translate(T.width,0),E.scale(-1,1)),E.imageSmoothingEnabled=v.imageSmoothing,E.drawImage(this.video,0,0,f?.width||T.width,f?.height||T.height),v.mirrored&&(E.scale(-1,1),E.translate(-T.width,0))),T},d.prototype.requestUserMedia=function(){var f=this,h=this.props,p=function(B,I){var S={video:typeof I<"u"?I:!0};h.audio&&(S.audio=typeof B<"u"?B:!0),f.requestUserMediaId++;var E=f.requestUserMediaId;navigator.mediaDevices.getUserMedia(S).then(function(T){f.unmounted||E!==f.requestUserMediaId?d.stopMediaStream(T):f.handleUserMedia(null,T)}).catch(function(T){f.handleUserMedia(T)})};if("mediaDevices"in navigator)p(h.audioConstraints,h.videoConstraints);else{var v=function(B){return{optional:[{sourceId:B}]}},g=function(B){var I=B.deviceId;return typeof I=="string"?I:Array.isArray(I)&&I.length>0?I[0]:typeof I=="object"&&I.ideal?I.ideal:null};MediaStreamTrack.getSources(function(B){var I=null,S=null;B.forEach(function(U){U.kind==="audio"?I=U.id:U.kind==="video"&&(S=U.id)});var E=g(h.audioConstraints);E&&(I=E);var T=g(h.videoConstraints);T&&(S=T),p(v(I),v(S))})}},d.prototype.handleUserMedia=function(f,h){var p=this.props;if(f||!h){this.setState({hasUserMedia:!1}),p.onUserMediaError(f);return}this.stream=h;try{this.video&&(this.video.srcObject=h),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(h)})}p.onUserMedia(h)},d.prototype.render=function(){var f=this,h=this,p=h.state,v=h.props,g=v.audio,B=v.forceScreenshotSourceSize,I=v.disablePictureInPicture,S=v.onUserMedia,E=v.onUserMediaError,T=v.screenshotFormat,U=v.screenshotQuality,D=v.minScreenshotWidth,k=v.minScreenshotHeight,O=v.audioConstraints,N=v.videoConstraints,P=v.imageSmoothing,j=v.mirrored,z=v.style,ne=z===void 0?{}:z,re=v.children,Y=u(v,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),J=j?s(s({},ne),{transform:(ne.transform||"")+" scaleX(-1)"}):ne,G={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",s({autoPlay:!0,disablePictureInPicture:I,src:p.src,muted:!g,playsInline:!0,ref:function(Z){f.video=Z},style:J},Y)),re&&re(G))},d.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},d})(a.Component);t.default=c}),react:(function(e,t){e.exports=r})}).default})});var MR=we(()=>{});var UR=we(()=>{});var OR=we(()=>{});var wQ=we((MXe,xQ)=>{xQ.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var nf=we(Kd=>{var Y5,yue=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Kd.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Kd.getSymbolTotalCodewords=function(e){return yue[e]};Kd.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};Kd.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Y5=e};Kd.isKanjiModeEnabled=function(){return typeof Y5<"u"};Kd.toSJIS=function(e){return Y5(e)}});var k2=we(fu=>{fu.L={bit:1};fu.M={bit:0};fu.Q={bit:3};fu.H={bit:2};function xue(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return fu.L;case"m":case"medium":return fu.M;case"q":case"quartile":return fu.Q;case"h":case"high":return fu.H;default:throw new Error("Unknown EC Level: "+r)}}fu.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};fu.from=function(e,t){if(fu.isValid(e))return e;try{return xue(e)}catch{return t}}});var BQ=we((QXe,CQ)=>{function bQ(){this.buffer=[],this.length=0}bQ.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};CQ.exports=bQ});var IQ=we((HXe,SQ)=>{function yy(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}yy.prototype.set=function(r,e,t,n){let a=r*this.size+e;this.data[a]=t,n&&(this.reservedBit[a]=!0)};yy.prototype.get=function(r,e){return this.data[r*this.size+e]};yy.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};yy.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};SQ.exports=yy});var EQ=we(N2=>{var wue=nf().getSymbolSize;N2.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=wue(e),a=n===145?26:Math.ceil((n-13)/(2*t-2))*2,o=[n-7];for(let i=1;i<t-1;i++)o[i]=o[i-1]-a;return o.push(6),o.reverse()};N2.getPositions=function(e){let t=[],n=N2.getRowColCoords(e),a=n.length;for(let o=0;o<a;o++)for(let i=0;i<a;i++)o===0&&i===0||o===0&&i===a-1||o===a-1&&i===0||t.push([n[o],n[i]]);return t}});var TQ=we(FQ=>{var bue=nf().getSymbolSize,LQ=7;FQ.getPositions=function(e){let t=bue(e);return[[0,0],[t-LQ,0],[0,t-LQ]]}});var _Q=we(Un=>{Un.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Xd={N1:3,N2:3,N3:40,N4:10};Un.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Un.from=function(e){return Un.isValid(e)?parseInt(e,10):void 0};Un.getPenaltyN1=function(e){let t=e.size,n=0,a=0,o=0,i=null,s=null;for(let u=0;u<t;u++){a=o=0,i=s=null;for(let l=0;l<t;l++){let c=e.get(u,l);c===i?a++:(a>=5&&(n+=Xd.N1+(a-5)),i=c,a=1),c=e.get(l,u),c===s?o++:(o>=5&&(n+=Xd.N1+(o-5)),s=c,o=1)}a>=5&&(n+=Xd.N1+(a-5)),o>=5&&(n+=Xd.N1+(o-5))}return n};Un.getPenaltyN2=function(e){let t=e.size,n=0;for(let a=0;a<t-1;a++)for(let o=0;o<t-1;o++){let i=e.get(a,o)+e.get(a,o+1)+e.get(a+1,o)+e.get(a+1,o+1);(i===4||i===0)&&n++}return n*Xd.N2};Un.getPenaltyN3=function(e){let t=e.size,n=0,a=0,o=0;for(let i=0;i<t;i++){a=o=0;for(let s=0;s<t;s++)a=a<<1&2047|e.get(i,s),s>=10&&(a===1488||a===93)&&n++,o=o<<1&2047|e.get(s,i),s>=10&&(o===1488||o===93)&&n++}return n*Xd.N3};Un.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/n/5)-10)*Xd.N4};function Cue(r,e,t){switch(r){case Un.Patterns.PATTERN000:return(e+t)%2===0;case Un.Patterns.PATTERN001:return e%2===0;case Un.Patterns.PATTERN010:return t%3===0;case Un.Patterns.PATTERN011:return(e+t)%3===0;case Un.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case Un.Patterns.PATTERN101:return e*t%2+e*t%3===0;case Un.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case Un.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}Un.applyMask=function(e,t){let n=t.size;for(let a=0;a<n;a++)for(let o=0;o<n;o++)t.isReserved(o,a)||t.xor(o,a,Cue(e,o,a))};Un.getBestMask=function(e,t){let n=Object.keys(Un.Patterns).length,a=0,o=1/0;for(let i=0;i<n;i++){t(i),Un.applyMask(i,e);let s=Un.getPenaltyN1(e)+Un.getPenaltyN2(e)+Un.getPenaltyN3(e)+Un.getPenaltyN4(e);Un.applyMask(i,e),s<o&&(o=s,a=i)}return a}});var J5=we($5=>{var af=k2(),P2=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],D2=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$5.getBlocksCount=function(e,t){switch(t){case af.L:return P2[(e-1)*4+0];case af.M:return P2[(e-1)*4+1];case af.Q:return P2[(e-1)*4+2];case af.H:return P2[(e-1)*4+3];default:return}};$5.getTotalCodewordsCount=function(e,t){switch(t){case af.L:return D2[(e-1)*4+0];case af.M:return D2[(e-1)*4+1];case af.Q:return D2[(e-1)*4+2];case af.H:return D2[(e-1)*4+3];default:return}}});var kQ=we(M2=>{var xy=new Uint8Array(512),R2=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)xy[t]=e,R2[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)xy[t]=xy[t-255]})();M2.log=function(e){if(e<1)throw new Error("log("+e+")");return R2[e]};M2.exp=function(e){return xy[e]};M2.mul=function(e,t){return e===0||t===0?0:xy[R2[e]+R2[t]]}});var NQ=we(wy=>{var Z5=kQ();wy.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let a=0;a<e.length;a++)for(let o=0;o<t.length;o++)n[a+o]^=Z5.mul(e[a],t[o]);return n};wy.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let a=n[0];for(let i=0;i<t.length;i++)n[i]^=Z5.mul(t[i],a);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};wy.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=wy.mul(t,new Uint8Array([1,Z5.exp(n)]));return t}});var RQ=we((KXe,DQ)=>{var PQ=NQ();function eF(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}eF.prototype.initialize=function(e){this.degree=e,this.genPoly=PQ.generateECPolynomial(this.degree)};eF.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=PQ.mod(t,this.genPoly),a=this.degree-n.length;if(a>0){let o=new Uint8Array(this.degree);return o.set(n,a),o}return n};DQ.exports=eF});var tF=we(MQ=>{MQ.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var rF=we(zc=>{var UQ="[0-9]+",Bue="[A-Z $%*+\\-./:]+",by="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";by=by.replace(/u/g,"\\u");var Sue="(?:(?![A-Z0-9 $%*+\\-./:]|"+by+`)(?:.|[\r
]))+`;zc.KANJI=new RegExp(by,"g");zc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");zc.BYTE=new RegExp(Sue,"g");zc.NUMERIC=new RegExp(UQ,"g");zc.ALPHANUMERIC=new RegExp(Bue,"g");var Iue=new RegExp("^"+by+"$"),Eue=new RegExp("^"+UQ+"$"),Lue=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");zc.testKanji=function(e){return Iue.test(e)};zc.testNumeric=function(e){return Eue.test(e)};zc.testAlphanumeric=function(e){return Lue.test(e)}});var of=we(Xa=>{var Fue=tF(),nF=rF();Xa.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Xa.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Xa.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Xa.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Xa.MIXED={bit:-1};Xa.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Fue.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Xa.getBestModeForData=function(e){return nF.testNumeric(e)?Xa.NUMERIC:nF.testAlphanumeric(e)?Xa.ALPHANUMERIC:nF.testKanji(e)?Xa.KANJI:Xa.BYTE};Xa.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Xa.isValid=function(e){return e&&e.bit&&e.ccBits};function Tue(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Xa.NUMERIC;case"alphanumeric":return Xa.ALPHANUMERIC;case"kanji":return Xa.KANJI;case"byte":return Xa.BYTE;default:throw new Error("Unknown mode: "+r)}}Xa.from=function(e,t){if(Xa.isValid(e))return e;try{return Tue(e)}catch{return t}}});var qQ=we(Yd=>{var U2=nf(),_ue=J5(),OQ=k2(),sf=of(),aF=tF(),HQ=7973,QQ=U2.getBCHDigit(HQ);function kue(r,e,t){for(let n=1;n<=40;n++)if(e<=Yd.getCapacity(n,t,r))return n}function VQ(r,e){return sf.getCharCountIndicator(r,e)+4}function Nue(r,e){let t=0;return r.forEach(function(n){let a=VQ(n.mode,e);t+=a+n.getBitsLength()}),t}function Pue(r,e){for(let t=1;t<=40;t++)if(Nue(r,t)<=Yd.getCapacity(t,e,sf.MIXED))return t}Yd.from=function(e,t){return aF.isValid(e)?parseInt(e,10):t};Yd.getCapacity=function(e,t,n){if(!aF.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=sf.BYTE);let a=U2.getSymbolTotalCodewords(e),o=_ue.getTotalCodewordsCount(e,t),i=(a-o)*8;if(n===sf.MIXED)return i;let s=i-VQ(n,e);switch(n){case sf.NUMERIC:return Math.floor(s/10*3);case sf.ALPHANUMERIC:return Math.floor(s/11*2);case sf.KANJI:return Math.floor(s/13);case sf.BYTE:default:return Math.floor(s/8)}};Yd.getBestVersionForData=function(e,t){let n,a=OQ.from(t,OQ.M);if(Array.isArray(e)){if(e.length>1)return Pue(e,a);if(e.length===0)return 1;n=e[0]}else n=e;return kue(n.mode,n.getLength(),a)};Yd.getEncodedBits=function(e){if(!aF.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;U2.getBCHDigit(t)-QQ>=0;)t^=HQ<<U2.getBCHDigit(t)-QQ;return e<<12|t}});var GQ=we(jQ=>{var oF=nf(),zQ=1335,Due=21522,WQ=oF.getBCHDigit(zQ);jQ.getEncodedBits=function(e,t){let n=e.bit<<3|t,a=n<<10;for(;oF.getBCHDigit(a)-WQ>=0;)a^=zQ<<oF.getBCHDigit(a)-WQ;return(n<<10|a)^Due}});var XQ=we((eYe,KQ)=>{var Rue=of();function Mm(r){this.mode=Rue.NUMERIC,this.data=r.toString()}Mm.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Mm.prototype.getLength=function(){return this.data.length};Mm.prototype.getBitsLength=function(){return Mm.getBitsLength(this.data.length)};Mm.prototype.write=function(e){let t,n,a;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),a=parseInt(n,10),e.put(a,10);let o=this.data.length-t;o>0&&(n=this.data.substr(t),a=parseInt(n,10),e.put(a,o*3+1))};KQ.exports=Mm});var $Q=we((tYe,YQ)=>{var Mue=of(),iF=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Um(r){this.mode=Mue.ALPHANUMERIC,this.data=r}Um.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Um.prototype.getLength=function(){return this.data.length};Um.prototype.getBitsLength=function(){return Um.getBitsLength(this.data.length)};Um.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=iF.indexOf(this.data[t])*45;n+=iF.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(iF.indexOf(this.data[t]),6)};YQ.exports=Um});var ZQ=we((rYe,JQ)=>{var Uue=of();function Om(r){this.mode=Uue.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Om.getBitsLength=function(e){return e*8};Om.prototype.getLength=function(){return this.data.length};Om.prototype.getBitsLength=function(){return Om.getBitsLength(this.data.length)};Om.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};JQ.exports=Om});var t8=we((nYe,e8)=>{var Oue=of(),Que=nf();function Qm(r){this.mode=Oue.KANJI,this.data=r}Qm.getBitsLength=function(e){return e*13};Qm.prototype.getLength=function(){return this.data.length};Qm.prototype.getBitsLength=function(){return Qm.getBitsLength(this.data.length)};Qm.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=Que.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};e8.exports=Qm});var r8=we((aYe,sF)=>{"use strict";var Cy={single_source_shortest_paths:function(r,e,t){var n={},a={};a[e]=0;var o=Cy.PriorityQueue.make();o.push(e,0);for(var i,s,u,l,c,A,d,f,h;!o.empty();){i=o.pop(),s=i.value,l=i.cost,c=r[s]||{};for(u in c)c.hasOwnProperty(u)&&(A=c[u],d=l+A,f=a[u],h=typeof a[u]>"u",(h||f>d)&&(a[u]=d,o.push(u,d),n[u]=s))}if(typeof t<"u"&&typeof a[t]>"u"){var p=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(p)}return n},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],n=e,a;n;)t.push(n),a=r[n],n=r[n];return t.reverse(),t},find_path:function(r,e,t){var n=Cy.single_source_shortest_paths(r,e,t);return Cy.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(r){var e=Cy.PriorityQueue,t={},n;r=r||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof sF<"u"&&(sF.exports=Cy)});var c8=we(Hm=>{var gn=of(),o8=XQ(),i8=$Q(),s8=ZQ(),u8=t8(),By=rF(),O2=nf(),Hue=r8();function n8(r){return unescape(encodeURIComponent(r)).length}function Sy(r,e,t){let n=[],a;for(;(a=r.exec(t))!==null;)n.push({data:a[0],index:a.index,mode:e,length:a[0].length});return n}function l8(r){let e=Sy(By.NUMERIC,gn.NUMERIC,r),t=Sy(By.ALPHANUMERIC,gn.ALPHANUMERIC,r),n,a;return O2.isKanjiModeEnabled()?(n=Sy(By.BYTE,gn.BYTE,r),a=Sy(By.KANJI,gn.KANJI,r)):(n=Sy(By.BYTE_KANJI,gn.BYTE,r),a=[]),e.concat(t,n,a).sort(function(i,s){return i.index-s.index}).map(function(i){return{data:i.data,mode:i.mode,length:i.length}})}function uF(r,e){switch(e){case gn.NUMERIC:return o8.getBitsLength(r);case gn.ALPHANUMERIC:return i8.getBitsLength(r);case gn.KANJI:return u8.getBitsLength(r);case gn.BYTE:return s8.getBitsLength(r)}}function Vue(r){return r.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function que(r){let e=[];for(let t=0;t<r.length;t++){let n=r[t];switch(n.mode){case gn.NUMERIC:e.push([n,{data:n.data,mode:gn.ALPHANUMERIC,length:n.length},{data:n.data,mode:gn.BYTE,length:n.length}]);break;case gn.ALPHANUMERIC:e.push([n,{data:n.data,mode:gn.BYTE,length:n.length}]);break;case gn.KANJI:e.push([n,{data:n.data,mode:gn.BYTE,length:n8(n.data)}]);break;case gn.BYTE:e.push([{data:n.data,mode:gn.BYTE,length:n8(n.data)}])}}return e}function Wue(r,e){let t={},n={start:{}},a=["start"];for(let o=0;o<r.length;o++){let i=r[o],s=[];for(let u=0;u<i.length;u++){let l=i[u],c=""+o+u;s.push(c),t[c]={node:l,lastCount:0},n[c]={};for(let A=0;A<a.length;A++){let d=a[A];t[d]&&t[d].node.mode===l.mode?(n[d][c]=uF(t[d].lastCount+l.length,l.mode)-uF(t[d].lastCount,l.mode),t[d].lastCount+=l.length):(t[d]&&(t[d].lastCount=l.length),n[d][c]=uF(l.length,l.mode)+4+gn.getCharCountIndicator(l.mode,e))}}a=s}for(let o=0;o<a.length;o++)n[a[o]].end=0;return{map:n,table:t}}function a8(r,e){let t,n=gn.getBestModeForData(r);if(t=gn.from(e,n),t!==gn.BYTE&&t.bit<n.bit)throw new Error('"'+r+'" cannot be encoded with mode '+gn.toString(t)+`.
 Suggested mode is: `+gn.toString(n));switch(t===gn.KANJI&&!O2.isKanjiModeEnabled()&&(t=gn.BYTE),t){case gn.NUMERIC:return new o8(r);case gn.ALPHANUMERIC:return new i8(r);case gn.KANJI:return new u8(r);case gn.BYTE:return new s8(r)}}Hm.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(a8(n,null)):n.data&&t.push(a8(n.data,n.mode)),t},[])};Hm.fromString=function(e,t){let n=l8(e,O2.isKanjiModeEnabled()),a=que(n),o=Wue(a,t),i=Hue.find_path(o.map,"start","end"),s=[];for(let u=1;u<i.length-1;u++)s.push(o.table[i[u]].node);return Hm.fromArray(Vue(s))};Hm.rawSplit=function(e){return Hm.fromArray(l8(e,O2.isKanjiModeEnabled()))}});var f8=we(A8=>{var H2=nf(),lF=k2(),zue=BQ(),jue=IQ(),Gue=EQ(),Kue=TQ(),fF=_Q(),dF=J5(),Xue=RQ(),Q2=qQ(),Yue=GQ(),$ue=of(),cF=c8();function Jue(r,e){let t=r.size,n=Kue.getPositions(e);for(let a=0;a<n.length;a++){let o=n[a][0],i=n[a][1];for(let s=-1;s<=7;s++)if(!(o+s<=-1||t<=o+s))for(let u=-1;u<=7;u++)i+u<=-1||t<=i+u||(s>=0&&s<=6&&(u===0||u===6)||u>=0&&u<=6&&(s===0||s===6)||s>=2&&s<=4&&u>=2&&u<=4?r.set(o+s,i+u,!0,!0):r.set(o+s,i+u,!1,!0))}}function Zue(r){let e=r.size;for(let t=8;t<e-8;t++){let n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function ele(r,e){let t=Gue.getPositions(e);for(let n=0;n<t.length;n++){let a=t[n][0],o=t[n][1];for(let i=-2;i<=2;i++)for(let s=-2;s<=2;s++)i===-2||i===2||s===-2||s===2||i===0&&s===0?r.set(a+i,o+s,!0,!0):r.set(a+i,o+s,!1,!0)}}function tle(r,e){let t=r.size,n=Q2.getEncodedBits(e),a,o,i;for(let s=0;s<18;s++)a=Math.floor(s/3),o=s%3+t-8-3,i=(n>>s&1)===1,r.set(a,o,i,!0),r.set(o,a,i,!0)}function AF(r,e,t){let n=r.size,a=Yue.getEncodedBits(e,t),o,i;for(o=0;o<15;o++)i=(a>>o&1)===1,o<6?r.set(o,8,i,!0):o<8?r.set(o+1,8,i,!0):r.set(n-15+o,8,i,!0),o<8?r.set(8,n-o-1,i,!0):o<9?r.set(8,15-o-1+1,i,!0):r.set(8,15-o-1,i,!0);r.set(n-8,8,1,!0)}function rle(r,e){let t=r.size,n=-1,a=t-1,o=7,i=0;for(let s=t-1;s>0;s-=2)for(s===6&&s--;;){for(let u=0;u<2;u++)if(!r.isReserved(a,s-u)){let l=!1;i<e.length&&(l=(e[i]>>>o&1)===1),r.set(a,s-u,l),o--,o===-1&&(i++,o=7)}if(a+=n,a<0||t<=a){a-=n,n=-n;break}}}function nle(r,e,t){let n=new zue;t.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),$ue.getCharCountIndicator(u.mode,r)),u.write(n)});let a=H2.getSymbolTotalCodewords(r),o=dF.getTotalCodewordsCount(r,e),i=(a-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let s=(i-n.getLengthInBits())/8;for(let u=0;u<s;u++)n.put(u%2?17:236,8);return ale(n,r,e)}function ale(r,e,t){let n=H2.getSymbolTotalCodewords(e),a=dF.getTotalCodewordsCount(e,t),o=n-a,i=dF.getBlocksCount(e,t),s=n%i,u=i-s,l=Math.floor(n/i),c=Math.floor(o/i),A=c+1,d=l-c,f=new Xue(d),h=0,p=new Array(i),v=new Array(i),g=0,B=new Uint8Array(r.buffer);for(let U=0;U<i;U++){let D=U<u?c:A;p[U]=B.slice(h,h+D),v[U]=f.encode(p[U]),h+=D,g=Math.max(g,D)}let I=new Uint8Array(n),S=0,E,T;for(E=0;E<g;E++)for(T=0;T<i;T++)E<p[T].length&&(I[S++]=p[T][E]);for(E=0;E<d;E++)for(T=0;T<i;T++)I[S++]=v[T][E];return I}function ole(r,e,t,n){let a;if(Array.isArray(r))a=cF.fromArray(r);else if(typeof r=="string"){let l=e;if(!l){let c=cF.rawSplit(r);l=Q2.getBestVersionForData(c,t)}a=cF.fromString(r,l||40)}else throw new Error("Invalid data");let o=Q2.getBestVersionForData(a,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let i=nle(e,t,a),s=H2.getSymbolSize(e),u=new jue(s);return Jue(u,e),Zue(u),ele(u,e),AF(u,t,0),e>=7&&tle(u,e),rle(u,i),isNaN(n)&&(n=fF.getBestMask(u,AF.bind(null,u,t))),fF.applyMask(n,u),AF(u,t,n),{modules:u,version:e,errorCorrectionLevel:t,maskPattern:n,segments:a}}A8.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=lF.M,a,o;return typeof t<"u"&&(n=lF.from(t.errorCorrectionLevel,lF.M),a=Q2.from(t.version),o=fF.from(t.maskPattern),t.toSJISFunc&&H2.setToSJISFunction(t.toSJISFunc)),ole(e,a,n,o)}});var hF=we($d=>{function d8(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}$d.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,a=e.scale||4;return{width:n,scale:n?4:a,margin:t,color:{dark:d8(e.color.dark||"#000000ff"),light:d8(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};$d.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};$d.getImageWidth=function(e,t){let n=$d.getScale(e,t);return Math.floor((e+t.margin*2)*n)};$d.qrToImageData=function(e,t,n){let a=t.modules.size,o=t.modules.data,i=$d.getScale(a,n),s=Math.floor((a+n.margin*2)*i),u=n.margin*i,l=[n.color.light,n.color.dark];for(let c=0;c<s;c++)for(let A=0;A<s;A++){let d=(c*s+A)*4,f=n.color.light;if(c>=u&&A>=u&&c<s-u&&A<s-u){let h=Math.floor((c-u)/i),p=Math.floor((A-u)/i);f=l[o[h*a+p]?1:0]}e[d++]=f.r,e[d++]=f.g,e[d++]=f.b,e[d]=f.a}}});var h8=we(V2=>{var pF=hF();function ile(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function sle(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}V2.render=function(e,t,n){let a=n,o=t;typeof a>"u"&&(!t||!t.getContext)&&(a=t,t=void 0),t||(o=sle()),a=pF.getOptions(a);let i=pF.getImageWidth(e.modules.size,a),s=o.getContext("2d"),u=s.createImageData(i,i);return pF.qrToImageData(u.data,e,a),ile(s,o,i),s.putImageData(u,0,0),o};V2.renderToDataURL=function(e,t,n){let a=n;typeof a>"u"&&(!t||!t.getContext)&&(a=t,t=void 0),a||(a={});let o=V2.render(e,t,a),i=a.type||"image/png",s=a.rendererOpts||{};return o.toDataURL(i,s.quality)}});var g8=we(m8=>{var ule=hF();function p8(r,e){let t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function mF(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function lle(r,e,t){let n="",a=0,o=!1,i=0;for(let s=0;s<r.length;s++){let u=Math.floor(s%e),l=Math.floor(s/e);!u&&!o&&(o=!0),r[s]?(i++,s>0&&u>0&&r[s-1]||(n+=o?mF("M",u+t,.5+l+t):mF("m",a,0),a=0,o=!1),u+1<e&&r[s+1]||(n+=mF("h",i),i=0)):a++}return n}m8.render=function(e,t,n){let a=ule.getOptions(t),o=e.modules.size,i=e.modules.data,s=o+a.margin*2,u=a.color.light.a?"<path "+p8(a.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",l="<path "+p8(a.color.dark,"stroke")+' d="'+lle(i,o,a.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof n=="function"&&n(null,d),d}});var y8=we(Iy=>{var cle=wQ(),gF=f8(),v8=h8(),Ale=g8();function vF(r,e,t,n,a){let o=[].slice.call(arguments,1),i=o.length,s=typeof o[i-1]=="function";if(!s&&!cle())throw new Error("Callback required as last argument");if(s){if(i<2)throw new Error("Too few arguments provided");i===2?(a=t,t=e,e=n=void 0):i===3&&(e.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=t,t=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(t=e,e=n=void 0):i===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(u,l){try{let c=gF.create(t,n);u(r(c,e,n))}catch(c){l(c)}})}try{let u=gF.create(t,n);a(null,r(u,e,n))}catch(u){a(u)}}Iy.create=gF.create;Iy.toCanvas=vF.bind(null,v8.render);Iy.toDataURL=vF.bind(null,v8.renderToDataURL);Iy.toString=vF.bind(null,function(r,e,t){return Ale.render(r,t)})});function Kr(r){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(r)}var q2=en(()=>{});function z2(r,e){e||(e={});var t=T8();t.p(r);var n=xle(r,e,e.dictionary?6:2,4);return wle(n,e),_8(n,n.length-4,t.d()),n}var Zu,Rs,CF,BF,SF,x8,B8,S8,hle,xF,I8,yYe,w8,wF,jc,un,Fy,Jd,un,un,un,un,W2,un,ple,mle,E8,gle,Gc,Ey,yF,bF,b8,Ly,L8,C8,vle,F8,yle,T8,xle,_8,wle,ble,Cle,k8=en(()=>{Zu=Uint8Array,Rs=Uint16Array,CF=Int32Array,BF=new Zu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),SF=new Zu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x8=new Zu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B8=function(r,e){for(var t=new Rs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var a=new CF(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)a[o]=o-t[n]<<5|n;return{b:t,r:a}},S8=B8(BF,2),hle=S8.b,xF=S8.r;hle[28]=258,xF[258]=28;I8=B8(SF,0),yYe=I8.b,w8=I8.r,wF=new Rs(32768);for(un=0;un<32768;++un)jc=(un&43690)>>1|(un&21845)<<1,jc=(jc&52428)>>2|(jc&13107)<<2,jc=(jc&61680)>>4|(jc&3855)<<4,wF[un]=((jc&65280)>>8|(jc&255)<<8)>>1;Fy=(function(r,e,t){for(var n=r.length,a=0,o=new Rs(e);a<n;++a)r[a]&&++o[r[a]-1];var i=new Rs(e);for(a=1;a<e;++a)i[a]=i[a-1]+o[a-1]<<1;var s;if(t){s=new Rs(1<<e);var u=15-e;for(a=0;a<n;++a)if(r[a])for(var l=a<<4|r[a],c=e-r[a],A=i[r[a]-1]++<<c,d=A|(1<<c)-1;A<=d;++A)s[wF[A]>>u]=l}else for(s=new Rs(n),a=0;a<n;++a)r[a]&&(s[a]=wF[i[r[a]-1]++]>>15-r[a]);return s}),Jd=new Zu(288);for(un=0;un<144;++un)Jd[un]=8;for(un=144;un<256;++un)Jd[un]=9;for(un=256;un<280;++un)Jd[un]=7;for(un=280;un<288;++un)Jd[un]=8;W2=new Zu(32);for(un=0;un<32;++un)W2[un]=5;ple=Fy(Jd,9,0),mle=Fy(W2,5,0),E8=function(r){return(r+7)/8|0},gle=function(r,e,t){return(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length),new Zu(r.subarray(e,t))},Gc=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Ey=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},yF=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var a=t.length,o=t.slice();if(!a)return{t:F8,l:0};if(a==1){var i=new Zu(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(E,T){return E.f-T.f}),t.push({s:-1,f:25001});var s=t[0],u=t[1],l=0,c=1,A=2;for(t[0]={s:-1,f:s.f+u.f,l:s,r:u};c!=a-1;)s=t[t[l].f<t[A].f?l++:A++],u=t[l!=c&&t[l].f<t[A].f?l++:A++],t[c++]={s:-1,f:s.f+u.f,l:s,r:u};for(var d=o[0].s,n=1;n<a;++n)o[n].s>d&&(d=o[n].s);var f=new Rs(d+1),h=bF(t[c-1],f,0);if(h>e){var n=0,p=0,v=h-e,g=1<<v;for(o.sort(function(T,U){return f[U.s]-f[T.s]||T.f-U.f});n<a;++n){var B=o[n].s;if(f[B]>e)p+=g-(1<<h-f[B]),f[B]=e;else break}for(p>>=v;p>0;){var I=o[n].s;f[I]<e?p-=1<<e-f[I]++-1:++n}for(;n>=0&&p;--n){var S=o[n].s;f[S]==e&&(--f[S],++p)}h=e}return{t:new Zu(f),l:h}},bF=function(r,e,t){return r.s==-1?Math.max(bF(r.l,e,t+1),bF(r.r,e,t+1)):e[r.s]=t},b8=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Rs(++e),n=0,a=r[0],o=1,i=function(u){t[n++]=u},s=1;s<=e;++s)if(r[s]==a&&s!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=r[s]}return{c:t.subarray(0,n),n:e}},Ly=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},L8=function(r,e,t){var n=t.length,a=E8(e+2);r[a]=n&255,r[a+1]=n>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<n;++o)r[a+o+4]=t[o];return(a+4+n)*8},C8=function(r,e,t,n,a,o,i,s,u,l,c){Gc(e,c++,t),++a[256];for(var A=yF(a,15),d=A.t,f=A.l,h=yF(o,15),p=h.t,v=h.l,g=b8(d),B=g.c,I=g.n,S=b8(p),E=S.c,T=S.n,U=new Rs(19),D=0;D<B.length;++D)++U[B[D]&31];for(var D=0;D<E.length;++D)++U[E[D]&31];for(var k=yF(U,7),O=k.t,N=k.l,P=19;P>4&&!O[x8[P-1]];--P);var j=l+5<<3,z=Ly(a,Jd)+Ly(o,W2)+i,ne=Ly(a,d)+Ly(o,p)+i+14+3*P+Ly(U,O)+2*U[16]+3*U[17]+7*U[18];if(u>=0&&j<=z&&j<=ne)return L8(e,c,r.subarray(u,u+l));var re,Y,J,G;if(Gc(e,c,1+(ne<z)),c+=2,ne<z){re=Fy(d,f,0),Y=d,J=Fy(p,v,0),G=p;var Z=Fy(O,N,0);Gc(e,c,I-257),Gc(e,c+5,T-1),Gc(e,c+10,P-4),c+=14;for(var D=0;D<P;++D)Gc(e,c+3*D,O[x8[D]]);c+=3*P;for(var he=[B,E],R=0;R<2;++R)for(var H=he[R],D=0;D<H.length;++D){var ae=H[D]&31;Gc(e,c,Z[ae]),c+=O[ae],ae>15&&(Gc(e,c,H[D]>>5&127),c+=H[D]>>12)}}else re=ple,Y=Jd,J=mle,G=W2;for(var D=0;D<s;++D){var le=n[D];if(le>255){var ae=le>>18&31;Ey(e,c,re[ae+257]),c+=Y[ae+257],ae>7&&(Gc(e,c,le>>23&31),c+=BF[ae]);var pe=le&31;Ey(e,c,J[pe]),c+=G[pe],pe>3&&(Ey(e,c,le>>5&8191),c+=SF[pe])}else Ey(e,c,re[le]),c+=Y[le]}return Ey(e,c,re[256]),c+Y[256]},vle=new CF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F8=new Zu(0),yle=function(r,e,t,n,a,o){var i=o.z||r.length,s=new Zu(n+i+5*(1+Math.ceil(i/7e3))+a),u=s.subarray(n,s.length-a),l=o.l,c=(o.r||0)&7;if(e){c&&(u[0]=o.r>>3);for(var A=vle[e-1],d=A>>13,f=A&8191,h=(1<<t)-1,p=o.p||new Rs(32768),v=o.h||new Rs(h+1),g=Math.ceil(t/3),B=2*g,I=function(et){return(r[et]^r[et+1]<<g^r[et+2]<<B)&h},S=new CF(25e3),E=new Rs(288),T=new Rs(32),U=0,D=0,k=o.i||0,O=0,N=o.w||0,P=0;k+2<i;++k){var j=I(k),z=k&32767,ne=v[j];if(p[z]=ne,v[j]=z,N<=k){var re=i-k;if((U>7e3||O>24576)&&(re>423||!l)){c=C8(r,u,0,S,E,T,D,O,P,k-P,c),O=U=D=0,P=k;for(var Y=0;Y<286;++Y)E[Y]=0;for(var Y=0;Y<30;++Y)T[Y]=0}var J=2,G=0,Z=f,he=z-ne&32767;if(re>2&&j==I(k-he))for(var R=Math.min(d,re)-1,H=Math.min(32767,k),ae=Math.min(258,re);he<=H&&--Z&&z!=ne;){if(r[k+J]==r[k+J-he]){for(var le=0;le<ae&&r[k+le]==r[k+le-he];++le);if(le>J){if(J=le,G=he,le>R)break;for(var pe=Math.min(he,le-2),ve=0,Y=0;Y<pe;++Y){var Se=k-he+Y&32767,me=p[Se],ke=Se-me&32767;ke>ve&&(ve=ke,ne=Se)}}}z=ne,ne=p[z],he+=z-ne&32767}if(G){S[O++]=268435456|xF[J]<<18|w8[G];var Re=xF[J]&31,De=w8[G]&31;D+=BF[Re]+SF[De],++E[257+Re],++T[De],N=k+J,++U}else S[O++]=r[k],++E[r[k]]}}for(k=Math.max(k,N);k<i;++k)S[O++]=r[k],++E[r[k]];c=C8(r,u,l,S,E,T,D,O,P,k-P,c),l||(o.r=c&7|u[c/8|0]<<3,c-=7,o.h=v,o.p=p,o.i=k,o.w=N)}else{for(var k=o.w||0;k<i+l;k+=65535){var ze=k+65535;ze>=i&&(u[c/8|0]=l,ze=i),c=L8(u,c+1,r.subarray(k,ze))}o.i=i}return gle(s,0,n+E8(c)+a)},T8=function(){var r=1,e=0;return{p:function(t){for(var n=r,a=e,o=t.length|0,i=0;i!=o;){for(var s=Math.min(i+2655,o);i<s;++i)a+=n+=t[i];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}r=n,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},xle=function(r,e,t,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),i=new Zu(o.length+r.length);i.set(o),i.set(r,o.length),r=i,a.w=o.length}return yle(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,a)},_8=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},wle=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=T8();a.p(e.dictionary),_8(r,2,a.d())}};ble=typeof TextDecoder<"u"&&new TextDecoder,Cle=0;try{ble.decode(F8,{stream:!0}),Cle=1}catch{}});function N8(r){if(Array.isArray(r))return r}var P8=en(()=>{});function D8(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,a,o,i,s=[],u=!0,l=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=o.call(t)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,a=c}finally{try{if(!u&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}var R8=en(()=>{});function IF(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var M8=en(()=>{});function U8(r,e){if(r){if(typeof r=="string")return IF(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?IF(r,e):void 0}}var O8=en(()=>{M8()});function Q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H8=en(()=>{});function EF(r,e){return N8(r)||D8(r,e)||U8(r,e)||Q8()}var V8=en(()=>{P8();R8();O8();H8()});function LF(r,e="utf8"){return new TextDecoder(e).decode(r)}function q8(r){return Ble.encode(r)}var Ble,W8=en(()=>{Ble=new TextEncoder});var Sle,Ile,FF,Ty,TF=en(()=>{W8();Sle=1024*8,Ile=(()=>{let r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),FF={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array},Ty=class r{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Sle,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);let a=t.offset?t.offset>>>0:0,o=e.byteLength-a,i=a;(ArrayBuffer.isView(e)||e instanceof r)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){let e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){let n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){let n=FF[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===Ile&&t!=="uint8"&&t!=="int8"){let s=new Uint8Array(this.buffer.slice(a,a+n));s.reverse();let u=new FF[t](s.buffer);return this.offset+=n,u.reverse(),u}let i=new FF[t](o);return this.offset+=n,i}readInt16(){let e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){let e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){let e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){let e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){let e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){let e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){let e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){let e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return LF(this.readBytes(e))}decodeText(e=1,t="utf8"){return LF(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(q8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}});function Km(r){let e=r.length;for(;--e>=0;)r[e]=0}function kF(r,e,t,n,a){this.static_tree=r,this.extra_bits=e,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=r&&r.length}function NF(r,e){this.dyn_tree=r,this.max_code=0,this.stat_desc=e}function Ml(r,e,t,n,a){this.good_length=r,this.max_lazy=e,this.nice_length=t,this.max_chain=n,this.func=a}function Lce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(yce*2),this.dyn_dtree=new Uint16Array((2*gce+1)*2),this.bl_tree=new Uint16Array((2*vce+1)*2),uf(this.dyn_ltree),uf(this.dyn_dtree),uf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(xce+1),this.heap=new Uint16Array(2*KF+1),uf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*KF+1),uf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Yce(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function Gy(r){this.options=rC.assign({level:rAe,method:aAe,chunkSize:16384,windowBits:15,memLevel:8,strategy:nAe},r||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YH,this.strm.avail_out=0;let t=Dy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Z2)throw new Error(rh[t]);if(e.header&&Dy.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=qy.string2buf(e.dictionary):$H.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,t=Dy.deflateSetDictionary(this.strm,n),t!==Z2)throw new Error(rh[t]);this._dict_set=!0}}function o4(r,e){let t=new Gy(e);if(t.push(r,!0),t.err)throw t.msg||rh[t.err];return t.result}function oAe(r,e){return e=e||{},e.raw=!0,o4(r,e)}function iAe(r,e){return e=e||{},e.gzip=!0,o4(r,e)}function FAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function jAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}function Ky(r){this.options=rC.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YH,this.strm.avail_out=0;let t=Yc.inflateInit2(this.strm,e.windowBits);if(t!==Wy)throw new Error(rh[t]);if(this.header=new GAe,Yc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=qy.string2buf(e.dictionary):l7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Yc.inflateSetDictionary(this.strm,e.dictionary),t!==Wy)))throw new Error(rh[t])}function i4(r,e){let t=new Ky(e);if(t.push(r),t.err)throw t.msg||rh[t.err];return t.result}function JAe(r,e){return e=e||{},e.raw=!0,i4(r,e)}var Ele,FH,Lle,Fle,Tle,e4,zy,My,zm,t4,TH,Zd,_F,_le,r4,_H,kH,NH,zF,$2,kle,PH,Nle,Xc,Py,Uy,Oy,n4,J2,DH,RH,MH,UH,Qy,ss,Ul,OH,Ple,Dle,QH,Rle,HH,VH,z8,PF,j8,jF,G8,K8,Mle,Ule,Ole,X8,Qle,qH,Hle,Vle,qle,Wle,zle,jle,Gle,Kle,Xle,Yle,Hy,$le,Jle,Zle,Lo,rh,Xm,ece,GF,tce,cf,rce,Af,nce,ace,du,Y8,Ho,$8,Ol,oce,DF,ice,sce,j2,uce,lce,cce,Ace,tC,fce,dce,hce,pce,mce,KF,gce,vce,yce,xce,Xr,lf,Ql,wce,jm,a4,XF,YF,$F,JF,eh,ky,Pi,Ym,nh,$m,bce,th,J8,uf,Cce,Bce,ff,Ms,Us,ln,_y,ZF,WH,Gm,zH,RF,qm,Sce,Ice,Ny,Ece,jy,jH,GH,Fce,KH,Tce,_ce,kce,Nce,Pce,Dce,Rce,Mce,Uce,Oce,Qce,Hce,Vce,Dy,qce,Wce,zce,rC,XH,Vy,jce,Gce,Kce,Xce,qy,YH,$H,$ce,Jce,Zce,eAe,Z2,tAe,rAe,nAe,aAe,sAe,uAe,lAe,cAe,AAe,fAe,G2,dAe,hAe,Wm,Z8,eH,tH,MF,rH,pAe,mAe,gAe,vAe,yAe,Ry,xAe,JH,ZH,nH,wAe,K2,ah,bAe,CAe,hu,e7,t7,BAe,aH,nC,oH,iH,sH,uH,lH,cH,AH,fH,dH,eC,Kc,UF,hH,OF,pH,mH,gH,vH,X2,Y2,yH,xH,wH,bH,CH,QF,BH,SH,na,r7,n7,SAe,IAe,EAe,LAe,IH,oh,a7,o7,i7,s7,TAe,EH,HF,VF,_Ae,u7,kAe,NAe,PAe,DAe,RAe,MAe,UAe,OAe,QAe,HAe,VAe,qAe,WAe,zAe,Yc,GAe,l7,KAe,XAe,Wy,qF,WF,YAe,LH,$Ae,ZAe,efe,tfe,rfe,nfe,afe,DYe,RYe,MYe,UYe,ofe,ife,OYe,QYe,s4,c7,u4=en(()=>{Ele=0,FH=1,Lle=2,Fle=3,Tle=258,e4=29,zy=256,My=zy+1+e4,zm=30,t4=19,TH=2*My+1,Zd=15,_F=16,_le=7,r4=256,_H=16,kH=17,NH=18,zF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),$2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kle=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),PH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nle=512,Xc=new Array((My+2)*2);Km(Xc);Py=new Array(zm*2);Km(Py);Uy=new Array(Nle);Km(Uy);Oy=new Array(Tle-Fle+1);Km(Oy);n4=new Array(e4);Km(n4);J2=new Array(zm);Km(J2);UH=r=>r<256?Uy[r]:Uy[256+(r>>>7)],Qy=(r,e)=>{r.pending_buf[r.pending++]=e&255,r.pending_buf[r.pending++]=e>>>8&255},ss=(r,e,t)=>{r.bi_valid>_F-t?(r.bi_buf|=e<<r.bi_valid&65535,Qy(r,r.bi_buf),r.bi_buf=e>>_F-r.bi_valid,r.bi_valid+=t-_F):(r.bi_buf|=e<<r.bi_valid&65535,r.bi_valid+=t)},Ul=(r,e,t)=>{ss(r,t[e*2],t[e*2+1])},OH=(r,e)=>{let t=0;do t|=r&1,r>>>=1,t<<=1;while(--e>0);return t>>>1},Ple=r=>{r.bi_valid===16?(Qy(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},Dle=(r,e)=>{let t=e.dyn_tree,n=e.max_code,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,i=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,u=e.stat_desc.max_length,l,c,A,d,f,h,p=0;for(d=0;d<=Zd;d++)r.bl_count[d]=0;for(t[r.heap[r.heap_max]*2+1]=0,l=r.heap_max+1;l<TH;l++)c=r.heap[l],d=t[t[c*2+1]*2+1]+1,d>u&&(d=u,p++),t[c*2+1]=d,!(c>n)&&(r.bl_count[d]++,f=0,c>=s&&(f=i[c-s]),h=t[c*2],r.opt_len+=h*(d+f),o&&(r.static_len+=h*(a[c*2+1]+f)));if(p!==0){do{for(d=u-1;r.bl_count[d]===0;)d--;r.bl_count[d]--,r.bl_count[d+1]+=2,r.bl_count[u]--,p-=2}while(p>0);for(d=u;d!==0;d--)for(c=r.bl_count[d];c!==0;)A=r.heap[--l],!(A>n)&&(t[A*2+1]!==d&&(r.opt_len+=(d-t[A*2+1])*t[A*2],t[A*2+1]=d),c--)}},QH=(r,e,t)=>{let n=new Array(Zd+1),a=0,o,i;for(o=1;o<=Zd;o++)a=a+t[o-1]<<1,n[o]=a;for(i=0;i<=e;i++){let s=r[i*2+1];s!==0&&(r[i*2]=OH(n[s]++,s))}},Rle=()=>{let r,e,t,n,a,o=new Array(Zd+1);for(t=0,n=0;n<e4-1;n++)for(n4[n]=t,r=0;r<1<<zF[n];r++)Oy[t++]=n;for(Oy[t-1]=n,a=0,n=0;n<16;n++)for(J2[n]=a,r=0;r<1<<$2[n];r++)Uy[a++]=n;for(a>>=7;n<zm;n++)for(J2[n]=a<<7,r=0;r<1<<$2[n]-7;r++)Uy[256+a++]=n;for(e=0;e<=Zd;e++)o[e]=0;for(r=0;r<=143;)Xc[r*2+1]=8,r++,o[8]++;for(;r<=255;)Xc[r*2+1]=9,r++,o[9]++;for(;r<=279;)Xc[r*2+1]=7,r++,o[7]++;for(;r<=287;)Xc[r*2+1]=8,r++,o[8]++;for(QH(Xc,My+1,o),r=0;r<zm;r++)Py[r*2+1]=5,Py[r*2]=OH(r,5);DH=new kF(Xc,zF,zy+1,My,Zd),RH=new kF(Py,$2,0,zm,Zd),MH=new kF(new Array(0),kle,0,t4,_le)},HH=r=>{let e;for(e=0;e<My;e++)r.dyn_ltree[e*2]=0;for(e=0;e<zm;e++)r.dyn_dtree[e*2]=0;for(e=0;e<t4;e++)r.bl_tree[e*2]=0;r.dyn_ltree[r4*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},VH=r=>{r.bi_valid>8?Qy(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},z8=(r,e,t,n)=>{let a=e*2,o=t*2;return r[a]<r[o]||r[a]===r[o]&&n[e]<=n[t]},PF=(r,e,t)=>{let n=r.heap[t],a=t<<1;for(;a<=r.heap_len&&(a<r.heap_len&&z8(e,r.heap[a+1],r.heap[a],r.depth)&&a++,!z8(e,n,r.heap[a],r.depth));)r.heap[t]=r.heap[a],t=a,a<<=1;r.heap[t]=n},j8=(r,e,t)=>{let n,a,o=0,i,s;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+o++]&255,n+=(r.pending_buf[r.sym_buf+o++]&255)<<8,a=r.pending_buf[r.sym_buf+o++],n===0?Ul(r,a,e):(i=Oy[a],Ul(r,i+zy+1,e),s=zF[i],s!==0&&(a-=n4[i],ss(r,a,s)),n--,i=UH(n),Ul(r,i,t),s=$2[i],s!==0&&(n-=J2[i],ss(r,n,s)));while(o<r.sym_next);Ul(r,r4,e)},jF=(r,e)=>{let t=e.dyn_tree,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.elems,i,s,u=-1,l;for(r.heap_len=0,r.heap_max=TH,i=0;i<o;i++)t[i*2]!==0?(r.heap[++r.heap_len]=u=i,r.depth[i]=0):t[i*2+1]=0;for(;r.heap_len<2;)l=r.heap[++r.heap_len]=u<2?++u:0,t[l*2]=1,r.depth[l]=0,r.opt_len--,a&&(r.static_len-=n[l*2+1]);for(e.max_code=u,i=r.heap_len>>1;i>=1;i--)PF(r,t,i);l=o;do i=r.heap[1],r.heap[1]=r.heap[r.heap_len--],PF(r,t,1),s=r.heap[1],r.heap[--r.heap_max]=i,r.heap[--r.heap_max]=s,t[l*2]=t[i*2]+t[s*2],r.depth[l]=(r.depth[i]>=r.depth[s]?r.depth[i]:r.depth[s])+1,t[i*2+1]=t[s*2+1]=l,r.heap[1]=l++,PF(r,t,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],Dle(r,e),QH(t,u,r.bl_count)},G8=(r,e,t)=>{let n,a=-1,o,i=e[1],s=0,u=7,l=4;for(i===0&&(u=138,l=3),e[(t+1)*2+1]=65535,n=0;n<=t;n++)o=i,i=e[(n+1)*2+1],!(++s<u&&o===i)&&(s<l?r.bl_tree[o*2]+=s:o!==0?(o!==a&&r.bl_tree[o*2]++,r.bl_tree[_H*2]++):s<=10?r.bl_tree[kH*2]++:r.bl_tree[NH*2]++,s=0,a=o,i===0?(u=138,l=3):o===i?(u=6,l=3):(u=7,l=4))},K8=(r,e,t)=>{let n,a=-1,o,i=e[1],s=0,u=7,l=4;for(i===0&&(u=138,l=3),n=0;n<=t;n++)if(o=i,i=e[(n+1)*2+1],!(++s<u&&o===i)){if(s<l)do Ul(r,o,r.bl_tree);while(--s!==0);else o!==0?(o!==a&&(Ul(r,o,r.bl_tree),s--),Ul(r,_H,r.bl_tree),ss(r,s-3,2)):s<=10?(Ul(r,kH,r.bl_tree),ss(r,s-3,3)):(Ul(r,NH,r.bl_tree),ss(r,s-11,7));s=0,a=o,i===0?(u=138,l=3):o===i?(u=6,l=3):(u=7,l=4)}},Mle=r=>{let e;for(G8(r,r.dyn_ltree,r.l_desc.max_code),G8(r,r.dyn_dtree,r.d_desc.max_code),jF(r,r.bl_desc),e=t4-1;e>=3&&r.bl_tree[PH[e]*2+1]===0;e--);return r.opt_len+=3*(e+1)+5+5+4,e},Ule=(r,e,t,n)=>{let a;for(ss(r,e-257,5),ss(r,t-1,5),ss(r,n-4,4),a=0;a<n;a++)ss(r,r.bl_tree[PH[a]*2+1],3);K8(r,r.dyn_ltree,e-1),K8(r,r.dyn_dtree,t-1)},Ole=r=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&r.dyn_ltree[t*2]!==0)return 0;if(r.dyn_ltree[18]!==0||r.dyn_ltree[20]!==0||r.dyn_ltree[26]!==0)return 1;for(t=32;t<zy;t++)if(r.dyn_ltree[t*2]!==0)return 1;return 0},X8=!1,Qle=r=>{X8||(Rle(),X8=!0),r.l_desc=new NF(r.dyn_ltree,DH),r.d_desc=new NF(r.dyn_dtree,RH),r.bl_desc=new NF(r.bl_tree,MH),r.bi_buf=0,r.bi_valid=0,HH(r)},qH=(r,e,t,n)=>{ss(r,(Ele<<1)+(n?1:0),3),VH(r),Qy(r,t),Qy(r,~t),t&&r.pending_buf.set(r.window.subarray(e,e+t),r.pending),r.pending+=t},Hle=r=>{ss(r,FH<<1,3),Ul(r,r4,Xc),Ple(r)},Vle=(r,e,t,n)=>{let a,o,i=0;r.level>0?(r.strm.data_type===2&&(r.strm.data_type=Ole(r)),jF(r,r.l_desc),jF(r,r.d_desc),i=Mle(r),a=r.opt_len+3+7>>>3,o=r.static_len+3+7>>>3,o<=a&&(a=o)):a=o=t+5,t+4<=a&&e!==-1?qH(r,e,t,n):r.strategy===4||o===a?(ss(r,(FH<<1)+(n?1:0),3),j8(r,Xc,Py)):(ss(r,(Lle<<1)+(n?1:0),3),Ule(r,r.l_desc.max_code+1,r.d_desc.max_code+1,i+1),j8(r,r.dyn_ltree,r.dyn_dtree)),HH(r),n&&VH(r)},qle=(r,e,t)=>(r.pending_buf[r.sym_buf+r.sym_next++]=e,r.pending_buf[r.sym_buf+r.sym_next++]=e>>8,r.pending_buf[r.sym_buf+r.sym_next++]=t,e===0?r.dyn_ltree[t*2]++:(r.matches++,e--,r.dyn_ltree[(Oy[t]+zy+1)*2]++,r.dyn_dtree[UH(e)*2]++),r.sym_next===r.sym_end),Wle=Qle,zle=qH,jle=Vle,Gle=qle,Kle=Hle,Xle={_tr_init:Wle,_tr_stored_block:zle,_tr_flush_block:jle,_tr_tally:Gle,_tr_align:Kle},Yle=(r,e,t,n)=>{let a=r&65535|0,o=r>>>16&65535|0,i=0;for(;t!==0;){i=t>2e3?2e3:t,t-=i;do a=a+e[n++]|0,o=o+a|0;while(--i);a%=65521,o%=65521}return a|o<<16|0},Hy=Yle,$le=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Jle=new Uint32Array($le()),Zle=(r,e,t,n)=>{let a=Jle,o=n+t;r^=-1;for(let i=n;i<o;i++)r=r>>>8^a[(r^e[i])&255];return r^-1},Lo=Zle,rh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:ece,_tr_stored_block:GF,_tr_flush_block:tce,_tr_tally:cf,_tr_align:rce}=Xle,{Z_NO_FLUSH:Af,Z_PARTIAL_FLUSH:nce,Z_FULL_FLUSH:ace,Z_FINISH:du,Z_BLOCK:Y8,Z_OK:Ho,Z_STREAM_END:$8,Z_STREAM_ERROR:Ol,Z_DATA_ERROR:oce,Z_BUF_ERROR:DF,Z_DEFAULT_COMPRESSION:ice,Z_FILTERED:sce,Z_HUFFMAN_ONLY:j2,Z_RLE:uce,Z_FIXED:lce,Z_DEFAULT_STRATEGY:cce,Z_UNKNOWN:Ace,Z_DEFLATED:tC}=Xm,fce=9,dce=15,hce=8,pce=29,mce=256,KF=mce+1+pce,gce=30,vce=19,yce=2*KF+1,xce=15,Xr=3,lf=258,Ql=lf+Xr+1,wce=32,jm=42,a4=57,XF=69,YF=73,$F=91,JF=103,eh=113,ky=666,Pi=1,Ym=2,nh=3,$m=4,bce=3,th=(r,e)=>(r.msg=rh[e],e),J8=r=>r*2-(r>4?9:0),uf=r=>{let e=r.length;for(;--e>=0;)r[e]=0},Cce=r=>{let e,t,n,a=r.w_size;e=r.hash_size,n=e;do t=r.head[--n],r.head[n]=t>=a?t-a:0;while(--e);e=a,n=e;do t=r.prev[--n],r.prev[n]=t>=a?t-a:0;while(--e)},Bce=(r,e,t)=>(e<<r.hash_shift^t)&r.hash_mask,ff=Bce,Ms=r=>{let e=r.state,t=e.pending;t>r.avail_out&&(t=r.avail_out),t!==0&&(r.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),r.next_out),r.next_out+=t,e.pending_out+=t,r.total_out+=t,r.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},Us=(r,e)=>{tce(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,e),r.block_start=r.strstart,Ms(r.strm)},ln=(r,e)=>{r.pending_buf[r.pending++]=e},_y=(r,e)=>{r.pending_buf[r.pending++]=e>>>8&255,r.pending_buf[r.pending++]=e&255},ZF=(r,e,t,n)=>{let a=r.avail_in;return a>n&&(a=n),a===0?0:(r.avail_in-=a,e.set(r.input.subarray(r.next_in,r.next_in+a),t),r.state.wrap===1?r.adler=Hy(r.adler,e,a,t):r.state.wrap===2&&(r.adler=Lo(r.adler,e,a,t)),r.next_in+=a,r.total_in+=a,a)},WH=(r,e)=>{let t=r.max_chain_length,n=r.strstart,a,o,i=r.prev_length,s=r.nice_match,u=r.strstart>r.w_size-Ql?r.strstart-(r.w_size-Ql):0,l=r.window,c=r.w_mask,A=r.prev,d=r.strstart+lf,f=l[n+i-1],h=l[n+i];r.prev_length>=r.good_match&&(t>>=2),s>r.lookahead&&(s=r.lookahead);do if(a=e,!(l[a+i]!==h||l[a+i-1]!==f||l[a]!==l[n]||l[++a]!==l[n+1])){n+=2,a++;do;while(l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&l[++n]===l[++a]&&n<d);if(o=lf-(d-n),n=d-lf,o>i){if(r.match_start=e,i=o,o>=s)break;f=l[n+i-1],h=l[n+i]}}while((e=A[e&c])>u&&--t!==0);return i<=r.lookahead?i:r.lookahead},Gm=r=>{let e=r.w_size,t,n,a;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=e+(e-Ql)&&(r.window.set(r.window.subarray(e,e+e-n),0),r.match_start-=e,r.strstart-=e,r.block_start-=e,r.insert>r.strstart&&(r.insert=r.strstart),Cce(r),n+=e),r.strm.avail_in===0)break;if(t=ZF(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=t,r.lookahead+r.insert>=Xr)for(a=r.strstart-r.insert,r.ins_h=r.window[a],r.ins_h=ff(r,r.ins_h,r.window[a+1]);r.insert&&(r.ins_h=ff(r,r.ins_h,r.window[a+Xr-1]),r.prev[a&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=a,a++,r.insert--,!(r.lookahead+r.insert<Xr)););}while(r.lookahead<Ql&&r.strm.avail_in!==0)},zH=(r,e)=>{let t=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,a,o,i=0,s=r.strm.avail_in;do{if(n=65535,o=r.bi_valid+42>>3,r.strm.avail_out<o||(o=r.strm.avail_out-o,a=r.strstart-r.block_start,n>a+r.strm.avail_in&&(n=a+r.strm.avail_in),n>o&&(n=o),n<t&&(n===0&&e!==du||e===Af||n!==a+r.strm.avail_in)))break;i=e===du&&n===a+r.strm.avail_in?1:0,GF(r,0,0,i),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,Ms(r.strm),a&&(a>n&&(a=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+a),r.strm.next_out),r.strm.next_out+=a,r.strm.avail_out-=a,r.strm.total_out+=a,r.block_start+=a,n-=a),n&&(ZF(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(i===0);return s-=r.strm.avail_in,s&&(s>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=s&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-s,r.strm.next_in),r.strstart),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),i?$m:e!==Af&&e!==du&&r.strm.avail_in===0&&r.strstart===r.block_start?Ym:(o=r.window_size-r.strstart,r.strm.avail_in>o&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,o+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),o>r.strm.avail_in&&(o=r.strm.avail_in),o&&(ZF(r.strm,r.window,r.strstart,o),r.strstart+=o,r.insert+=o>r.w_size-r.insert?r.w_size-r.insert:o),r.high_water<r.strstart&&(r.high_water=r.strstart),o=r.bi_valid+42>>3,o=r.pending_buf_size-o>65535?65535:r.pending_buf_size-o,t=o>r.w_size?r.w_size:o,a=r.strstart-r.block_start,(a>=t||(a||e===du)&&e!==Af&&r.strm.avail_in===0&&a<=o)&&(n=a>o?o:a,i=e===du&&r.strm.avail_in===0&&n===a?1:0,GF(r,r.block_start,n,i),r.block_start+=n,Ms(r.strm)),i?nh:Pi)},RF=(r,e)=>{let t,n;for(;;){if(r.lookahead<Ql){if(Gm(r),r.lookahead<Ql&&e===Af)return Pi;if(r.lookahead===0)break}if(t=0,r.lookahead>=Xr&&(r.ins_h=ff(r,r.ins_h,r.window[r.strstart+Xr-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),t!==0&&r.strstart-t<=r.w_size-Ql&&(r.match_length=WH(r,t)),r.match_length>=Xr)if(n=cf(r,r.strstart-r.match_start,r.match_length-Xr),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=Xr){r.match_length--;do r.strstart++,r.ins_h=ff(r,r.ins_h,r.window[r.strstart+Xr-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=ff(r,r.ins_h,r.window[r.strstart+1]);else n=cf(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(Us(r,!1),r.strm.avail_out===0))return Pi}return r.insert=r.strstart<Xr-1?r.strstart:Xr-1,e===du?(Us(r,!0),r.strm.avail_out===0?nh:$m):r.sym_next&&(Us(r,!1),r.strm.avail_out===0)?Pi:Ym},qm=(r,e)=>{let t,n,a;for(;;){if(r.lookahead<Ql){if(Gm(r),r.lookahead<Ql&&e===Af)return Pi;if(r.lookahead===0)break}if(t=0,r.lookahead>=Xr&&(r.ins_h=ff(r,r.ins_h,r.window[r.strstart+Xr-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=Xr-1,t!==0&&r.prev_length<r.max_lazy_match&&r.strstart-t<=r.w_size-Ql&&(r.match_length=WH(r,t),r.match_length<=5&&(r.strategy===sce||r.match_length===Xr&&r.strstart-r.match_start>4096)&&(r.match_length=Xr-1)),r.prev_length>=Xr&&r.match_length<=r.prev_length){a=r.strstart+r.lookahead-Xr,n=cf(r,r.strstart-1-r.prev_match,r.prev_length-Xr),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=a&&(r.ins_h=ff(r,r.ins_h,r.window[r.strstart+Xr-1]),t=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=Xr-1,r.strstart++,n&&(Us(r,!1),r.strm.avail_out===0))return Pi}else if(r.match_available){if(n=cf(r,0,r.window[r.strstart-1]),n&&Us(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return Pi}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=cf(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<Xr-1?r.strstart:Xr-1,e===du?(Us(r,!0),r.strm.avail_out===0?nh:$m):r.sym_next&&(Us(r,!1),r.strm.avail_out===0)?Pi:Ym},Sce=(r,e)=>{let t,n,a,o,i=r.window;for(;;){if(r.lookahead<=lf){if(Gm(r),r.lookahead<=lf&&e===Af)return Pi;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=Xr&&r.strstart>0&&(a=r.strstart-1,n=i[a],n===i[++a]&&n===i[++a]&&n===i[++a])){o=r.strstart+lf;do;while(n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&n===i[++a]&&a<o);r.match_length=lf-(o-a),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=Xr?(t=cf(r,1,r.match_length-Xr),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(t=cf(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),t&&(Us(r,!1),r.strm.avail_out===0))return Pi}return r.insert=0,e===du?(Us(r,!0),r.strm.avail_out===0?nh:$m):r.sym_next&&(Us(r,!1),r.strm.avail_out===0)?Pi:Ym},Ice=(r,e)=>{let t;for(;;){if(r.lookahead===0&&(Gm(r),r.lookahead===0)){if(e===Af)return Pi;break}if(r.match_length=0,t=cf(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,t&&(Us(r,!1),r.strm.avail_out===0))return Pi}return r.insert=0,e===du?(Us(r,!0),r.strm.avail_out===0?nh:$m):r.sym_next&&(Us(r,!1),r.strm.avail_out===0)?Pi:Ym};Ny=[new Ml(0,0,0,0,zH),new Ml(4,4,8,4,RF),new Ml(4,5,16,8,RF),new Ml(4,6,32,32,RF),new Ml(4,4,16,16,qm),new Ml(8,16,32,32,qm),new Ml(8,16,128,128,qm),new Ml(8,32,128,256,qm),new Ml(32,128,258,1024,qm),new Ml(32,258,258,4096,qm)],Ece=r=>{r.window_size=2*r.w_size,uf(r.head),r.max_lazy_match=Ny[r.level].max_lazy,r.good_match=Ny[r.level].good_length,r.nice_match=Ny[r.level].nice_length,r.max_chain_length=Ny[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=Xr-1,r.match_available=0,r.ins_h=0};jy=r=>{if(!r)return 1;let e=r.state;return!e||e.strm!==r||e.status!==jm&&e.status!==a4&&e.status!==XF&&e.status!==YF&&e.status!==$F&&e.status!==JF&&e.status!==eh&&e.status!==ky?1:0},jH=r=>{if(jy(r))return th(r,Ol);r.total_in=r.total_out=0,r.data_type=Ace;let e=r.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?a4:e.wrap?jm:eh,r.adler=e.wrap===2?0:1,e.last_flush=-2,ece(e),Ho},GH=r=>{let e=jH(r);return e===Ho&&Ece(r.state),e},Fce=(r,e)=>jy(r)||r.state.wrap!==2?Ol:(r.state.gzhead=e,Ho),KH=(r,e,t,n,a,o)=>{if(!r)return Ol;let i=1;if(e===ice&&(e=6),n<0?(i=0,n=-n):n>15&&(i=2,n-=16),a<1||a>fce||t!==tC||n<8||n>15||e<0||e>9||o<0||o>lce||n===8&&i!==1)return th(r,Ol);n===8&&(n=9);let s=new Lce;return r.state=s,s.strm=r,s.status=jm,s.wrap=i,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+Xr-1)/Xr),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=o,s.method=t,GH(r)},Tce=(r,e)=>KH(r,e,tC,dce,hce,cce),_ce=(r,e)=>{if(jy(r)||e>Y8||e<0)return r?th(r,Ol):Ol;let t=r.state;if(!r.output||r.avail_in!==0&&!r.input||t.status===ky&&e!==du)return th(r,r.avail_out===0?DF:Ol);let n=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Ms(r),r.avail_out===0)return t.last_flush=-1,Ho}else if(r.avail_in===0&&J8(e)<=J8(n)&&e!==du)return th(r,DF);if(t.status===ky&&r.avail_in!==0)return th(r,DF);if(t.status===jm&&t.wrap===0&&(t.status=eh),t.status===jm){let a=tC+(t.w_bits-8<<4)<<8,o=-1;if(t.strategy>=j2||t.level<2?o=0:t.level<6?o=1:t.level===6?o=2:o=3,a|=o<<6,t.strstart!==0&&(a|=wce),a+=31-a%31,_y(t,a),t.strstart!==0&&(_y(t,r.adler>>>16),_y(t,r.adler&65535)),r.adler=1,t.status=eh,Ms(r),t.pending!==0)return t.last_flush=-1,Ho}if(t.status===a4){if(r.adler=0,ln(t,31),ln(t,139),ln(t,8),t.gzhead)ln(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),ln(t,t.gzhead.time&255),ln(t,t.gzhead.time>>8&255),ln(t,t.gzhead.time>>16&255),ln(t,t.gzhead.time>>24&255),ln(t,t.level===9?2:t.strategy>=j2||t.level<2?4:0),ln(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(ln(t,t.gzhead.extra.length&255),ln(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(r.adler=Lo(r.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=XF;else if(ln(t,0),ln(t,0),ln(t,0),ln(t,0),ln(t,0),ln(t,t.level===9?2:t.strategy>=j2||t.level<2?4:0),ln(t,bce),t.status=eh,Ms(r),t.pending!==0)return t.last_flush=-1,Ho}if(t.status===XF){if(t.gzhead.extra){let a=t.pending,o=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+o>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=s,Ms(r),t.pending!==0)return t.last_flush=-1,Ho;a=0,o-=s}let i=new Uint8Array(t.gzhead.extra);t.pending_buf.set(i.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending+=o,t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=YF}if(t.status===YF){if(t.gzhead.name){let a=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a)),Ms(r),t.pending!==0)return t.last_flush=-1,Ho;a=0}t.gzindex<t.gzhead.name.length?o=t.gzhead.name.charCodeAt(t.gzindex++)&255:o=0,ln(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=$F}if(t.status===$F){if(t.gzhead.comment){let a=t.pending,o;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a)),Ms(r),t.pending!==0)return t.last_flush=-1,Ho;a=0}t.gzindex<t.gzhead.comment.length?o=t.gzhead.comment.charCodeAt(t.gzindex++)&255:o=0,ln(t,o)}while(o!==0);t.gzhead.hcrc&&t.pending>a&&(r.adler=Lo(r.adler,t.pending_buf,t.pending-a,a))}t.status=JF}if(t.status===JF){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Ms(r),t.pending!==0))return t.last_flush=-1,Ho;ln(t,r.adler&255),ln(t,r.adler>>8&255),r.adler=0}if(t.status=eh,Ms(r),t.pending!==0)return t.last_flush=-1,Ho}if(r.avail_in!==0||t.lookahead!==0||e!==Af&&t.status!==ky){let a=t.level===0?zH(t,e):t.strategy===j2?Ice(t,e):t.strategy===uce?Sce(t,e):Ny[t.level].func(t,e);if((a===nh||a===$m)&&(t.status=ky),a===Pi||a===nh)return r.avail_out===0&&(t.last_flush=-1),Ho;if(a===Ym&&(e===nce?rce(t):e!==Y8&&(GF(t,0,0,!1),e===ace&&(uf(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Ms(r),r.avail_out===0))return t.last_flush=-1,Ho}return e!==du?Ho:t.wrap<=0?$8:(t.wrap===2?(ln(t,r.adler&255),ln(t,r.adler>>8&255),ln(t,r.adler>>16&255),ln(t,r.adler>>24&255),ln(t,r.total_in&255),ln(t,r.total_in>>8&255),ln(t,r.total_in>>16&255),ln(t,r.total_in>>24&255)):(_y(t,r.adler>>>16),_y(t,r.adler&65535)),Ms(r),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Ho:$8)},kce=r=>{if(jy(r))return Ol;let e=r.state.status;return r.state=null,e===eh?th(r,oce):Ho},Nce=(r,e)=>{let t=e.length;if(jy(r))return Ol;let n=r.state,a=n.wrap;if(a===2||a===1&&n.status!==jm||n.lookahead)return Ol;if(a===1&&(r.adler=Hy(r.adler,e,t,0)),n.wrap=0,t>=n.w_size){a===0&&(uf(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(e.subarray(t-n.w_size,t),0),e=u,t=n.w_size}let o=r.avail_in,i=r.next_in,s=r.input;for(r.avail_in=t,r.next_in=0,r.input=e,Gm(n);n.lookahead>=Xr;){let u=n.strstart,l=n.lookahead-(Xr-1);do n.ins_h=ff(n,n.ins_h,n.window[u+Xr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=Xr-1,Gm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Xr-1,n.match_available=0,r.next_in=i,r.input=s,r.avail_in=o,n.wrap=a,Ho},Pce=Tce,Dce=KH,Rce=GH,Mce=jH,Uce=Fce,Oce=_ce,Qce=kce,Hce=Nce,Vce="pako deflate (from Nodeca project)",Dy={deflateInit:Pce,deflateInit2:Dce,deflateReset:Rce,deflateResetKeep:Mce,deflateSetHeader:Uce,deflate:Oce,deflateEnd:Qce,deflateSetDictionary:Hce,deflateInfo:Vce},qce=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),Wce=function(r){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)qce(t,n)&&(r[n]=t[n])}}return r},zce=r=>{let e=0;for(let n=0,a=r.length;n<a;n++)e+=r[n].length;let t=new Uint8Array(e);for(let n=0,a=0,o=r.length;n<o;n++){let i=r[n];t.set(i,a),a+=i.length}return t},rC={assign:Wce,flattenChunks:zce},XH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{XH=!1}Vy=new Uint8Array(256);for(let r=0;r<256;r++)Vy[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Vy[254]=Vy[254]=1;jce=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,a,o,i=r.length,s=0;for(a=0;a<i;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(s),o=0,a=0;o<s;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<i&&(n=r.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e},Gce=(r,e)=>{if(e<65534&&r.subarray&&XH)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t},Kce=(r,e)=>{let t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,a,o=new Array(t*2);for(a=0,n=0;n<t;){let i=r[n++];if(i<128){o[a++]=i;continue}let s=Vy[i];if(s>4){o[a++]=65533,n+=s-1;continue}for(i&=s===2?31:s===3?15:7;s>1&&n<t;)i=i<<6|r[n++]&63,s--;if(s>1){o[a++]=65533;continue}i<65536?o[a++]=i:(i-=65536,o[a++]=55296|i>>10&1023,o[a++]=56320|i&1023)}return Gce(o,a)},Xce=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Vy[r[t]]>e?t:e},qy={string2buf:jce,buf2string:Kce,utf8border:Xce};YH=Yce,$H=Object.prototype.toString,{Z_NO_FLUSH:$ce,Z_SYNC_FLUSH:Jce,Z_FULL_FLUSH:Zce,Z_FINISH:eAe,Z_OK:Z2,Z_STREAM_END:tAe,Z_DEFAULT_COMPRESSION:rAe,Z_DEFAULT_STRATEGY:nAe,Z_DEFLATED:aAe}=Xm;Gy.prototype.push=function(r,e){let t=this.strm,n=this.options.chunkSize,a,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?eAe:$ce,typeof r=="string"?t.input=qy.string2buf(r):$H.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(o===Jce||o===Zce)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=Dy.deflate(t,o),a===tAe)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=Dy.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Z2;if(t.avail_out===0){this.onData(t.output);continue}if(o>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Gy.prototype.onData=function(r){this.chunks.push(r)};Gy.prototype.onEnd=function(r){r===Z2&&(this.result=rC.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};sAe=Gy,uAe=o4,lAe=oAe,cAe=iAe,AAe=Xm,fAe={Deflate:sAe,deflate:uAe,deflateRaw:lAe,gzip:cAe,constants:AAe},G2=16209,dAe=16191,hAe=function(e,t){let n,a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D,k,O,N=e.state;n=e.next_in,k=e.input,a=n+(e.avail_in-5),o=e.next_out,O=e.output,i=o-(t-e.avail_out),s=o+(e.avail_out-257),u=N.dmax,l=N.wsize,c=N.whave,A=N.wnext,d=N.window,f=N.hold,h=N.bits,p=N.lencode,v=N.distcode,g=(1<<N.lenbits)-1,B=(1<<N.distbits)-1;e:do{h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),I=p[f&g];t:for(;;){if(S=I>>>24,f>>>=S,h-=S,S=I>>>16&255,S===0)O[o++]=I&65535;else if(S&16){E=I&65535,S&=15,S&&(h<S&&(f+=k[n++]<<h,h+=8),E+=f&(1<<S)-1,f>>>=S,h-=S),h<15&&(f+=k[n++]<<h,h+=8,f+=k[n++]<<h,h+=8),I=v[f&B];r:for(;;){if(S=I>>>24,f>>>=S,h-=S,S=I>>>16&255,S&16){if(T=I&65535,S&=15,h<S&&(f+=k[n++]<<h,h+=8,h<S&&(f+=k[n++]<<h,h+=8)),T+=f&(1<<S)-1,T>u){e.msg="invalid distance too far back",N.mode=G2;break e}if(f>>>=S,h-=S,S=o-i,T>S){if(S=T-S,S>c&&N.sane){e.msg="invalid distance too far back",N.mode=G2;break e}if(U=0,D=d,A===0){if(U+=l-S,S<E){E-=S;do O[o++]=d[U++];while(--S);U=o-T,D=O}}else if(A<S){if(U+=l+A-S,S-=A,S<E){E-=S;do O[o++]=d[U++];while(--S);if(U=0,A<E){S=A,E-=S;do O[o++]=d[U++];while(--S);U=o-T,D=O}}}else if(U+=A-S,S<E){E-=S;do O[o++]=d[U++];while(--S);U=o-T,D=O}for(;E>2;)O[o++]=D[U++],O[o++]=D[U++],O[o++]=D[U++],E-=3;E&&(O[o++]=D[U++],E>1&&(O[o++]=D[U++]))}else{U=o-T;do O[o++]=O[U++],O[o++]=O[U++],O[o++]=O[U++],E-=3;while(E>2);E&&(O[o++]=O[U++],E>1&&(O[o++]=O[U++]))}}else if((S&64)===0){I=v[(I&65535)+(f&(1<<S)-1)];continue r}else{e.msg="invalid distance code",N.mode=G2;break e}break}}else if((S&64)===0){I=p[(I&65535)+(f&(1<<S)-1)];continue t}else if(S&32){N.mode=dAe;break e}else{e.msg="invalid literal/length code",N.mode=G2;break e}break}}while(n<a&&o<s);E=h>>3,n-=E,h-=E<<3,f&=(1<<h)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<s?257+(s-o):257-(o-s),N.hold=f,N.bits=h},Wm=15,Z8=852,eH=592,tH=0,MF=1,rH=2,pAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yAe=(r,e,t,n,a,o,i,s)=>{let u=s.bits,l=0,c=0,A=0,d=0,f=0,h=0,p=0,v=0,g=0,B=0,I,S,E,T,U,D=null,k,O=new Uint16Array(Wm+1),N=new Uint16Array(Wm+1),P=null,j,z,ne;for(l=0;l<=Wm;l++)O[l]=0;for(c=0;c<n;c++)O[e[t+c]]++;for(f=u,d=Wm;d>=1&&O[d]===0;d--);if(f>d&&(f=d),d===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,s.bits=1,0;for(A=1;A<d&&O[A]===0;A++);for(f<A&&(f=A),v=1,l=1;l<=Wm;l++)if(v<<=1,v-=O[l],v<0)return-1;if(v>0&&(r===tH||d!==1))return-1;for(N[1]=0,l=1;l<Wm;l++)N[l+1]=N[l]+O[l];for(c=0;c<n;c++)e[t+c]!==0&&(i[N[e[t+c]]++]=c);if(r===tH?(D=P=i,k=20):r===MF?(D=pAe,P=mAe,k=257):(D=gAe,P=vAe,k=0),B=0,c=0,l=A,U=o,h=f,p=0,E=-1,g=1<<f,T=g-1,r===MF&&g>Z8||r===rH&&g>eH)return 1;for(;;){j=l-p,i[c]+1<k?(z=0,ne=i[c]):i[c]>=k?(z=P[i[c]-k],ne=D[i[c]-k]):(z=96,ne=0),I=1<<l-p,S=1<<h,A=S;do S-=I,a[U+(B>>p)+S]=j<<24|z<<16|ne|0;while(S!==0);for(I=1<<l-1;B&I;)I>>=1;if(I!==0?(B&=I-1,B+=I):B=0,c++,--O[l]===0){if(l===d)break;l=e[t+i[c]]}if(l>f&&(B&T)!==E){for(p===0&&(p=f),U+=A,h=l-p,v=1<<h;h+p<d&&(v-=O[h+p],!(v<=0));)h++,v<<=1;if(g+=1<<h,r===MF&&g>Z8||r===rH&&g>eH)return 1;E=B&T,a[E]=f<<24|h<<16|U-o|0}}return B!==0&&(a[U+B]=l-p<<24|64<<16|0),s.bits=f,0},Ry=yAe,xAe=0,JH=1,ZH=2,{Z_FINISH:nH,Z_BLOCK:wAe,Z_TREES:K2,Z_OK:ah,Z_STREAM_END:bAe,Z_NEED_DICT:CAe,Z_STREAM_ERROR:hu,Z_DATA_ERROR:e7,Z_MEM_ERROR:t7,Z_BUF_ERROR:BAe,Z_DEFLATED:aH}=Xm,nC=16180,oH=16181,iH=16182,sH=16183,uH=16184,lH=16185,cH=16186,AH=16187,fH=16188,dH=16189,eC=16190,Kc=16191,UF=16192,hH=16193,OF=16194,pH=16195,mH=16196,gH=16197,vH=16198,X2=16199,Y2=16200,yH=16201,xH=16202,wH=16203,bH=16204,CH=16205,QF=16206,BH=16207,SH=16208,na=16209,r7=16210,n7=16211,SAe=852,IAe=592,EAe=15,LAe=EAe,IH=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);oh=r=>{if(!r)return 1;let e=r.state;return!e||e.strm!==r||e.mode<nC||e.mode>n7?1:0},a7=r=>{if(oh(r))return hu;let e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=nC,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(SAe),e.distcode=e.distdyn=new Int32Array(IAe),e.sane=1,e.back=-1,ah},o7=r=>{if(oh(r))return hu;let e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,a7(r)},i7=(r,e)=>{let t;if(oh(r))return hu;let n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hu:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,o7(r))},s7=(r,e)=>{if(!r)return hu;let t=new FAe;r.state=t,t.strm=r,t.window=null,t.mode=nC;let n=i7(r,e);return n!==ah&&(r.state=null),n},TAe=r=>s7(r,LAe),EH=!0,_Ae=r=>{if(EH){HF=new Int32Array(512),VF=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Ry(JH,r.lens,0,288,HF,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Ry(ZH,r.lens,0,32,VF,0,r.work,{bits:5}),EH=!1}r.lencode=HF,r.lenbits=9,r.distcode=VF,r.distbits=5},u7=(r,e,t,n)=>{let a,o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(t-n,t-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},kAe=(r,e)=>{let t,n,a,o,i,s,u,l,c,A,d,f,h,p,v=0,g,B,I,S,E,T,U,D,k=new Uint8Array(4),O,N,P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oh(r)||!r.output||!r.input&&r.avail_in!==0)return hu;t=r.state,t.mode===Kc&&(t.mode=UF),i=r.next_out,a=r.output,u=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,l=t.hold,c=t.bits,A=s,d=u,D=ah;e:for(;;)switch(t.mode){case nC:if(t.wrap===0){t.mode=UF;break}for(;c<16;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(t.wrap&2&&l===35615){t.wbits===0&&(t.wbits=15),t.check=0,k[0]=l&255,k[1]=l>>>8&255,t.check=Lo(t.check,k,2,0),l=0,c=0,t.mode=oH;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((l&255)<<8)+(l>>8))%31){r.msg="incorrect header check",t.mode=na;break}if((l&15)!==aH){r.msg="unknown compression method",t.mode=na;break}if(l>>>=4,c-=4,U=(l&15)+8,t.wbits===0&&(t.wbits=U),U>15||U>t.wbits){r.msg="invalid window size",t.mode=na;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=l&512?dH:Kc,l=0,c=0;break;case oH:for(;c<16;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(t.flags=l,(t.flags&255)!==aH){r.msg="unknown compression method",t.mode=na;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=na;break}t.head&&(t.head.text=l>>8&1),t.flags&512&&t.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,t.check=Lo(t.check,k,2,0)),l=0,c=0,t.mode=iH;case iH:for(;c<32;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.head&&(t.head.time=l),t.flags&512&&t.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,k[2]=l>>>16&255,k[3]=l>>>24&255,t.check=Lo(t.check,k,4,0)),l=0,c=0,t.mode=sH;case sH:for(;c<16;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.head&&(t.head.xflags=l&255,t.head.os=l>>8),t.flags&512&&t.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,t.check=Lo(t.check,k,2,0)),l=0,c=0,t.mode=uH;case uH:if(t.flags&1024){for(;c<16;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),t.flags&512&&t.wrap&4&&(k[0]=l&255,k[1]=l>>>8&255,t.check=Lo(t.check,k,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=lH;case lH:if(t.flags&1024&&(f=t.length,f>s&&(f=s),f&&(t.head&&(U=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+f),U)),t.flags&512&&t.wrap&4&&(t.check=Lo(t.check,n,f,o)),s-=f,o+=f,t.length-=f),t.length))break e;t.length=0,t.mode=cH;case cH:if(t.flags&2048){if(s===0)break e;f=0;do U=n[o+f++],t.head&&U&&t.length<65536&&(t.head.name+=String.fromCharCode(U));while(U&&f<s);if(t.flags&512&&t.wrap&4&&(t.check=Lo(t.check,n,f,o)),s-=f,o+=f,U)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=AH;case AH:if(t.flags&4096){if(s===0)break e;f=0;do U=n[o+f++],t.head&&U&&t.length<65536&&(t.head.comment+=String.fromCharCode(U));while(U&&f<s);if(t.flags&512&&t.wrap&4&&(t.check=Lo(t.check,n,f,o)),s-=f,o+=f,U)break e}else t.head&&(t.head.comment=null);t.mode=fH;case fH:if(t.flags&512){for(;c<16;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(t.wrap&4&&l!==(t.check&65535)){r.msg="header crc mismatch",t.mode=na;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Kc;break;case dH:for(;c<32;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}r.adler=t.check=IH(l),l=0,c=0,t.mode=eC;case eC:if(t.havedict===0)return r.next_out=i,r.avail_out=u,r.next_in=o,r.avail_in=s,t.hold=l,t.bits=c,CAe;r.adler=t.check=1,t.mode=Kc;case Kc:if(e===wAe||e===K2)break e;case UF:if(t.last){l>>>=c&7,c-=c&7,t.mode=QF;break}for(;c<3;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}switch(t.last=l&1,l>>>=1,c-=1,l&3){case 0:t.mode=hH;break;case 1:if(_Ae(t),t.mode=X2,e===K2){l>>>=2,c-=2;break e}break;case 2:t.mode=mH;break;case 3:r.msg="invalid block type",t.mode=na}l>>>=2,c-=2;break;case hH:for(l>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){r.msg="invalid stored block lengths",t.mode=na;break}if(t.length=l&65535,l=0,c=0,t.mode=OF,e===K2)break e;case OF:t.mode=pH;case pH:if(f=t.length,f){if(f>s&&(f=s),f>u&&(f=u),f===0)break e;a.set(n.subarray(o,o+f),i),s-=f,o+=f,u-=f,i+=f,t.length-=f;break}t.mode=Kc;break;case mH:for(;c<14;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(t.nlen=(l&31)+257,l>>>=5,c-=5,t.ndist=(l&31)+1,l>>>=5,c-=5,t.ncode=(l&15)+4,l>>>=4,c-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=na;break}t.have=0,t.mode=gH;case gH:for(;t.have<t.ncode;){for(;c<3;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.lens[P[t.have++]]=l&7,l>>>=3,c-=3}for(;t.have<19;)t.lens[P[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,O={bits:t.lenbits},D=Ry(xAe,t.lens,0,19,t.lencode,0,t.work,O),t.lenbits=O.bits,D){r.msg="invalid code lengths set",t.mode=na;break}t.have=0,t.mode=vH;case vH:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[l&(1<<t.lenbits)-1],g=v>>>24,B=v>>>16&255,I=v&65535,!(g<=c);){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(I<16)l>>>=g,c-=g,t.lens[t.have++]=I;else{if(I===16){for(N=g+2;c<N;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(l>>>=g,c-=g,t.have===0){r.msg="invalid bit length repeat",t.mode=na;break}U=t.lens[t.have-1],f=3+(l&3),l>>>=2,c-=2}else if(I===17){for(N=g+3;c<N;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}l>>>=g,c-=g,U=0,f=3+(l&7),l>>>=3,c-=3}else{for(N=g+7;c<N;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}l>>>=g,c-=g,U=0,f=11+(l&127),l>>>=7,c-=7}if(t.have+f>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=na;break}for(;f--;)t.lens[t.have++]=U}}if(t.mode===na)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=na;break}if(t.lenbits=9,O={bits:t.lenbits},D=Ry(JH,t.lens,0,t.nlen,t.lencode,0,t.work,O),t.lenbits=O.bits,D){r.msg="invalid literal/lengths set",t.mode=na;break}if(t.distbits=6,t.distcode=t.distdyn,O={bits:t.distbits},D=Ry(ZH,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,O),t.distbits=O.bits,D){r.msg="invalid distances set",t.mode=na;break}if(t.mode=X2,e===K2)break e;case X2:t.mode=Y2;case Y2:if(s>=6&&u>=258){r.next_out=i,r.avail_out=u,r.next_in=o,r.avail_in=s,t.hold=l,t.bits=c,hAe(r,d),i=r.next_out,a=r.output,u=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,l=t.hold,c=t.bits,t.mode===Kc&&(t.back=-1);break}for(t.back=0;v=t.lencode[l&(1<<t.lenbits)-1],g=v>>>24,B=v>>>16&255,I=v&65535,!(g<=c);){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(B&&(B&240)===0){for(S=g,E=B,T=I;v=t.lencode[T+((l&(1<<S+E)-1)>>S)],g=v>>>24,B=v>>>16&255,I=v&65535,!(S+g<=c);){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}l>>>=S,c-=S,t.back+=S}if(l>>>=g,c-=g,t.back+=g,t.length=I,B===0){t.mode=CH;break}if(B&32){t.back=-1,t.mode=Kc;break}if(B&64){r.msg="invalid literal/length code",t.mode=na;break}t.extra=B&15,t.mode=yH;case yH:if(t.extra){for(N=t.extra;c<N;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=xH;case xH:for(;v=t.distcode[l&(1<<t.distbits)-1],g=v>>>24,B=v>>>16&255,I=v&65535,!(g<=c);){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if((B&240)===0){for(S=g,E=B,T=I;v=t.distcode[T+((l&(1<<S+E)-1)>>S)],g=v>>>24,B=v>>>16&255,I=v&65535,!(S+g<=c);){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}l>>>=S,c-=S,t.back+=S}if(l>>>=g,c-=g,t.back+=g,B&64){r.msg="invalid distance code",t.mode=na;break}t.offset=I,t.extra=B&15,t.mode=wH;case wH:if(t.extra){for(N=t.extra;c<N;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=na;break}t.mode=bH;case bH:if(u===0)break e;if(f=d-u,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=na;break}f>t.wnext?(f-=t.wnext,h=t.wsize-f):h=t.wnext-f,f>t.length&&(f=t.length),p=t.window}else p=a,h=i-t.offset,f=t.length;f>u&&(f=u),u-=f,t.length-=f;do a[i++]=p[h++];while(--f);t.length===0&&(t.mode=Y2);break;case CH:if(u===0)break e;a[i++]=t.length,u--,t.mode=Y2;break;case QF:if(t.wrap){for(;c<32;){if(s===0)break e;s--,l|=n[o++]<<c,c+=8}if(d-=u,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?Lo(t.check,a,d,i-d):Hy(t.check,a,d,i-d)),d=u,t.wrap&4&&(t.flags?l:IH(l))!==t.check){r.msg="incorrect data check",t.mode=na;break}l=0,c=0}t.mode=BH;case BH:if(t.wrap&&t.flags){for(;c<32;){if(s===0)break e;s--,l+=n[o++]<<c,c+=8}if(t.wrap&4&&l!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=na;break}l=0,c=0}t.mode=SH;case SH:D=bAe;break e;case na:D=e7;break e;case r7:return t7;case n7:default:return hu}return r.next_out=i,r.avail_out=u,r.next_in=o,r.avail_in=s,t.hold=l,t.bits=c,(t.wsize||d!==r.avail_out&&t.mode<na&&(t.mode<QF||e!==nH))&&u7(r,r.output,r.next_out,d-r.avail_out),A-=r.avail_in,d-=r.avail_out,r.total_in+=A,r.total_out+=d,t.total+=d,t.wrap&4&&d&&(r.adler=t.check=t.flags?Lo(t.check,a,d,r.next_out-d):Hy(t.check,a,d,r.next_out-d)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Kc?128:0)+(t.mode===X2||t.mode===OF?256:0),(A===0&&d===0||e===nH)&&D===ah&&(D=BAe),D},NAe=r=>{if(oh(r))return hu;let e=r.state;return e.window&&(e.window=null),r.state=null,ah},PAe=(r,e)=>{if(oh(r))return hu;let t=r.state;return(t.wrap&2)===0?hu:(t.head=e,e.done=!1,ah)},DAe=(r,e)=>{let t=e.length,n,a,o;return oh(r)||(n=r.state,n.wrap!==0&&n.mode!==eC)?hu:n.mode===eC&&(a=1,a=Hy(a,e,t,0),a!==n.check)?e7:(o=u7(r,e,t,t),o?(n.mode=r7,t7):(n.havedict=1,ah))},RAe=o7,MAe=i7,UAe=a7,OAe=TAe,QAe=s7,HAe=kAe,VAe=NAe,qAe=PAe,WAe=DAe,zAe="pako inflate (from Nodeca project)",Yc={inflateReset:RAe,inflateReset2:MAe,inflateResetKeep:UAe,inflateInit:OAe,inflateInit2:QAe,inflate:HAe,inflateEnd:VAe,inflateGetHeader:qAe,inflateSetDictionary:WAe,inflateInfo:zAe};GAe=jAe,l7=Object.prototype.toString,{Z_NO_FLUSH:KAe,Z_FINISH:XAe,Z_OK:Wy,Z_STREAM_END:qF,Z_NEED_DICT:WF,Z_STREAM_ERROR:YAe,Z_DATA_ERROR:LH,Z_MEM_ERROR:$Ae}=Xm;Ky.prototype.push=function(r,e){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,o,i,s;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?XAe:KAe,l7.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=Yc.inflate(t,i),o===WF&&a&&(o=Yc.inflateSetDictionary(t,a),o===Wy?o=Yc.inflate(t,i):o===LH&&(o=WF));t.avail_in>0&&o===qF&&t.state.wrap>0&&r[t.next_in]!==0;)Yc.inflateReset(t),o=Yc.inflate(t,i);switch(o){case YAe:case LH:case WF:case $Ae:return this.onEnd(o),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||o===qF))if(this.options.to==="string"){let u=qy.utf8border(t.output,t.next_out),l=t.next_out-u,c=qy.buf2string(t.output,u);t.next_out=l,t.avail_out=n-l,l&&t.output.set(t.output.subarray(u,u+l),0),this.onData(c)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Wy&&s===0)){if(o===qF)return o=Yc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ky.prototype.onData=function(r){this.chunks.push(r)};Ky.prototype.onEnd=function(r){r===Wy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rC.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};ZAe=Ky,efe=i4,tfe=JAe,rfe=i4,nfe=Xm,afe={Inflate:ZAe,inflate:efe,inflateRaw:tfe,ungzip:rfe,constants:nfe},{Deflate:DYe,deflate:RYe,deflateRaw:MYe,gzip:UYe}=fAe,{Inflate:ofe,inflate:ife,inflateRaw:OYe,ungzip:QYe}=afe,s4=ofe,c7=ife});function sfe(r,e,t){let n=r;for(let a=0;a<t;a++)n=f7[(n^e[a])&255]^n>>>8;return n}function ufe(r,e){return(sfe(A7,r,e)^A7)>>>0}function l4(r,e,t){let n=r.readUint32(),a=ufe(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${a}`)}var f7,A7,aC=en(()=>{f7=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;f7[r]=e}A7=4294967295});function oC(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function iC(r,e,t,n){let a=0;for(;a<n;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-n]&255}function sC(r,e,t,n){let a=0;if(t.length===0)for(;a<n;a++)e[a]=r[a];else for(;a<n;a++)e[a]=r[a]+t[a]&255}function uC(r,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<n;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function lC(r,e,t,n,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<n;o++)e[o]=r[o]+lfe(e[o-a],t[o],t[o-a])&255}}function lfe(r,e,t){let n=r+e-t,a=Math.abs(n-r),o=Math.abs(n-e),i=Math.abs(n-t);return a<=o&&a<=i?r:o<=i?e:t}var c4=en(()=>{});function d7(r,e,t,n,a,o){switch(r){case 0:oC(e,t,a);break;case 1:iC(e,t,a,o);break;case 2:sC(e,t,n,a);break;case 3:uC(e,t,n,a,o);break;case 4:lC(e,t,n,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}var h7=en(()=>{c4()});function p7(r){let{data:e,width:t,height:n,channels:a,depth:o}=r,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(o/8)*a,u=new Uint8Array(n*t*s),l=0;for(let c=0;c<7;c++){let A=i[c],d=Math.ceil((t-A.x)/A.xStep),f=Math.ceil((n-A.y)/A.yStep);if(d<=0||f<=0)continue;let h=d*s,p=new Uint8Array(h);for(let v=0;v<f;v++){let g=e[l++],B=e.subarray(l,l+h);l+=h;let I=new Uint8Array(h);d7(g,B,I,p,h,s),p.set(I);for(let S=0;S<d;S++){let E=A.x+S*A.xStep,T=A.y+v*A.yStep;if(!(E>=t||T>=n))for(let U=0;U<s;U++)u[(T*t+E)*s+U]=I[S*s+U]}}}if(o===16){let c=new Uint16Array(u.buffer);if(ffe)for(let A=0;A<c.length;A++)c[A]=dfe(c[A]);return c}else return u}function dfe(r){return(r&255)<<8|r>>8&255}var cfe,Afe,ffe,m7=en(()=>{h7();cfe=new Uint16Array([255]),Afe=new Uint8Array(cfe.buffer),ffe=Afe[0]===255});function A4(r){let{data:e,width:t,height:n,channels:a,depth:o}=r,i=Math.ceil(o/8)*a,s=Math.ceil(o/8*a*t),u=new Uint8Array(n*s),l=gfe,c=0,A,d;for(let f=0;f<n;f++){switch(A=e.subarray(c+1,c+1+s),d=u.subarray(f*s,(f+1)*s),e[c]){case 0:oC(A,d,s);break;case 1:iC(A,d,s,i);break;case 2:sC(A,d,l,s);break;case 3:uC(A,d,l,s,i);break;case 4:lC(A,d,l,s,i);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}l=d,c+=s+1}if(o===16){let f=new Uint16Array(u.buffer);if(mfe)for(let h=0;h<f.length;h++)f[h]=vfe(f[h]);return f}else return u}function vfe(r){return(r&255)<<8|r>>8&255}var hfe,pfe,mfe,gfe,g7=en(()=>{c4();hfe=new Uint16Array([255]),pfe=new Uint8Array(hfe.buffer),mfe=pfe[0]===255,gfe=new Uint8Array(0)});function f4(r){if(!v7(r.readBytes(cC.length)))throw new Error("wrong PNG signature")}function v7(r){if(r.length<cC.length)return!1;for(let e=0;e<cC.length;e++)if(r[e]!==cC[e])return!1;return!0}var cC,AC=en(()=>{cC=Uint8Array.of(137,80,78,71,13,10,26,10)});function wfe(r){if(Cfe(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}function Cfe(r){if(!bfe.test(r))throw new Error("invalid latin1 text")}function w7(r,e,t){let n=d4(e);r[n]=Bfe(e,t-n.length-1)}function d4(r){for(r.mark();r.readByte()!==xfe;);let e=r.offset;r.reset();let t=x7.decode(r.readBytes(e-r.offset-1));return r.skip(1),wfe(t),t}function Bfe(r,e){return x7.decode(r.readBytes(e))}var y7,xfe,x7,bfe,h4=en(()=>{aC();y7="tEXt",xfe=0,x7=new TextDecoder("latin1");bfe=/^[\u0000-\u00FF]*$/});var Di,Xy,fC,Yy,$y,dC,p4=en(()=>{Di={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xy={UNKNOWN:-1,DEFLATE:0},fC={UNKNOWN:-1,ADAPTIVE:0},Yy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$y={NONE:0,BACKGROUND:1,PREVIOUS:2},dC={SOURCE:0,OVER:1}});function Sfe(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Jy,b7=en(()=>{TF();u4();aC();m7();g7();AC();h4();p4();Jy=class extends Ty{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);let{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new s4,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xy.UNKNOWN,this._filterMethod=fC.UNKNOWN,this._interlaceMethod=Yy.UNKNOWN,this._colorType=Di.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(f4(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(f4(this);!this._end;){let e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){let n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case y7:w7(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?l4(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){let n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?l4(this,e+4,t):this.skip(4)}decodeIHDR(){let e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Sfe(this.readUint8());let t=this.readUint8();this._colorType=t;let n;switch(t){case Di.GREYSCALE:n=1;break;case Di.TRUECOLOUR:n=3;break;case Di.INDEXED_COLOUR:n=1;break;case Di.GREYSCALE_ALPHA:n=2;break;case Di.TRUECOLOUR_ALPHA:n=4;break;case Di.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){let e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);let t=e/3;this._hasPalette=!0;let n=[];this._palette=n;for(let a=0;a<t;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Di.GREYSCALE:case Di.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Di.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){let n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Di.UNKNOWN:case Di.GREYSCALE_ALPHA:case Di.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){let t=d4(this),n=this.readUint8();if(n!==Xy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);let a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:c7(a)}}decodepHYs(){let e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){let t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=A4({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{let a=this._apng.frames.at(e-1);this.disposeFrame(n,a,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case $y.NONE:break;case $y.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){let i=(a*e.width+o)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[i+s]=0}break;case $y.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){let n=1<<this._png.depth,a=(o,i)=>{let s=((o+t.yOffset)*this._png.width+t.xOffset+i)*this._png.channels,u=(o*t.width+i)*this._png.channels;return{index:s,frameIndex:u}};switch(t.blendOp){case dC.SOURCE:for(let o=0;o<t.height;o++)for(let i=0;i<t.width;i++){let{index:s,frameIndex:u}=a(o,i);for(let l=0;l<this._png.channels;l++)e.data[s+l]=t.data[u+l]}break;case dC.OVER:for(let o=0;o<t.height;o++)for(let i=0;i<t.width;i++){let{index:s,frameIndex:u}=a(o,i);for(let l=0;l<this._png.channels;l++){let c=t.data[u+this._png.channels-1]/n,A=l%(this._png.channels-1)===0?1:t.data[u+l],d=Math.floor(c*A+(1-c)*e.data[s+l]);e.data[s+l]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);let e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==fC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Yy.NO_INTERLACE)this._png.data=A4({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Yy.ADAM7)this._png.data=p7({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){let e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$y.NONE,blendOp:dC.SOURCE,data:e}),this._inflator=new s4,this._writingDataChunks=!1}}});var C7=en(()=>{TF();u4();aC();AC();h4();p4()});var B7,S7=en(()=>{(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(B7||(B7={}))});var I7=en(()=>{});function E7(r,e){return new Jy(r,e).decode()}var L7=en(()=>{b7();C7();AC();S7();I7()});var F7=we((m4,g4)=>{(function(r,e){typeof m4=="object"&&typeof g4<"u"?g4.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.html2canvas=e())})(m4,(function(){"use strict";var r=function(x,m){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(b[_]=w[_])},r(x,m)};function e(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");r(x,m);function b(){this.constructor=x}x.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}var t=function(){return t=Object.assign||function(m){for(var b,w=1,_=arguments.length;w<_;w++){b=arguments[w];for(var Q in b)Object.prototype.hasOwnProperty.call(b,Q)&&(m[Q]=b[Q])}return m},t.apply(this,arguments)};function n(x,m,b,w){function _(Q){return Q instanceof b?Q:new b(function(K){K(Q)})}return new(b||(b=Promise))(function(Q,K){function ue(Ee){try{Ce(w.next(Ee))}catch(_e){K(_e)}}function se(Ee){try{Ce(w.throw(Ee))}catch(_e){K(_e)}}function Ce(Ee){Ee.done?Q(Ee.value):_(Ee.value).then(ue,se)}Ce((w=w.apply(x,m||[])).next())})}function a(x,m){var b={label:0,sent:function(){if(Q[0]&1)throw Q[1];return Q[1]},trys:[],ops:[]},w,_,Q,K;return K={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function ue(Ce){return function(Ee){return se([Ce,Ee])}}function se(Ce){if(w)throw new TypeError("Generator is already executing.");for(;b;)try{if(w=1,_&&(Q=Ce[0]&2?_.return:Ce[0]?_.throw||((Q=_.return)&&Q.call(_),0):_.next)&&!(Q=Q.call(_,Ce[1])).done)return Q;switch(_=0,Q&&(Ce=[Ce[0]&2,Q.value]),Ce[0]){case 0:case 1:Q=Ce;break;case 4:return b.label++,{value:Ce[1],done:!1};case 5:b.label++,_=Ce[1],Ce=[0];continue;case 7:Ce=b.ops.pop(),b.trys.pop();continue;default:if(Q=b.trys,!(Q=Q.length>0&&Q[Q.length-1])&&(Ce[0]===6||Ce[0]===2)){b=0;continue}if(Ce[0]===3&&(!Q||Ce[1]>Q[0]&&Ce[1]<Q[3])){b.label=Ce[1];break}if(Ce[0]===6&&b.label<Q[1]){b.label=Q[1],Q=Ce;break}if(Q&&b.label<Q[2]){b.label=Q[2],b.ops.push(Ce);break}Q[2]&&b.ops.pop(),b.trys.pop();continue}Ce=m.call(x,b)}catch(Ee){Ce=[6,Ee],_=0}finally{w=Q=0}if(Ce[0]&5)throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}}function o(x,m,b){if(b||arguments.length===2)for(var w=0,_=m.length,Q;w<_;w++)(Q||!(w in m))&&(Q||(Q=Array.prototype.slice.call(m,0,w)),Q[w]=m[w]);return x.concat(Q||m)}for(var i=(function(){function x(m,b,w,_){this.left=m,this.top=b,this.width=w,this.height=_}return x.prototype.add=function(m,b,w,_){return new x(this.left+m,this.top+b,this.width+w,this.height+_)},x.fromClientRect=function(m,b){return new x(b.left+m.windowBounds.left,b.top+m.windowBounds.top,b.width,b.height)},x.fromDOMRectList=function(m,b){var w=Array.from(b).find(function(_){return _.width!==0});return w?new x(w.left+m.windowBounds.left,w.top+m.windowBounds.top,w.width,w.height):x.EMPTY},x.EMPTY=new x(0,0,0,0),x})(),s=function(x,m){return i.fromClientRect(x,m.getBoundingClientRect())},u=function(x){var m=x.body,b=x.documentElement;if(!m||!b)throw new Error("Unable to get document size");var w=Math.max(Math.max(m.scrollWidth,b.scrollWidth),Math.max(m.offsetWidth,b.offsetWidth),Math.max(m.clientWidth,b.clientWidth)),_=Math.max(Math.max(m.scrollHeight,b.scrollHeight),Math.max(m.offsetHeight,b.offsetHeight),Math.max(m.clientHeight,b.clientHeight));return new i(0,0,w,_)},l=function(x){for(var m=[],b=0,w=x.length;b<w;){var _=x.charCodeAt(b++);if(_>=55296&&_<=56319&&b<w){var Q=x.charCodeAt(b++);(Q&64512)===56320?m.push(((_&1023)<<10)+(Q&1023)+65536):(m.push(_),b--)}else m.push(_)}return m},c=function(){for(var x=[],m=0;m<arguments.length;m++)x[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var b=x.length;if(!b)return"";for(var w=[],_=-1,Q="";++_<b;){var K=x[_];K<=65535?w.push(K):(K-=65536,w.push((K>>10)+55296,K%1024+56320)),(_+1===b||w.length>16384)&&(Q+=String.fromCharCode.apply(String,w),w.length=0)}return Q},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=typeof Uint8Array>"u"?[]:new Uint8Array(256),f=0;f<A.length;f++)d[A.charCodeAt(f)]=f;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=typeof Uint8Array>"u"?[]:new Uint8Array(256),v=0;v<h.length;v++)p[h.charCodeAt(v)]=v;for(var g=function(x){var m=x.length*.75,b=x.length,w,_=0,Q,K,ue,se;x[x.length-1]==="="&&(m--,x[x.length-2]==="="&&m--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),Ee=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(w=0;w<b;w+=4)Q=p[x.charCodeAt(w)],K=p[x.charCodeAt(w+1)],ue=p[x.charCodeAt(w+2)],se=p[x.charCodeAt(w+3)],Ee[_++]=Q<<2|K>>4,Ee[_++]=(K&15)<<4|ue>>2,Ee[_++]=(ue&3)<<6|se&63;return Ce},B=function(x){for(var m=x.length,b=[],w=0;w<m;w+=2)b.push(x[w+1]<<8|x[w]);return b},I=function(x){for(var m=x.length,b=[],w=0;w<m;w+=4)b.push(x[w+3]<<24|x[w+2]<<16|x[w+1]<<8|x[w]);return b},S=5,E=11,T=2,U=E-S,D=65536>>S,k=1<<S,O=k-1,N=1024>>S,P=D+N,j=P,z=32,ne=j+z,re=65536>>E,Y=1<<U,J=Y-1,G=function(x,m,b){return x.slice?x.slice(m,b):new Uint16Array(Array.prototype.slice.call(x,m,b))},Z=function(x,m,b){return x.slice?x.slice(m,b):new Uint32Array(Array.prototype.slice.call(x,m,b))},he=function(x,m){var b=g(x),w=Array.isArray(b)?I(b):new Uint32Array(b),_=Array.isArray(b)?B(b):new Uint16Array(b),Q=24,K=G(_,Q/2,w[4]/2),ue=w[5]===2?G(_,(Q+w[4])/2):Z(w,Math.ceil((Q+w[4])/4));return new R(w[0],w[1],w[2],w[3],K,ue)},R=(function(){function x(m,b,w,_,Q,K){this.initialValue=m,this.errorValue=b,this.highStart=w,this.highValueIndex=_,this.index=Q,this.data=K}return x.prototype.get=function(m){var b;if(m>=0){if(m<55296||m>56319&&m<=65535)return b=this.index[m>>S],b=(b<<T)+(m&O),this.data[b];if(m<=65535)return b=this.index[D+(m-55296>>S)],b=(b<<T)+(m&O),this.data[b];if(m<this.highStart)return b=ne-re+(m>>E),b=this.index[b],b+=m>>S&J,b=this.index[b],b=(b<<T)+(m&O),this.data[b];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x})(),H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ae=typeof Uint8Array>"u"?[]:new Uint8Array(256),le=0;le<H.length;le++)ae[H.charCodeAt(le)]=le;var pe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ve=50,Se=1,me=2,ke=3,Re=4,De=5,ze=7,et=8,te=9,je=10,Ct=11,ft=12,He=13,vt=14,at=15,ht=16,dt=17,Mt=18,Jt=19,Qt=20,Ht=21,Vt=22,mt=23,Kt=24,ct=25,Mr=26,lr=27,Zt=28,Xt=29,br=30,Rt=31,kr=32,qt=33,tr=34,Ur=35,Yt=36,Ut=37,Hr=38,Hi=39,Ir=40,Va=41,pi=42,ar=43,mi=[9001,65288],gi="!",sr="\xD7",Za="\xF7",Or=he(pe),Vr=[br,Yt],Gn=[Se,me,ke,De],ds=[je,et],vi=[lr,Mr],Vo=Gn.concat(ds),aa=[Hr,Hi,Ir,tr,Ur],qo=[at,He],Wo=function(x,m){m===void 0&&(m="strict");var b=[],w=[],_=[];return x.forEach(function(Q,K){var ue=Or.get(Q);if(ue>ve?(_.push(!0),ue-=ve):_.push(!1),["normal","auto","loose"].indexOf(m)!==-1&&[8208,8211,12316,12448].indexOf(Q)!==-1)return w.push(K),b.push(ht);if(ue===Re||ue===Ct){if(K===0)return w.push(K),b.push(br);var se=b[K-1];return Vo.indexOf(se)===-1?(w.push(w[K-1]),b.push(se)):(w.push(K),b.push(br))}if(w.push(K),ue===Rt)return b.push(m==="strict"?Ht:Ut);if(ue===pi||ue===Xt)return b.push(br);if(ue===ar)return Q>=131072&&Q<=196605||Q>=196608&&Q<=262141?b.push(Ut):b.push(br);b.push(ue)}),[w,b,_]},eo=function(x,m,b,w){var _=w[b];if(Array.isArray(x)?x.indexOf(_)!==-1:x===_)for(var Q=b;Q<=w.length;){Q++;var K=w[Q];if(K===m)return!0;if(K!==je)break}if(_===je)for(var Q=b;Q>0;){Q--;var ue=w[Q];if(Array.isArray(x)?x.indexOf(ue)!==-1:x===ue)for(var se=b;se<=w.length;){se++;var K=w[se];if(K===m)return!0;if(K!==je)break}if(ue!==je)break}return!1},hs=function(x,m){for(var b=x;b>=0;){var w=m[b];if(w===je)b--;else return w}return 0},Vi=function(x,m,b,w,_){if(b[w]===0)return sr;var Q=w-1;if(Array.isArray(_)&&_[Q]===!0)return sr;var K=Q-1,ue=Q+1,se=m[Q],Ce=K>=0?m[K]:0,Ee=m[ue];if(se===me&&Ee===ke)return sr;if(Gn.indexOf(se)!==-1)return gi;if(Gn.indexOf(Ee)!==-1||ds.indexOf(Ee)!==-1)return sr;if(hs(Q,m)===et)return Za;if(Or.get(x[Q])===Ct||(se===kr||se===qt)&&Or.get(x[ue])===Ct||se===ze||Ee===ze||se===te||[je,He,at].indexOf(se)===-1&&Ee===te||[dt,Mt,Jt,Kt,Zt].indexOf(Ee)!==-1||hs(Q,m)===Vt||eo(mt,Vt,Q,m)||eo([dt,Mt],Ht,Q,m)||eo(ft,ft,Q,m))return sr;if(se===je)return Za;if(se===mt||Ee===mt)return sr;if(Ee===ht||se===ht)return Za;if([He,at,Ht].indexOf(Ee)!==-1||se===vt||Ce===Yt&&qo.indexOf(se)!==-1||se===Zt&&Ee===Yt||Ee===Qt||Vr.indexOf(Ee)!==-1&&se===ct||Vr.indexOf(se)!==-1&&Ee===ct||se===lr&&[Ut,kr,qt].indexOf(Ee)!==-1||[Ut,kr,qt].indexOf(se)!==-1&&Ee===Mr||Vr.indexOf(se)!==-1&&vi.indexOf(Ee)!==-1||vi.indexOf(se)!==-1&&Vr.indexOf(Ee)!==-1||[lr,Mr].indexOf(se)!==-1&&(Ee===ct||[Vt,at].indexOf(Ee)!==-1&&m[ue+1]===ct)||[Vt,at].indexOf(se)!==-1&&Ee===ct||se===ct&&[ct,Zt,Kt].indexOf(Ee)!==-1)return sr;if([ct,Zt,Kt,dt,Mt].indexOf(Ee)!==-1)for(var _e=Q;_e>=0;){var Oe=m[_e];if(Oe===ct)return sr;if([Zt,Kt].indexOf(Oe)!==-1)_e--;else break}if([lr,Mr].indexOf(Ee)!==-1)for(var _e=[dt,Mt].indexOf(se)!==-1?K:Q;_e>=0;){var Oe=m[_e];if(Oe===ct)return sr;if([Zt,Kt].indexOf(Oe)!==-1)_e--;else break}if(Hr===se&&[Hr,Hi,tr,Ur].indexOf(Ee)!==-1||[Hi,tr].indexOf(se)!==-1&&[Hi,Ir].indexOf(Ee)!==-1||[Ir,Ur].indexOf(se)!==-1&&Ee===Ir||aa.indexOf(se)!==-1&&[Qt,Mr].indexOf(Ee)!==-1||aa.indexOf(Ee)!==-1&&se===lr||Vr.indexOf(se)!==-1&&Vr.indexOf(Ee)!==-1||se===Kt&&Vr.indexOf(Ee)!==-1||Vr.concat(ct).indexOf(se)!==-1&&Ee===Vt&&mi.indexOf(x[ue])===-1||Vr.concat(ct).indexOf(Ee)!==-1&&se===Mt)return sr;if(se===Va&&Ee===Va){for(var St=b[Q],ut=1;St>0&&(St--,m[St]===Va);)ut++;if(ut%2!==0)return sr}return se===kr&&Ee===qt?sr:Za},Lt=function(x,m){m||(m={lineBreak:"normal",wordBreak:"normal"});var b=Wo(x,m.lineBreak),w=b[0],_=b[1],Q=b[2];(m.wordBreak==="break-all"||m.wordBreak==="break-word")&&(_=_.map(function(ue){return[ct,br,pi].indexOf(ue)!==-1?Ut:ue}));var K=m.wordBreak==="keep-all"?Q.map(function(ue,se){return ue&&x[se]>=19968&&x[se]<=40959}):void 0;return[w,_,K]},xe=(function(){function x(m,b,w,_){this.codePoints=m,this.required=b===gi,this.start=w,this.end=_}return x.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},x})(),tt=function(x,m){var b=l(x),w=Lt(b,m),_=w[0],Q=w[1],K=w[2],ue=b.length,se=0,Ce=0;return{next:function(){if(Ce>=ue)return{done:!0,value:null};for(var Ee=sr;Ce<ue&&(Ee=Vi(b,Q,_,++Ce,K))===sr;);if(Ee!==sr||Ce===ue){var _e=new xe(b,Ee,se,Ce);return se=Ce,{value:_e,done:!1}}return{done:!0,value:null}}}},Bt=1,An=2,Cn=4,Bn=8,Kn=10,On=47,go=92,cl=9,Qn=32,Qs=34,ps=61,Lh=35,Hs=36,iA=37,sA=39,Hn=40,Al=41,Vs=95,Sa=45,Fh=33,qi=60,Ia=62,bu=64,Th=91,Ig=93,Eg=61,qs=123,Xl=63,_h=125,Yl=124,$l=126,Lg=128,kh=65533,Ff=42,ms=43,Nh=44,gs=58,Fg=59,vs=46,Tf=0,Tg=8,fr=11,_g=14,kg=31,Ng=127,qa=-1,Ws=48,Ph=97,Dh=101,uA=102,_f=117,Jl=122,Rh=65,zs=69,Mh=70,kf=85,Nf=90,Ea=function(x){return x>=Ws&&x<=57},Cu=function(x){return x>=55296&&x<=57343},js=function(x){return Ea(x)||x>=Rh&&x<=Mh||x>=Ph&&x<=uA},lA=function(x){return x>=Ph&&x<=Jl},Pf=function(x){return x>=Rh&&x<=Nf},Zl=function(x){return lA(x)||Pf(x)},Df=function(x){return x>=Lg},ec=function(x){return x===Kn||x===cl||x===Qn},tc=function(x){return Zl(x)||Df(x)||x===Vs},Gs=function(x){return tc(x)||Ea(x)||x===Sa},Bu=function(x){return x>=Tf&&x<=Tg||x===fr||x>=_g&&x<=kg||x===Ng},ys=function(x,m){return x!==go?!1:m!==Kn},Ks=function(x,m,b){return x===Sa?tc(m)||ys(m,b):tc(x)?!0:!!(x===go&&ys(x,m))},cA=function(x,m,b){return x===ms||x===Sa?Ea(m)?!0:m===vs&&Ea(b):Ea(x===vs?m:x)},L=function(x){var m=0,b=1;(x[m]===ms||x[m]===Sa)&&(x[m]===Sa&&(b=-1),m++);for(var w=[];Ea(x[m]);)w.push(x[m++]);var _=w.length?parseInt(c.apply(void 0,w),10):0;x[m]===vs&&m++;for(var Q=[];Ea(x[m]);)Q.push(x[m++]);var K=Q.length,ue=K?parseInt(c.apply(void 0,Q),10):0;(x[m]===zs||x[m]===Dh)&&m++;var se=1;(x[m]===ms||x[m]===Sa)&&(x[m]===Sa&&(se=-1),m++);for(var Ce=[];Ea(x[m]);)Ce.push(x[m++]);var Ee=Ce.length?parseInt(c.apply(void 0,Ce),10):0;return b*(_+ue*Math.pow(10,-K))*Math.pow(10,se*Ee)},V={type:2},de={type:3},ge={type:4},Le={type:13},qe={type:8},Ke={type:21},Ft={type:9},Wt={type:10},Ar={type:11},yr={type:12},Wr={type:14},Sn={type:23},ma={type:1},In={type:25},La={type:24},ga={type:26},to={type:27},Su={type:28},xs={type:29},Iu={type:31},rc={type:32},nc=(function(){function x(){this._value=[]}return x.prototype.write=function(m){this._value=this._value.concat(l(m))},x.prototype.read=function(){for(var m=[],b=this.consumeToken();b!==rc;)m.push(b),b=this.consumeToken();return m},x.prototype.consumeToken=function(){var m=this.consumeCodePoint();switch(m){case Qs:return this.consumeStringToken(Qs);case Lh:var b=this.peekCodePoint(0),w=this.peekCodePoint(1),_=this.peekCodePoint(2);if(Gs(b)||ys(w,_)){var Q=Ks(b,w,_)?An:Bt,K=this.consumeName();return{type:5,value:K,flags:Q}}break;case Hs:if(this.peekCodePoint(0)===ps)return this.consumeCodePoint(),Le;break;case sA:return this.consumeStringToken(sA);case Hn:return V;case Al:return de;case Ff:if(this.peekCodePoint(0)===ps)return this.consumeCodePoint(),Wr;break;case ms:if(cA(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case Nh:return ge;case Sa:var ue=m,se=this.peekCodePoint(0),Ce=this.peekCodePoint(1);if(cA(ue,se,Ce))return this.reconsumeCodePoint(m),this.consumeNumericToken();if(Ks(ue,se,Ce))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();if(se===Sa&&Ce===Ia)return this.consumeCodePoint(),this.consumeCodePoint(),La;break;case vs:if(cA(m,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(m),this.consumeNumericToken();break;case On:if(this.peekCodePoint(0)===Ff)for(this.consumeCodePoint();;){var Ee=this.consumeCodePoint();if(Ee===Ff&&(Ee=this.consumeCodePoint(),Ee===On))return this.consumeToken();if(Ee===qa)return this.consumeToken()}break;case gs:return ga;case Fg:return to;case qi:if(this.peekCodePoint(0)===Fh&&this.peekCodePoint(1)===Sa&&this.peekCodePoint(2)===Sa)return this.consumeCodePoint(),this.consumeCodePoint(),In;break;case bu:var _e=this.peekCodePoint(0),Oe=this.peekCodePoint(1),St=this.peekCodePoint(2);if(Ks(_e,Oe,St)){var K=this.consumeName();return{type:7,value:K}}break;case Th:return Su;case go:if(ys(m,this.peekCodePoint(0)))return this.reconsumeCodePoint(m),this.consumeIdentLikeToken();break;case Ig:return xs;case Eg:if(this.peekCodePoint(0)===ps)return this.consumeCodePoint(),qe;break;case qs:return Ar;case _h:return yr;case _f:case kf:var ut=this.peekCodePoint(0),gt=this.peekCodePoint(1);return ut===ms&&(js(gt)||gt===Xl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(m),this.consumeIdentLikeToken();case Yl:if(this.peekCodePoint(0)===ps)return this.consumeCodePoint(),Ft;if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),Ke;break;case $l:if(this.peekCodePoint(0)===ps)return this.consumeCodePoint(),Wt;break;case qa:return rc}return ec(m)?(this.consumeWhiteSpace(),Iu):Ea(m)?(this.reconsumeCodePoint(m),this.consumeNumericToken()):tc(m)?(this.reconsumeCodePoint(m),this.consumeIdentLikeToken()):{type:6,value:c(m)}},x.prototype.consumeCodePoint=function(){var m=this._value.shift();return typeof m>"u"?-1:m},x.prototype.reconsumeCodePoint=function(m){this._value.unshift(m)},x.prototype.peekCodePoint=function(m){return m>=this._value.length?-1:this._value[m]},x.prototype.consumeUnicodeRangeToken=function(){for(var m=[],b=this.consumeCodePoint();js(b)&&m.length<6;)m.push(b),b=this.consumeCodePoint();for(var w=!1;b===Xl&&m.length<6;)m.push(b),b=this.consumeCodePoint(),w=!0;if(w){var _=parseInt(c.apply(void 0,m.map(function(se){return se===Xl?Ws:se})),16),Q=parseInt(c.apply(void 0,m.map(function(se){return se===Xl?Mh:se})),16);return{type:30,start:_,end:Q}}var K=parseInt(c.apply(void 0,m),16);if(this.peekCodePoint(0)===Sa&&js(this.peekCodePoint(1))){this.consumeCodePoint(),b=this.consumeCodePoint();for(var ue=[];js(b)&&ue.length<6;)ue.push(b),b=this.consumeCodePoint();var Q=parseInt(c.apply(void 0,ue),16);return{type:30,start:K,end:Q}}else return{type:30,start:K,end:K}},x.prototype.consumeIdentLikeToken=function(){var m=this.consumeName();return m.toLowerCase()==="url"&&this.peekCodePoint(0)===Hn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Hn?(this.consumeCodePoint(),{type:19,value:m}):{type:20,value:m}},x.prototype.consumeUrlToken=function(){var m=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===qa)return{type:22,value:""};var b=this.peekCodePoint(0);if(b===sA||b===Qs){var w=this.consumeStringToken(this.consumeCodePoint());return w.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===qa||this.peekCodePoint(0)===Al)?(this.consumeCodePoint(),{type:22,value:w.value}):(this.consumeBadUrlRemnants(),Sn)}for(;;){var _=this.consumeCodePoint();if(_===qa||_===Al)return{type:22,value:c.apply(void 0,m)};if(ec(_))return this.consumeWhiteSpace(),this.peekCodePoint(0)===qa||this.peekCodePoint(0)===Al?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,m)}):(this.consumeBadUrlRemnants(),Sn);if(_===Qs||_===sA||_===Hn||Bu(_))return this.consumeBadUrlRemnants(),Sn;if(_===go)if(ys(_,this.peekCodePoint(0)))m.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Sn;else m.push(_)}},x.prototype.consumeWhiteSpace=function(){for(;ec(this.peekCodePoint(0));)this.consumeCodePoint()},x.prototype.consumeBadUrlRemnants=function(){for(;;){var m=this.consumeCodePoint();if(m===Al||m===qa)return;ys(m,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},x.prototype.consumeStringSlice=function(m){for(var b=5e4,w="";m>0;){var _=Math.min(b,m);w+=c.apply(void 0,this._value.splice(0,_)),m-=_}return this._value.shift(),w},x.prototype.consumeStringToken=function(m){var b="",w=0;do{var _=this._value[w];if(_===qa||_===void 0||_===m)return b+=this.consumeStringSlice(w),{type:0,value:b};if(_===Kn)return this._value.splice(0,w),ma;if(_===go){var Q=this._value[w+1];Q!==qa&&Q!==void 0&&(Q===Kn?(b+=this.consumeStringSlice(w),w=-1,this._value.shift()):ys(_,Q)&&(b+=this.consumeStringSlice(w),b+=c(this.consumeEscapedCodePoint()),w=-1))}w++}while(!0)},x.prototype.consumeNumber=function(){var m=[],b=Cn,w=this.peekCodePoint(0);for((w===ms||w===Sa)&&m.push(this.consumeCodePoint());Ea(this.peekCodePoint(0));)m.push(this.consumeCodePoint());w=this.peekCodePoint(0);var _=this.peekCodePoint(1);if(w===vs&&Ea(_))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),b=Bn;Ea(this.peekCodePoint(0));)m.push(this.consumeCodePoint());w=this.peekCodePoint(0),_=this.peekCodePoint(1);var Q=this.peekCodePoint(2);if((w===zs||w===Dh)&&((_===ms||_===Sa)&&Ea(Q)||Ea(_)))for(m.push(this.consumeCodePoint(),this.consumeCodePoint()),b=Bn;Ea(this.peekCodePoint(0));)m.push(this.consumeCodePoint());return[L(m),b]},x.prototype.consumeNumericToken=function(){var m=this.consumeNumber(),b=m[0],w=m[1],_=this.peekCodePoint(0),Q=this.peekCodePoint(1),K=this.peekCodePoint(2);if(Ks(_,Q,K)){var ue=this.consumeName();return{type:15,number:b,flags:w,unit:ue}}return _===iA?(this.consumeCodePoint(),{type:16,number:b,flags:w}):{type:17,number:b,flags:w}},x.prototype.consumeEscapedCodePoint=function(){var m=this.consumeCodePoint();if(js(m)){for(var b=c(m);js(this.peekCodePoint(0))&&b.length<6;)b+=c(this.consumeCodePoint());ec(this.peekCodePoint(0))&&this.consumeCodePoint();var w=parseInt(b,16);return w===0||Cu(w)||w>1114111?kh:w}return m===qa?kh:m},x.prototype.consumeName=function(){for(var m="";;){var b=this.consumeCodePoint();if(Gs(b))m+=c(b);else if(ys(b,this.peekCodePoint(0)))m+=c(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(b),m}},x})(),Eu=(function(){function x(m){this._tokens=m}return x.create=function(m){var b=new nc;return b.write(m),new x(b.read())},x.parseValue=function(m){return x.create(m).parseComponentValue()},x.parseValues=function(m){return x.create(m).parseComponentValues()},x.prototype.parseComponentValue=function(){for(var m=this.consumeToken();m.type===31;)m=this.consumeToken();if(m.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(m);var b=this.consumeComponentValue();do m=this.consumeToken();while(m.type===31);if(m.type===32)return b;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},x.prototype.parseComponentValues=function(){for(var m=[];;){var b=this.consumeComponentValue();if(b.type===32)return m;m.push(b),m.push()}},x.prototype.consumeComponentValue=function(){var m=this.consumeToken();switch(m.type){case 11:case 28:case 2:return this.consumeSimpleBlock(m.type);case 19:return this.consumeFunction(m)}return m},x.prototype.consumeSimpleBlock=function(m){for(var b={type:m,values:[]},w=this.consumeToken();;){if(w.type===32||To(w,m))return b;this.reconsumeToken(w),b.values.push(this.consumeComponentValue()),w=this.consumeToken()}},x.prototype.consumeFunction=function(m){for(var b={name:m.value,values:[],type:18};;){var w=this.consumeToken();if(w.type===32||w.type===3)return b;this.reconsumeToken(w),b.values.push(this.consumeComponentValue())}},x.prototype.consumeToken=function(){var m=this._tokens.shift();return typeof m>"u"?rc:m},x.prototype.reconsumeToken=function(m){this._tokens.unshift(m)},x})(),ws=function(x){return x.type===15},Wi=function(x){return x.type===17},Qr=function(x){return x.type===20},ro=function(x){return x.type===0},Lu=function(x,m){return Qr(x)&&x.value===m},fl=function(x){return x.type!==31},Xs=function(x){return x.type!==31&&x.type!==4},zo=function(x){var m=[],b=[];return x.forEach(function(w){if(w.type===4){if(b.length===0)throw new Error("Error parsing function args, zero tokens for arg");m.push(b),b=[];return}w.type!==31&&b.push(w)}),b.length&&m.push(b),m},To=function(x,m){return m===11&&x.type===12||m===28&&x.type===29?!0:m===2&&x.type===3},vo=function(x){return x.type===17||x.type===15},Tn=function(x){return x.type===16||vo(x)},Rf=function(x){return x.length>1?[x[0],x[1]]:[x[0]]},fn={type:17,number:0,flags:Cn},Fu={type:16,number:50,flags:Cn},zi={type:16,number:100,flags:Cn},Tu=function(x,m,b){var w=x[0],_=x[1];return[zr(w,m),zr(typeof _<"u"?_:w,b)]},zr=function(x,m){if(x.type===16)return x.number/100*m;if(ws(x))switch(x.unit){case"rem":case"em":return 16*x.number;default:return x.number}return x.number},dl="deg",jo="grad",Go="rad",_u="turn",ji={name:"angle",parse:function(x,m){if(m.type===15)switch(m.unit){case dl:return Math.PI*m.number/180;case jo:return Math.PI/200*m.number;case Go:return m.number;case _u:return Math.PI*2*m.number}throw new Error("Unsupported angle type")}},ku=function(x){return x.type===15&&(x.unit===dl||x.unit===jo||x.unit===Go||x.unit===_u)},AA=function(x){var m=x.filter(Qr).map(function(b){return b.value}).join(" ");switch(m){case"to bottom right":case"to right bottom":case"left top":case"top left":return[fn,fn];case"to top":case"bottom":return no(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[fn,zi];case"to right":case"left":return no(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zi,zi];case"to bottom":case"top":return no(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zi,fn];case"to left":case"right":return no(270)}return 0},no=function(x){return Math.PI*x/180},dn={name:"color",parse:function(x,m){if(m.type===18){var b=hl[m.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported color function "'+m.name+'"');return b(x,m.values)}if(m.type===5){if(m.value.length===3){var w=m.value.substring(0,1),_=m.value.substring(1,2),Q=m.value.substring(2,3);return ao(parseInt(w+w,16),parseInt(_+_,16),parseInt(Q+Q,16),1)}if(m.value.length===4){var w=m.value.substring(0,1),_=m.value.substring(1,2),Q=m.value.substring(2,3),K=m.value.substring(3,4);return ao(parseInt(w+w,16),parseInt(_+_,16),parseInt(Q+Q,16),parseInt(K+K,16)/255)}if(m.value.length===6){var w=m.value.substring(0,2),_=m.value.substring(2,4),Q=m.value.substring(4,6);return ao(parseInt(w,16),parseInt(_,16),parseInt(Q,16),1)}if(m.value.length===8){var w=m.value.substring(0,2),_=m.value.substring(2,4),Q=m.value.substring(4,6),K=m.value.substring(6,8);return ao(parseInt(w,16),parseInt(_,16),parseInt(Q,16),parseInt(K,16)/255)}}if(m.type===20){var ue=yo[m.value.toUpperCase()];if(typeof ue<"u")return ue}return yo.TRANSPARENT}},bs=function(x){return(255&x)===0},vn=function(x){var m=255&x,b=255&x>>8,w=255&x>>16,_=255&x>>24;return m<255?"rgba("+_+","+w+","+b+","+m/255+")":"rgb("+_+","+w+","+b+")"},ao=function(x,m,b,w){return(x<<24|m<<16|b<<8|Math.round(w*255)<<0)>>>0},fA=function(x,m){if(x.type===17)return x.number;if(x.type===16){var b=m===3?1:255;return m===3?x.number/100*b:Math.round(x.number/100*b)}return 0},dA=function(x,m){var b=m.filter(Xs);if(b.length===3){var w=b.map(fA),_=w[0],Q=w[1],K=w[2];return ao(_,Q,K,1)}if(b.length===4){var ue=b.map(fA),_=ue[0],Q=ue[1],K=ue[2],se=ue[3];return ao(_,Q,K,se)}return 0};function ac(x,m,b){return b<0&&(b+=1),b>=1&&(b-=1),b<1/6?(m-x)*b*6+x:b<1/2?m:b<2/3?(m-x)*6*(2/3-b)+x:x}var hA=function(x,m){var b=m.filter(Xs),w=b[0],_=b[1],Q=b[2],K=b[3],ue=(w.type===17?no(w.number):ji.parse(x,w))/(Math.PI*2),se=Tn(_)?_.number/100:0,Ce=Tn(Q)?Q.number/100:0,Ee=typeof K<"u"&&Tn(K)?zr(K,1):1;if(se===0)return ao(Ce*255,Ce*255,Ce*255,1);var _e=Ce<=.5?Ce*(se+1):Ce+se-Ce*se,Oe=Ce*2-_e,St=ac(Oe,_e,ue+1/3),ut=ac(Oe,_e,ue),gt=ac(Oe,_e,ue-1/3);return ao(St*255,ut*255,gt*255,Ee)},hl={hsl:hA,hsla:hA,rgb:dA,rgba:dA},Gi=function(x,m){return dn.parse(x,Eu.create(m).parseComponentValue())},yo={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},oc={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(x,m){return m.map(function(b){if(Qr(b))switch(b.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ys=function(x,m){var b=dn.parse(x,m[0]),w=m[1];return w&&Tn(w)?{color:b,stop:w}:{color:b,stop:null}},yi=function(x,m){var b=x[0],w=x[x.length-1];b.stop===null&&(b.stop=fn),w.stop===null&&(w.stop=zi);for(var _=[],Q=0,K=0;K<x.length;K++){var ue=x[K].stop;if(ue!==null){var se=zr(ue,m);se>Q?_.push(se):_.push(Q),Q=se}else _.push(null)}for(var Ce=null,K=0;K<_.length;K++){var Ee=_[K];if(Ee===null)Ce===null&&(Ce=K);else if(Ce!==null){for(var _e=K-Ce,Oe=_[Ce-1],St=(Ee-Oe)/(_e+1),ut=1;ut<=_e;ut++)_[Ce+ut-1]=St*ut;Ce=null}}return x.map(function(gt,Er){var zt=gt.color;return{color:zt,stop:Math.max(Math.min(1,_[Er]/m),0)}})},$s=function(x,m,b){var w=m/2,_=b/2,Q=zr(x[0],m)-w,K=_-zr(x[1],b);return(Math.atan2(K,Q)+Math.PI*2)%(Math.PI*2)},tn=function(x,m,b){var w=typeof x=="number"?x:$s(x,m,b),_=Math.abs(m*Math.sin(w))+Math.abs(b*Math.cos(w)),Q=m/2,K=b/2,ue=_/2,se=Math.sin(w-Math.PI/2)*ue,Ce=Math.cos(w-Math.PI/2)*ue;return[_,Q-Ce,Q+Ce,K-se,K+se]},Nr=function(x,m){return Math.sqrt(x*x+m*m)},Xn=function(x,m,b,w,_){var Q=[[0,0],[0,m],[x,0],[x,m]];return Q.reduce(function(K,ue){var se=ue[0],Ce=ue[1],Ee=Nr(b-se,w-Ce);return(_?Ee<K.optimumDistance:Ee>K.optimumDistance)?{optimumCorner:ue,optimumDistance:Ee}:K},{optimumDistance:_?1/0:-1/0,optimumCorner:null}).optimumCorner},Fa=function(x,m,b,w,_){var Q=0,K=0;switch(x.size){case 0:x.shape===0?Q=K=Math.min(Math.abs(m),Math.abs(m-w),Math.abs(b),Math.abs(b-_)):x.shape===1&&(Q=Math.min(Math.abs(m),Math.abs(m-w)),K=Math.min(Math.abs(b),Math.abs(b-_)));break;case 2:if(x.shape===0)Q=K=Math.min(Nr(m,b),Nr(m,b-_),Nr(m-w,b),Nr(m-w,b-_));else if(x.shape===1){var ue=Math.min(Math.abs(b),Math.abs(b-_))/Math.min(Math.abs(m),Math.abs(m-w)),se=Xn(w,_,m,b,!0),Ce=se[0],Ee=se[1];Q=Nr(Ce-m,(Ee-b)/ue),K=ue*Q}break;case 1:x.shape===0?Q=K=Math.max(Math.abs(m),Math.abs(m-w),Math.abs(b),Math.abs(b-_)):x.shape===1&&(Q=Math.max(Math.abs(m),Math.abs(m-w)),K=Math.max(Math.abs(b),Math.abs(b-_)));break;case 3:if(x.shape===0)Q=K=Math.max(Nr(m,b),Nr(m,b-_),Nr(m-w,b),Nr(m-w,b-_));else if(x.shape===1){var ue=Math.max(Math.abs(b),Math.abs(b-_))/Math.max(Math.abs(m),Math.abs(m-w)),_e=Xn(w,_,m,b,!1),Ce=_e[0],Ee=_e[1];Q=Nr(Ce-m,(Ee-b)/ue),K=ue*Q}break}return Array.isArray(x.size)&&(Q=zr(x.size[0],w),K=x.size.length===2?zr(x.size[1],_):Q),[Q,K]},Nu=function(x,m){var b=no(180),w=[];return zo(m).forEach(function(_,Q){if(Q===0){var K=_[0];if(K.type===20&&K.value==="to"){b=AA(_);return}else if(ku(K)){b=ji.parse(x,K);return}}var ue=Ys(x,_);w.push(ue)}),{angle:b,stops:w,type:1}},ml=function(x,m){var b=no(180),w=[];return zo(m).forEach(function(_,Q){if(Q===0){var K=_[0];if(K.type===20&&["top","left","right","bottom"].indexOf(K.value)!==-1){b=AA(_);return}else if(ku(K)){b=(ji.parse(x,K)+no(270))%no(360);return}}var ue=Ys(x,_);w.push(ue)}),{angle:b,stops:w,type:1}},pA=function(x,m){var b=no(180),w=[],_=1,Q=0,K=3,ue=[];return zo(m).forEach(function(se,Ce){var Ee=se[0];if(Ce===0){if(Qr(Ee)&&Ee.value==="linear"){_=1;return}else if(Qr(Ee)&&Ee.value==="radial"){_=2;return}}if(Ee.type===18){if(Ee.name==="from"){var _e=dn.parse(x,Ee.values[0]);w.push({stop:fn,color:_e})}else if(Ee.name==="to"){var _e=dn.parse(x,Ee.values[0]);w.push({stop:zi,color:_e})}else if(Ee.name==="color-stop"){var Oe=Ee.values.filter(Xs);if(Oe.length===2){var _e=dn.parse(x,Oe[1]),St=Oe[0];Wi(St)&&w.push({stop:{type:16,number:St.number*100,flags:St.flags},color:_e})}}}}),_===1?{angle:(b+no(180))%no(360),stops:w,type:_}:{size:K,shape:Q,stops:w,position:ue,type:_}},Mf="closest-side",Pg="farthest-side",Dg="closest-corner",Rg="farthest-corner",Mg="circle",Ug="ellipse",Og="cover",mA="contain",Y1=function(x,m){var b=0,w=3,_=[],Q=[];return zo(m).forEach(function(K,ue){var se=!0;if(ue===0){var Ce=!1;se=K.reduce(function(_e,Oe){if(Ce)if(Qr(Oe))switch(Oe.value){case"center":return Q.push(Fu),_e;case"top":case"left":return Q.push(fn),_e;case"right":case"bottom":return Q.push(zi),_e}else(Tn(Oe)||vo(Oe))&&Q.push(Oe);else if(Qr(Oe))switch(Oe.value){case Mg:return b=0,!1;case Ug:return b=1,!1;case"at":return Ce=!0,!1;case Mf:return w=0,!1;case Og:case Pg:return w=1,!1;case mA:case Dg:return w=2,!1;case Rg:return w=3,!1}else if(vo(Oe)||Tn(Oe))return Array.isArray(w)||(w=[]),w.push(Oe),!1;return _e},se)}if(se){var Ee=Ys(x,K);_.push(Ee)}}),{size:w,shape:b,stops:_,position:Q,type:2}},Uf=function(x,m){var b=0,w=3,_=[],Q=[];return zo(m).forEach(function(K,ue){var se=!0;if(ue===0?se=K.reduce(function(Ee,_e){if(Qr(_e))switch(_e.value){case"center":return Q.push(Fu),!1;case"top":case"left":return Q.push(fn),!1;case"right":case"bottom":return Q.push(zi),!1}else if(Tn(_e)||vo(_e))return Q.push(_e),!1;return Ee},se):ue===1&&(se=K.reduce(function(Ee,_e){if(Qr(_e))switch(_e.value){case Mg:return b=0,!1;case Ug:return b=1,!1;case mA:case Mf:return w=0,!1;case Pg:return w=1,!1;case Dg:return w=2,!1;case Og:case Rg:return w=3,!1}else if(vo(_e)||Tn(_e))return Array.isArray(w)||(w=[]),w.push(_e),!1;return Ee},se)),se){var Ce=Ys(x,K);_.push(Ce)}}),{size:w,shape:b,stops:_,position:Q,type:2}},$1=function(x){return x.type===1},J1=function(x){return x.type===2},Uh={name:"image",parse:function(x,m){if(m.type===22){var b={url:m.value,type:0};return x.cache.addImage(m.value),b}if(m.type===18){var w=Qg[m.name];if(typeof w>"u")throw new Error('Attempting to parse an unsupported image function "'+m.name+'"');return w(x,m.values)}throw new Error("Unsupported image type "+m.type)}};function Z1(x){return!(x.type===20&&x.value==="none")&&(x.type!==18||!!Qg[x.name])}var Qg={"linear-gradient":Nu,"-moz-linear-gradient":ml,"-ms-linear-gradient":ml,"-o-linear-gradient":ml,"-webkit-linear-gradient":ml,"radial-gradient":Y1,"-moz-radial-gradient":Uf,"-ms-radial-gradient":Uf,"-o-radial-gradient":Uf,"-webkit-radial-gradient":Uf,"-webkit-gradient":pA},ex={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(x,m){if(m.length===0)return[];var b=m[0];return b.type===20&&b.value==="none"?[]:m.filter(function(w){return Xs(w)&&Z1(w)}).map(function(w){return Uh.parse(x,w)})}},Hg={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(x,m){return m.map(function(b){if(Qr(b))switch(b.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Oh={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(x,m){return zo(m).map(function(b){return b.filter(Tn)}).map(Rf)}},xi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(x,m){return zo(m).map(function(b){return b.filter(Qr).map(function(w){return w.value}).join(" ")}).map(Ki)}},Ki=function(x){switch(x){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Pu;(function(x){x.AUTO="auto",x.CONTAIN="contain",x.COVER="cover"})(Pu||(Pu={}));var Qh={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(x,m){return zo(m).map(function(b){return b.filter(tx)})}},tx=function(x){return Qr(x)||Tn(x)},ic=function(x){return{name:"border-"+x+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Hh=ic("top"),Vg=ic("right"),rx=ic("bottom"),qg=ic("left"),gA=function(x){return{name:"border-radius-"+x,initialValue:"0 0",prefix:!1,type:1,parse:function(m,b){return Rf(b.filter(Tn))}}},Vh=gA("top-left"),Wg=gA("top-right"),SS=gA("bottom-right"),IS=gA("bottom-left"),Of=function(x){return{name:"border-"+x+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(m,b){switch(b){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ES=Of("top"),LS=Of("right"),FS=Of("bottom"),TS=Of("left"),qh=function(x){return{name:"border-"+x+"-width",initialValue:"0",type:0,prefix:!1,parse:function(m,b){return ws(b)?b.number:0}}},zg=qh("top"),jg=qh("right"),Qf=qh("bottom"),_S=qh("left"),kS={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nx={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(x,m){return m==="rtl"?1:0}},NS={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(x,m){return m.filter(Qr).reduce(function(b,w){return b|PS(w.value)},0)}},PS=function(x){switch(x){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},DS={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(x,m){switch(m){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},RS={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(x,m){return m.type===20&&m.value==="normal"?0:m.type===17||m.type===15?m.number:0}},Cs;(function(x){x.NORMAL="normal",x.STRICT="strict"})(Cs||(Cs={}));var Bs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,m){return m==="strict"?Cs.STRICT:Cs.NORMAL}},Du={name:"line-height",initialValue:"normal",prefix:!1,type:4},ax=function(x,m){return Qr(x)&&x.value==="normal"?1.2*m:x.type===17?m*x.number:Tn(x)?zr(x,m):m},ox={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(x,m){return m.type===20&&m.value==="none"?null:Uh.parse(x,m)}},gl={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(x,m){return m==="inside"?0:1}},Ko={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(x,m){switch(m){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Wh=function(x){return{name:"margin-"+x,initialValue:"0",prefix:!1,type:4}},MS=Wh("top"),ix=Wh("right"),sx=Wh("bottom"),ux=Wh("left"),lx={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(x,m){return m.filter(Qr).map(function(b){switch(b.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},US={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(x,m){return m==="break-word"?"break-word":"normal"}},sc=function(x){return{name:"padding-"+x,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zh=sc("top"),Hf=sc("right"),Gg=sc("bottom"),cx=sc("left"),OS={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(x,m){switch(m){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ax={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(x,m){switch(m){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},QS={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,m){return m.length===1&&Lu(m[0],"none")?[]:zo(m).map(function(b){for(var w={color:yo.TRANSPARENT,offsetX:fn,offsetY:fn,blur:fn},_=0,Q=0;Q<b.length;Q++){var K=b[Q];vo(K)?(_===0?w.offsetX=K:_===1?w.offsetY=K:w.blur=K,_++):w.color=dn.parse(x,K)}return w})}},HS={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(x,m){switch(m){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},VS={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(x,m){if(m.type===20&&m.value==="none")return null;if(m.type===18){var b=zS[m.name];if(typeof b>"u")throw new Error('Attempting to parse an unsupported transform function "'+m.name+'"');return b(m.values)}return null}},qS=function(x){var m=x.filter(function(b){return b.type===17}).map(function(b){return b.number});return m.length===6?m:null},WS=function(x){var m=x.filter(function(se){return se.type===17}).map(function(se){return se.number}),b=m[0],w=m[1];m[2],m[3];var _=m[4],Q=m[5];m[6],m[7],m[8],m[9],m[10],m[11];var K=m[12],ue=m[13];return m[14],m[15],m.length===16?[b,w,_,Q,K,ue]:null},zS={matrix:qS,matrix3d:WS},Kg={type:16,number:50,flags:Cn},jh=[Kg,Kg],jS={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(x,m){var b=m.filter(Tn);return b.length!==2?jh:[b[0],b[1]]}},GS={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(x,m){switch(m){case"hidden":return 1;case"collapse":return 2;default:return 0}}},vA;(function(x){x.NORMAL="normal",x.BREAK_ALL="break-all",x.KEEP_ALL="keep-all"})(vA||(vA={}));for(var y={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(x,m){switch(m){case"break-all":return vA.BREAK_ALL;case"keep-all":return vA.KEEP_ALL;default:return vA.NORMAL}}},C={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(x,m){if(m.type===20)return{auto:!0,order:0};if(Wi(m))return{auto:!1,order:m.number};throw new Error("Invalid z-index number parsed")}},F={name:"time",parse:function(x,m){if(m.type===15)switch(m.unit.toLowerCase()){case"s":return 1e3*m.number;case"ms":return m.number}throw new Error("Unsupported time type")}},M={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(x,m){return Wi(m)?m.number:1}},q={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},X={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(x,m){return m.filter(Qr).map(function(b){switch(b.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(b){return b!==0})}},$={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(x,m){var b=[],w=[];return m.forEach(function(_){switch(_.type){case 20:case 0:b.push(_.value);break;case 17:b.push(_.number.toString());break;case 4:w.push(b.join(" ")),b.length=0;break}}),b.length&&w.push(b.join(" ")),w.map(function(_){return _.indexOf(" ")===-1?_:"'"+_+"'"})}},ee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ie={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(x,m){return Wi(m)?m.number:Qr(m)&&m.value==="bold"?700:400}},Ae={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(x,m){return m.filter(Qr).map(function(b){return b.value})}},be={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(x,m){switch(m){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Fe=function(x,m){return(x&m)!==0},fe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(x,m){if(m.length===0)return[];var b=m[0];return b.type===20&&b.value==="none"?[]:m}},Ie={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(x,m){if(m.length===0)return null;var b=m[0];if(b.type===20&&b.value==="none")return null;for(var w=[],_=m.filter(fl),Q=0;Q<_.length;Q++){var K=_[Q],ue=_[Q+1];if(K.type===20){var se=ue&&Wi(ue)?ue.number:1;w.push({counter:K.value,increment:se})}}return w}},Te={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(x,m){if(m.length===0)return[];for(var b=[],w=m.filter(fl),_=0;_<w.length;_++){var Q=w[_],K=w[_+1];if(Qr(Q)&&Q.value!=="none"){var ue=K&&Wi(K)?K.number:0;b.push({counter:Q.value,reset:ue})}}return b}},Ue={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(x,m){return m.filter(ws).map(function(b){return F.parse(x,b)})}},Ne={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(x,m){if(m.length===0)return null;var b=m[0];if(b.type===20&&b.value==="none")return null;var w=[],_=m.filter(ro);if(_.length%2!==0)return null;for(var Q=0;Q<_.length;Q+=2){var K=_[Q].value,ue=_[Q+1].value;w.push({open:K,close:ue})}return w}},Ve=function(x,m,b){if(!x)return"";var w=x[Math.min(m,x.length-1)];return w?b?w.open:w.close:""},We={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(x,m){return m.length===1&&Lu(m[0],"none")?[]:zo(m).map(function(b){for(var w={color:255,offsetX:fn,offsetY:fn,blur:fn,spread:fn,inset:!1},_=0,Q=0;Q<b.length;Q++){var K=b[Q];Lu(K,"inset")?w.inset=!0:vo(K)?(_===0?w.offsetX=K:_===1?w.offsetY=K:_===2?w.blur=K:w.spread=K,_++):w.color=dn.parse(x,K)}return w})}},rt={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(x,m){var b=[0,1,2],w=[];return m.filter(Qr).forEach(function(_){switch(_.value){case"stroke":w.push(1);break;case"fill":w.push(0);break;case"markers":w.push(2);break}}),b.forEach(function(_){w.indexOf(_)===-1&&w.push(_)}),w}},Xe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Gt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(x,m){return ws(m)?m.number:0}},It=(function(){function x(m,b){var w,_;this.animationDuration=Je(m,Ue,b.animationDuration),this.backgroundClip=Je(m,oc,b.backgroundClip),this.backgroundColor=Je(m,pl,b.backgroundColor),this.backgroundImage=Je(m,ex,b.backgroundImage),this.backgroundOrigin=Je(m,Hg,b.backgroundOrigin),this.backgroundPosition=Je(m,Oh,b.backgroundPosition),this.backgroundRepeat=Je(m,xi,b.backgroundRepeat),this.backgroundSize=Je(m,Qh,b.backgroundSize),this.borderTopColor=Je(m,Hh,b.borderTopColor),this.borderRightColor=Je(m,Vg,b.borderRightColor),this.borderBottomColor=Je(m,rx,b.borderBottomColor),this.borderLeftColor=Je(m,qg,b.borderLeftColor),this.borderTopLeftRadius=Je(m,Vh,b.borderTopLeftRadius),this.borderTopRightRadius=Je(m,Wg,b.borderTopRightRadius),this.borderBottomRightRadius=Je(m,SS,b.borderBottomRightRadius),this.borderBottomLeftRadius=Je(m,IS,b.borderBottomLeftRadius),this.borderTopStyle=Je(m,ES,b.borderTopStyle),this.borderRightStyle=Je(m,LS,b.borderRightStyle),this.borderBottomStyle=Je(m,FS,b.borderBottomStyle),this.borderLeftStyle=Je(m,TS,b.borderLeftStyle),this.borderTopWidth=Je(m,zg,b.borderTopWidth),this.borderRightWidth=Je(m,jg,b.borderRightWidth),this.borderBottomWidth=Je(m,Qf,b.borderBottomWidth),this.borderLeftWidth=Je(m,_S,b.borderLeftWidth),this.boxShadow=Je(m,We,b.boxShadow),this.color=Je(m,kS,b.color),this.direction=Je(m,nx,b.direction),this.display=Je(m,NS,b.display),this.float=Je(m,DS,b.cssFloat),this.fontFamily=Je(m,$,b.fontFamily),this.fontSize=Je(m,ee,b.fontSize),this.fontStyle=Je(m,be,b.fontStyle),this.fontVariant=Je(m,Ae,b.fontVariant),this.fontWeight=Je(m,ie,b.fontWeight),this.letterSpacing=Je(m,RS,b.letterSpacing),this.lineBreak=Je(m,Bs,b.lineBreak),this.lineHeight=Je(m,Du,b.lineHeight),this.listStyleImage=Je(m,ox,b.listStyleImage),this.listStylePosition=Je(m,gl,b.listStylePosition),this.listStyleType=Je(m,Ko,b.listStyleType),this.marginTop=Je(m,MS,b.marginTop),this.marginRight=Je(m,ix,b.marginRight),this.marginBottom=Je(m,sx,b.marginBottom),this.marginLeft=Je(m,ux,b.marginLeft),this.opacity=Je(m,M,b.opacity);var Q=Je(m,lx,b.overflow);this.overflowX=Q[0],this.overflowY=Q[Q.length>1?1:0],this.overflowWrap=Je(m,US,b.overflowWrap),this.paddingTop=Je(m,zh,b.paddingTop),this.paddingRight=Je(m,Hf,b.paddingRight),this.paddingBottom=Je(m,Gg,b.paddingBottom),this.paddingLeft=Je(m,cx,b.paddingLeft),this.paintOrder=Je(m,rt,b.paintOrder),this.position=Je(m,Ax,b.position),this.textAlign=Je(m,OS,b.textAlign),this.textDecorationColor=Je(m,q,(w=b.textDecorationColor)!==null&&w!==void 0?w:b.color),this.textDecorationLine=Je(m,X,(_=b.textDecorationLine)!==null&&_!==void 0?_:b.textDecoration),this.textShadow=Je(m,QS,b.textShadow),this.textTransform=Je(m,HS,b.textTransform),this.transform=Je(m,VS,b.transform),this.transformOrigin=Je(m,jS,b.transformOrigin),this.visibility=Je(m,GS,b.visibility),this.webkitTextStrokeColor=Je(m,Xe,b.webkitTextStrokeColor),this.webkitTextStrokeWidth=Je(m,Gt,b.webkitTextStrokeWidth),this.wordBreak=Je(m,y,b.wordBreak),this.zIndex=Je(m,C,b.zIndex)}return x.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},x.prototype.isTransparent=function(){return bs(this.backgroundColor)},x.prototype.isTransformed=function(){return this.transform!==null},x.prototype.isPositioned=function(){return this.position!==0},x.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},x.prototype.isFloating=function(){return this.float!==0},x.prototype.isInlineLevel=function(){return Fe(this.display,4)||Fe(this.display,33554432)||Fe(this.display,268435456)||Fe(this.display,536870912)||Fe(this.display,67108864)||Fe(this.display,134217728)},x})(),Cr=(function(){function x(m,b){this.content=Je(m,fe,b.content),this.quotes=Je(m,Ne,b.quotes)}return x})(),kt=(function(){function x(m,b){this.counterIncrement=Je(m,Ie,b.counterIncrement),this.counterReset=Je(m,Te,b.counterReset)}return x})(),Je=function(x,m,b){var w=new nc,_=b!==null&&typeof b<"u"?b.toString():m.initialValue;w.write(_);var Q=new Eu(w.read());switch(m.type){case 2:var K=Q.parseComponentValue();return m.parse(x,Qr(K)?K.value:m.initialValue);case 0:return m.parse(x,Q.parseComponentValue());case 1:return m.parse(x,Q.parseComponentValues());case 4:return Q.parseComponentValue();case 3:switch(m.format){case"angle":return ji.parse(x,Q.parseComponentValue());case"color":return dn.parse(x,Q.parseComponentValue());case"image":return Uh.parse(x,Q.parseComponentValue());case"length":var ue=Q.parseComponentValue();return vo(ue)?ue:fn;case"length-percentage":var se=Q.parseComponentValue();return Tn(se)?se:fn;case"time":return F.parse(x,Q.parseComponentValue())}break}},Ta="data-html2canvas-debug",Br=function(x){var m=x.getAttribute(Ta);switch(m){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Tt=function(x,m){var b=Br(x);return b===1||m===b},ot=(function(){function x(m,b){if(this.context=m,this.textNodes=[],this.elements=[],this.flags=0,Tt(b,3))debugger;this.styles=new It(m,window.getComputedStyle(b,null)),ZS(b)&&(this.styles.animationDuration.some(function(w){return w>0})&&(b.style.animationDuration="0s"),this.styles.transform!==null&&(b.style.transform="none")),this.bounds=s(this.context,b),Tt(b,4)&&(this.flags|=16)}return x})(),oa="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tr=typeof Uint8Array>"u"?[]:new Uint8Array(256),hn=0;hn<mr.length;hn++)Tr[mr.charCodeAt(hn)]=hn;for(var oo=function(x){var m=x.length*.75,b=x.length,w,_=0,Q,K,ue,se;x[x.length-1]==="="&&(m--,x[x.length-2]==="="&&m--);var Ce=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(m):new Array(m),Ee=Array.isArray(Ce)?Ce:new Uint8Array(Ce);for(w=0;w<b;w+=4)Q=Tr[x.charCodeAt(w)],K=Tr[x.charCodeAt(w+1)],ue=Tr[x.charCodeAt(w+2)],se=Tr[x.charCodeAt(w+3)],Ee[_++]=Q<<2|K>>4,Ee[_++]=(K&15)<<4|ue>>2,Ee[_++]=(ue&3)<<6|se&63;return Ce},_o=function(x){for(var m=x.length,b=[],w=0;w<m;w+=2)b.push(x[w+1]<<8|x[w]);return b},Yn=function(x){for(var m=x.length,b=[],w=0;w<m;w+=4)b.push(x[w+3]<<24|x[w+2]<<16|x[w+1]<<8|x[w]);return b},$n=5,io=11,ia=2,jr=io-$n,rn=65536>>$n,Jn=1<<$n,Zr=Jn-1,so=1024>>$n,Ss=rn+so,sa=Ss,Xo=32,yn=sa+Xo,_a=65536>>io,wi=1<<jr,ko=wi-1,Yo=function(x,m,b){return x.slice?x.slice(m,b):new Uint16Array(Array.prototype.slice.call(x,m,b))},bi=function(x,m,b){return x.slice?x.slice(m,b):new Uint32Array(Array.prototype.slice.call(x,m,b))},$o=function(x,m){var b=oo(x),w=Array.isArray(b)?Yn(b):new Uint32Array(b),_=Array.isArray(b)?_o(b):new Uint16Array(b),Q=24,K=Yo(_,Q/2,w[4]/2),ue=w[5]===2?Yo(_,(Q+w[4])/2):bi(w,Math.ceil((Q+w[4])/4));return new Ci(w[0],w[1],w[2],w[3],K,ue)},Ci=(function(){function x(m,b,w,_,Q,K){this.initialValue=m,this.errorValue=b,this.highStart=w,this.highValueIndex=_,this.index=Q,this.data=K}return x.prototype.get=function(m){var b;if(m>=0){if(m<55296||m>56319&&m<=65535)return b=this.index[m>>$n],b=(b<<ia)+(m&Zr),this.data[b];if(m<=65535)return b=this.index[rn+(m-55296>>$n)],b=(b<<ia)+(m&Zr),this.data[b];if(m<this.highStart)return b=yn-_a+(m>>io),b=this.index[b],b+=m>>$n&ko,b=this.index[b],b=(b<<ia)+(m&Zr),this.data[b];if(m<=1114111)return this.data[this.highValueIndex]}return this.errorValue},x})(),xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bi=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jo=0;Jo<xn.length;Jo++)Bi[xn.charCodeAt(Jo)]=Jo;var uc=1,Is=2,ka=3,Vf=4,Gh=5,Kh=7,yA=8,Xg=9,Yg=10,Xh=11,Ru=12,fx=13,dx=14,$g=15,hx=function(x){for(var m=[],b=0,w=x.length;b<w;){var _=x.charCodeAt(b++);if(_>=55296&&_<=56319&&b<w){var Q=x.charCodeAt(b++);(Q&64512)===56320?m.push(((_&1023)<<10)+(Q&1023)+65536):(m.push(_),b--)}else m.push(_)}return m},Yh=function(){for(var x=[],m=0;m<arguments.length;m++)x[m]=arguments[m];if(String.fromCodePoint)return String.fromCodePoint.apply(String,x);var b=x.length;if(!b)return"";for(var w=[],_=-1,Q="";++_<b;){var K=x[_];K<=65535?w.push(K):(K-=65536,w.push((K>>10)+55296,K%1024+56320)),(_+1===b||w.length>16384)&&(Q+=String.fromCharCode.apply(String,w),w.length=0)}return Q},px=$o(oa),Si="\xD7",xA="\xF7",Jg=function(x){return px.get(x)},qf=function(x,m,b){var w=b-2,_=m[w],Q=m[b-1],K=m[b];if(Q===Is&&K===ka)return Si;if(Q===Is||Q===ka||Q===Vf||K===Is||K===ka||K===Vf)return xA;if(Q===yA&&[yA,Xg,Xh,Ru].indexOf(K)!==-1||(Q===Xh||Q===Xg)&&(K===Xg||K===Yg)||(Q===Ru||Q===Yg)&&K===Yg||K===fx||K===Gh||K===Kh||Q===uc)return Si;if(Q===fx&&K===dx){for(;_===Gh;)_=m[--w];if(_===dx)return Si}if(Q===$g&&K===$g){for(var ue=0;_===$g;)ue++,_=m[--w];if(ue%2===0)return Si}return xA},mx=function(x){var m=hx(x),b=m.length,w=0,_=0,Q=m.map(Jg);return{next:function(){if(w>=b)return{done:!0,value:null};for(var K=Si;w<b&&(K=qf(m,Q,++w))===Si;);if(K!==Si||w===b){var ue=Yh.apply(null,m.slice(_,w));return _=w,{value:ue,done:!1}}return{done:!0,value:null}}}},KS=function(x){for(var m=mx(x),b=[],w;!(w=m.next()).done;)w.value&&b.push(w.value.slice());return b},$h=function(x){var m=123;if(x.createRange){var b=x.createRange();if(b.getBoundingClientRect){var w=x.createElement("boundtest");w.style.height=m+"px",w.style.display="block",x.body.appendChild(w),b.selectNode(w);var _=b.getBoundingClientRect(),Q=Math.round(_.height);if(x.body.removeChild(w),Q===m)return!0}}return!1},gx=function(x){var m=x.createElement("boundtest");m.style.width="50px",m.style.display="block",m.style.fontSize="12px",m.style.letterSpacing="0px",m.style.wordSpacing="0px",x.body.appendChild(m);var b=x.createRange();m.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var w=m.firstChild,_=l(w.data).map(function(se){return c(se)}),Q=0,K={},ue=_.every(function(se,Ce){b.setStart(w,Q),b.setEnd(w,Q+se.length);var Ee=b.getBoundingClientRect();Q+=se.length;var _e=Ee.x>K.x||Ee.y>K.y;return K=Ee,Ce===0?!0:_e});return x.body.removeChild(m),ue},Zg=function(){return typeof new Image().crossOrigin<"u"},vl=function(){return typeof new XMLHttpRequest().responseType=="string"},vx=function(x){var m=new Image,b=x.createElement("canvas"),w=b.getContext("2d");if(!w)return!1;m.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{w.drawImage(m,0,0),b.toDataURL()}catch{return!1}return!0},e0=function(x){return x[0]===0&&x[1]===255&&x[2]===0&&x[3]===255},XS=function(x){var m=x.createElement("canvas"),b=100;m.width=b,m.height=b;var w=m.getContext("2d");if(!w)return Promise.reject(!1);w.fillStyle="rgb(0, 255, 0)",w.fillRect(0,0,b,b);var _=new Image,Q=m.toDataURL();_.src=Q;var K=Jh(b,b,0,0,_);return w.fillStyle="red",w.fillRect(0,0,b,b),lc(K).then(function(ue){w.drawImage(ue,0,0);var se=w.getImageData(0,0,b,b).data;w.fillStyle="red",w.fillRect(0,0,b,b);var Ce=x.createElement("div");return Ce.style.backgroundImage="url("+Q+")",Ce.style.height=b+"px",e0(se)?lc(Jh(b,b,0,0,Ce)):Promise.reject(!1)}).then(function(ue){return w.drawImage(ue,0,0),e0(w.getImageData(0,0,b,b).data)}).catch(function(){return!1})},Jh=function(x,m,b,w,_){var Q="http://www.w3.org/2000/svg",K=document.createElementNS(Q,"svg"),ue=document.createElementNS(Q,"foreignObject");return K.setAttributeNS(null,"width",x.toString()),K.setAttributeNS(null,"height",m.toString()),ue.setAttributeNS(null,"width","100%"),ue.setAttributeNS(null,"height","100%"),ue.setAttributeNS(null,"x",b.toString()),ue.setAttributeNS(null,"y",w.toString()),ue.setAttributeNS(null,"externalResourcesRequired","true"),K.appendChild(ue),ue.appendChild(_),K},lc=function(x){return new Promise(function(m,b){var w=new Image;w.onload=function(){return m(w)},w.onerror=b,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(x))})},uo={get SUPPORT_RANGE_BOUNDS(){var x=$h(document);return Object.defineProperty(uo,"SUPPORT_RANGE_BOUNDS",{value:x}),x},get SUPPORT_WORD_BREAKING(){var x=uo.SUPPORT_RANGE_BOUNDS&&gx(document);return Object.defineProperty(uo,"SUPPORT_WORD_BREAKING",{value:x}),x},get SUPPORT_SVG_DRAWING(){var x=vx(document);return Object.defineProperty(uo,"SUPPORT_SVG_DRAWING",{value:x}),x},get SUPPORT_FOREIGNOBJECT_DRAWING(){var x=typeof Array.from=="function"&&typeof window.fetch=="function"?XS(document):Promise.resolve(!1);return Object.defineProperty(uo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:x}),x},get SUPPORT_CORS_IMAGES(){var x=Zg();return Object.defineProperty(uo,"SUPPORT_CORS_IMAGES",{value:x}),x},get SUPPORT_RESPONSE_TYPE(){var x=vl();return Object.defineProperty(uo,"SUPPORT_RESPONSE_TYPE",{value:x}),x},get SUPPORT_CORS_XHR(){var x="withCredentials"in new XMLHttpRequest;return Object.defineProperty(uo,"SUPPORT_CORS_XHR",{value:x}),x},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var x=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(uo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:x}),x}},wA=(function(){function x(m,b){this.text=m,this.bounds=b}return x})(),YS=function(x,m,b,w){var _=Zh(m,b),Q=[],K=0;return _.forEach(function(ue){if(b.textDecorationLine.length||ue.trim().length>0)if(uo.SUPPORT_RANGE_BOUNDS){var se=xx(w,K,ue.length).getClientRects();if(se.length>1){var Ce=cc(ue),Ee=0;Ce.forEach(function(Oe){Q.push(new wA(Oe,i.fromDOMRectList(x,xx(w,Ee+K,Oe.length).getClientRects()))),Ee+=Oe.length})}else Q.push(new wA(ue,i.fromDOMRectList(x,se)))}else{var _e=w.splitText(ue.length);Q.push(new wA(ue,yx(x,w))),w=_e}else uo.SUPPORT_RANGE_BOUNDS||(w=w.splitText(ue.length));K+=ue.length}),Q},yx=function(x,m){var b=m.ownerDocument;if(b){var w=b.createElement("html2canvaswrapper");w.appendChild(m.cloneNode(!0));var _=m.parentNode;if(_){_.replaceChild(w,m);var Q=s(x,w);return w.firstChild&&_.replaceChild(w.firstChild,w),Q}}return i.EMPTY},xx=function(x,m,b){var w=x.ownerDocument;if(!w)throw new Error("Node has no owner document");var _=w.createRange();return _.setStart(x,m),_.setEnd(x,m+b),_},cc=function(x){if(uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var m=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(m.segment(x)).map(function(b){return b.segment})}return KS(x)},t0=function(x,m){if(uo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var b=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(b.segment(x)).map(function(w){return w.segment})}return yl(x,m)},Zh=function(x,m){return m.letterSpacing!==0?cc(x):t0(x,m)},Mu=[32,160,4961,65792,65793,4153,4241],yl=function(x,m){for(var b=tt(x,{lineBreak:m.lineBreak,wordBreak:m.overflowWrap==="break-word"?"break-word":m.wordBreak}),w=[],_,Q=function(){if(_.value){var K=_.value.slice(),ue=l(K),se="";ue.forEach(function(Ce){Mu.indexOf(Ce)===-1?se+=c(Ce):(se.length&&w.push(se),w.push(c(Ce)),se="")}),se.length&&w.push(se)}};!(_=b.next()).done;)Q();return w},xl=(function(){function x(m,b,w){this.text=ep(b.data,w.textTransform),this.textBounds=YS(m,this.text,w,b)}return x})(),ep=function(x,m){switch(m){case 1:return x.toLowerCase();case 3:return x.replace(r0,wx);case 2:return x.toUpperCase();default:return x}},r0=/(^|\s|:|-|\(|\))([a-z])/g,wx=function(x,m,b){return x.length>0?m+b.toUpperCase():x},bx=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.src=w.currentSrc||w.src,_.intrinsicWidth=w.naturalWidth,_.intrinsicHeight=w.naturalHeight,_.context.cache.addImage(_.src),_}return m})(ot),tp=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.canvas=w,_.intrinsicWidth=w.width,_.intrinsicHeight=w.height,_}return m})(ot),rp=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this,Q=new XMLSerializer,K=s(b,w);return w.setAttribute("width",K.width+"px"),w.setAttribute("height",K.height+"px"),_.svg="data:image/svg+xml,"+encodeURIComponent(Q.serializeToString(w)),_.intrinsicWidth=w.width.baseVal.value,_.intrinsicHeight=w.height.baseVal.value,_.context.cache.addImage(_.svg),_}return m})(ot),Sk=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.value=w.value,_}return m})(ot),$S=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.start=w.start,_.reversed=typeof w.reversed=="boolean"&&w.reversed===!0,_}return m})(ot),HX=[{type:15,flags:0,unit:"px",number:3}],VX=[{type:16,flags:0,number:50}],qX=function(x){return x.width>x.height?new i(x.left+(x.width-x.height)/2,x.top,x.height,x.height):x.width<x.height?new i(x.left,x.top+(x.height-x.width)/2,x.width,x.width):x},WX=function(x){var m=x.type===zX?new Array(x.value.length+1).join("\u2022"):x.value;return m.length===0?x.placeholder||"":m},Cx="checkbox",Bx="radio",zX="password",Ik=707406591,JS=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;switch(_.type=w.type.toLowerCase(),_.checked=w.checked,_.value=WX(w),(_.type===Cx||_.type===Bx)&&(_.styles.backgroundColor=3739148031,_.styles.borderTopColor=_.styles.borderRightColor=_.styles.borderBottomColor=_.styles.borderLeftColor=2779096575,_.styles.borderTopWidth=_.styles.borderRightWidth=_.styles.borderBottomWidth=_.styles.borderLeftWidth=1,_.styles.borderTopStyle=_.styles.borderRightStyle=_.styles.borderBottomStyle=_.styles.borderLeftStyle=1,_.styles.backgroundClip=[0],_.styles.backgroundOrigin=[0],_.bounds=qX(_.bounds)),_.type){case Cx:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=HX;break;case Bx:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=VX;break}return _}return m})(ot),Ek=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this,Q=w.options[w.selectedIndex||0];return _.value=Q&&Q.text||"",_}return m})(ot),Lk=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.value=w.value,_}return m})(ot),Fk=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;_.src=w.src,_.width=parseInt(w.width,10)||0,_.height=parseInt(w.height,10)||0,_.backgroundColor=_.styles.backgroundColor;try{if(w.contentWindow&&w.contentWindow.document&&w.contentWindow.document.documentElement){_.tree=_k(b,w.contentWindow.document.documentElement);var Q=w.contentWindow.document.documentElement?Gi(b,getComputedStyle(w.contentWindow.document.documentElement).backgroundColor):yo.TRANSPARENT,K=w.contentWindow.document.body?Gi(b,getComputedStyle(w.contentWindow.document.body).backgroundColor):yo.TRANSPARENT;_.backgroundColor=bs(Q)?bs(K)?_.styles.backgroundColor:K:Q}}catch{}return _}return m})(ot),jX=["OL","UL","MENU"],Sx=function(x,m,b,w){for(var _=m.firstChild,Q=void 0;_;_=Q)if(Q=_.nextSibling,kk(_)&&_.data.trim().length>0)b.textNodes.push(new xl(x,_,b.styles));else if(np(_))if(Uk(_)&&_.assignedNodes)_.assignedNodes().forEach(function(ue){return Sx(x,ue,b,w)});else{var K=Tk(x,_);K.styles.isVisible()&&(GX(_,K,w)?K.flags|=4:KX(K.styles)&&(K.flags|=2),jX.indexOf(_.tagName)!==-1&&(K.flags|=8),b.elements.push(K),_.slot,_.shadowRoot?Sx(x,_.shadowRoot,K,w):!Ex(_)&&!Nk(_)&&!Lx(_)&&Sx(x,_,K,w))}},Tk=function(x,m){return tI(m)?new bx(x,m):Pk(m)?new tp(x,m):Nk(m)?new rp(x,m):XX(m)?new Sk(x,m):YX(m)?new $S(x,m):$X(m)?new JS(x,m):Lx(m)?new Ek(x,m):Ex(m)?new Lk(x,m):Rk(m)?new Fk(x,m):new ot(x,m)},_k=function(x,m){var b=Tk(x,m);return b.flags|=4,Sx(x,m,b,b),b},GX=function(x,m,b){return m.styles.isPositionedWithZIndex()||m.styles.opacity<1||m.styles.isTransformed()||eI(x)&&b.styles.isTransparent()},KX=function(x){return x.isPositioned()||x.isFloating()},kk=function(x){return x.nodeType===Node.TEXT_NODE},np=function(x){return x.nodeType===Node.ELEMENT_NODE},ZS=function(x){return np(x)&&typeof x.style<"u"&&!Ix(x)},Ix=function(x){return typeof x.className=="object"},XX=function(x){return x.tagName==="LI"},YX=function(x){return x.tagName==="OL"},$X=function(x){return x.tagName==="INPUT"},JX=function(x){return x.tagName==="HTML"},Nk=function(x){return x.tagName==="svg"},eI=function(x){return x.tagName==="BODY"},Pk=function(x){return x.tagName==="CANVAS"},Dk=function(x){return x.tagName==="VIDEO"},tI=function(x){return x.tagName==="IMG"},Rk=function(x){return x.tagName==="IFRAME"},Mk=function(x){return x.tagName==="STYLE"},ZX=function(x){return x.tagName==="SCRIPT"},Ex=function(x){return x.tagName==="TEXTAREA"},Lx=function(x){return x.tagName==="SELECT"},Uk=function(x){return x.tagName==="SLOT"},Ok=function(x){return x.tagName.indexOf("-")>0},eY=(function(){function x(){this.counters={}}return x.prototype.getCounterValue=function(m){var b=this.counters[m];return b&&b.length?b[b.length-1]:1},x.prototype.getCounterValues=function(m){var b=this.counters[m];return b||[]},x.prototype.pop=function(m){var b=this;m.forEach(function(w){return b.counters[w].pop()})},x.prototype.parse=function(m){var b=this,w=m.counterIncrement,_=m.counterReset,Q=!0;w!==null&&w.forEach(function(ue){var se=b.counters[ue.counter];se&&ue.increment!==0&&(Q=!1,se.length||se.push(1),se[Math.max(0,se.length-1)]+=ue.increment)});var K=[];return Q&&_.forEach(function(ue){var se=b.counters[ue.counter];K.push(ue.counter),se||(se=b.counters[ue.counter]=[]),se.push(ue.reset)}),K},x})(),Qk={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Hk={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},tY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},rY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},ap=function(x,m,b,w,_,Q){return x<m||x>b?a0(x,_,Q.length>0):w.integers.reduce(function(K,ue,se){for(;x>=ue;)x-=ue,K+=w.values[se];return K},"")+Q},Vk=function(x,m,b,w){var _="";do b||x--,_=w(x)+_,x/=m;while(x*m>=m);return _},Na=function(x,m,b,w,_){var Q=b-m+1;return(x<0?"-":"")+(Vk(Math.abs(x),Q,w,function(K){return c(Math.floor(K%Q)+m)})+_)},Wf=function(x,m,b){b===void 0&&(b=". ");var w=m.length;return Vk(Math.abs(x),w,!1,function(_){return m[Math.floor(_%w)]})+b},op=1,bA=2,CA=4,n0=8,Ac=function(x,m,b,w,_,Q){if(x<-9999||x>9999)return a0(x,4,_.length>0);var K=Math.abs(x),ue=_;if(K===0)return m[0]+ue;for(var se=0;K>0&&se<=4;se++){var Ce=K%10;Ce===0&&Fe(Q,op)&&ue!==""?ue=m[Ce]+ue:Ce>1||Ce===1&&se===0||Ce===1&&se===1&&Fe(Q,bA)||Ce===1&&se===1&&Fe(Q,CA)&&x>100||Ce===1&&se>1&&Fe(Q,n0)?ue=m[Ce]+(se>0?b[se-1]:"")+ue:Ce===1&&se>0&&(ue=b[se-1]+ue),K=Math.floor(K/10)}return(x<0?w:"")+ue},qk="\u5341\u767E\u5343\u842C",Wk="\u62FE\u4F70\u4EDF\u842C",zk="\u30DE\u30A4\u30CA\u30B9",rI="\uB9C8\uC774\uB108\uC2A4",a0=function(x,m,b){var w=b?". ":"",_=b?"\u3001":"",Q=b?", ":"",K=b?" ":"";switch(m){case 0:return"\u2022"+K;case 1:return"\u25E6"+K;case 2:return"\u25FE"+K;case 5:var ue=Na(x,48,57,!0,w);return ue.length<4?"0"+ue:ue;case 4:return Wf(x,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",_);case 6:return ap(x,1,3999,Qk,3,w).toLowerCase();case 7:return ap(x,1,3999,Qk,3,w);case 8:return Na(x,945,969,!1,w);case 9:return Na(x,97,122,!1,w);case 10:return Na(x,65,90,!1,w);case 11:return Na(x,1632,1641,!0,w);case 12:case 49:return ap(x,1,9999,Hk,3,w);case 35:return ap(x,1,9999,Hk,3,w).toLowerCase();case 13:return Na(x,2534,2543,!0,w);case 14:case 30:return Na(x,6112,6121,!0,w);case 15:return Wf(x,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",_);case 16:return Wf(x,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",_);case 17:case 48:return Ac(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",qk,"\u8CA0",_,bA|CA|n0);case 47:return Ac(x,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",Wk,"\u8CA0",_,op|bA|CA|n0);case 42:return Ac(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",qk,"\u8D1F",_,bA|CA|n0);case 41:return Ac(x,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",Wk,"\u8D1F",_,op|bA|CA|n0);case 26:return Ac(x,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",zk,_,0);case 25:return Ac(x,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",zk,_,op|bA|CA);case 31:return Ac(x,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",rI,Q,op|bA|CA);case 33:return Ac(x,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",rI,Q,0);case 32:return Ac(x,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",rI,Q,op|bA|CA);case 18:return Na(x,2406,2415,!0,w);case 20:return ap(x,1,19999,rY,3,w);case 21:return Na(x,2790,2799,!0,w);case 22:return Na(x,2662,2671,!0,w);case 22:return ap(x,1,10999,tY,3,w);case 23:return Wf(x,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Wf(x,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return Na(x,3302,3311,!0,w);case 28:return Wf(x,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",_);case 29:return Wf(x,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",_);case 34:return Na(x,3792,3801,!0,w);case 37:return Na(x,6160,6169,!0,w);case 38:return Na(x,4160,4169,!0,w);case 39:return Na(x,2918,2927,!0,w);case 40:return Na(x,1776,1785,!0,w);case 43:return Na(x,3046,3055,!0,w);case 44:return Na(x,3174,3183,!0,w);case 45:return Na(x,3664,3673,!0,w);case 46:return Na(x,3872,3881,!0,w);default:return Na(x,48,57,!0,w)}},jk="data-html2canvas-ignore",Gk=(function(){function x(m,b,w){if(this.context=m,this.options=w,this.scrolledElements=[],this.referenceElement=b,this.counters=new eY,this.quoteDepth=0,!b.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(b.ownerDocument.documentElement,!1)}return x.prototype.toIFrame=function(m,b){var w=this,_=nY(m,b);if(!_.contentWindow)return Promise.reject("Unable to find iframe window");var Q=m.defaultView.pageXOffset,K=m.defaultView.pageYOffset,ue=_.contentWindow,se=ue.document,Ce=iY(_).then(function(){return n(w,void 0,void 0,function(){var Ee,_e;return a(this,function(Oe){switch(Oe.label){case 0:return this.scrolledElements.forEach(cY),ue&&(ue.scrollTo(b.left,b.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(ue.scrollY!==b.top||ue.scrollX!==b.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(ue.scrollX-b.left,ue.scrollY-b.top,0,0))),Ee=this.options.onclone,_e=this.clonedReferenceElement,typeof _e>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:se.fonts&&se.fonts.ready?[4,se.fonts.ready]:[3,2];case 1:Oe.sent(),Oe.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,oY(se)]:[3,4];case 3:Oe.sent(),Oe.label=4;case 4:return typeof Ee=="function"?[2,Promise.resolve().then(function(){return Ee(se,_e)}).then(function(){return _})]:[2,_]}})})});return se.open(),se.write(uY(document.doctype)+"<html></html>"),lY(this.referenceElement.ownerDocument,Q,K),se.replaceChild(se.adoptNode(this.documentElement),se.documentElement),se.close(),Ce},x.prototype.createElementClone=function(m){if(Tt(m,2))debugger;if(Pk(m))return this.createCanvasClone(m);if(Dk(m))return this.createVideoClone(m);if(Mk(m))return this.createStyleClone(m);var b=m.cloneNode(!1);return tI(b)&&(tI(m)&&m.currentSrc&&m.currentSrc!==m.src&&(b.src=m.currentSrc,b.srcset=""),b.loading==="lazy"&&(b.loading="eager")),Ok(b)?this.createCustomElementClone(b):b},x.prototype.createCustomElementClone=function(m){var b=document.createElement("html2canvascustomelement");return nI(m.style,b),b},x.prototype.createStyleClone=function(m){try{var b=m.sheet;if(b&&b.cssRules){var w=[].slice.call(b.cssRules,0).reduce(function(Q,K){return K&&typeof K.cssText=="string"?Q+K.cssText:Q},""),_=m.cloneNode(!1);return _.textContent=w,_}}catch(Q){if(this.context.logger.error("Unable to access cssRules property",Q),Q.name!=="SecurityError")throw Q}return m.cloneNode(!1)},x.prototype.createCanvasClone=function(m){var b;if(this.options.inlineImages&&m.ownerDocument){var w=m.ownerDocument.createElement("img");try{return w.src=m.toDataURL(),w}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",m)}}var _=m.cloneNode(!1);try{_.width=m.width,_.height=m.height;var Q=m.getContext("2d"),K=_.getContext("2d");if(K)if(!this.options.allowTaint&&Q)K.putImageData(Q.getImageData(0,0,m.width,m.height),0,0);else{var ue=(b=m.getContext("webgl2"))!==null&&b!==void 0?b:m.getContext("webgl");if(ue){var se=ue.getContextAttributes();se?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",m)}K.drawImage(m,0,0)}return _}catch{this.context.logger.info("Unable to clone canvas as it is tainted",m)}return _},x.prototype.createVideoClone=function(m){var b=m.ownerDocument.createElement("canvas");b.width=m.offsetWidth,b.height=m.offsetHeight;var w=b.getContext("2d");try{return w&&(w.drawImage(m,0,0,b.width,b.height),this.options.allowTaint||w.getImageData(0,0,b.width,b.height)),b}catch{this.context.logger.info("Unable to clone video as it is tainted",m)}var _=m.ownerDocument.createElement("canvas");return _.width=m.offsetWidth,_.height=m.offsetHeight,_},x.prototype.appendChildNode=function(m,b,w){(!np(b)||!ZX(b)&&!b.hasAttribute(jk)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(b)))&&(!this.options.copyStyles||!np(b)||!Mk(b))&&m.appendChild(this.cloneNode(b,w))},x.prototype.cloneChildNodes=function(m,b,w){for(var _=this,Q=m.shadowRoot?m.shadowRoot.firstChild:m.firstChild;Q;Q=Q.nextSibling)if(np(Q)&&Uk(Q)&&typeof Q.assignedNodes=="function"){var K=Q.assignedNodes();K.length&&K.forEach(function(ue){return _.appendChildNode(b,ue,w)})}else this.appendChildNode(b,Q,w)},x.prototype.cloneNode=function(m,b){if(kk(m))return document.createTextNode(m.data);if(!m.ownerDocument)return m.cloneNode(!1);var w=m.ownerDocument.defaultView;if(w&&np(m)&&(ZS(m)||Ix(m))){var _=this.createElementClone(m);_.style.transitionProperty="none";var Q=w.getComputedStyle(m),K=w.getComputedStyle(m,":before"),ue=w.getComputedStyle(m,":after");this.referenceElement===m&&ZS(_)&&(this.clonedReferenceElement=_),eI(_)&&dY(_);var se=this.counters.parse(new kt(this.context,Q)),Ce=this.resolvePseudoContent(m,_,K,o0.BEFORE);Ok(m)&&(b=!0),Dk(m)||this.cloneChildNodes(m,_,b),Ce&&_.insertBefore(Ce,_.firstChild);var Ee=this.resolvePseudoContent(m,_,ue,o0.AFTER);return Ee&&_.appendChild(Ee),this.counters.pop(se),(Q&&(this.options.copyStyles||Ix(m))&&!Rk(m)||b)&&nI(Q,_),(m.scrollTop!==0||m.scrollLeft!==0)&&this.scrolledElements.push([_,m.scrollLeft,m.scrollTop]),(Ex(m)||Lx(m))&&(Ex(_)||Lx(_))&&(_.value=m.value),_}return m.cloneNode(!1)},x.prototype.resolvePseudoContent=function(m,b,w,_){var Q=this;if(w){var K=w.content,ue=b.ownerDocument;if(!(!ue||!K||K==="none"||K==="-moz-alt-content"||w.display==="none")){this.counters.parse(new kt(this.context,w));var se=new Cr(this.context,w),Ce=ue.createElement("html2canvaspseudoelement");nI(w,Ce),se.content.forEach(function(_e){if(_e.type===0)Ce.appendChild(ue.createTextNode(_e.value));else if(_e.type===22){var Oe=ue.createElement("img");Oe.src=_e.value,Oe.style.opacity="1",Ce.appendChild(Oe)}else if(_e.type===18){if(_e.name==="attr"){var St=_e.values.filter(Qr);St.length&&Ce.appendChild(ue.createTextNode(m.getAttribute(St[0].value)||""))}else if(_e.name==="counter"){var ut=_e.values.filter(Xs),gt=ut[0],Er=ut[1];if(gt&&Qr(gt)){var zt=Q.counters.getCounterValue(gt.value),Nt=Er&&Qr(Er)?Ko.parse(Q.context,Er.value):3;Ce.appendChild(ue.createTextNode(a0(zt,Nt,!1)))}}else if(_e.name==="counters"){var nn=_e.values.filter(Xs),gt=nn[0],_r=nn[1],Er=nn[2];if(gt&&Qr(gt)){var dr=Q.counters.getCounterValues(gt.value),wt=Er&&Qr(Er)?Ko.parse(Q.context,Er.value):3,Yr=_r&&_r.type===0?_r.value:"",$r=dr.map(function(Xi){return a0(Xi,wt,!1)}).join(Yr);Ce.appendChild(ue.createTextNode($r))}}}else if(_e.type===20)switch(_e.value){case"open-quote":Ce.appendChild(ue.createTextNode(Ve(se.quotes,Q.quoteDepth++,!0)));break;case"close-quote":Ce.appendChild(ue.createTextNode(Ve(se.quotes,--Q.quoteDepth,!1)));break;default:Ce.appendChild(ue.createTextNode(_e.value))}}),Ce.className=aI+" "+oI;var Ee=_===o0.BEFORE?" "+aI:" "+oI;return Ix(b)?b.className.baseValue+=Ee:b.className+=Ee,Ce}}},x.destroy=function(m){return m.parentNode?(m.parentNode.removeChild(m),!0):!1},x})(),o0;(function(x){x[x.BEFORE=0]="BEFORE",x[x.AFTER=1]="AFTER"})(o0||(o0={}));var nY=function(x,m){var b=x.createElement("iframe");return b.className="html2canvas-container",b.style.visibility="hidden",b.style.position="fixed",b.style.left="-10000px",b.style.top="0px",b.style.border="0",b.width=m.width.toString(),b.height=m.height.toString(),b.scrolling="no",b.setAttribute(jk,"true"),x.body.appendChild(b),b},aY=function(x){return new Promise(function(m){if(x.complete){m();return}if(!x.src){m();return}x.onload=m,x.onerror=m})},oY=function(x){return Promise.all([].slice.call(x.images,0).map(aY))},iY=function(x){return new Promise(function(m,b){var w=x.contentWindow;if(!w)return b("No window assigned for iframe");var _=w.document;w.onload=x.onload=function(){w.onload=x.onload=null;var Q=setInterval(function(){_.body.childNodes.length>0&&_.readyState==="complete"&&(clearInterval(Q),m(x))},50)}})},sY=["all","d","content"],nI=function(x,m){for(var b=x.length-1;b>=0;b--){var w=x.item(b);sY.indexOf(w)===-1&&m.style.setProperty(w,x.getPropertyValue(w))}return m},uY=function(x){var m="";return x&&(m+="<!DOCTYPE ",x.name&&(m+=x.name),x.internalSubset&&(m+=x.internalSubset),x.publicId&&(m+='"'+x.publicId+'"'),x.systemId&&(m+='"'+x.systemId+'"'),m+=">"),m},lY=function(x,m,b){x&&x.defaultView&&(m!==x.defaultView.pageXOffset||b!==x.defaultView.pageYOffset)&&x.defaultView.scrollTo(m,b)},cY=function(x){var m=x[0],b=x[1],w=x[2];m.scrollLeft=b,m.scrollTop=w},AY=":before",fY=":after",aI="___html2canvas___pseudoelement_before",oI="___html2canvas___pseudoelement_after",Kk=`{
    content: "" !important;
    display: none !important;
}`,dY=function(x){hY(x,"."+aI+AY+Kk+`
         .`+oI+fY+Kk)},hY=function(x,m){var b=x.ownerDocument;if(b){var w=b.createElement("style");w.textContent=m,x.appendChild(w)}},Xk=(function(){function x(){}return x.getOrigin=function(m){var b=x._link;return b?(b.href=m,b.href=b.href,b.protocol+b.hostname+b.port):"about:blank"},x.isSameOrigin=function(m){return x.getOrigin(m)===x._origin},x.setContext=function(m){x._link=m.document.createElement("a"),x._origin=x.getOrigin(m.location.href)},x._origin="about:blank",x})(),pY=(function(){function x(m,b){this.context=m,this._options=b,this._cache={}}return x.prototype.addImage=function(m){var b=Promise.resolve();return this.has(m)||(sI(m)||yY(m))&&(this._cache[m]=this.loadImage(m)).catch(function(){}),b},x.prototype.match=function(m){return this._cache[m]},x.prototype.loadImage=function(m){return n(this,void 0,void 0,function(){var b,w,_,Q,K=this;return a(this,function(ue){switch(ue.label){case 0:return b=Xk.isSameOrigin(m),w=!iI(m)&&this._options.useCORS===!0&&uo.SUPPORT_CORS_IMAGES&&!b,_=!iI(m)&&!b&&!sI(m)&&typeof this._options.proxy=="string"&&uo.SUPPORT_CORS_XHR&&!w,!b&&this._options.allowTaint===!1&&!iI(m)&&!sI(m)&&!_&&!w?[2]:(Q=m,_?[4,this.proxy(Q)]:[3,2]);case 1:Q=ue.sent(),ue.label=2;case 2:return this.context.logger.debug("Added image "+m.substring(0,256)),[4,new Promise(function(se,Ce){var Ee=new Image;Ee.onload=function(){return se(Ee)},Ee.onerror=Ce,(xY(Q)||w)&&(Ee.crossOrigin="anonymous"),Ee.src=Q,Ee.complete===!0&&setTimeout(function(){return se(Ee)},500),K._options.imageTimeout>0&&setTimeout(function(){return Ce("Timed out ("+K._options.imageTimeout+"ms) loading image")},K._options.imageTimeout)})];case 3:return[2,ue.sent()]}})})},x.prototype.has=function(m){return typeof this._cache[m]<"u"},x.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},x.prototype.proxy=function(m){var b=this,w=this._options.proxy;if(!w)throw new Error("No proxy defined");var _=m.substring(0,256);return new Promise(function(Q,K){var ue=uo.SUPPORT_RESPONSE_TYPE?"blob":"text",se=new XMLHttpRequest;se.onload=function(){if(se.status===200)if(ue==="text")Q(se.response);else{var _e=new FileReader;_e.addEventListener("load",function(){return Q(_e.result)},!1),_e.addEventListener("error",function(Oe){return K(Oe)},!1),_e.readAsDataURL(se.response)}else K("Failed to proxy resource "+_+" with status code "+se.status)},se.onerror=K;var Ce=w.indexOf("?")>-1?"&":"?";if(se.open("GET",""+w+Ce+"url="+encodeURIComponent(m)+"&responseType="+ue),ue!=="text"&&se instanceof XMLHttpRequest&&(se.responseType=ue),b._options.imageTimeout){var Ee=b._options.imageTimeout;se.timeout=Ee,se.ontimeout=function(){return K("Timed out ("+Ee+"ms) proxying "+_)}}se.send()})},x})(),mY=/^data:image\/svg\+xml/i,gY=/^data:image\/.*;base64,/i,vY=/^data:image\/.*/i,yY=function(x){return uo.SUPPORT_SVG_DRAWING||!wY(x)},iI=function(x){return vY.test(x)},xY=function(x){return gY.test(x)},sI=function(x){return x.substr(0,4)==="blob"},wY=function(x){return x.substr(-3).toLowerCase()==="svg"||mY.test(x)},yt=(function(){function x(m,b){this.type=0,this.x=m,this.y=b}return x.prototype.add=function(m,b){return new x(this.x+m,this.y+b)},x})(),ip=function(x,m,b){return new yt(x.x+(m.x-x.x)*b,x.y+(m.y-x.y)*b)},Fx=(function(){function x(m,b,w,_){this.type=1,this.start=m,this.startControl=b,this.endControl=w,this.end=_}return x.prototype.subdivide=function(m,b){var w=ip(this.start,this.startControl,m),_=ip(this.startControl,this.endControl,m),Q=ip(this.endControl,this.end,m),K=ip(w,_,m),ue=ip(_,Q,m),se=ip(K,ue,m);return b?new x(this.start,w,K,se):new x(se,ue,Q,this.end)},x.prototype.add=function(m,b){return new x(this.start.add(m,b),this.startControl.add(m,b),this.endControl.add(m,b),this.end.add(m,b))},x.prototype.reverse=function(){return new x(this.end,this.endControl,this.startControl,this.start)},x})(),Js=function(x){return x.type===1},bY=(function(){function x(m){var b=m.styles,w=m.bounds,_=Tu(b.borderTopLeftRadius,w.width,w.height),Q=_[0],K=_[1],ue=Tu(b.borderTopRightRadius,w.width,w.height),se=ue[0],Ce=ue[1],Ee=Tu(b.borderBottomRightRadius,w.width,w.height),_e=Ee[0],Oe=Ee[1],St=Tu(b.borderBottomLeftRadius,w.width,w.height),ut=St[0],gt=St[1],Er=[];Er.push((Q+se)/w.width),Er.push((ut+_e)/w.width),Er.push((K+gt)/w.height),Er.push((Ce+Oe)/w.height);var zt=Math.max.apply(Math,Er);zt>1&&(Q/=zt,K/=zt,se/=zt,Ce/=zt,_e/=zt,Oe/=zt,ut/=zt,gt/=zt);var Nt=w.width-se,nn=w.height-Oe,_r=w.width-_e,dr=w.height-gt,wt=b.borderTopWidth,Yr=b.borderRightWidth,$r=b.borderBottomWidth,gr=b.borderLeftWidth,Wa=zr(b.paddingTop,m.bounds.width),Xi=zr(b.paddingRight,m.bounds.width),Es=zr(b.paddingBottom,m.bounds.width),En=zr(b.paddingLeft,m.bounds.width);this.topLeftBorderDoubleOuterBox=Q>0||K>0?Zn(w.left+gr/3,w.top+wt/3,Q-gr/3,K-wt/3,pn.TOP_LEFT):new yt(w.left+gr/3,w.top+wt/3),this.topRightBorderDoubleOuterBox=Q>0||K>0?Zn(w.left+Nt,w.top+wt/3,se-Yr/3,Ce-wt/3,pn.TOP_RIGHT):new yt(w.left+w.width-Yr/3,w.top+wt/3),this.bottomRightBorderDoubleOuterBox=_e>0||Oe>0?Zn(w.left+_r,w.top+nn,_e-Yr/3,Oe-$r/3,pn.BOTTOM_RIGHT):new yt(w.left+w.width-Yr/3,w.top+w.height-$r/3),this.bottomLeftBorderDoubleOuterBox=ut>0||gt>0?Zn(w.left+gr/3,w.top+dr,ut-gr/3,gt-$r/3,pn.BOTTOM_LEFT):new yt(w.left+gr/3,w.top+w.height-$r/3),this.topLeftBorderDoubleInnerBox=Q>0||K>0?Zn(w.left+gr*2/3,w.top+wt*2/3,Q-gr*2/3,K-wt*2/3,pn.TOP_LEFT):new yt(w.left+gr*2/3,w.top+wt*2/3),this.topRightBorderDoubleInnerBox=Q>0||K>0?Zn(w.left+Nt,w.top+wt*2/3,se-Yr*2/3,Ce-wt*2/3,pn.TOP_RIGHT):new yt(w.left+w.width-Yr*2/3,w.top+wt*2/3),this.bottomRightBorderDoubleInnerBox=_e>0||Oe>0?Zn(w.left+_r,w.top+nn,_e-Yr*2/3,Oe-$r*2/3,pn.BOTTOM_RIGHT):new yt(w.left+w.width-Yr*2/3,w.top+w.height-$r*2/3),this.bottomLeftBorderDoubleInnerBox=ut>0||gt>0?Zn(w.left+gr*2/3,w.top+dr,ut-gr*2/3,gt-$r*2/3,pn.BOTTOM_LEFT):new yt(w.left+gr*2/3,w.top+w.height-$r*2/3),this.topLeftBorderStroke=Q>0||K>0?Zn(w.left+gr/2,w.top+wt/2,Q-gr/2,K-wt/2,pn.TOP_LEFT):new yt(w.left+gr/2,w.top+wt/2),this.topRightBorderStroke=Q>0||K>0?Zn(w.left+Nt,w.top+wt/2,se-Yr/2,Ce-wt/2,pn.TOP_RIGHT):new yt(w.left+w.width-Yr/2,w.top+wt/2),this.bottomRightBorderStroke=_e>0||Oe>0?Zn(w.left+_r,w.top+nn,_e-Yr/2,Oe-$r/2,pn.BOTTOM_RIGHT):new yt(w.left+w.width-Yr/2,w.top+w.height-$r/2),this.bottomLeftBorderStroke=ut>0||gt>0?Zn(w.left+gr/2,w.top+dr,ut-gr/2,gt-$r/2,pn.BOTTOM_LEFT):new yt(w.left+gr/2,w.top+w.height-$r/2),this.topLeftBorderBox=Q>0||K>0?Zn(w.left,w.top,Q,K,pn.TOP_LEFT):new yt(w.left,w.top),this.topRightBorderBox=se>0||Ce>0?Zn(w.left+Nt,w.top,se,Ce,pn.TOP_RIGHT):new yt(w.left+w.width,w.top),this.bottomRightBorderBox=_e>0||Oe>0?Zn(w.left+_r,w.top+nn,_e,Oe,pn.BOTTOM_RIGHT):new yt(w.left+w.width,w.top+w.height),this.bottomLeftBorderBox=ut>0||gt>0?Zn(w.left,w.top+dr,ut,gt,pn.BOTTOM_LEFT):new yt(w.left,w.top+w.height),this.topLeftPaddingBox=Q>0||K>0?Zn(w.left+gr,w.top+wt,Math.max(0,Q-gr),Math.max(0,K-wt),pn.TOP_LEFT):new yt(w.left+gr,w.top+wt),this.topRightPaddingBox=se>0||Ce>0?Zn(w.left+Math.min(Nt,w.width-Yr),w.top+wt,Nt>w.width+Yr?0:Math.max(0,se-Yr),Math.max(0,Ce-wt),pn.TOP_RIGHT):new yt(w.left+w.width-Yr,w.top+wt),this.bottomRightPaddingBox=_e>0||Oe>0?Zn(w.left+Math.min(_r,w.width-gr),w.top+Math.min(nn,w.height-$r),Math.max(0,_e-Yr),Math.max(0,Oe-$r),pn.BOTTOM_RIGHT):new yt(w.left+w.width-Yr,w.top+w.height-$r),this.bottomLeftPaddingBox=ut>0||gt>0?Zn(w.left+gr,w.top+Math.min(dr,w.height-$r),Math.max(0,ut-gr),Math.max(0,gt-$r),pn.BOTTOM_LEFT):new yt(w.left+gr,w.top+w.height-$r),this.topLeftContentBox=Q>0||K>0?Zn(w.left+gr+En,w.top+wt+Wa,Math.max(0,Q-(gr+En)),Math.max(0,K-(wt+Wa)),pn.TOP_LEFT):new yt(w.left+gr+En,w.top+wt+Wa),this.topRightContentBox=se>0||Ce>0?Zn(w.left+Math.min(Nt,w.width+gr+En),w.top+wt+Wa,Nt>w.width+gr+En?0:se-gr+En,Ce-(wt+Wa),pn.TOP_RIGHT):new yt(w.left+w.width-(Yr+Xi),w.top+wt+Wa),this.bottomRightContentBox=_e>0||Oe>0?Zn(w.left+Math.min(_r,w.width-(gr+En)),w.top+Math.min(nn,w.height+wt+Wa),Math.max(0,_e-(Yr+Xi)),Oe-($r+Es),pn.BOTTOM_RIGHT):new yt(w.left+w.width-(Yr+Xi),w.top+w.height-($r+Es)),this.bottomLeftContentBox=ut>0||gt>0?Zn(w.left+gr+En,w.top+dr,Math.max(0,ut-(gr+En)),gt-($r+Es),pn.BOTTOM_LEFT):new yt(w.left+gr+En,w.top+w.height-($r+Es))}return x})(),pn;(function(x){x[x.TOP_LEFT=0]="TOP_LEFT",x[x.TOP_RIGHT=1]="TOP_RIGHT",x[x.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",x[x.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(pn||(pn={}));var Zn=function(x,m,b,w,_){var Q=4*((Math.sqrt(2)-1)/3),K=b*Q,ue=w*Q,se=x+b,Ce=m+w;switch(_){case pn.TOP_LEFT:return new Fx(new yt(x,Ce),new yt(x,Ce-ue),new yt(se-K,m),new yt(se,m));case pn.TOP_RIGHT:return new Fx(new yt(x,m),new yt(x+K,m),new yt(se,Ce-ue),new yt(se,Ce));case pn.BOTTOM_RIGHT:return new Fx(new yt(se,m),new yt(se,m+ue),new yt(x+K,Ce),new yt(x,Ce));case pn.BOTTOM_LEFT:default:return new Fx(new yt(se,Ce),new yt(se-K,Ce),new yt(x,m+ue),new yt(x,m))}},Tx=function(x){return[x.topLeftBorderBox,x.topRightBorderBox,x.bottomRightBorderBox,x.bottomLeftBorderBox]},CY=function(x){return[x.topLeftContentBox,x.topRightContentBox,x.bottomRightContentBox,x.bottomLeftContentBox]},_x=function(x){return[x.topLeftPaddingBox,x.topRightPaddingBox,x.bottomRightPaddingBox,x.bottomLeftPaddingBox]},BY=(function(){function x(m,b,w){this.offsetX=m,this.offsetY=b,this.matrix=w,this.type=0,this.target=6}return x})(),kx=(function(){function x(m,b){this.path=m,this.target=b,this.type=1}return x})(),SY=(function(){function x(m){this.opacity=m,this.type=2,this.target=6}return x})(),IY=function(x){return x.type===0},Yk=function(x){return x.type===1},EY=function(x){return x.type===2},$k=function(x,m){return x.length===m.length?x.some(function(b,w){return b===m[w]}):!1},LY=function(x,m,b,w,_){return x.map(function(Q,K){switch(K){case 0:return Q.add(m,b);case 1:return Q.add(m+w,b);case 2:return Q.add(m+w,b+_);case 3:return Q.add(m,b+_)}return Q})},Jk=(function(){function x(m){this.element=m,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return x})(),Zk=(function(){function x(m,b){if(this.container=m,this.parent=b,this.effects=[],this.curves=new bY(this.container),this.container.styles.opacity<1&&this.effects.push(new SY(this.container.styles.opacity)),this.container.styles.transform!==null){var w=this.container.bounds.left+this.container.styles.transformOrigin[0].number,_=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Q=this.container.styles.transform;this.effects.push(new BY(w,_,Q))}if(this.container.styles.overflowX!==0){var K=Tx(this.curves),ue=_x(this.curves);$k(K,ue)?this.effects.push(new kx(K,6)):(this.effects.push(new kx(K,2)),this.effects.push(new kx(ue,4)))}}return x.prototype.getEffects=function(m){for(var b=[2,3].indexOf(this.container.styles.position)===-1,w=this.parent,_=this.effects.slice(0);w;){var Q=w.effects.filter(function(se){return!Yk(se)});if(b||w.container.styles.position!==0||!w.parent){if(_.unshift.apply(_,Q),b=[2,3].indexOf(w.container.styles.position)===-1,w.container.styles.overflowX!==0){var K=Tx(w.curves),ue=_x(w.curves);$k(K,ue)||_.unshift(new kx(ue,6))}}else _.unshift.apply(_,Q);w=w.parent}return _.filter(function(se){return Fe(se.target,m)})},x})(),uI=function(x,m,b,w){x.container.elements.forEach(function(_){var Q=Fe(_.flags,4),K=Fe(_.flags,2),ue=new Zk(_,x);Fe(_.styles.display,2048)&&w.push(ue);var se=Fe(_.flags,8)?[]:w;if(Q||K){var Ce=Q||_.styles.isPositioned()?b:m,Ee=new Jk(ue);if(_.styles.isPositioned()||_.styles.opacity<1||_.styles.isTransformed()){var _e=_.styles.zIndex.order;if(_e<0){var Oe=0;Ce.negativeZIndex.some(function(ut,gt){return _e>ut.element.container.styles.zIndex.order?(Oe=gt,!1):Oe>0}),Ce.negativeZIndex.splice(Oe,0,Ee)}else if(_e>0){var St=0;Ce.positiveZIndex.some(function(ut,gt){return _e>=ut.element.container.styles.zIndex.order?(St=gt+1,!1):St>0}),Ce.positiveZIndex.splice(St,0,Ee)}else Ce.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ee)}else _.styles.isFloating()?Ce.nonPositionedFloats.push(Ee):Ce.nonPositionedInlineLevel.push(Ee);uI(ue,Ee,Q?Ee:b,se)}else _.styles.isInlineLevel()?m.inlineLevel.push(ue):m.nonInlineLevel.push(ue),uI(ue,m,b,se);Fe(_.flags,8)&&eN(_,se)})},eN=function(x,m){for(var b=x instanceof $S?x.start:1,w=x instanceof $S?x.reversed:!1,_=0;_<m.length;_++){var Q=m[_];Q.container instanceof Sk&&typeof Q.container.value=="number"&&Q.container.value!==0&&(b=Q.container.value),Q.listValue=a0(b,Q.container.styles.listStyleType,!0),b+=w?-1:1}},FY=function(x){var m=new Zk(x,null),b=new Jk(m),w=[];return uI(m,b,b,w),eN(m.container,w),b},tN=function(x,m){switch(m){case 0:return Zs(x.topLeftBorderBox,x.topLeftPaddingBox,x.topRightBorderBox,x.topRightPaddingBox);case 1:return Zs(x.topRightBorderBox,x.topRightPaddingBox,x.bottomRightBorderBox,x.bottomRightPaddingBox);case 2:return Zs(x.bottomRightBorderBox,x.bottomRightPaddingBox,x.bottomLeftBorderBox,x.bottomLeftPaddingBox);default:return Zs(x.bottomLeftBorderBox,x.bottomLeftPaddingBox,x.topLeftBorderBox,x.topLeftPaddingBox)}},TY=function(x,m){switch(m){case 0:return Zs(x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox,x.topRightBorderBox,x.topRightBorderDoubleOuterBox);case 1:return Zs(x.topRightBorderBox,x.topRightBorderDoubleOuterBox,x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox);case 2:return Zs(x.bottomRightBorderBox,x.bottomRightBorderDoubleOuterBox,x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox);default:return Zs(x.bottomLeftBorderBox,x.bottomLeftBorderDoubleOuterBox,x.topLeftBorderBox,x.topLeftBorderDoubleOuterBox)}},_Y=function(x,m){switch(m){case 0:return Zs(x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox,x.topRightBorderDoubleInnerBox,x.topRightPaddingBox);case 1:return Zs(x.topRightBorderDoubleInnerBox,x.topRightPaddingBox,x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox);case 2:return Zs(x.bottomRightBorderDoubleInnerBox,x.bottomRightPaddingBox,x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox);default:return Zs(x.bottomLeftBorderDoubleInnerBox,x.bottomLeftPaddingBox,x.topLeftBorderDoubleInnerBox,x.topLeftPaddingBox)}},kY=function(x,m){switch(m){case 0:return Nx(x.topLeftBorderStroke,x.topRightBorderStroke);case 1:return Nx(x.topRightBorderStroke,x.bottomRightBorderStroke);case 2:return Nx(x.bottomRightBorderStroke,x.bottomLeftBorderStroke);default:return Nx(x.bottomLeftBorderStroke,x.topLeftBorderStroke)}},Nx=function(x,m){var b=[];return Js(x)?b.push(x.subdivide(.5,!1)):b.push(x),Js(m)?b.push(m.subdivide(.5,!0)):b.push(m),b},Zs=function(x,m,b,w){var _=[];return Js(x)?_.push(x.subdivide(.5,!1)):_.push(x),Js(b)?_.push(b.subdivide(.5,!0)):_.push(b),Js(w)?_.push(w.subdivide(.5,!0).reverse()):_.push(w),Js(m)?_.push(m.subdivide(.5,!1).reverse()):_.push(m),_},rN=function(x){var m=x.bounds,b=x.styles;return m.add(b.borderLeftWidth,b.borderTopWidth,-(b.borderRightWidth+b.borderLeftWidth),-(b.borderTopWidth+b.borderBottomWidth))},Px=function(x){var m=x.styles,b=x.bounds,w=zr(m.paddingLeft,b.width),_=zr(m.paddingRight,b.width),Q=zr(m.paddingTop,b.width),K=zr(m.paddingBottom,b.width);return b.add(w+m.borderLeftWidth,Q+m.borderTopWidth,-(m.borderRightWidth+m.borderLeftWidth+w+_),-(m.borderTopWidth+m.borderBottomWidth+Q+K))},NY=function(x,m){return x===0?m.bounds:x===2?Px(m):rN(m)},PY=function(x,m){return x===0?m.bounds:x===2?Px(m):rN(m)},lI=function(x,m,b){var w=NY(up(x.styles.backgroundOrigin,m),x),_=PY(up(x.styles.backgroundClip,m),x),Q=DY(up(x.styles.backgroundSize,m),b,w),K=Q[0],ue=Q[1],se=Tu(up(x.styles.backgroundPosition,m),w.width-K,w.height-ue),Ce=RY(up(x.styles.backgroundRepeat,m),se,Q,w,_),Ee=Math.round(w.left+se[0]),_e=Math.round(w.top+se[1]);return[Ce,Ee,_e,K,ue]},sp=function(x){return Qr(x)&&x.value===Pu.AUTO},Dx=function(x){return typeof x=="number"},DY=function(x,m,b){var w=m[0],_=m[1],Q=m[2],K=x[0],ue=x[1];if(!K)return[0,0];if(Tn(K)&&ue&&Tn(ue))return[zr(K,b.width),zr(ue,b.height)];var se=Dx(Q);if(Qr(K)&&(K.value===Pu.CONTAIN||K.value===Pu.COVER)){if(Dx(Q)){var Ce=b.width/b.height;return Ce<Q!=(K.value===Pu.COVER)?[b.width,b.width/Q]:[b.height*Q,b.height]}return[b.width,b.height]}var Ee=Dx(w),_e=Dx(_),Oe=Ee||_e;if(sp(K)&&(!ue||sp(ue))){if(Ee&&_e)return[w,_];if(!se&&!Oe)return[b.width,b.height];if(Oe&&se){var St=Ee?w:_*Q,ut=_e?_:w/Q;return[St,ut]}var gt=Ee?w:b.width,Er=_e?_:b.height;return[gt,Er]}if(se){var zt=0,Nt=0;return Tn(K)?zt=zr(K,b.width):Tn(ue)&&(Nt=zr(ue,b.height)),sp(K)?zt=Nt*Q:(!ue||sp(ue))&&(Nt=zt/Q),[zt,Nt]}var nn=null,_r=null;if(Tn(K)?nn=zr(K,b.width):ue&&Tn(ue)&&(_r=zr(ue,b.height)),nn!==null&&(!ue||sp(ue))&&(_r=Ee&&_e?nn/w*_:b.height),_r!==null&&sp(K)&&(nn=Ee&&_e?_r/_*w:b.width),nn!==null&&_r!==null)return[nn,_r];throw new Error("Unable to calculate background-size for element")},up=function(x,m){var b=x[m];return typeof b>"u"?x[0]:b},RY=function(x,m,b,w,_){var Q=m[0],K=m[1],ue=b[0],se=b[1];switch(x){case 2:return[new yt(Math.round(w.left),Math.round(w.top+K)),new yt(Math.round(w.left+w.width),Math.round(w.top+K)),new yt(Math.round(w.left+w.width),Math.round(se+w.top+K)),new yt(Math.round(w.left),Math.round(se+w.top+K))];case 3:return[new yt(Math.round(w.left+Q),Math.round(w.top)),new yt(Math.round(w.left+Q+ue),Math.round(w.top)),new yt(Math.round(w.left+Q+ue),Math.round(w.height+w.top)),new yt(Math.round(w.left+Q),Math.round(w.height+w.top))];case 1:return[new yt(Math.round(w.left+Q),Math.round(w.top+K)),new yt(Math.round(w.left+Q+ue),Math.round(w.top+K)),new yt(Math.round(w.left+Q+ue),Math.round(w.top+K+se)),new yt(Math.round(w.left+Q),Math.round(w.top+K+se))];default:return[new yt(Math.round(_.left),Math.round(_.top)),new yt(Math.round(_.left+_.width),Math.round(_.top)),new yt(Math.round(_.left+_.width),Math.round(_.height+_.top)),new yt(Math.round(_.left),Math.round(_.height+_.top))]}},MY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nN="Hidden Text",UY=(function(){function x(m){this._data={},this._document=m}return x.prototype.parseMetrics=function(m,b){var w=this._document.createElement("div"),_=this._document.createElement("img"),Q=this._document.createElement("span"),K=this._document.body;w.style.visibility="hidden",w.style.fontFamily=m,w.style.fontSize=b,w.style.margin="0",w.style.padding="0",w.style.whiteSpace="nowrap",K.appendChild(w),_.src=MY,_.width=1,_.height=1,_.style.margin="0",_.style.padding="0",_.style.verticalAlign="baseline",Q.style.fontFamily=m,Q.style.fontSize=b,Q.style.margin="0",Q.style.padding="0",Q.appendChild(this._document.createTextNode(nN)),w.appendChild(Q),w.appendChild(_);var ue=_.offsetTop-Q.offsetTop+2;w.removeChild(Q),w.appendChild(this._document.createTextNode(nN)),w.style.lineHeight="normal",_.style.verticalAlign="super";var se=_.offsetTop-w.offsetTop+2;return K.removeChild(w),{baseline:ue,middle:se}},x.prototype.getMetrics=function(m,b){var w=m+" "+b;return typeof this._data[w]>"u"&&(this._data[w]=this.parseMetrics(m,b)),this._data[w]},x})(),aN=(function(){function x(m,b){this.context=m,this.options=b}return x})(),OY=1e4,QY=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _._activeEffects=[],_.canvas=w.canvas?w.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),w.canvas||(_.canvas.width=Math.floor(w.width*w.scale),_.canvas.height=Math.floor(w.height*w.scale),_.canvas.style.width=w.width+"px",_.canvas.style.height=w.height+"px"),_.fontMetrics=new UY(document),_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-w.x,-w.y),_.ctx.textBaseline="bottom",_._activeEffects=[],_.context.logger.debug("Canvas renderer initialized ("+w.width+"x"+w.height+") with scale "+w.scale),_}return m.prototype.applyEffects=function(b){for(var w=this;this._activeEffects.length;)this.popEffect();b.forEach(function(_){return w.applyEffect(_)})},m.prototype.applyEffect=function(b){this.ctx.save(),EY(b)&&(this.ctx.globalAlpha=b.opacity),IY(b)&&(this.ctx.translate(b.offsetX,b.offsetY),this.ctx.transform(b.matrix[0],b.matrix[1],b.matrix[2],b.matrix[3],b.matrix[4],b.matrix[5]),this.ctx.translate(-b.offsetX,-b.offsetY)),Yk(b)&&(this.path(b.path),this.ctx.clip()),this._activeEffects.push(b)},m.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},m.prototype.renderStack=function(b){return n(this,void 0,void 0,function(){var w;return a(this,function(_){switch(_.label){case 0:return w=b.element.container.styles,w.isVisible()?[4,this.renderStackContent(b)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})},m.prototype.renderNode=function(b){return n(this,void 0,void 0,function(){return a(this,function(w){switch(w.label){case 0:if(Fe(b.container.flags,16))debugger;return b.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(b)]:[3,3];case 1:return w.sent(),[4,this.renderNodeContent(b)];case 2:w.sent(),w.label=3;case 3:return[2]}})})},m.prototype.renderTextWithLetterSpacing=function(b,w,_){var Q=this;if(w===0)this.ctx.fillText(b.text,b.bounds.left,b.bounds.top+_);else{var K=cc(b.text);K.reduce(function(ue,se){return Q.ctx.fillText(se,ue,b.bounds.top+_),ue+Q.ctx.measureText(se).width},b.bounds.left)}},m.prototype.createFontStyle=function(b){var w=b.fontVariant.filter(function(K){return K==="normal"||K==="small-caps"}).join(""),_=zY(b.fontFamily).join(", "),Q=ws(b.fontSize)?""+b.fontSize.number+b.fontSize.unit:b.fontSize.number+"px";return[[b.fontStyle,w,b.fontWeight,Q,_].join(" "),_,Q]},m.prototype.renderTextNode=function(b,w){return n(this,void 0,void 0,function(){var _,Q,K,ue,se,Ce,Ee,_e,Oe=this;return a(this,function(St){return _=this.createFontStyle(w),Q=_[0],K=_[1],ue=_[2],this.ctx.font=Q,this.ctx.direction=w.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",se=this.fontMetrics.getMetrics(K,ue),Ce=se.baseline,Ee=se.middle,_e=w.paintOrder,b.textBounds.forEach(function(ut){_e.forEach(function(gt){switch(gt){case 0:Oe.ctx.fillStyle=vn(w.color),Oe.renderTextWithLetterSpacing(ut,w.letterSpacing,Ce);var Er=w.textShadow;Er.length&&ut.text.trim().length&&(Er.slice(0).reverse().forEach(function(zt){Oe.ctx.shadowColor=vn(zt.color),Oe.ctx.shadowOffsetX=zt.offsetX.number*Oe.options.scale,Oe.ctx.shadowOffsetY=zt.offsetY.number*Oe.options.scale,Oe.ctx.shadowBlur=zt.blur.number,Oe.renderTextWithLetterSpacing(ut,w.letterSpacing,Ce)}),Oe.ctx.shadowColor="",Oe.ctx.shadowOffsetX=0,Oe.ctx.shadowOffsetY=0,Oe.ctx.shadowBlur=0),w.textDecorationLine.length&&(Oe.ctx.fillStyle=vn(w.textDecorationColor||w.color),w.textDecorationLine.forEach(function(zt){switch(zt){case 1:Oe.ctx.fillRect(ut.bounds.left,Math.round(ut.bounds.top+Ce),ut.bounds.width,1);break;case 2:Oe.ctx.fillRect(ut.bounds.left,Math.round(ut.bounds.top),ut.bounds.width,1);break;case 3:Oe.ctx.fillRect(ut.bounds.left,Math.ceil(ut.bounds.top+Ee),ut.bounds.width,1);break}}));break;case 1:w.webkitTextStrokeWidth&&ut.text.trim().length&&(Oe.ctx.strokeStyle=vn(w.webkitTextStrokeColor),Oe.ctx.lineWidth=w.webkitTextStrokeWidth,Oe.ctx.lineJoin=window.chrome?"miter":"round",Oe.ctx.strokeText(ut.text,ut.bounds.left,ut.bounds.top+Ce)),Oe.ctx.strokeStyle="",Oe.ctx.lineWidth=0,Oe.ctx.lineJoin="miter";break}})}),[2]})})},m.prototype.renderReplacedElement=function(b,w,_){if(_&&b.intrinsicWidth>0&&b.intrinsicHeight>0){var Q=Px(b),K=_x(w);this.path(K),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(_,0,0,b.intrinsicWidth,b.intrinsicHeight,Q.left,Q.top,Q.width,Q.height),this.ctx.restore()}},m.prototype.renderNodeContent=function(b){return n(this,void 0,void 0,function(){var w,_,Q,K,ue,se,Nt,Nt,Ce,Ee,_e,Oe,_r,St,ut,dr,gt,Er,zt,Nt,nn,_r,dr;return a(this,function(wt){switch(wt.label){case 0:this.applyEffects(b.getEffects(4)),w=b.container,_=b.curves,Q=w.styles,K=0,ue=w.textNodes,wt.label=1;case 1:return K<ue.length?(se=ue[K],[4,this.renderTextNode(se,Q)]):[3,4];case 2:wt.sent(),wt.label=3;case 3:return K++,[3,1];case 4:if(!(w instanceof bx))return[3,8];wt.label=5;case 5:return wt.trys.push([5,7,,8]),[4,this.context.cache.match(w.src)];case 6:return Nt=wt.sent(),this.renderReplacedElement(w,_,Nt),[3,8];case 7:return wt.sent(),this.context.logger.error("Error loading image "+w.src),[3,8];case 8:if(w instanceof tp&&this.renderReplacedElement(w,_,w.canvas),!(w instanceof rp))return[3,12];wt.label=9;case 9:return wt.trys.push([9,11,,12]),[4,this.context.cache.match(w.svg)];case 10:return Nt=wt.sent(),this.renderReplacedElement(w,_,Nt),[3,12];case 11:return wt.sent(),this.context.logger.error("Error loading svg "+w.svg.substring(0,255)),[3,12];case 12:return w instanceof Fk&&w.tree?(Ce=new m(this.context,{scale:this.options.scale,backgroundColor:w.backgroundColor,x:0,y:0,width:w.width,height:w.height}),[4,Ce.render(w.tree)]):[3,14];case 13:Ee=wt.sent(),w.width&&w.height&&this.ctx.drawImage(Ee,0,0,w.width,w.height,w.bounds.left,w.bounds.top,w.bounds.width,w.bounds.height),wt.label=14;case 14:if(w instanceof JS&&(_e=Math.min(w.bounds.width,w.bounds.height),w.type===Cx?w.checked&&(this.ctx.save(),this.path([new yt(w.bounds.left+_e*.39363,w.bounds.top+_e*.79),new yt(w.bounds.left+_e*.16,w.bounds.top+_e*.5549),new yt(w.bounds.left+_e*.27347,w.bounds.top+_e*.44071),new yt(w.bounds.left+_e*.39694,w.bounds.top+_e*.5649),new yt(w.bounds.left+_e*.72983,w.bounds.top+_e*.23),new yt(w.bounds.left+_e*.84,w.bounds.top+_e*.34085),new yt(w.bounds.left+_e*.39363,w.bounds.top+_e*.79)]),this.ctx.fillStyle=vn(Ik),this.ctx.fill(),this.ctx.restore()):w.type===Bx&&w.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(w.bounds.left+_e/2,w.bounds.top+_e/2,_e/4,0,Math.PI*2,!0),this.ctx.fillStyle=vn(Ik),this.ctx.fill(),this.ctx.restore())),HY(w)&&w.value.length){switch(Oe=this.createFontStyle(Q),_r=Oe[0],St=Oe[1],ut=this.fontMetrics.getMetrics(_r,St).baseline,this.ctx.font=_r,this.ctx.fillStyle=vn(Q.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qY(w.styles.textAlign),dr=Px(w),gt=0,w.styles.textAlign){case 1:gt+=dr.width/2;break;case 2:gt+=dr.width;break}Er=dr.add(gt,0,0,-dr.height/2+1),this.ctx.save(),this.path([new yt(dr.left,dr.top),new yt(dr.left+dr.width,dr.top),new yt(dr.left+dr.width,dr.top+dr.height),new yt(dr.left,dr.top+dr.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wA(w.value,Er),Q.letterSpacing,ut),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Fe(w.styles.display,2048))return[3,20];if(w.styles.listStyleImage===null)return[3,19];if(zt=w.styles.listStyleImage,zt.type!==0)return[3,18];Nt=void 0,nn=zt.url,wt.label=15;case 15:return wt.trys.push([15,17,,18]),[4,this.context.cache.match(nn)];case 16:return Nt=wt.sent(),this.ctx.drawImage(Nt,w.bounds.left-(Nt.width+10),w.bounds.top),[3,18];case 17:return wt.sent(),this.context.logger.error("Error loading list-style-image "+nn),[3,18];case 18:return[3,20];case 19:b.listValue&&w.styles.listStyleType!==-1&&(_r=this.createFontStyle(Q)[0],this.ctx.font=_r,this.ctx.fillStyle=vn(Q.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",dr=new i(w.bounds.left,w.bounds.top+zr(w.styles.paddingTop,w.bounds.width),w.bounds.width,ax(Q.lineHeight,Q.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wA(b.listValue,dr),Q.letterSpacing,ax(Q.lineHeight,Q.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),wt.label=20;case 20:return[2]}})})},m.prototype.renderStackContent=function(b){return n(this,void 0,void 0,function(){var w,_,zt,Q,K,zt,ue,se,zt,Ce,Ee,zt,_e,Oe,zt,St,ut,zt,gt,Er,zt;return a(this,function(Nt){switch(Nt.label){case 0:if(Fe(b.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(b.element)];case 1:Nt.sent(),w=0,_=b.negativeZIndex,Nt.label=2;case 2:return w<_.length?(zt=_[w],[4,this.renderStack(zt)]):[3,5];case 3:Nt.sent(),Nt.label=4;case 4:return w++,[3,2];case 5:return[4,this.renderNodeContent(b.element)];case 6:Nt.sent(),Q=0,K=b.nonInlineLevel,Nt.label=7;case 7:return Q<K.length?(zt=K[Q],[4,this.renderNode(zt)]):[3,10];case 8:Nt.sent(),Nt.label=9;case 9:return Q++,[3,7];case 10:ue=0,se=b.nonPositionedFloats,Nt.label=11;case 11:return ue<se.length?(zt=se[ue],[4,this.renderStack(zt)]):[3,14];case 12:Nt.sent(),Nt.label=13;case 13:return ue++,[3,11];case 14:Ce=0,Ee=b.nonPositionedInlineLevel,Nt.label=15;case 15:return Ce<Ee.length?(zt=Ee[Ce],[4,this.renderStack(zt)]):[3,18];case 16:Nt.sent(),Nt.label=17;case 17:return Ce++,[3,15];case 18:_e=0,Oe=b.inlineLevel,Nt.label=19;case 19:return _e<Oe.length?(zt=Oe[_e],[4,this.renderNode(zt)]):[3,22];case 20:Nt.sent(),Nt.label=21;case 21:return _e++,[3,19];case 22:St=0,ut=b.zeroOrAutoZIndexOrTransformedOrOpacity,Nt.label=23;case 23:return St<ut.length?(zt=ut[St],[4,this.renderStack(zt)]):[3,26];case 24:Nt.sent(),Nt.label=25;case 25:return St++,[3,23];case 26:gt=0,Er=b.positiveZIndex,Nt.label=27;case 27:return gt<Er.length?(zt=Er[gt],[4,this.renderStack(zt)]):[3,30];case 28:Nt.sent(),Nt.label=29;case 29:return gt++,[3,27];case 30:return[2]}})})},m.prototype.mask=function(b){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(b.slice(0).reverse()),this.ctx.closePath()},m.prototype.path=function(b){this.ctx.beginPath(),this.formatPath(b),this.ctx.closePath()},m.prototype.formatPath=function(b){var w=this;b.forEach(function(_,Q){var K=Js(_)?_.start:_;Q===0?w.ctx.moveTo(K.x,K.y):w.ctx.lineTo(K.x,K.y),Js(_)&&w.ctx.bezierCurveTo(_.startControl.x,_.startControl.y,_.endControl.x,_.endControl.y,_.end.x,_.end.y)})},m.prototype.renderRepeat=function(b,w,_,Q){this.path(b),this.ctx.fillStyle=w,this.ctx.translate(_,Q),this.ctx.fill(),this.ctx.translate(-_,-Q)},m.prototype.resizeImage=function(b,w,_){var Q;if(b.width===w&&b.height===_)return b;var K=(Q=this.canvas.ownerDocument)!==null&&Q!==void 0?Q:document,ue=K.createElement("canvas");ue.width=Math.max(1,w),ue.height=Math.max(1,_);var se=ue.getContext("2d");return se.drawImage(b,0,0,b.width,b.height,0,0,w,_),ue},m.prototype.renderBackgroundImage=function(b){return n(this,void 0,void 0,function(){var w,_,Q,K,ue,se;return a(this,function(Ce){switch(Ce.label){case 0:w=b.styles.backgroundImage.length-1,_=function(Ee){var _e,Oe,St,Wa,Yi,$i,En,No,$r,ut,Wa,Yi,$i,En,No,gt,Er,zt,Nt,nn,_r,dr,wt,Yr,$r,gr,Wa,Xi,Es,En,No,BA,Yi,$i,zf,wl,SA,jf,Gf,fc,Kf,dc;return a(this,function(lp){switch(lp.label){case 0:if(Ee.type!==0)return[3,5];_e=void 0,Oe=Ee.url,lp.label=1;case 1:return lp.trys.push([1,3,,4]),[4,Q.context.cache.match(Oe)];case 2:return _e=lp.sent(),[3,4];case 3:return lp.sent(),Q.context.logger.error("Error loading background-image "+Oe),[3,4];case 4:return _e&&(St=lI(b,w,[_e.width,_e.height,_e.width/_e.height]),Wa=St[0],Yi=St[1],$i=St[2],En=St[3],No=St[4],$r=Q.ctx.createPattern(Q.resizeImage(_e,En,No),"repeat"),Q.renderRepeat(Wa,$r,Yi,$i)),[3,6];case 5:$1(Ee)?(ut=lI(b,w,[null,null,null]),Wa=ut[0],Yi=ut[1],$i=ut[2],En=ut[3],No=ut[4],gt=tn(Ee.angle,En,No),Er=gt[0],zt=gt[1],Nt=gt[2],nn=gt[3],_r=gt[4],dr=document.createElement("canvas"),dr.width=En,dr.height=No,wt=dr.getContext("2d"),Yr=wt.createLinearGradient(zt,nn,Nt,_r),yi(Ee.stops,Er).forEach(function(i0){return Yr.addColorStop(i0.stop,vn(i0.color))}),wt.fillStyle=Yr,wt.fillRect(0,0,En,No),En>0&&No>0&&($r=Q.ctx.createPattern(dr,"repeat"),Q.renderRepeat(Wa,$r,Yi,$i))):J1(Ee)&&(gr=lI(b,w,[null,null,null]),Wa=gr[0],Xi=gr[1],Es=gr[2],En=gr[3],No=gr[4],BA=Ee.position.length===0?[Fu]:Ee.position,Yi=zr(BA[0],En),$i=zr(BA[BA.length-1],No),zf=Fa(Ee,Yi,$i,En,No),wl=zf[0],SA=zf[1],wl>0&&SA>0&&(jf=Q.ctx.createRadialGradient(Xi+Yi,Es+$i,0,Xi+Yi,Es+$i,wl),yi(Ee.stops,wl*2).forEach(function(i0){return jf.addColorStop(i0.stop,vn(i0.color))}),Q.path(Wa),Q.ctx.fillStyle=jf,wl!==SA?(Gf=b.bounds.left+.5*b.bounds.width,fc=b.bounds.top+.5*b.bounds.height,Kf=SA/wl,dc=1/Kf,Q.ctx.save(),Q.ctx.translate(Gf,fc),Q.ctx.transform(1,0,0,Kf,0,0),Q.ctx.translate(-Gf,-fc),Q.ctx.fillRect(Xi,dc*(Es-fc)+fc,En,No*dc),Q.ctx.restore()):Q.ctx.fill())),lp.label=6;case 6:return w--,[2]}})},Q=this,K=0,ue=b.styles.backgroundImage.slice(0).reverse(),Ce.label=1;case 1:return K<ue.length?(se=ue[K],[5,_(se)]):[3,4];case 2:Ce.sent(),Ce.label=3;case 3:return K++,[3,1];case 4:return[2]}})})},m.prototype.renderSolidBorder=function(b,w,_){return n(this,void 0,void 0,function(){return a(this,function(Q){return this.path(tN(_,w)),this.ctx.fillStyle=vn(b),this.ctx.fill(),[2]})})},m.prototype.renderDoubleBorder=function(b,w,_,Q){return n(this,void 0,void 0,function(){var K,ue;return a(this,function(se){switch(se.label){case 0:return w<3?[4,this.renderSolidBorder(b,_,Q)]:[3,2];case 1:return se.sent(),[2];case 2:return K=TY(Q,_),this.path(K),this.ctx.fillStyle=vn(b),this.ctx.fill(),ue=_Y(Q,_),this.path(ue),this.ctx.fill(),[2]}})})},m.prototype.renderNodeBackgroundAndBorders=function(b){return n(this,void 0,void 0,function(){var w,_,Q,K,ue,se,Ce,Ee,_e=this;return a(this,function(Oe){switch(Oe.label){case 0:return this.applyEffects(b.getEffects(2)),w=b.container.styles,_=!bs(w.backgroundColor)||w.backgroundImage.length,Q=[{style:w.borderTopStyle,color:w.borderTopColor,width:w.borderTopWidth},{style:w.borderRightStyle,color:w.borderRightColor,width:w.borderRightWidth},{style:w.borderBottomStyle,color:w.borderBottomColor,width:w.borderBottomWidth},{style:w.borderLeftStyle,color:w.borderLeftColor,width:w.borderLeftWidth}],K=VY(up(w.backgroundClip,0),b.curves),_||w.boxShadow.length?(this.ctx.save(),this.path(K),this.ctx.clip(),bs(w.backgroundColor)||(this.ctx.fillStyle=vn(w.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(b.container)]):[3,2];case 1:Oe.sent(),this.ctx.restore(),w.boxShadow.slice(0).reverse().forEach(function(St){_e.ctx.save();var ut=Tx(b.curves),gt=St.inset?0:OY,Er=LY(ut,-gt+(St.inset?1:-1)*St.spread.number,(St.inset?1:-1)*St.spread.number,St.spread.number*(St.inset?-2:2),St.spread.number*(St.inset?-2:2));St.inset?(_e.path(ut),_e.ctx.clip(),_e.mask(Er)):(_e.mask(ut),_e.ctx.clip(),_e.path(Er)),_e.ctx.shadowOffsetX=St.offsetX.number+gt,_e.ctx.shadowOffsetY=St.offsetY.number,_e.ctx.shadowColor=vn(St.color),_e.ctx.shadowBlur=St.blur.number,_e.ctx.fillStyle=St.inset?vn(St.color):"rgba(0,0,0,1)",_e.ctx.fill(),_e.ctx.restore()}),Oe.label=2;case 2:ue=0,se=0,Ce=Q,Oe.label=3;case 3:return se<Ce.length?(Ee=Ce[se],Ee.style!==0&&!bs(Ee.color)&&Ee.width>0?Ee.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ee.color,Ee.width,ue,b.curves,2)]:[3,11]):[3,13];case 4:return Oe.sent(),[3,11];case 5:return Ee.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ee.color,Ee.width,ue,b.curves,3)];case 6:return Oe.sent(),[3,11];case 7:return Ee.style!==4?[3,9]:[4,this.renderDoubleBorder(Ee.color,Ee.width,ue,b.curves)];case 8:return Oe.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ee.color,ue,b.curves)];case 10:Oe.sent(),Oe.label=11;case 11:ue++,Oe.label=12;case 12:return se++,[3,3];case 13:return[2]}})})},m.prototype.renderDashedDottedBorder=function(b,w,_,Q,K){return n(this,void 0,void 0,function(){var ue,se,Ce,Ee,_e,Oe,St,ut,gt,Er,zt,Nt,nn,_r,dr,wt,dr,wt;return a(this,function(Yr){return this.ctx.save(),ue=kY(Q,_),se=tN(Q,_),K===2&&(this.path(se),this.ctx.clip()),Js(se[0])?(Ce=se[0].start.x,Ee=se[0].start.y):(Ce=se[0].x,Ee=se[0].y),Js(se[1])?(_e=se[1].end.x,Oe=se[1].end.y):(_e=se[1].x,Oe=se[1].y),_===0||_===2?St=Math.abs(Ce-_e):St=Math.abs(Ee-Oe),this.ctx.beginPath(),K===3?this.formatPath(ue):this.formatPath(se.slice(0,2)),ut=w<3?w*3:w*2,gt=w<3?w*2:w,K===3&&(ut=w,gt=w),Er=!0,St<=ut*2?Er=!1:St<=ut*2+gt?(zt=St/(2*ut+gt),ut*=zt,gt*=zt):(Nt=Math.floor((St+gt)/(ut+gt)),nn=(St-Nt*ut)/(Nt-1),_r=(St-(Nt+1)*ut)/Nt,gt=_r<=0||Math.abs(gt-nn)<Math.abs(gt-_r)?nn:_r),Er&&(K===3?this.ctx.setLineDash([0,ut+gt]):this.ctx.setLineDash([ut,gt])),K===3?(this.ctx.lineCap="round",this.ctx.lineWidth=w):this.ctx.lineWidth=w*2+1.1,this.ctx.strokeStyle=vn(b),this.ctx.stroke(),this.ctx.setLineDash([]),K===2&&(Js(se[0])&&(dr=se[3],wt=se[0],this.ctx.beginPath(),this.formatPath([new yt(dr.end.x,dr.end.y),new yt(wt.start.x,wt.start.y)]),this.ctx.stroke()),Js(se[1])&&(dr=se[1],wt=se[2],this.ctx.beginPath(),this.formatPath([new yt(dr.end.x,dr.end.y),new yt(wt.start.x,wt.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},m.prototype.render=function(b){return n(this,void 0,void 0,function(){var w;return a(this,function(_){switch(_.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),w=FY(b),[4,this.renderStack(w)];case 1:return _.sent(),this.applyEffects([]),[2,this.canvas]}})})},m})(aN),HY=function(x){return x instanceof Lk||x instanceof Ek?!0:x instanceof JS&&x.type!==Bx&&x.type!==Cx},VY=function(x,m){switch(x){case 0:return Tx(m);case 2:return CY(m);default:return _x(m)}},qY=function(x){switch(x){case 1:return"center";case 2:return"right";default:return"left"}},WY=["-apple-system","system-ui"],zY=function(x){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?x.filter(function(m){return WY.indexOf(m)===-1}):x},jY=(function(x){e(m,x);function m(b,w){var _=x.call(this,b,w)||this;return _.canvas=w.canvas?w.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),_.options=w,_.canvas.width=Math.floor(w.width*w.scale),_.canvas.height=Math.floor(w.height*w.scale),_.canvas.style.width=w.width+"px",_.canvas.style.height=w.height+"px",_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-w.x,-w.y),_.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+w.width+"x"+w.height+" at "+w.x+","+w.y+") with scale "+w.scale),_}return m.prototype.render=function(b){return n(this,void 0,void 0,function(){var w,_;return a(this,function(Q){switch(Q.label){case 0:return w=Jh(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,b),[4,GY(w)];case 1:return _=Q.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=vn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(_,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},m})(aN),GY=function(x){return new Promise(function(m,b){var w=new Image;w.onload=function(){m(w)},w.onerror=b,w.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(x))})},KY=(function(){function x(m){var b=m.id,w=m.enabled;this.id=b,this.enabled=w,this.start=Date.now()}return x.prototype.debug=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},x.prototype.getTime=function(){return Date.now()-this.start},x.prototype.info=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],m))},x.prototype.warn=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},x.prototype.error=function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],m)):this.info.apply(this,m))},x.instances={},x})(),XY=(function(){function x(m,b){var w;this.windowBounds=b,this.instanceName="#"+x.instanceCount++,this.logger=new KY({id:this.instanceName,enabled:m.logging}),this.cache=(w=m.cache)!==null&&w!==void 0?w:new pY(this,m)}return x.instanceCount=1,x})(),YY=function(x,m){return m===void 0&&(m={}),$Y(x,m)};typeof window<"u"&&Xk.setContext(window);var $Y=function(x,m){return n(void 0,void 0,void 0,function(){var b,w,_,Q,K,ue,se,Ce,Ee,_e,Oe,St,ut,gt,Er,zt,Nt,nn,_r,dr,Yr,wt,Yr,$r,gr,Wa,Xi,Es,En,No,BA,Yi,$i,zf,wl,SA,jf,Gf,fc,Kf;return a(this,function(dc){switch(dc.label){case 0:if(!x||typeof x!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(b=x.ownerDocument,!b)throw new Error("Element is not attached to a Document");if(w=b.defaultView,!w)throw new Error("Document is not attached to a Window");return _={allowTaint:($r=m.allowTaint)!==null&&$r!==void 0?$r:!1,imageTimeout:(gr=m.imageTimeout)!==null&&gr!==void 0?gr:15e3,proxy:m.proxy,useCORS:(Wa=m.useCORS)!==null&&Wa!==void 0?Wa:!1},Q=t({logging:(Xi=m.logging)!==null&&Xi!==void 0?Xi:!0,cache:m.cache},_),K={windowWidth:(Es=m.windowWidth)!==null&&Es!==void 0?Es:w.innerWidth,windowHeight:(En=m.windowHeight)!==null&&En!==void 0?En:w.innerHeight,scrollX:(No=m.scrollX)!==null&&No!==void 0?No:w.pageXOffset,scrollY:(BA=m.scrollY)!==null&&BA!==void 0?BA:w.pageYOffset},ue=new i(K.scrollX,K.scrollY,K.windowWidth,K.windowHeight),se=new XY(Q,ue),Ce=(Yi=m.foreignObjectRendering)!==null&&Yi!==void 0?Yi:!1,Ee={allowTaint:($i=m.allowTaint)!==null&&$i!==void 0?$i:!1,onclone:m.onclone,ignoreElements:m.ignoreElements,inlineImages:Ce,copyStyles:Ce},se.logger.debug("Starting document clone with size "+ue.width+"x"+ue.height+" scrolled to "+-ue.left+","+-ue.top),_e=new Gk(se,x,Ee),Oe=_e.clonedReferenceElement,Oe?[4,_e.toIFrame(b,ue)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return St=dc.sent(),ut=eI(Oe)||JX(Oe)?u(Oe.ownerDocument):s(se,Oe),gt=ut.width,Er=ut.height,zt=ut.left,Nt=ut.top,nn=JY(se,Oe,m.backgroundColor),_r={canvas:m.canvas,backgroundColor:nn,scale:(wl=(zf=m.scale)!==null&&zf!==void 0?zf:w.devicePixelRatio)!==null&&wl!==void 0?wl:1,x:((SA=m.x)!==null&&SA!==void 0?SA:0)+zt,y:((jf=m.y)!==null&&jf!==void 0?jf:0)+Nt,width:(Gf=m.width)!==null&&Gf!==void 0?Gf:Math.ceil(gt),height:(fc=m.height)!==null&&fc!==void 0?fc:Math.ceil(Er)},Ce?(se.logger.debug("Document cloned, using foreign object rendering"),Yr=new jY(se,_r),[4,Yr.render(Oe)]):[3,3];case 2:return dr=dc.sent(),[3,5];case 3:return se.logger.debug("Document cloned, element located at "+zt+","+Nt+" with size "+gt+"x"+Er+" using computed rendering"),se.logger.debug("Starting DOM parsing"),wt=_k(se,Oe),nn===wt.styles.backgroundColor&&(wt.styles.backgroundColor=yo.TRANSPARENT),se.logger.debug("Starting renderer for element at "+_r.x+","+_r.y+" with size "+_r.width+"x"+_r.height),Yr=new QY(se,_r),[4,Yr.render(wt)];case 4:dr=dc.sent(),dc.label=5;case 5:return(!((Kf=m.removeContainer)!==null&&Kf!==void 0)||Kf)&&(Gk.destroy(St)||se.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),se.logger.debug("Finished rendering"),[2,dr]}})})},JY=function(x,m,b){var w=m.ownerDocument,_=w.documentElement?Gi(x,getComputedStyle(w.documentElement).backgroundColor):yo.TRANSPARENT,Q=w.body?Gi(x,getComputedStyle(w.body).backgroundColor):yo.TRANSPARENT,K=typeof b=="string"?Gi(x,b):b===null?yo.TRANSPARENT:4294967295;return m===w.documentElement?bs(_)?bs(Q)?K:Q:_:K};return YY}))});var V7={};AI(V7,{default:()=>Gfe});function Ui(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return S4(r,e,n)}}function Nfe(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return I4(r,t)}}function Rr(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mC;T7&&T7(r,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){let o=t(a);o!==a&&(Ife(e)||(e[n]=o),a=o)}r[a]=!0}return r}function Pfe(r){for(let e=0;e<r.length;e++)el(r,e)||(r[e]=null);return r}function Hl(r){let e=B4(null);for(let[t,n]of U7(r))el(r,t)&&(Array.isArray(n)?e[t]=Pfe(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=Hl(n):e[t]=n);return e}function r1(r,e){for(;r!==null;){let n=Lfe(r,e);if(n){if(n.get)return Ui(n.get);if(typeof n.value=="function")return Ui(n.value)}r=Efe(r)}function t(){return null}return t}function H7(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zfe(),e=Lt=>H7(Lt);if(e.version="3.3.1",e.removed=[],!r||!r.document||r.document.nodeType!==n1.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r,n=t,a=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:s,Element:u,NodeFilter:l,NamedNodeMap:c=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:A,DOMParser:d,trustedTypes:f}=r,h=u.prototype,p=r1(h,"cloneNode"),v=r1(h,"remove"),g=r1(h,"nextSibling"),B=r1(h,"childNodes"),I=r1(h,"parentNode");if(typeof i=="function"){let Lt=t.createElement("template");Lt.content&&Lt.content.ownerDocument&&(t=Lt.content.ownerDocument)}let S,E="",{implementation:T,createNodeIterator:U,createDocumentFragment:D,getElementsByTagName:k}=t,{importNode:O}=n,N=M7();e.isSupported=typeof U7=="function"&&typeof I=="function"&&T&&T.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:P,ERB_EXPR:j,TMPLIT_EXPR:z,DATA_ATTR:ne,ARIA_ATTR:re,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:G}=R7,{IS_ALLOWED_URI:Z}=R7,he=null,R=Rr({},[...k7,...x4,...w4,...b4,...N7]),H=null,ae=Rr({},[...P7,...C4,...D7,...pC]),le=Object.seal(B4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,ve=null,Se=Object.seal(B4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),me=!0,ke=!0,Re=!1,De=!0,ze=!1,et=!0,te=!1,je=!1,Ct=!1,ft=!1,He=!1,vt=!1,at=!0,ht=!1,dt="user-content-",Mt=!0,Jt=!1,Qt={},Ht=null,Vt=Rr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),mt=null,Kt=Rr({},["audio","video","img","source","image","track"]),ct=null,Mr=Rr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lr="http://www.w3.org/1998/Math/MathML",Zt="http://www.w3.org/2000/svg",Xt="http://www.w3.org/1999/xhtml",br=Xt,Rt=!1,kr=null,qt=Rr({},[lr,Zt,Xt],v4),tr=Rr({},["mi","mo","mn","ms","mtext"]),Ur=Rr({},["annotation-xml"]),Yt=Rr({},["title","style","font","a","script"]),Ut=null,Hr=["application/xhtml+xml","text/html"],Hi="text/html",Ir=null,Va=null,pi=t.createElement("form"),ar=function(xe){return xe instanceof RegExp||xe instanceof Function},mi=function(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Va&&Va===xe)){if((!xe||typeof xe!="object")&&(xe={}),xe=Hl(xe),Ut=Hr.indexOf(xe.PARSER_MEDIA_TYPE)===-1?Hi:xe.PARSER_MEDIA_TYPE,Ir=Ut==="application/xhtml+xml"?v4:mC,he=el(xe,"ALLOWED_TAGS")?Rr({},xe.ALLOWED_TAGS,Ir):R,H=el(xe,"ALLOWED_ATTR")?Rr({},xe.ALLOWED_ATTR,Ir):ae,kr=el(xe,"ALLOWED_NAMESPACES")?Rr({},xe.ALLOWED_NAMESPACES,v4):qt,ct=el(xe,"ADD_URI_SAFE_ATTR")?Rr(Hl(Mr),xe.ADD_URI_SAFE_ATTR,Ir):Mr,mt=el(xe,"ADD_DATA_URI_TAGS")?Rr(Hl(Kt),xe.ADD_DATA_URI_TAGS,Ir):Kt,Ht=el(xe,"FORBID_CONTENTS")?Rr({},xe.FORBID_CONTENTS,Ir):Vt,pe=el(xe,"FORBID_TAGS")?Rr({},xe.FORBID_TAGS,Ir):Hl({}),ve=el(xe,"FORBID_ATTR")?Rr({},xe.FORBID_ATTR,Ir):Hl({}),Qt=el(xe,"USE_PROFILES")?xe.USE_PROFILES:!1,me=xe.ALLOW_ARIA_ATTR!==!1,ke=xe.ALLOW_DATA_ATTR!==!1,Re=xe.ALLOW_UNKNOWN_PROTOCOLS||!1,De=xe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ze=xe.SAFE_FOR_TEMPLATES||!1,et=xe.SAFE_FOR_XML!==!1,te=xe.WHOLE_DOCUMENT||!1,ft=xe.RETURN_DOM||!1,He=xe.RETURN_DOM_FRAGMENT||!1,vt=xe.RETURN_TRUSTED_TYPE||!1,Ct=xe.FORCE_BODY||!1,at=xe.SANITIZE_DOM!==!1,ht=xe.SANITIZE_NAMED_PROPS||!1,Mt=xe.KEEP_CONTENT!==!1,Jt=xe.IN_PLACE||!1,Z=xe.ALLOWED_URI_REGEXP||O7,br=xe.NAMESPACE||Xt,tr=xe.MATHML_TEXT_INTEGRATION_POINTS||tr,Ur=xe.HTML_INTEGRATION_POINTS||Ur,le=xe.CUSTOM_ELEMENT_HANDLING||{},xe.CUSTOM_ELEMENT_HANDLING&&ar(xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(le.tagNameCheck=xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&ar(xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(le.attributeNameCheck=xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&typeof xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(le.allowCustomizedBuiltInElements=xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ze&&(ke=!1),He&&(ft=!0),Qt&&(he=Rr({},N7),H=[],Qt.html===!0&&(Rr(he,k7),Rr(H,P7)),Qt.svg===!0&&(Rr(he,x4),Rr(H,C4),Rr(H,pC)),Qt.svgFilters===!0&&(Rr(he,w4),Rr(H,C4),Rr(H,pC)),Qt.mathMl===!0&&(Rr(he,b4),Rr(H,D7),Rr(H,pC))),xe.ADD_TAGS&&(typeof xe.ADD_TAGS=="function"?Se.tagCheck=xe.ADD_TAGS:(he===R&&(he=Hl(he)),Rr(he,xe.ADD_TAGS,Ir))),xe.ADD_ATTR&&(typeof xe.ADD_ATTR=="function"?Se.attributeCheck=xe.ADD_ATTR:(H===ae&&(H=Hl(H)),Rr(H,xe.ADD_ATTR,Ir))),xe.ADD_URI_SAFE_ATTR&&Rr(ct,xe.ADD_URI_SAFE_ATTR,Ir),xe.FORBID_CONTENTS&&(Ht===Vt&&(Ht=Hl(Ht)),Rr(Ht,xe.FORBID_CONTENTS,Ir)),xe.ADD_FORBID_CONTENTS&&(Ht===Vt&&(Ht=Hl(Ht)),Rr(Ht,xe.ADD_FORBID_CONTENTS,Ir)),Mt&&(he["#text"]=!0),te&&Rr(he,["html","head","body"]),he.table&&(Rr(he,["tbody"]),delete pe.tbody),xe.TRUSTED_TYPES_POLICY){if(typeof xe.TRUSTED_TYPES_POLICY.createHTML!="function")throw t1('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw t1('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=xe.TRUSTED_TYPES_POLICY,E=S.createHTML("")}else S===void 0&&(S=jfe(f,a)),S!==null&&typeof E=="string"&&(E=S.createHTML(""));Mi&&Mi(xe),Va=xe}},gi=Rr({},[...x4,...w4,...Dfe]),sr=Rr({},[...b4,...Rfe]),Za=function(xe){let tt=I(xe);(!tt||!tt.tagName)&&(tt={namespaceURI:br,tagName:"template"});let Bt=mC(xe.tagName),An=mC(tt.tagName);return kr[xe.namespaceURI]?xe.namespaceURI===Zt?tt.namespaceURI===Xt?Bt==="svg":tt.namespaceURI===lr?Bt==="svg"&&(An==="annotation-xml"||tr[An]):!!gi[Bt]:xe.namespaceURI===lr?tt.namespaceURI===Xt?Bt==="math":tt.namespaceURI===Zt?Bt==="math"&&Ur[An]:!!sr[Bt]:xe.namespaceURI===Xt?tt.namespaceURI===Zt&&!Ur[An]||tt.namespaceURI===lr&&!tr[An]?!1:!sr[Bt]&&(Yt[Bt]||!gi[Bt]):!!(Ut==="application/xhtml+xml"&&kr[xe.namespaceURI]):!1},Or=function(xe){Zy(e.removed,{element:xe});try{I(xe).removeChild(xe)}catch{v(xe)}},Vr=function(xe,tt){try{Zy(e.removed,{attribute:tt.getAttributeNode(xe),from:tt})}catch{Zy(e.removed,{attribute:null,from:tt})}if(tt.removeAttribute(xe),xe==="is")if(ft||He)try{Or(tt)}catch{}else try{tt.setAttribute(xe,"")}catch{}},Gn=function(xe){let tt=null,Bt=null;if(Ct)xe="<remove></remove>"+xe;else{let Bn=y4(xe,/^[\r\n\t ]+/);Bt=Bn&&Bn[0]}Ut==="application/xhtml+xml"&&br===Xt&&(xe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xe+"</body></html>");let An=S?S.createHTML(xe):xe;if(br===Xt)try{tt=new d().parseFromString(An,Ut)}catch{}if(!tt||!tt.documentElement){tt=T.createDocument(br,"template",null);try{tt.documentElement.innerHTML=Rt?E:An}catch{}}let Cn=tt.body||tt.documentElement;return xe&&Bt&&Cn.insertBefore(t.createTextNode(Bt),Cn.childNodes[0]||null),br===Xt?k.call(tt,te?"html":"body")[0]:te?tt.documentElement:Cn},ds=function(xe){return U.call(xe.ownerDocument||xe,xe,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},vi=function(xe){return xe instanceof A&&(typeof xe.nodeName!="string"||typeof xe.textContent!="string"||typeof xe.removeChild!="function"||!(xe.attributes instanceof c)||typeof xe.removeAttribute!="function"||typeof xe.setAttribute!="function"||typeof xe.namespaceURI!="string"||typeof xe.insertBefore!="function"||typeof xe.hasChildNodes!="function")},Vo=function(xe){return typeof s=="function"&&xe instanceof s};function aa(Lt,xe,tt){hC(Lt,Bt=>{Bt.call(e,xe,tt,Va)})}let qo=function(xe){let tt=null;if(aa(N.beforeSanitizeElements,xe,null),vi(xe))return Or(xe),!0;let Bt=Ir(xe.nodeName);if(aa(N.uponSanitizeElement,xe,{tagName:Bt,allowedTags:he}),et&&xe.hasChildNodes()&&!Vo(xe.firstElementChild)&&Ri(/<[/\w!]/g,xe.innerHTML)&&Ri(/<[/\w!]/g,xe.textContent)||xe.nodeType===n1.progressingInstruction||et&&xe.nodeType===n1.comment&&Ri(/<[/\w]/g,xe.data))return Or(xe),!0;if(!(Se.tagCheck instanceof Function&&Se.tagCheck(Bt))&&(!he[Bt]||pe[Bt])){if(!pe[Bt]&&eo(Bt)&&(le.tagNameCheck instanceof RegExp&&Ri(le.tagNameCheck,Bt)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Bt)))return!1;if(Mt&&!Ht[Bt]){let An=I(xe)||xe.parentNode,Cn=B(xe)||xe.childNodes;if(Cn&&An){let Bn=Cn.length;for(let Kn=Bn-1;Kn>=0;--Kn){let On=p(Cn[Kn],!0);On.__removalCount=(xe.__removalCount||0)+1,An.insertBefore(On,g(xe))}}}return Or(xe),!0}return xe instanceof u&&!Za(xe)||(Bt==="noscript"||Bt==="noembed"||Bt==="noframes")&&Ri(/<\/no(script|embed|frames)/i,xe.innerHTML)?(Or(xe),!0):(ze&&xe.nodeType===n1.text&&(tt=xe.textContent,hC([P,j,z],An=>{tt=e1(tt,An," ")}),xe.textContent!==tt&&(Zy(e.removed,{element:xe.cloneNode()}),xe.textContent=tt)),aa(N.afterSanitizeElements,xe,null),!1)},Wo=function(xe,tt,Bt){if(at&&(tt==="id"||tt==="name")&&(Bt in t||Bt in pi))return!1;if(!(ke&&!ve[tt]&&Ri(ne,tt))){if(!(me&&Ri(re,tt))){if(!(Se.attributeCheck instanceof Function&&Se.attributeCheck(tt,xe))){if(!H[tt]||ve[tt]){if(!(eo(xe)&&(le.tagNameCheck instanceof RegExp&&Ri(le.tagNameCheck,xe)||le.tagNameCheck instanceof Function&&le.tagNameCheck(xe))&&(le.attributeNameCheck instanceof RegExp&&Ri(le.attributeNameCheck,tt)||le.attributeNameCheck instanceof Function&&le.attributeNameCheck(tt,xe))||tt==="is"&&le.allowCustomizedBuiltInElements&&(le.tagNameCheck instanceof RegExp&&Ri(le.tagNameCheck,Bt)||le.tagNameCheck instanceof Function&&le.tagNameCheck(Bt))))return!1}else if(!ct[tt]){if(!Ri(Z,e1(Bt,J,""))){if(!((tt==="src"||tt==="xlink:href"||tt==="href")&&xe!=="script"&&_fe(Bt,"data:")===0&&mt[xe])){if(!(Re&&!Ri(Y,e1(Bt,J,"")))){if(Bt)return!1}}}}}}}return!0},eo=function(xe){return xe!=="annotation-xml"&&y4(xe,G)},hs=function(xe){aa(N.beforeSanitizeAttributes,xe,null);let{attributes:tt}=xe;if(!tt||vi(xe))return;let Bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0},An=tt.length;for(;An--;){let Cn=tt[An],{name:Bn,namespaceURI:Kn,value:On}=Cn,go=Ir(Bn),cl=On,Qn=Bn==="value"?cl:kfe(cl);if(Bt.attrName=go,Bt.attrValue=Qn,Bt.keepAttr=!0,Bt.forceKeepAttr=void 0,aa(N.uponSanitizeAttribute,xe,Bt),Qn=Bt.attrValue,ht&&(go==="id"||go==="name")&&(Vr(Bn,xe),Qn=dt+Qn),et&&Ri(/((--!?|])>)|<\/(style|title|textarea)/i,Qn)){Vr(Bn,xe);continue}if(go==="attributename"&&y4(Qn,"href")){Vr(Bn,xe);continue}if(Bt.forceKeepAttr)continue;if(!Bt.keepAttr){Vr(Bn,xe);continue}if(!De&&Ri(/\/>/i,Qn)){Vr(Bn,xe);continue}ze&&hC([P,j,z],ps=>{Qn=e1(Qn,ps," ")});let Qs=Ir(xe.nodeName);if(!Wo(Qs,go,Qn)){Vr(Bn,xe);continue}if(S&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Kn)switch(f.getAttributeType(Qs,go)){case"TrustedHTML":{Qn=S.createHTML(Qn);break}case"TrustedScriptURL":{Qn=S.createScriptURL(Qn);break}}if(Qn!==cl)try{Kn?xe.setAttributeNS(Kn,Bn,Qn):xe.setAttribute(Bn,Qn),vi(xe)?Or(xe):_7(e.removed)}catch{Vr(Bn,xe)}}aa(N.afterSanitizeAttributes,xe,null)},Vi=function Lt(xe){let tt=null,Bt=ds(xe);for(aa(N.beforeSanitizeShadowDOM,xe,null);tt=Bt.nextNode();)aa(N.uponSanitizeShadowNode,tt,null),qo(tt),hs(tt),tt.content instanceof o&&Lt(tt.content);aa(N.afterSanitizeShadowDOM,xe,null)};return e.sanitize=function(Lt){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=null,Bt=null,An=null,Cn=null;if(Rt=!Lt,Rt&&(Lt="<!-->"),typeof Lt!="string"&&!Vo(Lt))if(typeof Lt.toString=="function"){if(Lt=Lt.toString(),typeof Lt!="string")throw t1("dirty is not a string, aborting")}else throw t1("toString is not a function");if(!e.isSupported)return Lt;if(je||mi(xe),e.removed=[],typeof Lt=="string"&&(Jt=!1),Jt){if(Lt.nodeName){let On=Ir(Lt.nodeName);if(!he[On]||pe[On])throw t1("root node is forbidden and cannot be sanitized in-place")}}else if(Lt instanceof s)tt=Gn("<!---->"),Bt=tt.ownerDocument.importNode(Lt,!0),Bt.nodeType===n1.element&&Bt.nodeName==="BODY"||Bt.nodeName==="HTML"?tt=Bt:tt.appendChild(Bt);else{if(!ft&&!ze&&!te&&Lt.indexOf("<")===-1)return S&&vt?S.createHTML(Lt):Lt;if(tt=Gn(Lt),!tt)return ft?null:vt?E:""}tt&&Ct&&Or(tt.firstChild);let Bn=ds(Jt?Lt:tt);for(;An=Bn.nextNode();)qo(An),hs(An),An.content instanceof o&&Vi(An.content);if(Jt)return Lt;if(ft){if(He)for(Cn=D.call(tt.ownerDocument);tt.firstChild;)Cn.appendChild(tt.firstChild);else Cn=tt;return(H.shadowroot||H.shadowrootmode)&&(Cn=O.call(n,Cn,!0)),Cn}let Kn=te?tt.outerHTML:tt.innerHTML;return te&&he["!doctype"]&&tt.ownerDocument&&tt.ownerDocument.doctype&&tt.ownerDocument.doctype.name&&Ri(Q7,tt.ownerDocument.doctype.name)&&(Kn="<!DOCTYPE "+tt.ownerDocument.doctype.name+`>
`+Kn),ze&&hC([P,j,z],On=>{Kn=e1(Kn,On," ")}),S&&vt?S.createHTML(Kn):Kn},e.setConfig=function(){let Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mi(Lt),je=!0},e.clearConfig=function(){Va=null,je=!1},e.isValidAttribute=function(Lt,xe,tt){Va||mi({});let Bt=Ir(Lt),An=Ir(xe);return Wo(Bt,An,tt)},e.addHook=function(Lt,xe){typeof xe=="function"&&Zy(N[Lt],xe)},e.removeHook=function(Lt,xe){if(xe!==void 0){let tt=Ffe(N[Lt],xe);return tt===-1?void 0:Tfe(N[Lt],tt,1)[0]}return _7(N[Lt])},e.removeHooks=function(Lt){N[Lt]=[]},e.removeAllHooks=function(){N=M7()},e}var U7,T7,Ife,Efe,Lfe,Mi,pu,B4,S4,I4,hC,Ffe,_7,Zy,Tfe,mC,v4,y4,e1,_fe,kfe,el,Ri,t1,k7,x4,w4,Dfe,b4,Rfe,N7,P7,C4,D7,pC,Mfe,Ufe,Ofe,Qfe,Hfe,O7,Vfe,qfe,Q7,Wfe,R7,n1,zfe,jfe,M7,Gfe,q7=en(()=>{({entries:U7,setPrototypeOf:T7,isFrozen:Ife,getPrototypeOf:Efe,getOwnPropertyDescriptor:Lfe}=Object),{freeze:Mi,seal:pu,create:B4}=Object,{apply:S4,construct:I4}=typeof Reflect<"u"&&Reflect;Mi||(Mi=function(e){return e});pu||(pu=function(e){return e});S4||(S4=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e.apply(t,a)});I4||(I4=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new e(...n)});hC=Ui(Array.prototype.forEach),Ffe=Ui(Array.prototype.lastIndexOf),_7=Ui(Array.prototype.pop),Zy=Ui(Array.prototype.push),Tfe=Ui(Array.prototype.splice),mC=Ui(String.prototype.toLowerCase),v4=Ui(String.prototype.toString),y4=Ui(String.prototype.match),e1=Ui(String.prototype.replace),_fe=Ui(String.prototype.indexOf),kfe=Ui(String.prototype.trim),el=Ui(Object.prototype.hasOwnProperty),Ri=Ui(RegExp.prototype.test),t1=Nfe(TypeError);k7=Mi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x4=Mi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),w4=Mi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dfe=Mi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),b4=Mi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Rfe=Mi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),N7=Mi(["#text"]),P7=Mi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),C4=Mi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D7=Mi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),pC=Mi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mfe=pu(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ufe=pu(/<%[\w\W]*|[\w\W]*%>/gm),Ofe=pu(/\$\{[\w\W]*/gm),Qfe=pu(/^data-[\-\w.\u00B7-\uFFFF]+$/),Hfe=pu(/^aria-[\-\w]+$/),O7=pu(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vfe=pu(/^(?:\w+script|data):/i),qfe=pu(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q7=pu(/^html$/i),Wfe=pu(/^[a-z][.\w]*(-[.\w]+)+$/i),R7=Object.freeze({__proto__:null,ARIA_ATTR:Hfe,ATTR_WHITESPACE:qfe,CUSTOM_ELEMENT:Wfe,DATA_ATTR:Qfe,DOCTYPE_NAME:Q7,ERB_EXPR:Ufe,IS_ALLOWED_URI:O7,IS_SCRIPT_OR_DATA:Vfe,MUSTACHE_EXPR:Mfe,TMPLIT_EXPR:Ofe}),n1={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},zfe=function(){return typeof window>"u"?null:window},jfe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null,a="data-tt-policy-suffix";t&&t.hasAttribute(a)&&(n=t.getAttribute(a));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},M7=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};Gfe=H7()});var zn=we((E4,W7)=>{"use strict";var a1=function(r){return r&&r.Math===Math&&r};W7.exports=a1(typeof globalThis=="object"&&globalThis)||a1(typeof window=="object"&&window)||a1(typeof self=="object"&&self)||a1(typeof global=="object"&&global)||a1(typeof E4=="object"&&E4)||(function(){return this})()||Function("return this")()});var da=we((F$e,z7)=>{"use strict";z7.exports=function(r){try{return!!r()}catch{return!0}}});var mu=we((T$e,j7)=>{"use strict";var Kfe=da();j7.exports=!Kfe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var o1=we((_$e,G7)=>{"use strict";var Xfe=da();G7.exports=!Xfe(function(){var r=(function(){}).bind();return typeof r!="function"||r.hasOwnProperty("prototype")})});var Fo=we((k$e,K7)=>{"use strict";var Yfe=o1(),gC=Function.prototype.call;K7.exports=Yfe?gC.bind(gC):function(){return gC.apply(gC,arguments)}});var J7=we($7=>{"use strict";var X7={}.propertyIsEnumerable,Y7=Object.getOwnPropertyDescriptor,$fe=Y7&&!X7.call({1:2},1);$7.f=$fe?function(e){var t=Y7(this,e);return!!t&&t.enumerable}:X7});var vC=we((P$e,Z7)=>{"use strict";Z7.exports=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}});var ha=we((D$e,rV)=>{"use strict";var eV=o1(),tV=Function.prototype,L4=tV.call,Jfe=eV&&tV.bind.bind(L4,L4);rV.exports=eV?Jfe:function(r){return function(){return L4.apply(r,arguments)}}});var df=we((R$e,aV)=>{"use strict";var nV=ha(),Zfe=nV({}.toString),ede=nV("".slice);aV.exports=function(r){return ede(Zfe(r),8,-1)}});var T4=we((M$e,oV)=>{"use strict";var tde=ha(),rde=da(),nde=df(),F4=Object,ade=tde("".split);oV.exports=rde(function(){return!F4("z").propertyIsEnumerable(0)})?function(r){return nde(r)==="String"?ade(r,""):F4(r)}:F4});var i1=we((U$e,iV)=>{"use strict";iV.exports=function(r){return r==null}});var gu=we((O$e,sV)=>{"use strict";var ode=i1(),ide=TypeError;sV.exports=function(r){if(ode(r))throw new ide("Can't call method on "+r);return r}});var Jm=we((Q$e,uV)=>{"use strict";var sde=T4(),ude=gu();uV.exports=function(r){return sde(ude(r))}});var ba=we((H$e,lV)=>{"use strict";var _4=typeof document=="object"&&document.all;lV.exports=typeof _4>"u"&&_4!==void 0?function(r){return typeof r=="function"||r===_4}:function(r){return typeof r=="function"}});var Oi=we((V$e,cV)=>{"use strict";var lde=ba();cV.exports=function(r){return typeof r=="object"?r!==null:lde(r)}});var hf=we((q$e,AV)=>{"use strict";var k4=zn(),cde=ba(),Ade=function(r){return cde(r)?r:void 0};AV.exports=function(r,e){return arguments.length<2?Ade(k4[r]):k4[r]&&k4[r][e]}});var s1=we((W$e,fV)=>{"use strict";var fde=ha();fV.exports=fde({}.isPrototypeOf)});var Zm=we((z$e,pV)=>{"use strict";var dde=zn(),dV=dde.navigator,hV=dV&&dV.userAgent;pV.exports=hV?String(hV):""});var xC=we((j$e,wV)=>{"use strict";var xV=zn(),N4=Zm(),mV=xV.process,gV=xV.Deno,vV=mV&&mV.versions||gV&&gV.version,yV=vV&&vV.v8,tl,yC;yV&&(tl=yV.split("."),yC=tl[0]>0&&tl[0]<4?1:+(tl[0]+tl[1]));!yC&&N4&&(tl=N4.match(/Edge\/(\d+)/),(!tl||tl[1]>=74)&&(tl=N4.match(/Chrome\/(\d+)/),tl&&(yC=+tl[1])));wV.exports=yC});var P4=we((G$e,CV)=>{"use strict";var bV=xC(),hde=da(),pde=zn(),mde=pde.String;CV.exports=!!Object.getOwnPropertySymbols&&!hde(function(){var r=Symbol("symbol detection");return!mde(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&bV&&bV<41})});var D4=we((K$e,BV)=>{"use strict";var gde=P4();BV.exports=gde&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var R4=we((X$e,SV)=>{"use strict";var vde=hf(),yde=ba(),xde=s1(),wde=D4(),bde=Object;SV.exports=wde?function(r){return typeof r=="symbol"}:function(r){var e=vde("Symbol");return yde(e)&&xde(e.prototype,bde(r))}});var u1=we((Y$e,IV)=>{"use strict";var Cde=String;IV.exports=function(r){try{return Cde(r)}catch{return"Object"}}});var Vl=we(($$e,EV)=>{"use strict";var Bde=ba(),Sde=u1(),Ide=TypeError;EV.exports=function(r){if(Bde(r))return r;throw new Ide(Sde(r)+" is not a function")}});var ih=we((J$e,LV)=>{"use strict";var Ede=Vl(),Lde=i1();LV.exports=function(r,e){var t=r[e];return Lde(t)?void 0:Ede(t)}});var TV=we((Z$e,FV)=>{"use strict";var M4=Fo(),U4=ba(),O4=Oi(),Fde=TypeError;FV.exports=function(r,e){var t,n;if(e==="string"&&U4(t=r.toString)&&!O4(n=M4(t,r))||U4(t=r.valueOf)&&!O4(n=M4(t,r))||e!=="string"&&U4(t=r.toString)&&!O4(n=M4(t,r)))return n;throw new Fde("Can't convert object to primitive value")}});var rl=we((eJe,_V)=>{"use strict";_V.exports=!1});var wC=we((tJe,NV)=>{"use strict";var kV=zn(),Tde=Object.defineProperty;NV.exports=function(r,e){try{Tde(kV,r,{value:e,configurable:!0,writable:!0})}catch{kV[r]=e}return e}});var bC=we((rJe,RV)=>{"use strict";var _de=rl(),kde=zn(),Nde=wC(),PV="__core-js_shared__",DV=RV.exports=kde[PV]||Nde(PV,{});(DV.versions||(DV.versions=[])).push({version:"3.47.0",mode:_de?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var CC=we((nJe,UV)=>{"use strict";var MV=bC();UV.exports=function(r,e){return MV[r]||(MV[r]=e||{})}});var l1=we((aJe,OV)=>{"use strict";var Pde=gu(),Dde=Object;OV.exports=function(r){return Dde(Pde(r))}});var vu=we((oJe,QV)=>{"use strict";var Rde=ha(),Mde=l1(),Ude=Rde({}.hasOwnProperty);QV.exports=Object.hasOwn||function(e,t){return Ude(Mde(e),t)}});var Q4=we((iJe,HV)=>{"use strict";var Ode=ha(),Qde=0,Hde=Math.random(),Vde=Ode(1.1.toString);HV.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+Vde(++Qde+Hde,36)}});var po=we((sJe,qV)=>{"use strict";var qde=zn(),Wde=CC(),VV=vu(),zde=Q4(),jde=P4(),Gde=D4(),eg=qde.Symbol,H4=Wde("wks"),Kde=Gde?eg.for||eg:eg&&eg.withoutSetter||zde;qV.exports=function(r){return VV(H4,r)||(H4[r]=jde&&VV(eg,r)?eg[r]:Kde("Symbol."+r)),H4[r]}});var GV=we((uJe,jV)=>{"use strict";var Xde=Fo(),WV=Oi(),zV=R4(),Yde=ih(),$de=TV(),Jde=po(),Zde=TypeError,ehe=Jde("toPrimitive");jV.exports=function(r,e){if(!WV(r)||zV(r))return r;var t=Yde(r,ehe),n;if(t){if(e===void 0&&(e="default"),n=Xde(t,r,e),!WV(n)||zV(n))return n;throw new Zde("Can't convert object to primitive value")}return e===void 0&&(e="number"),$de(r,e)}});var V4=we((lJe,KV)=>{"use strict";var the=GV(),rhe=R4();KV.exports=function(r){var e=the(r,"string");return rhe(e)?e:e+""}});var c1=we((cJe,YV)=>{"use strict";var nhe=zn(),XV=Oi(),q4=nhe.document,ahe=XV(q4)&&XV(q4.createElement);YV.exports=function(r){return ahe?q4.createElement(r):{}}});var W4=we((AJe,$V)=>{"use strict";var ohe=mu(),ihe=da(),she=c1();$V.exports=!ohe&&!ihe(function(){return Object.defineProperty(she("div"),"a",{get:function(){return 7}}).a!==7})});var A1=we(ZV=>{"use strict";var uhe=mu(),lhe=Fo(),che=J7(),Ahe=vC(),fhe=Jm(),dhe=V4(),hhe=vu(),phe=W4(),JV=Object.getOwnPropertyDescriptor;ZV.f=uhe?JV:function(e,t){if(e=fhe(e),t=dhe(t),phe)try{return JV(e,t)}catch{}if(hhe(e,t))return Ahe(!lhe(che.f,e,t),e[t])}});var z4=we((dJe,eq)=>{"use strict";var mhe=mu(),ghe=da();eq.exports=mhe&&ghe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var ui=we((hJe,tq)=>{"use strict";var vhe=Oi(),yhe=String,xhe=TypeError;tq.exports=function(r){if(vhe(r))return r;throw new xhe(yhe(r)+" is not an object")}});var $c=we(nq=>{"use strict";var whe=mu(),bhe=W4(),Che=z4(),BC=ui(),rq=V4(),Bhe=TypeError,j4=Object.defineProperty,She=Object.getOwnPropertyDescriptor,G4="enumerable",K4="configurable",X4="writable";nq.f=whe?Che?function(e,t,n){if(BC(e),t=rq(t),BC(n),typeof e=="function"&&t==="prototype"&&"value"in n&&X4 in n&&!n[X4]){var a=She(e,t);a&&a[X4]&&(e[t]=n.value,n={configurable:K4 in n?n[K4]:a[K4],enumerable:G4 in n?n[G4]:a[G4],writable:!1})}return j4(e,t,n)}:j4:function(e,t,n){if(BC(e),t=rq(t),BC(n),bhe)try{return j4(e,t,n)}catch{}if("get"in n||"set"in n)throw new Bhe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}});var tg=we((mJe,aq)=>{"use strict";var Ihe=mu(),Ehe=$c(),Lhe=vC();aq.exports=Ihe?function(r,e,t){return Ehe.f(r,e,Lhe(1,t))}:function(r,e,t){return r[e]=t,r}});var f1=we((gJe,iq)=>{"use strict";var Y4=mu(),Fhe=vu(),oq=Function.prototype,The=Y4&&Object.getOwnPropertyDescriptor,$4=Fhe(oq,"name"),_he=$4&&(function(){}).name==="something",khe=$4&&(!Y4||Y4&&The(oq,"name").configurable);iq.exports={EXISTS:$4,PROPER:_he,CONFIGURABLE:khe}});var SC=we((vJe,sq)=>{"use strict";var Nhe=ha(),Phe=ba(),J4=bC(),Dhe=Nhe(Function.toString);Phe(J4.inspectSource)||(J4.inspectSource=function(r){return Dhe(r)});sq.exports=J4.inspectSource});var cq=we((yJe,lq)=>{"use strict";var Rhe=zn(),Mhe=ba(),uq=Rhe.WeakMap;lq.exports=Mhe(uq)&&/native code/.test(String(uq))});var IC=we((xJe,fq)=>{"use strict";var Uhe=CC(),Ohe=Q4(),Aq=Uhe("keys");fq.exports=function(r){return Aq[r]||(Aq[r]=Ohe(r))}});var EC=we((wJe,dq)=>{"use strict";dq.exports={}});var h1=we((bJe,mq)=>{"use strict";var Qhe=cq(),pq=zn(),Hhe=Oi(),Vhe=tg(),Z4=vu(),eT=bC(),qhe=IC(),Whe=EC(),hq="Object already initialized",tT=pq.TypeError,zhe=pq.WeakMap,LC,d1,FC,jhe=function(r){return FC(r)?d1(r):LC(r,{})},Ghe=function(r){return function(e){var t;if(!Hhe(e)||(t=d1(e)).type!==r)throw new tT("Incompatible receiver, "+r+" required");return t}};Qhe||eT.state?(nl=eT.state||(eT.state=new zhe),nl.get=nl.get,nl.has=nl.has,nl.set=nl.set,LC=function(r,e){if(nl.has(r))throw new tT(hq);return e.facade=r,nl.set(r,e),e},d1=function(r){return nl.get(r)||{}},FC=function(r){return nl.has(r)}):(sh=qhe("state"),Whe[sh]=!0,LC=function(r,e){if(Z4(r,sh))throw new tT(hq);return e.facade=r,Vhe(r,sh,e),e},d1=function(r){return Z4(r,sh)?r[sh]:{}},FC=function(r){return Z4(r,sh)});var nl,sh;mq.exports={set:LC,get:d1,has:FC,enforce:jhe,getterFor:Ghe}});var aT=we((CJe,yq)=>{"use strict";var nT=ha(),Khe=da(),Xhe=ba(),TC=vu(),rT=mu(),Yhe=f1().CONFIGURABLE,$he=SC(),vq=h1(),Jhe=vq.enforce,Zhe=vq.get,gq=String,_C=Object.defineProperty,epe=nT("".slice),tpe=nT("".replace),rpe=nT([].join),npe=rT&&!Khe(function(){return _C(function(){},"length",{value:8}).length!==8}),ape=String(String).split("String"),ope=yq.exports=function(r,e,t){epe(gq(e),0,7)==="Symbol("&&(e="["+tpe(gq(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!TC(r,"name")||Yhe&&r.name!==e)&&(rT?_C(r,"name",{value:e,configurable:!0}):r.name=e),npe&&t&&TC(t,"arity")&&r.length!==t.arity&&_C(r,"length",{value:t.arity});try{t&&TC(t,"constructor")&&t.constructor?rT&&_C(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch{}var n=Jhe(r);return TC(n,"source")||(n.source=rpe(ape,typeof e=="string"?e:"")),r};Function.prototype.toString=ope(function(){return Xhe(this)&&Zhe(this).source||$he(this)},"toString")});var pf=we((BJe,xq)=>{"use strict";var ipe=ba(),spe=$c(),upe=aT(),lpe=wC();xq.exports=function(r,e,t,n){n||(n={});var a=n.enumerable,o=n.name!==void 0?n.name:e;if(ipe(t)&&upe(t,o,n),n.global)a?r[e]=t:lpe(e,t);else{try{n.unsafe?r[e]&&(a=!0):delete r[e]}catch{}a?r[e]=t:spe.f(r,e,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return r}});var bq=we((SJe,wq)=>{"use strict";var cpe=Math.ceil,Ape=Math.floor;wq.exports=Math.trunc||function(e){var t=+e;return(t>0?Ape:cpe)(t)}});var p1=we((IJe,Cq)=>{"use strict";var fpe=bq();Cq.exports=function(r){var e=+r;return e!==e||e===0?0:fpe(e)}});var Sq=we((EJe,Bq)=>{"use strict";var dpe=p1(),hpe=Math.max,ppe=Math.min;Bq.exports=function(r,e){var t=dpe(r);return t<0?hpe(t+e,0):ppe(t,e)}});var uh=we((LJe,Iq)=>{"use strict";var mpe=p1(),gpe=Math.min;Iq.exports=function(r){var e=mpe(r);return e>0?gpe(e,9007199254740991):0}});var kC=we((FJe,Eq)=>{"use strict";var vpe=uh();Eq.exports=function(r){return vpe(r.length)}});var oT=we((TJe,Fq)=>{"use strict";var ype=Jm(),xpe=Sq(),wpe=kC(),Lq=function(r){return function(e,t,n){var a=ype(e),o=wpe(a);if(o===0)return!r&&-1;var i=xpe(n,o),s;if(r&&t!==t){for(;o>i;)if(s=a[i++],s!==s)return!0}else for(;o>i;i++)if((r||i in a)&&a[i]===t)return r||i||0;return!r&&-1}};Fq.exports={includes:Lq(!0),indexOf:Lq(!1)}});var sT=we((_Je,_q)=>{"use strict";var bpe=ha(),iT=vu(),Cpe=Jm(),Bpe=oT().indexOf,Spe=EC(),Tq=bpe([].push);_q.exports=function(r,e){var t=Cpe(r),n=0,a=[],o;for(o in t)!iT(Spe,o)&&iT(t,o)&&Tq(a,o);for(;e.length>n;)iT(t,o=e[n++])&&(~Bpe(a,o)||Tq(a,o));return a}});var NC=we((kJe,kq)=>{"use strict";kq.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Pq=we(Nq=>{"use strict";var Ipe=sT(),Epe=NC(),Lpe=Epe.concat("length","prototype");Nq.f=Object.getOwnPropertyNames||function(e){return Ipe(e,Lpe)}});var Rq=we(Dq=>{"use strict";Dq.f=Object.getOwnPropertySymbols});var Uq=we((DJe,Mq)=>{"use strict";var Fpe=hf(),Tpe=ha(),_pe=Pq(),kpe=Rq(),Npe=ui(),Ppe=Tpe([].concat);Mq.exports=Fpe("Reflect","ownKeys")||function(e){var t=_pe.f(Npe(e)),n=kpe.f;return n?Ppe(t,n(e)):t}});var Hq=we((RJe,Qq)=>{"use strict";var Oq=vu(),Dpe=Uq(),Rpe=A1(),Mpe=$c();Qq.exports=function(r,e,t){for(var n=Dpe(e),a=Mpe.f,o=Rpe.f,i=0;i<n.length;i++){var s=n[i];!Oq(r,s)&&!(t&&Oq(t,s))&&a(r,s,o(e,s))}}});var uT=we((MJe,Vq)=>{"use strict";var Upe=da(),Ope=ba(),Qpe=/#|\.prototype\./,m1=function(r,e){var t=Vpe[Hpe(r)];return t===Wpe?!0:t===qpe?!1:Ope(e)?Upe(e):!!e},Hpe=m1.normalize=function(r){return String(r).replace(Qpe,".").toLowerCase()},Vpe=m1.data={},qpe=m1.NATIVE="N",Wpe=m1.POLYFILL="P";Vq.exports=m1});var li=we((UJe,qq)=>{"use strict";var PC=zn(),zpe=A1().f,jpe=tg(),Gpe=pf(),Kpe=wC(),Xpe=Hq(),Ype=uT();qq.exports=function(r,e){var t=r.target,n=r.global,a=r.stat,o,i,s,u,l,c;if(n?i=PC:a?i=PC[t]||Kpe(t,{}):i=PC[t]&&PC[t].prototype,i)for(s in e){if(l=e[s],r.dontCallGetSet?(c=zpe(i,s),u=c&&c.value):u=i[s],o=Ype(n?s:t+(a?".":"#")+s,r.forced),!o&&u!==void 0){if(typeof l==typeof u)continue;Xpe(l,u)}(r.sham||u&&u.sham)&&jpe(l,"sham",!0),Gpe(i,s,l,r)}}});var lT=we((OJe,Wq)=>{"use strict";var g1=zn(),$pe=Zm(),Jpe=df(),DC=function(r){return $pe.slice(0,r.length)===r};Wq.exports=(function(){return DC("Bun/")?"BUN":DC("Cloudflare-Workers")?"CLOUDFLARE":DC("Deno/")?"DENO":DC("Node.js/")?"NODE":g1.Bun&&typeof Bun.version=="string"?"BUN":g1.Deno&&typeof Deno.version=="object"?"DENO":Jpe(g1.process)==="process"?"NODE":g1.window&&g1.document?"BROWSER":"REST"})()});var v1=we((QJe,zq)=>{"use strict";var Zpe=lT();zq.exports=Zpe==="NODE"});var Gq=we((HJe,jq)=>{"use strict";var eme=zn();jq.exports=eme});var Xq=we((VJe,Kq)=>{"use strict";var tme=ha(),rme=Vl();Kq.exports=function(r,e,t){try{return tme(rme(Object.getOwnPropertyDescriptor(r,e)[t]))}catch{}}});var $q=we((qJe,Yq)=>{"use strict";var nme=Oi();Yq.exports=function(r){return nme(r)||r===null}});var Zq=we((WJe,Jq)=>{"use strict";var ame=$q(),ome=String,ime=TypeError;Jq.exports=function(r){if(ame(r))return r;throw new ime("Can't set "+ome(r)+" as a prototype")}});var cT=we((zJe,eW)=>{"use strict";var sme=Xq(),ume=Oi(),lme=gu(),cme=Zq();eW.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var r=!1,e={},t;try{t=sme(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch{}return function(a,o){return lme(a),cme(o),ume(a)&&(r?t(a,o):a.__proto__=o),a}})():void 0)});var y1=we((jJe,rW)=>{"use strict";var Ame=$c().f,fme=vu(),dme=po(),tW=dme("toStringTag");rW.exports=function(r,e,t){r&&!t&&(r=r.prototype),r&&!fme(r,tW)&&Ame(r,tW,{configurable:!0,value:e})}});var oW=we((GJe,aW)=>{"use strict";var nW=aT(),hme=$c();aW.exports=function(r,e,t){return t.get&&nW(t.get,e,{getter:!0}),t.set&&nW(t.set,e,{setter:!0}),hme.f(r,e,t)}});var uW=we((KJe,sW)=>{"use strict";var pme=hf(),mme=oW(),gme=po(),vme=mu(),iW=gme("species");sW.exports=function(r){var e=pme(r);vme&&e&&!e[iW]&&mme(e,iW,{configurable:!0,get:function(){return this}})}});var cW=we((XJe,lW)=>{"use strict";var yme=s1(),xme=TypeError;lW.exports=function(r,e){if(yme(e,r))return r;throw new xme("Incorrect invocation")}});var dW=we((YJe,fW)=>{"use strict";var wme=po(),bme=wme("toStringTag"),AW={};AW[bme]="z";fW.exports=String(AW)==="[object z]"});var MC=we(($Je,hW)=>{"use strict";var Cme=dW(),Bme=ba(),RC=df(),Sme=po(),Ime=Sme("toStringTag"),Eme=Object,Lme=RC((function(){return arguments})())==="Arguments",Fme=function(r,e){try{return r[e]}catch{}};hW.exports=Cme?RC:function(r){var e,t,n;return r===void 0?"Undefined":r===null?"Null":typeof(t=Fme(e=Eme(r),Ime))=="string"?t:Lme?RC(e):(n=RC(e))==="Object"&&Bme(e.callee)?"Arguments":n}});var xW=we((JJe,yW)=>{"use strict";var Tme=ha(),_me=da(),pW=ba(),kme=MC(),Nme=hf(),Pme=SC(),mW=function(){},gW=Nme("Reflect","construct"),AT=/^\s*(?:class|function)\b/,Dme=Tme(AT.exec),Rme=!AT.test(mW),x1=function(e){if(!pW(e))return!1;try{return gW(mW,[],e),!0}catch{return!1}},vW=function(e){if(!pW(e))return!1;switch(kme(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Rme||!!Dme(AT,Pme(e))}catch{return!0}};vW.sham=!0;yW.exports=!gW||_me(function(){var r;return x1(x1.call)||!x1(Object)||!x1(function(){r=!0})||r})?vW:x1});var bW=we((ZJe,wW)=>{"use strict";var Mme=xW(),Ume=u1(),Ome=TypeError;wW.exports=function(r){if(Mme(r))return r;throw new Ome(Ume(r)+" is not a constructor")}});var fT=we((eZe,BW)=>{"use strict";var CW=ui(),Qme=bW(),Hme=i1(),Vme=po(),qme=Vme("species");BW.exports=function(r,e){var t=CW(r).constructor,n;return t===void 0||Hme(n=CW(t)[qme])?e:Qme(n)}});var dT=we((tZe,LW)=>{"use strict";var Wme=o1(),EW=Function.prototype,SW=EW.apply,IW=EW.call;LW.exports=typeof Reflect=="object"&&Reflect.apply||(Wme?IW.bind(SW):function(){return IW.apply(SW,arguments)})});var w1=we((rZe,FW)=>{"use strict";var zme=df(),jme=ha();FW.exports=function(r){if(zme(r)==="Function")return jme(r)}});var UC=we((nZe,_W)=>{"use strict";var TW=w1(),Gme=Vl(),Kme=o1(),Xme=TW(TW.bind);_W.exports=function(r,e){return Gme(r),e===void 0?r:Kme?Xme(r,e):function(){return r.apply(e,arguments)}}});var hT=we((aZe,kW)=>{"use strict";var Yme=hf();kW.exports=Yme("document","documentElement")});var PW=we((oZe,NW)=>{"use strict";var $me=ha();NW.exports=$me([].slice)});var RW=we((iZe,DW)=>{"use strict";var Jme=TypeError;DW.exports=function(r,e){if(r<e)throw new Jme("Not enough arguments");return r}});var pT=we((sZe,MW)=>{"use strict";var Zme=Zm();MW.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(Zme)});var BT=we((uZe,jW)=>{"use strict";var Os=zn(),ege=dT(),tge=UC(),UW=ba(),rge=vu(),zW=da(),OW=hT(),nge=PW(),QW=c1(),age=RW(),oge=pT(),ige=v1(),wT=Os.setImmediate,bT=Os.clearImmediate,sge=Os.process,mT=Os.Dispatch,uge=Os.Function,HW=Os.MessageChannel,lge=Os.String,gT=0,b1={},VW="onreadystatechange",C1,lh,vT,yT;zW(function(){C1=Os.location});var CT=function(r){if(rge(b1,r)){var e=b1[r];delete b1[r],e()}},xT=function(r){return function(){CT(r)}},qW=function(r){CT(r.data)},WW=function(r){Os.postMessage(lge(r),C1.protocol+"//"+C1.host)};(!wT||!bT)&&(wT=function(e){age(arguments.length,1);var t=UW(e)?e:uge(e),n=nge(arguments,1);return b1[++gT]=function(){ege(t,void 0,n)},lh(gT),gT},bT=function(e){delete b1[e]},ige?lh=function(r){sge.nextTick(xT(r))}:mT&&mT.now?lh=function(r){mT.now(xT(r))}:HW&&!oge?(vT=new HW,yT=vT.port2,vT.port1.onmessage=qW,lh=tge(yT.postMessage,yT)):Os.addEventListener&&UW(Os.postMessage)&&!Os.importScripts&&C1&&C1.protocol!=="file:"&&!zW(WW)?(lh=WW,Os.addEventListener("message",qW,!1)):VW in QW("script")?lh=function(r){OW.appendChild(QW("script"))[VW]=function(){OW.removeChild(this),CT(r)}}:lh=function(r){setTimeout(xT(r),0)});jW.exports={set:wT,clear:bT}});var XW=we((lZe,KW)=>{"use strict";var GW=zn(),cge=mu(),Age=Object.getOwnPropertyDescriptor;KW.exports=function(r){if(!cge)return GW[r];var e=Age(GW,r);return e&&e.value}});var ST=we((cZe,$W)=>{"use strict";var YW=function(){this.head=null,this.tail=null};YW.prototype={add:function(r){var e={item:r,next:null},t=this.tail;t?t.next=e:this.head=e,this.tail=e},get:function(){var r=this.head;if(r){var e=this.head=r.next;return e===null&&(this.tail=null),r.item}}};$W.exports=YW});var ZW=we((AZe,JW)=>{"use strict";var fge=Zm();JW.exports=/ipad|iphone|ipod/i.test(fge)&&typeof Pebble<"u"});var tz=we((fZe,ez)=>{"use strict";var dge=Zm();ez.exports=/web0s(?!.*chrome)/i.test(dge)});var uz=we((dZe,sz)=>{"use strict";var ng=zn(),hge=XW(),rz=UC(),IT=BT().set,pge=ST(),mge=pT(),gge=ZW(),vge=tz(),ET=v1(),nz=ng.MutationObserver||ng.WebKitMutationObserver,az=ng.document,oz=ng.process,OC=ng.Promise,TT=hge("queueMicrotask"),rg,LT,FT,QC,iz;TT||(B1=new pge,S1=function(){var r,e;for(ET&&(r=oz.domain)&&r.exit();e=B1.get();)try{e()}catch(t){throw B1.head&&rg(),t}r&&r.enter()},!mge&&!ET&&!vge&&nz&&az?(LT=!0,FT=az.createTextNode(""),new nz(S1).observe(FT,{characterData:!0}),rg=function(){FT.data=LT=!LT}):!gge&&OC&&OC.resolve?(QC=OC.resolve(void 0),QC.constructor=OC,iz=rz(QC.then,QC),rg=function(){iz(S1)}):ET?rg=function(){oz.nextTick(S1)}:(IT=rz(IT,ng),rg=function(){IT(S1)}),TT=function(r){B1.head||rg(),B1.add(r)});var B1,S1;sz.exports=TT});var cz=we((hZe,lz)=>{"use strict";lz.exports=function(r,e){try{arguments.length===1?console.error(r):console.error(r,e)}catch{}}});var HC=we((pZe,Az)=>{"use strict";Az.exports=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}}});var ag=we((mZe,fz)=>{"use strict";var yge=zn();fz.exports=yge.Promise});var og=we((gZe,mz)=>{"use strict";var xge=zn(),I1=ag(),wge=ba(),bge=uT(),Cge=SC(),Bge=po(),dz=lT(),Sge=rl(),_T=xC(),hz=I1&&I1.prototype,Ige=Bge("species"),kT=!1,pz=wge(xge.PromiseRejectionEvent),Ege=bge("Promise",function(){var r=Cge(I1),e=r!==String(I1);if(!e&&_T===66||Sge&&!(hz.catch&&hz.finally))return!0;if(!_T||_T<51||!/native code/.test(r)){var t=new I1(function(o){o(1)}),n=function(o){o(function(){},function(){})},a=t.constructor={};if(a[Ige]=n,kT=t.then(function(){})instanceof n,!kT)return!0}return!e&&(dz==="BROWSER"||dz==="DENO")&&!pz});mz.exports={CONSTRUCTOR:Ege,REJECTION_EVENT:pz,SUBCLASSING:kT}});var ig=we((vZe,vz)=>{"use strict";var gz=Vl(),Lge=TypeError,Fge=function(r){var e,t;this.promise=new r(function(n,a){if(e!==void 0||t!==void 0)throw new Lge("Bad Promise constructor");e=n,t=a}),this.resolve=gz(e),this.reject=gz(t)};vz.exports.f=function(r){return new Fge(r)}});var Uz=we(()=>{"use strict";var Tge=li(),_ge=rl(),zC=v1(),mf=zn(),kge=Gq(),cg=Fo(),yz=pf(),xz=cT(),Nge=y1(),Pge=uW(),Dge=Vl(),WC=ba(),Rge=Oi(),Mge=cW(),Uge=fT(),Sz=BT().set,MT=uz(),Oge=cz(),Qge=HC(),Hge=ST(),Iz=h1(),jC=ag(),UT=og(),Ez=ig(),GC="Promise",Lz=UT.CONSTRUCTOR,Vge=UT.REJECTION_EVENT,qge=UT.SUBCLASSING,NT=Iz.getterFor(GC),Wge=Iz.set,sg=jC&&jC.prototype,ch=jC,VC=sg,Fz=mf.TypeError,PT=mf.document,OT=mf.process,DT=Ez.f,zge=DT,jge=!!(PT&&PT.createEvent&&mf.dispatchEvent),Tz="unhandledrejection",Gge="rejectionhandled",wz=0,_z=1,Kge=2,QT=1,kz=2,qC,bz,Nz,Cz,Pz=function(r){var e;return Rge(r)&&WC(e=r.then)?e:!1},Dz=function(r,e){var t=e.value,n=e.state===_z,a=n?r.ok:r.fail,o=r.resolve,i=r.reject,s=r.domain,u,l,c;try{a?(n||(e.rejection===kz&&Yge(e),e.rejection=QT),a===!0?u=t:(s&&s.enter(),u=a(t),s&&(s.exit(),c=!0)),u===r.promise?i(new Fz("Promise-chain cycle")):(l=Pz(u))?cg(l,u,o,i):o(u)):i(t)}catch(A){s&&!c&&s.exit(),i(A)}},Rz=function(r,e){r.notified||(r.notified=!0,MT(function(){for(var t=r.reactions,n;n=t.get();)Dz(n,r);r.notified=!1,e&&!r.rejection&&Xge(r)}))},Mz=function(r,e,t){var n,a;jge?(n=PT.createEvent("Event"),n.promise=e,n.reason=t,n.initEvent(r,!1,!0),mf.dispatchEvent(n)):n={promise:e,reason:t},!Vge&&(a=mf["on"+r])?a(n):r===Tz&&Oge("Unhandled promise rejection",t)},Xge=function(r){cg(Sz,mf,function(){var e=r.facade,t=r.value,n=Bz(r),a;if(n&&(a=Qge(function(){zC?OT.emit("unhandledRejection",t,e):Mz(Tz,e,t)}),r.rejection=zC||Bz(r)?kz:QT,a.error))throw a.value})},Bz=function(r){return r.rejection!==QT&&!r.parent},Yge=function(r){cg(Sz,mf,function(){var e=r.facade;zC?OT.emit("rejectionHandled",e):Mz(Gge,e,r.value)})},ug=function(r,e,t){return function(n){r(e,n,t)}},lg=function(r,e,t){r.done||(r.done=!0,t&&(r=t),r.value=e,r.state=Kge,Rz(r,!0))},RT=function(r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(r.facade===e)throw new Fz("Promise can't be resolved itself");var n=Pz(e);n?MT(function(){var a={done:!1};try{cg(n,e,ug(RT,a,r),ug(lg,a,r))}catch(o){lg(a,o,r)}}):(r.value=e,r.state=_z,Rz(r,!1))}catch(a){lg({done:!1},a,r)}}};if(Lz&&(ch=function(e){Mge(this,VC),Dge(e),cg(qC,this);var t=NT(this);try{e(ug(RT,t),ug(lg,t))}catch(n){lg(t,n)}},VC=ch.prototype,qC=function(e){Wge(this,{type:GC,done:!1,notified:!1,parent:!1,reactions:new Hge,rejection:!1,state:wz,value:null})},qC.prototype=yz(VC,"then",function(e,t){var n=NT(this),a=DT(Uge(this,ch));return n.parent=!0,a.ok=WC(e)?e:!0,a.fail=WC(t)&&t,a.domain=zC?OT.domain:void 0,n.state===wz?n.reactions.add(a):MT(function(){Dz(a,n)}),a.promise}),bz=function(){var r=new qC,e=NT(r);this.promise=r,this.resolve=ug(RT,e),this.reject=ug(lg,e)},Ez.f=DT=function(r){return r===ch||r===Nz?new bz(r):zge(r)},!_ge&&WC(jC)&&sg!==Object.prototype)){Cz=sg.then,qge||yz(sg,"then",function(e,t){var n=this;return new ch(function(a,o){cg(Cz,n,a,o)}).then(e,t)},{unsafe:!0});try{delete sg.constructor}catch{}xz&&xz(sg,VC)}Tge({global:!0,constructor:!0,wrap:!0,forced:Lz},{Promise:ch});Nz=kge.Promise;Nge(ch,GC,!1,!0);Pge(GC)});var Ag=we((wZe,Oz)=>{"use strict";Oz.exports={}});var Hz=we((bZe,Qz)=>{"use strict";var $ge=po(),Jge=Ag(),Zge=$ge("iterator"),e0e=Array.prototype;Qz.exports=function(r){return r!==void 0&&(Jge.Array===r||e0e[Zge]===r)}});var HT=we((CZe,qz)=>{"use strict";var t0e=MC(),Vz=ih(),r0e=i1(),n0e=Ag(),a0e=po(),o0e=a0e("iterator");qz.exports=function(r){if(!r0e(r))return Vz(r,o0e)||Vz(r,"@@iterator")||n0e[t0e(r)]}});var zz=we((BZe,Wz)=>{"use strict";var i0e=Fo(),s0e=Vl(),u0e=ui(),l0e=u1(),c0e=HT(),A0e=TypeError;Wz.exports=function(r,e){var t=arguments.length<2?c0e(r):e;if(s0e(t))return u0e(i0e(t,r));throw new A0e(l0e(r)+" is not iterable")}});var Kz=we((SZe,Gz)=>{"use strict";var f0e=Fo(),jz=ui(),d0e=ih();Gz.exports=function(r,e,t){var n,a;jz(r);try{if(n=d0e(r,"return"),!n){if(e==="throw")throw t;return t}n=f0e(n,r)}catch(o){a=!0,n=o}if(e==="throw")throw t;if(a)throw n;return jz(n),t}});var VT=we((IZe,Jz)=>{"use strict";var h0e=UC(),p0e=Fo(),m0e=ui(),g0e=u1(),v0e=Hz(),y0e=kC(),Xz=s1(),x0e=zz(),w0e=HT(),Yz=Kz(),b0e=TypeError,KC=function(r,e){this.stopped=r,this.result=e},$z=KC.prototype;Jz.exports=function(r,e,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),i=!!(t&&t.IS_ITERATOR),s=!!(t&&t.INTERRUPTED),u=h0e(e,n),l,c,A,d,f,h,p,v=function(B){return l&&Yz(l,"normal"),new KC(!0,B)},g=function(B){return a?(m0e(B),s?u(B[0],B[1],v):u(B[0],B[1])):s?u(B,v):u(B)};if(o)l=r.iterator;else if(i)l=r;else{if(c=w0e(r),!c)throw new b0e(g0e(r)+" is not iterable");if(v0e(c)){for(A=0,d=y0e(r);d>A;A++)if(f=g(r[A]),f&&Xz($z,f))return f;return new KC(!1)}l=x0e(r,c)}for(h=o?r.next:l.next;!(p=p0e(h,l)).done;){try{f=g(p.value)}catch(B){Yz(l,"throw",B)}if(typeof f=="object"&&f&&Xz($z,f))return f}return new KC(!1)}});var nj=we((EZe,rj)=>{"use strict";var C0e=po(),ej=C0e("iterator"),tj=!1;try{Zz=0,qT={next:function(){return{done:!!Zz++}},return:function(){tj=!0}},qT[ej]=function(){return this},Array.from(qT,function(){throw 2})}catch{}var Zz,qT;rj.exports=function(r,e){try{if(!e&&!tj)return!1}catch{return!1}var t=!1;try{var n={};n[ej]=function(){return{next:function(){return{done:t=!0}}}},r(n)}catch{}return t}});var WT=we((LZe,aj)=>{"use strict";var B0e=ag(),S0e=nj(),I0e=og().CONSTRUCTOR;aj.exports=I0e||!S0e(function(r){B0e.all(r).then(void 0,function(){})})});var oj=we(()=>{"use strict";var E0e=li(),L0e=Fo(),F0e=Vl(),T0e=ig(),_0e=HC(),k0e=VT(),N0e=WT();E0e({target:"Promise",stat:!0,forced:N0e},{all:function(e){var t=this,n=T0e.f(t),a=n.resolve,o=n.reject,i=_0e(function(){var s=F0e(t.resolve),u=[],l=0,c=1;k0e(e,function(A){var d=l++,f=!1;c++,L0e(s,t,A).then(function(h){f||(f=!0,u[d]=h,--c||a(u))},o)}),--c||a(u)});return i.error&&o(i.value),n.promise}})});var sj=we(()=>{"use strict";var P0e=li(),D0e=rl(),R0e=og().CONSTRUCTOR,jT=ag(),M0e=hf(),U0e=ba(),O0e=pf(),ij=jT&&jT.prototype;P0e({target:"Promise",proto:!0,forced:R0e,real:!0},{catch:function(r){return this.then(void 0,r)}});!D0e&&U0e(jT)&&(zT=M0e("Promise").prototype.catch,ij.catch!==zT&&O0e(ij,"catch",zT,{unsafe:!0}));var zT});var uj=we(()=>{"use strict";var Q0e=li(),H0e=Fo(),V0e=Vl(),q0e=ig(),W0e=HC(),z0e=VT(),j0e=WT();Q0e({target:"Promise",stat:!0,forced:j0e},{race:function(e){var t=this,n=q0e.f(t),a=n.reject,o=W0e(function(){var i=V0e(t.resolve);z0e(e,function(s){H0e(i,t,s).then(n.resolve,a)})});return o.error&&a(o.value),n.promise}})});var lj=we(()=>{"use strict";var G0e=li(),K0e=ig(),X0e=og().CONSTRUCTOR;G0e({target:"Promise",stat:!0,forced:X0e},{reject:function(e){var t=K0e.f(this),n=t.reject;return n(e),t.promise}})});var Aj=we((MZe,cj)=>{"use strict";var Y0e=ui(),$0e=Oi(),J0e=ig();cj.exports=function(r,e){if(Y0e(r),$0e(e)&&e.constructor===r)return e;var t=J0e.f(r),n=t.resolve;return n(e),t.promise}});var hj=we(()=>{"use strict";var Z0e=li(),eve=hf(),fj=rl(),tve=ag(),dj=og().CONSTRUCTOR,rve=Aj(),nve=eve("Promise"),ave=fj&&!dj;Z0e({target:"Promise",stat:!0,forced:fj||dj},{resolve:function(e){return rve(ave&&this===nve?tve:this,e)}})});var pj=we(()=>{"use strict";Uz();oj();sj();uj();lj();hj()});function mj(r,e,t,n,a,o,i){try{var s=r[o](i),u=s.value}catch(l){return void t(l)}s.done?e(u):Promise.resolve(u).then(n,a)}function ql(r){return function(){var e=this,t=arguments;return new Promise(function(n,a){var o=r.apply(e,t);function i(u){mj(o,n,a,i,s,"next",u)}function s(u){mj(o,n,a,i,s,"throw",u)}i(void 0)})}}var gj=en(()=>{});var al=we((qZe,vj)=>{"use strict";var ove=MC(),ive=String;vj.exports=function(r){if(ove(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return ive(r)}});var GT=we((WZe,yj)=>{"use strict";var sve=ui();yj.exports=function(){var r=sve(this),e="";return r.hasIndices&&(e+="d"),r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.unicodeSets&&(e+="v"),r.sticky&&(e+="y"),e}});var $T=we((zZe,xj)=>{"use strict";var KT=da(),uve=zn(),XT=uve.RegExp,YT=KT(function(){var r=XT("a","y");return r.lastIndex=2,r.exec("abcd")!==null}),lve=YT||KT(function(){return!XT("a","y").sticky}),cve=YT||KT(function(){var r=XT("^r","gy");return r.lastIndex=2,r.exec("str")!==null});xj.exports={BROKEN_CARET:cve,MISSED_STICKY:lve,UNSUPPORTED_Y:YT}});var bj=we((jZe,wj)=>{"use strict";var Ave=sT(),fve=NC();wj.exports=Object.keys||function(e){return Ave(e,fve)}});var Bj=we(Cj=>{"use strict";var dve=mu(),hve=z4(),pve=$c(),mve=ui(),gve=Jm(),vve=bj();Cj.f=dve&&!hve?Object.defineProperties:function(e,t){mve(e);for(var n=gve(t),a=vve(t),o=a.length,i=0,s;o>i;)pve.f(e,s=a[i++],n[s]);return e}});var E1=we((KZe,_j)=>{"use strict";var yve=ui(),xve=Bj(),Sj=NC(),wve=EC(),bve=hT(),Cve=c1(),Bve=IC(),Ij=">",Ej="<",ZT="prototype",e_="script",Fj=Bve("IE_PROTO"),JT=function(){},Tj=function(r){return Ej+e_+Ij+r+Ej+"/"+e_+Ij},Lj=function(r){r.write(Tj("")),r.close();var e=r.parentWindow.Object;return r=null,e},Sve=function(){var r=Cve("iframe"),e="java"+e_+":",t;return r.style.display="none",bve.appendChild(r),r.src=String(e),t=r.contentWindow.document,t.open(),t.write(Tj("document.F=Object")),t.close(),t.F},XC,YC=function(){try{XC=new ActiveXObject("htmlfile")}catch{}YC=typeof document<"u"?document.domain&&XC?Lj(XC):Sve():Lj(XC);for(var r=Sj.length;r--;)delete YC[ZT][Sj[r]];return YC()};wve[Fj]=!0;_j.exports=Object.create||function(e,t){var n;return e!==null?(JT[ZT]=yve(e),n=new JT,JT[ZT]=null,n[Fj]=e):n=YC(),t===void 0?n:xve.f(n,t)}});var Nj=we((XZe,kj)=>{"use strict";var Ive=da(),Eve=zn(),Lve=Eve.RegExp;kj.exports=Ive(function(){var r=Lve(".","s");return!(r.dotAll&&r.test(`
`)&&r.flags==="s")})});var Dj=we((YZe,Pj)=>{"use strict";var Fve=da(),Tve=zn(),_ve=Tve.RegExp;Pj.exports=Fve(function(){var r=_ve("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"})});var ZC=we(($Ze,Mj)=>{"use strict";var fg=Fo(),JC=ha(),kve=al(),Nve=GT(),Pve=$T(),Dve=CC(),Rve=E1(),Mve=h1().get,Uve=Nj(),Ove=Dj(),Qve=Dve("native-string-replace",String.prototype.replace),$C=RegExp.prototype.exec,r_=$C,Hve=JC("".charAt),Vve=JC("".indexOf),qve=JC("".replace),t_=JC("".slice),n_=(function(){var r=/a/,e=/b*/g;return fg($C,r,"a"),fg($C,e,"a"),r.lastIndex!==0||e.lastIndex!==0})(),Rj=Pve.BROKEN_CARET,a_=/()??/.exec("")[1]!==void 0,Wve=n_||a_||Rj||Uve||Ove;Wve&&(r_=function(e){var t=this,n=Mve(t),a=kve(e),o=n.raw,i,s,u,l,c,A,d;if(o)return o.lastIndex=t.lastIndex,i=fg(r_,o,a),t.lastIndex=o.lastIndex,i;var f=n.groups,h=Rj&&t.sticky,p=fg(Nve,t),v=t.source,g=0,B=a;if(h&&(p=qve(p,"y",""),Vve(p,"g")===-1&&(p+="g"),B=t_(a,t.lastIndex),t.lastIndex>0&&(!t.multiline||t.multiline&&Hve(a,t.lastIndex-1)!==`
`)&&(v="(?: "+v+")",B=" "+B,g++),s=new RegExp("^(?:"+v+")",p)),a_&&(s=new RegExp("^"+v+"$(?!\\s)",p)),n_&&(u=t.lastIndex),l=fg($C,h?s:t,B),h?l?(l.input=t_(l.input,g),l[0]=t_(l[0],g),l.index=t.lastIndex,t.lastIndex+=l[0].length):t.lastIndex=0:n_&&l&&(t.lastIndex=t.global?l.index+l[0].length:u),a_&&l&&l.length>1&&fg(Qve,l[0],s,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&f)for(l.groups=A=Rve(null),c=0;c<f.length;c++)d=f[c],A[d[0]]=l[d[1]];return l});Mj.exports=r_});var Oj=we(()=>{"use strict";var zve=li(),Uj=ZC();zve({target:"RegExp",proto:!0,forced:/./.exec!==Uj},{exec:Uj})});var eB=we((eet,Wj)=>{"use strict";Oj();var Qj=Fo(),Hj=pf(),jve=ZC(),Vj=da(),qj=po(),Gve=tg(),Kve=qj("species"),o_=RegExp.prototype;Wj.exports=function(r,e,t,n){var a=qj(r),o=!Vj(function(){var l={};return l[a]=function(){return 7},""[r](l)!==7}),i=o&&!Vj(function(){var l=!1,c=/a/;if(r==="split"){var A={};A[Kve]=function(){return c},c={constructor:A,flags:""},c[a]=/./[a]}return c.exec=function(){return l=!0,null},c[a](""),!l});if(!o||!i||t){var s=/./[a],u=e(a,""[r],function(l,c,A,d,f){var h=c.exec;return h===jve||h===o_.exec?o&&!f?{done:!0,value:Qj(s,c,A,d)}:{done:!0,value:Qj(l,A,c,d)}:{done:!1}});Hj(String.prototype,r,u[0]),Hj(o_,a,u[1])}n&&Gve(o_[a],"sham",!0)}});var Kj=we((tet,Gj)=>{"use strict";var i_=ha(),Xve=p1(),Yve=al(),$ve=gu(),Jve=i_("".charAt),zj=i_("".charCodeAt),Zve=i_("".slice),jj=function(r){return function(e,t){var n=Yve($ve(e)),a=Xve(t),o=n.length,i,s;return a<0||a>=o?r?"":void 0:(i=zj(n,a),i<55296||i>56319||a+1===o||(s=zj(n,a+1))<56320||s>57343?r?Jve(n,a):i:r?Zve(n,a,a+2):(i-55296<<10)+(s-56320)+65536)}};Gj.exports={codeAt:jj(!1),charAt:jj(!0)}});var tB=we((ret,Xj)=>{"use strict";var eye=Kj().charAt;Xj.exports=function(r,e,t){return e+(t?eye(r,e).length:1)}});var Jj=we((net,$j)=>{"use strict";var tye=zn(),rye=da(),Yj=tye.RegExp,nye=!rye(function(){var r=!0;try{Yj(".","d")}catch{r=!1}var e={},t="",n=r?"dgimsy":"gimsy",a=function(u,l){Object.defineProperty(e,u,{get:function(){return t+=l,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};r&&(o.hasIndices="d");for(var i in o)a(i,o[i]);var s=Object.getOwnPropertyDescriptor(Yj.prototype,"flags").get.call(e);return s!==n||t!==n});$j.exports={correct:nye}});var rB=we((aet,e9)=>{"use strict";var aye=Fo(),oye=vu(),iye=s1(),Zj=Jj(),sye=GT(),uye=RegExp.prototype;e9.exports=Zj.correct?function(r){return r.flags}:function(r){return!Zj.correct&&iye(uye,r)&&!oye(r,"flags")?aye(sye,r):r.flags}});var nB=we((oet,r9)=>{"use strict";var t9=Fo(),lye=ui(),cye=ba(),Aye=df(),fye=ZC(),dye=TypeError;r9.exports=function(r,e){var t=r.exec;if(cye(t)){var n=t9(t,r,e);return n!==null&&lye(n),n}if(Aye(r)==="RegExp")return t9(fye,r,e);throw new dye("RegExp#exec called on incompatible receiver")}});var o9=we(()=>{"use strict";var hye=Fo(),pye=ha(),mye=eB(),gye=ui(),vye=Oi(),yye=uh(),aB=al(),xye=gu(),wye=ih(),bye=tB(),Cye=rB(),n9=nB(),a9=pye("".indexOf);mye("match",function(r,e,t){return[function(a){var o=xye(this),i=vye(a)?wye(a,r):void 0;return i?hye(i,a,o):new RegExp(a)[r](aB(o))},function(n){var a=gye(this),o=aB(n),i=t(e,a,o);if(i.done)return i.value;var s=aB(Cye(a));if(a9(s,"g")===-1)return n9(a,o);var u=a9(s,"u")!==-1;a.lastIndex=0;for(var l=[],c=0,A;(A=n9(a,o))!==null;){var d=aB(A[0]);l[c]=d,d===""&&(a.lastIndex=bye(o,yye(a.lastIndex),u)),c++}return c===0?null:l}]})});var s9=we((uet,i9)=>{"use strict";var l_=ha(),Bye=l1(),Sye=Math.floor,s_=l_("".charAt),Iye=l_("".replace),u_=l_("".slice),Eye=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Lye=/\$([$&'`]|\d{1,2})/g;i9.exports=function(r,e,t,n,a,o){var i=t+r.length,s=n.length,u=Lye;return a!==void 0&&(a=Bye(a),u=Eye),Iye(o,u,function(l,c){var A;switch(s_(c,0)){case"$":return"$";case"&":return r;case"`":return u_(e,0,t);case"'":return u_(e,i);case"<":A=a[u_(c,1,-1)];break;default:var d=+c;if(d===0)return l;if(d>s){var f=Sye(d/10);return f===0?l:f<=s?n[f-1]===void 0?s_(c,1):n[f-1]+s_(c,1):l}A=n[d-1]}return A===void 0?"":A})}});var A9=we(()=>{"use strict";var Fye=dT(),u9=Fo(),iB=ha(),Tye=eB(),_ye=da(),kye=ui(),Nye=ba(),Pye=Oi(),Dye=p1(),Rye=uh(),Ah=al(),Mye=gu(),Uye=tB(),Oye=ih(),Qye=s9(),Hye=rB(),Vye=nB(),qye=po(),A_=qye("replace"),Wye=Math.max,zye=Math.min,jye=iB([].concat),c_=iB([].push),oB=iB("".indexOf),l9=iB("".slice),Gye=function(r){return r===void 0?r:String(r)},Kye=(function(){return"a".replace(/./,"$0")==="$0"})(),c9=(function(){return/./[A_]?/./[A_]("a","$0")==="":!1})(),Xye=!_ye(function(){var r=/./;return r.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(r,"$<a>")!=="7"});Tye("replace",function(r,e,t){var n=c9?"$":"$0";return[function(o,i){var s=Mye(this),u=Pye(o)?Oye(o,A_):void 0;return u?u9(u,o,s,i):u9(e,Ah(s),o,i)},function(a,o){var i=kye(this),s=Ah(a);if(typeof o=="string"&&oB(o,n)===-1&&oB(o,"$<")===-1){var u=t(e,i,s,o);if(u.done)return u.value}var l=Nye(o);l||(o=Ah(o));var c=Ah(Hye(i)),A=oB(c,"g")!==-1,d;A&&(d=oB(c,"u")!==-1,i.lastIndex=0);for(var f=[],h;h=Vye(i,s),!(h===null||(c_(f,h),!A));){var p=Ah(h[0]);p===""&&(i.lastIndex=Uye(s,Rye(i.lastIndex),d))}for(var v="",g=0,B=0;B<f.length;B++){h=f[B];for(var I=Ah(h[0]),S=Wye(zye(Dye(h.index),s.length),0),E=[],T,U=1;U<h.length;U++)c_(E,Gye(h[U]));var D=h.groups;if(l){var k=jye([I],E,S,s);D!==void 0&&c_(k,D),T=Ah(Fye(o,void 0,k))}else T=Qye(I,s,S,E,D,o);S>=g&&(v+=l9(s,g,S)+T,g=S+I.length)}return v+l9(s,g)}]},!Xye||!Kye||c9)});var d9=we((fet,f9)=>{"use strict";var Yye=Oi(),$ye=df(),Jye=po(),Zye=Jye("match");f9.exports=function(r){var e;return Yye(r)&&((e=r[Zye])!==void 0?!!e:$ye(r)==="RegExp")}});var sB=we((det,h9)=>{"use strict";var e1e=d9(),t1e=TypeError;h9.exports=function(r){if(e1e(r))throw new t1e("The method doesn't accept regular expressions");return r}});var uB=we((het,p9)=>{"use strict";var r1e=po(),n1e=r1e("match");p9.exports=function(r){var e=/./;try{"/./"[r](e)}catch{try{return e[n1e]=!1,"/./"[r](e)}catch{}}return!1}});var v9=we(()=>{"use strict";var a1e=li(),o1e=w1(),i1e=A1().f,s1e=uh(),m9=al(),u1e=sB(),l1e=gu(),c1e=uB(),A1e=rl(),f1e=o1e("".slice),d1e=Math.min,g9=c1e("startsWith"),h1e=!A1e&&!g9&&!!(function(){var r=i1e(String.prototype,"startsWith");return r&&!r.writable})();a1e({target:"String",proto:!0,forced:!h1e&&!g9},{startsWith:function(e){var t=m9(l1e(this));u1e(e);var n=s1e(d1e(arguments.length>1?arguments[1]:void 0,t.length)),a=m9(e);return f1e(t,n,n+a.length)===a}})});var x9=we((get,y9)=>{"use strict";var p1e=po(),m1e=E1(),g1e=$c().f,f_=p1e("unscopables"),d_=Array.prototype;d_[f_]===void 0&&g1e(d_,f_,{configurable:!0,value:m1e(null)});y9.exports=function(r){d_[f_][r]=!0}});var b9=we((vet,w9)=>{"use strict";var v1e=da();w9.exports=!v1e(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})});var p_=we((yet,B9)=>{"use strict";var y1e=vu(),x1e=ba(),w1e=l1(),b1e=IC(),C1e=b9(),C9=b1e("IE_PROTO"),h_=Object,B1e=h_.prototype;B9.exports=C1e?h_.getPrototypeOf:function(r){var e=w1e(r);if(y1e(e,C9))return e[C9];var t=e.constructor;return x1e(t)&&e instanceof t?t.prototype:e instanceof h_?B1e:null}});var y_=we((xet,E9)=>{"use strict";var S1e=da(),I1e=ba(),E1e=Oi(),L1e=E1(),S9=p_(),F1e=pf(),T1e=po(),_1e=rl(),v_=T1e("iterator"),I9=!1,Jc,m_,g_;[].keys&&(g_=[].keys(),"next"in g_?(m_=S9(S9(g_)),m_!==Object.prototype&&(Jc=m_)):I9=!0);var k1e=!E1e(Jc)||S1e(function(){var r={};return Jc[v_].call(r)!==r});k1e?Jc={}:_1e&&(Jc=L1e(Jc));I1e(Jc[v_])||F1e(Jc,v_,function(){return this});E9.exports={IteratorPrototype:Jc,BUGGY_SAFARI_ITERATORS:I9}});var F9=we((wet,L9)=>{"use strict";var N1e=y_().IteratorPrototype,P1e=E1(),D1e=vC(),R1e=y1(),M1e=Ag(),U1e=function(){return this};L9.exports=function(r,e,t,n){var a=e+" Iterator";return r.prototype=P1e(N1e,{next:D1e(+!n,t)}),R1e(r,a,!1,!0),M1e[a]=U1e,r}});var Q9=we((bet,O9)=>{"use strict";var O1e=li(),Q1e=Fo(),lB=rl(),M9=f1(),H1e=ba(),V1e=F9(),T9=p_(),_9=cT(),q1e=y1(),W1e=tg(),x_=pf(),z1e=po(),k9=Ag(),U9=y_(),j1e=M9.PROPER,G1e=M9.CONFIGURABLE,N9=U9.IteratorPrototype,cB=U9.BUGGY_SAFARI_ITERATORS,L1=z1e("iterator"),P9="keys",F1="values",D9="entries",R9=function(){return this};O9.exports=function(r,e,t,n,a,o,i){V1e(t,e,n);var s=function(g){if(g===a&&d)return d;if(!cB&&g&&g in c)return c[g];switch(g){case P9:return function(){return new t(this,g)};case F1:return function(){return new t(this,g)};case D9:return function(){return new t(this,g)}}return function(){return new t(this)}},u=e+" Iterator",l=!1,c=r.prototype,A=c[L1]||c["@@iterator"]||a&&c[a],d=!cB&&A||s(a),f=e==="Array"&&c.entries||A,h,p,v;if(f&&(h=T9(f.call(new r)),h!==Object.prototype&&h.next&&(!lB&&T9(h)!==N9&&(_9?_9(h,N9):H1e(h[L1])||x_(h,L1,R9)),q1e(h,u,!0,!0),lB&&(k9[u]=R9))),j1e&&a===F1&&A&&A.name!==F1&&(!lB&&G1e?W1e(c,"name",F1):(l=!0,d=function(){return Q1e(A,this)})),a)if(p={values:s(F1),keys:o?d:s(P9),entries:s(D9)},i)for(v in p)(cB||l||!(v in c))&&x_(c,v,p[v]);else O1e({target:e,proto:!0,forced:cB||l},p);return(!lB||i)&&c[L1]!==d&&x_(c,L1,d,{name:a}),k9[e]=d,p}});var V9=we((Cet,H9)=>{"use strict";H9.exports=function(r,e){return{value:r,done:e}}});var b_=we((Bet,G9)=>{"use strict";var K1e=Jm(),w_=x9(),q9=Ag(),z9=h1(),X1e=$c().f,Y1e=Q9(),AB=V9(),$1e=rl(),J1e=mu(),j9="Array Iterator",Z1e=z9.set,exe=z9.getterFor(j9);G9.exports=Y1e(Array,"Array",function(r,e){Z1e(this,{type:j9,target:K1e(r),index:0,kind:e})},function(){var r=exe(this),e=r.target,t=r.index++;if(!e||t>=e.length)return r.target=null,AB(void 0,!0);switch(r.kind){case"keys":return AB(t,!1);case"values":return AB(e[t],!1)}return AB([t,e[t]],!1)},"values");var W9=q9.Arguments=q9.Array;w_("keys");w_("values");w_("entries");if(!$1e&&J1e&&W9.name!=="values")try{X1e(W9,"name",{value:"values"})}catch{}});var X9=we((Iet,K9)=>{"use strict";K9.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var J9=we((Eet,$9)=>{"use strict";var txe=c1(),C_=txe("span").classList,Y9=C_&&C_.constructor&&C_.constructor.prototype;$9.exports=Y9===Object.prototype?void 0:Y9});var nG=we(()=>{"use strict";var Z9=zn(),tG=X9(),rxe=J9(),T1=b_(),eG=tg(),nxe=y1(),axe=po(),B_=axe("iterator"),S_=T1.values,rG=function(r,e){if(r){if(r[B_]!==S_)try{eG(r,B_,S_)}catch{r[B_]=S_}if(nxe(r,e,!0),tG[e]){for(var t in T1)if(r[t]!==T1[t])try{eG(r,t,T1[t])}catch{r[t]=T1[t]}}}};for(fB in tG)rG(Z9[fB]&&Z9[fB].prototype,fB);var fB;rG(rxe,"DOMTokenList")});function aG(r,e){if(Kr(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Kr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var oG=en(()=>{q2()});function iG(r){var e=aG(r,"string");return Kr(e)=="symbol"?e:e+""}var sG=en(()=>{q2();oG()});function dB(r,e,t){return(e=iG(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uG=en(()=>{sG()});var dG=we((Met,fG)=>{"use strict";var oxe=Vl(),ixe=l1(),sxe=T4(),uxe=kC(),lG=TypeError,cG="Reduce of empty array with no initial value",AG=function(r){return function(e,t,n,a){var o=ixe(e),i=sxe(o),s=uxe(o);if(oxe(t),s===0&&n<2)throw new lG(cG);var u=r?s-1:0,l=r?-1:1;if(n<2)for(;;){if(u in i){a=i[u],u+=l;break}if(u+=l,r?u<0:s<=u)throw new lG(cG)}for(;r?u>=0:s>u;u+=l)u in i&&(a=t(a,i[u],u,o));return a}};fG.exports={left:AG(!1),right:AG(!0)}});var I_=we((Uet,hG)=>{"use strict";var lxe=da();hG.exports=function(r,e){var t=[][r];return!!t&&lxe(function(){t.call(null,e||function(){return 1},1)})}});var mG=we(()=>{"use strict";var cxe=li(),Axe=dG().left,fxe=I_(),pG=xC(),dxe=v1(),hxe=!dxe&&pG>79&&pG<83,pxe=hxe||!fxe("reduce");cxe({target:"Array",proto:!0,forced:pxe},{reduce:function(e){var t=arguments.length;return Axe(this,e,t,t>1?arguments[1]:void 0)}})});var yG=we(()=>{"use strict";var mxe=li(),gxe=w1(),vxe=A1().f,yxe=uh(),gG=al(),xxe=sB(),wxe=gu(),bxe=uB(),Cxe=rl(),Bxe=gxe("".slice),Sxe=Math.min,vG=bxe("endsWith"),Ixe=!Cxe&&!vG&&!!(function(){var r=vxe(String.prototype,"endsWith");return r&&!r.writable})();mxe({target:"String",proto:!0,forced:!Ixe&&!vG},{endsWith:function(e){var t=gG(wxe(this));xxe(e);var n=arguments.length>1?arguments[1]:void 0,a=t.length,o=n===void 0?a:Sxe(yxe(n),a),i=gG(e);return Bxe(t,o-i.length,o)===i}})});var BG=we(()=>{"use strict";var E_=Fo(),CG=ha(),Exe=eB(),Lxe=ui(),Fxe=Oi(),Txe=gu(),_xe=fT(),kxe=tB(),Nxe=uh(),xG=al(),Pxe=ih(),wG=nB(),Dxe=$T(),Rxe=da(),dg=Dxe.UNSUPPORTED_Y,Mxe=4294967295,Uxe=Math.min,L_=CG([].push),F_=CG("".slice),Oxe=!Rxe(function(){var r=/(?:)/,e=r.exec;r.exec=function(){return e.apply(this,arguments)};var t="ab".split(r);return t.length!==2||t[0]!=="a"||t[1]!=="b"}),bG="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Exe("split",function(r,e,t){var n="0".split(void 0,0).length?function(a,o){return a===void 0&&o===0?[]:E_(e,this,a,o)}:e;return[function(o,i){var s=Txe(this),u=Fxe(o)?Pxe(o,r):void 0;return u?E_(u,o,s,i):E_(n,xG(s),o,i)},function(a,o){var i=Lxe(this),s=xG(a);if(!bG){var u=t(n,i,s,o,n!==e);if(u.done)return u.value}var l=_xe(i,RegExp),c=i.unicode,A=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(dg?"g":"y"),d=new l(dg?"^(?:"+i.source+")":i,A),f=o===void 0?Mxe:o>>>0;if(f===0)return[];if(s.length===0)return wG(d,s)===null?[s]:[];for(var h=0,p=0,v=[];p<s.length;){d.lastIndex=dg?0:p;var g=wG(d,dg?F_(s,p):s),B;if(g===null||(B=Uxe(Nxe(d.lastIndex+(dg?p:0)),s.length))===h)p=kxe(s,p,c);else{if(L_(v,F_(s,h,p)),v.length===f)return v;for(var I=1;I<=g.length-1;I++)if(L_(v,g[I]),v.length===f)return v;p=h=B}}return L_(v,F_(s,h)),v}]},bG||!Oxe,dg)});var IG=we((SG,_1)=>{(function(){var r,e,t,n,a,o;typeof performance<"u"&&performance!==null&&performance.now?_1.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(_1.exports=function(){return(r()-a)/1e6},e=process.hrtime,r=function(){var i;return i=e(),i[0]*1e9+i[1]},n=r(),o=process.uptime()*1e9,a=n-o):Date.now?(_1.exports=function(){return Date.now()-t},t=Date.now()):(_1.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(SG)});var LG=we((zet,mB)=>{var Qxe=IG(),Zc=typeof window>"u"?global:window,hB=["moz","webkit"],pg="AnimationFrame",mg=Zc["request"+pg],k1=Zc["cancel"+pg]||Zc["cancelRequest"+pg];for(hg=0;!mg&&hg<hB.length;hg++)mg=Zc[hB[hg]+"Request"+pg],k1=Zc[hB[hg]+"Cancel"+pg]||Zc[hB[hg]+"CancelRequest"+pg];var hg;(!mg||!k1)&&(pB=0,T_=0,gf=[],EG=1e3/60,mg=function(r){if(gf.length===0){var e=Qxe(),t=Math.max(0,EG-(e-pB));pB=t+e,setTimeout(function(){var n=gf.slice(0);gf.length=0;for(var a=0;a<n.length;a++)if(!n[a].cancelled)try{n[a].callback(pB)}catch(o){setTimeout(function(){throw o},0)}},Math.round(t))}return gf.push({handle:++T_,callback:r,cancelled:!1}),T_},k1=function(r){for(var e=0;e<gf.length;e++)gf[e].handle===r&&(gf[e].cancelled=!0)});var pB,T_,gf,EG;mB.exports=function(r){return mg.call(Zc,r)};mB.exports.cancel=function(){k1.apply(Zc,arguments)};mB.exports.polyfill=function(r){r||(r=Zc),r.requestAnimationFrame=mg,r.cancelAnimationFrame=k1}});var __=we((jet,FG)=>{"use strict";FG.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var kG=we((Get,_G)=>{"use strict";var Hxe=ha(),Vxe=gu(),qxe=al(),N_=__(),TG=Hxe("".replace),Wxe=RegExp("^["+N_+"]+"),zxe=RegExp("(^|[^"+N_+"])["+N_+"]+$"),k_=function(r){return function(e){var t=qxe(Vxe(e));return r&1&&(t=TG(t,Wxe,"")),r&2&&(t=TG(t,zxe,"$1")),t}};_G.exports={start:k_(1),end:k_(2),trim:k_(3)}});var RG=we((Ket,DG)=>{"use strict";var jxe=f1().PROPER,Gxe=da(),NG=__(),PG="\u200B\x85\u180E";DG.exports=function(r){return Gxe(function(){return!!NG[r]()||PG[r]()!==PG||jxe&&NG[r].name!==r})}});var MG=we(()=>{"use strict";var Kxe=li(),Xxe=kG().trim,Yxe=RG();Kxe({target:"String",proto:!0,forced:Yxe("trim")},{trim:function(){return Xxe(this)}})});var OG=we(($et,UG)=>{UG.exports=function(r){this.ok=!1,this.alpha=1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r=r.replace(/ /g,""),r=r.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};r=e[r]||r;for(var t=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseFloat(u[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,o=t[n].process,i=a.exec(r);if(i){var s=o(i);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var u=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+u+l+c},this.getHelpXML=function(){for(var u=new Array,l=0;l<t.length;l++)for(var c=t[l].example,A=0;A<c.length;A++)u[u.length]=c[A];for(var d in e)u[u.length]=d;var f=document.createElement("ul");f.setAttribute("id","rgbcolor-examples");for(var l=0;l<u.length;l++)try{var h=document.createElement("li"),p=new RGBColor(u[l]),v=document.createElement("div");v.style.cssText="margin: 3px; border: 1px solid black; background:"+p.toHex()+"; color:"+p.toHex(),v.appendChild(document.createTextNode("test"));var g=document.createTextNode(" "+u[l]+" -> "+p.toRGB()+" -> "+p.toHex());h.appendChild(v),h.appendChild(g),f.appendChild(h)}catch{}return f}}});var HG=we(()=>{"use strict";var $xe=li(),Jxe=w1(),Zxe=oT().indexOf,ewe=I_(),P_=Jxe([].indexOf),QG=!!P_&&1/P_([1],1,-0)<0,twe=QG||!ewe("indexOf");$xe({target:"Array",proto:!0,forced:twe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return QG?P_(this,e,t)||0:Zxe(this,e,t)}})});var qG=we(()=>{"use strict";var rwe=li(),nwe=ha(),awe=sB(),owe=gu(),VG=al(),iwe=uB(),swe=nwe("".indexOf);rwe({target:"String",proto:!0,forced:!iwe("includes")},{includes:function(e){return!!~swe(VG(owe(this)),VG(awe(e)),arguments.length>1?arguments[1]:void 0)}})});var zG=we((rtt,WG)=>{"use strict";var uwe=df();WG.exports=Array.isArray||function(e){return uwe(e)==="Array"}});var GG=we(()=>{"use strict";var lwe=li(),cwe=ha(),Awe=zG(),fwe=cwe([].reverse),jG=[1,2];lwe({target:"Array",proto:!0,forced:String(jG)===String(jG.reverse())},{reverse:function(){return Awe(this)&&(this.length=this.length),fwe(this)}})});function tK(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}eK(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function dwe(r){var e="";Array.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++){var n=r[t];if(n.type===Ze.CLOSE_PATH)e+="z";else if(n.type===Ze.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===Ze.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===Ze.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===Ze.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===Ze.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Ze.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Ze.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===Ze.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==Ze.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+t+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}function R_(r,e){var t=r[0],n=r[1];return[t*Math.cos(e)-n*Math.sin(e),t*Math.sin(e)+n*Math.cos(e)]}function il(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(typeof r[t]!="number")throw new Error("assertNumbers arguments["+t+"] is not a number. "+typeof r[t]+" == typeof "+r[t]);return!0}function D_(r,e,t){r.lArcFlag=r.lArcFlag===0?0:1,r.sweepFlag=r.sweepFlag===0?0:1;var n=r.rX,a=r.rY,o=r.x,i=r.y;n=Math.abs(r.rX),a=Math.abs(r.rY);var s=R_([(e-o)/2,(t-i)/2],-r.xRot/180*vf),u=s[0],l=s[1],c=Math.pow(u,2)/Math.pow(n,2)+Math.pow(l,2)/Math.pow(a,2);1<c&&(n*=Math.sqrt(c),a*=Math.sqrt(c)),r.rX=n,r.rY=a;var A=Math.pow(n,2)*Math.pow(l,2)+Math.pow(a,2)*Math.pow(u,2),d=(r.lArcFlag!==r.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(a,2)-A)/A)),f=n*l/a*d,h=-a*u/n*d,p=R_([f,h],r.xRot/180*vf);r.cX=p[0]+(e+o)/2,r.cY=p[1]+(t+i)/2,r.phi1=Math.atan2((l-h)/a,(u-f)/n),r.phi2=Math.atan2((-l-h)/a,(-u-f)/n),r.sweepFlag===0&&r.phi2>r.phi1&&(r.phi2-=2*vf),r.sweepFlag===1&&r.phi2<r.phi1&&(r.phi2+=2*vf),r.phi1*=180/vf,r.phi2*=180/vf}function KG(r,e,t){il(r,e,t);var n=r*r+e*e-t*t;if(0>n)return[];if(n===0)return[[r*t/(r*r+e*e),e*t/(r*r+e*e)]];var a=Math.sqrt(n);return[[(r*t+e*a)/(r*r+e*e),(e*t-r*a)/(r*r+e*e)],[(r*t-e*a)/(r*r+e*e),(e*t+r*a)/(r*r+e*e)]]}function XG(r,e,t){return(1-t)*r+t*e}function YG(r,e,t,n){return r+Math.cos(n/180*vf)*e+Math.sin(n/180*vf)*t}function $G(r,e,t,n){var a=1e-6,o=e-r,i=t-e,s=3*o+3*(n-t)-6*i,u=6*(i-o),l=3*o;return Math.abs(s)<a?[-l/u]:(function(c,A,d){d===void 0&&(d=1e-6);var f=c*c/4-A;if(f<-d)return[];if(f<=d)return[-c/2];var h=Math.sqrt(f);return[-c/2-h,-c/2+h]})(u/s,l/s,a)}function JG(r,e,t,n,a){var o=1-a;return r*(o*o*o)+e*(3*o*o*a)+t*(3*o*a*a)+n*(a*a*a)}var eK,vf,Ya,eA,ol,rK,hwe,ZG,pwe,Ze,mwe,nK=en(()=>{eK=function(r,e){return(eK=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])})(r,e)};vf=Math.PI;eA=Math.PI/180;(function(r){function e(){return a((function(s,u,l){return s.relative&&(s.x1!==void 0&&(s.x1+=u),s.y1!==void 0&&(s.y1+=l),s.x2!==void 0&&(s.x2+=u),s.y2!==void 0&&(s.y2+=l),s.x!==void 0&&(s.x+=u),s.y!==void 0&&(s.y+=l),s.relative=!1),s}))}function t(){var s=NaN,u=NaN,l=NaN,c=NaN;return a((function(A,d,f){return A.type&Ze.SMOOTH_CURVE_TO&&(A.type=Ze.CURVE_TO,s=isNaN(s)?d:s,u=isNaN(u)?f:u,A.x1=A.relative?d-s:2*d-s,A.y1=A.relative?f-u:2*f-u),A.type&Ze.CURVE_TO?(s=A.relative?d+A.x2:A.x2,u=A.relative?f+A.y2:A.y2):(s=NaN,u=NaN),A.type&Ze.SMOOTH_QUAD_TO&&(A.type=Ze.QUAD_TO,l=isNaN(l)?d:l,c=isNaN(c)?f:c,A.x1=A.relative?d-l:2*d-l,A.y1=A.relative?f-c:2*f-c),A.type&Ze.QUAD_TO?(l=A.relative?d+A.x1:A.x1,c=A.relative?f+A.y1:A.y1):(l=NaN,c=NaN),A}))}function n(){var s=NaN,u=NaN;return a((function(l,c,A){if(l.type&Ze.SMOOTH_QUAD_TO&&(l.type=Ze.QUAD_TO,s=isNaN(s)?c:s,u=isNaN(u)?A:u,l.x1=l.relative?c-s:2*c-s,l.y1=l.relative?A-u:2*A-u),l.type&Ze.QUAD_TO){s=l.relative?c+l.x1:l.x1,u=l.relative?A+l.y1:l.y1;var d=l.x1,f=l.y1;l.type=Ze.CURVE_TO,l.x1=((l.relative?0:c)+2*d)/3,l.y1=((l.relative?0:A)+2*f)/3,l.x2=(l.x+2*d)/3,l.y2=(l.y+2*f)/3}else s=NaN,u=NaN;return l}))}function a(s){var u=0,l=0,c=NaN,A=NaN;return function(d){if(isNaN(c)&&!(d.type&Ze.MOVE_TO))throw new Error("path must start with moveto");var f=s(d,u,l,c,A);return d.type&Ze.CLOSE_PATH&&(u=c,l=A),d.x!==void 0&&(u=d.relative?u+d.x:d.x),d.y!==void 0&&(l=d.relative?l+d.y:d.y),d.type&Ze.MOVE_TO&&(c=u,A=l),f}}function o(s,u,l,c,A,d){return il(s,u,l,c,A,d),a((function(f,h,p,v){var g=f.x1,B=f.x2,I=f.relative&&!isNaN(v),S=f.x!==void 0?f.x:I?0:h,E=f.y!==void 0?f.y:I?0:p;function T(R){return R*R}f.type&Ze.HORIZ_LINE_TO&&u!==0&&(f.type=Ze.LINE_TO,f.y=f.relative?0:p),f.type&Ze.VERT_LINE_TO&&l!==0&&(f.type=Ze.LINE_TO,f.x=f.relative?0:h),f.x!==void 0&&(f.x=f.x*s+E*l+(I?0:A)),f.y!==void 0&&(f.y=S*u+f.y*c+(I?0:d)),f.x1!==void 0&&(f.x1=f.x1*s+f.y1*l+(I?0:A)),f.y1!==void 0&&(f.y1=g*u+f.y1*c+(I?0:d)),f.x2!==void 0&&(f.x2=f.x2*s+f.y2*l+(I?0:A)),f.y2!==void 0&&(f.y2=B*u+f.y2*c+(I?0:d));var U=s*c-u*l;if(f.xRot!==void 0&&(s!==1||u!==0||l!==0||c!==1))if(U===0)delete f.rX,delete f.rY,delete f.xRot,delete f.lArcFlag,delete f.sweepFlag,f.type=Ze.LINE_TO;else{var D=f.xRot*Math.PI/180,k=Math.sin(D),O=Math.cos(D),N=1/T(f.rX),P=1/T(f.rY),j=T(O)*N+T(k)*P,z=2*k*O*(N-P),ne=T(k)*N+T(O)*P,re=j*c*c-z*u*c+ne*u*u,Y=z*(s*c+u*l)-2*(j*l*c+ne*s*u),J=j*l*l-z*s*l+ne*s*s,G=(Math.atan2(Y,re-J)+Math.PI)%Math.PI/2,Z=Math.sin(G),he=Math.cos(G);f.rX=Math.abs(U)/Math.sqrt(re*T(he)+Y*Z*he+J*T(Z)),f.rY=Math.abs(U)/Math.sqrt(re*T(Z)-Y*Z*he+J*T(he)),f.xRot=180*G/Math.PI}return f.sweepFlag!==void 0&&0>U&&(f.sweepFlag=+!f.sweepFlag),f}))}function i(){return function(s){var u={};for(var l in s)u[l]=s[l];return u}}r.ROUND=function(s){function u(l){return Math.round(l*s)/s}return s===void 0&&(s=1e13),il(s),function(l){return l.x1!==void 0&&(l.x1=u(l.x1)),l.y1!==void 0&&(l.y1=u(l.y1)),l.x2!==void 0&&(l.x2=u(l.x2)),l.y2!==void 0&&(l.y2=u(l.y2)),l.x!==void 0&&(l.x=u(l.x)),l.y!==void 0&&(l.y=u(l.y)),l.rX!==void 0&&(l.rX=u(l.rX)),l.rY!==void 0&&(l.rY=u(l.rY)),l}},r.TO_ABS=e,r.TO_REL=function(){return a((function(s,u,l){return s.relative||(s.x1!==void 0&&(s.x1-=u),s.y1!==void 0&&(s.y1-=l),s.x2!==void 0&&(s.x2-=u),s.y2!==void 0&&(s.y2-=l),s.x!==void 0&&(s.x-=u),s.y!==void 0&&(s.y-=l),s.relative=!0),s}))},r.NORMALIZE_HVZ=function(s,u,l){return s===void 0&&(s=!0),u===void 0&&(u=!0),l===void 0&&(l=!0),a((function(c,A,d,f,h){if(isNaN(f)&&!(c.type&Ze.MOVE_TO))throw new Error("path must start with moveto");return u&&c.type&Ze.HORIZ_LINE_TO&&(c.type=Ze.LINE_TO,c.y=c.relative?0:d),l&&c.type&Ze.VERT_LINE_TO&&(c.type=Ze.LINE_TO,c.x=c.relative?0:A),s&&c.type&Ze.CLOSE_PATH&&(c.type=Ze.LINE_TO,c.x=c.relative?f-A:f,c.y=c.relative?h-d:h),c.type&Ze.ARC&&(c.rX===0||c.rY===0)&&(c.type=Ze.LINE_TO,delete c.rX,delete c.rY,delete c.xRot,delete c.lArcFlag,delete c.sweepFlag),c}))},r.NORMALIZE_ST=t,r.QT_TO_C=n,r.INFO=a,r.SANITIZE=function(s){s===void 0&&(s=0),il(s);var u=NaN,l=NaN,c=NaN,A=NaN;return a((function(d,f,h,p,v){var g=Math.abs,B=!1,I=0,S=0;if(d.type&Ze.SMOOTH_CURVE_TO&&(I=isNaN(u)?0:f-u,S=isNaN(l)?0:h-l),d.type&(Ze.CURVE_TO|Ze.SMOOTH_CURVE_TO)?(u=d.relative?f+d.x2:d.x2,l=d.relative?h+d.y2:d.y2):(u=NaN,l=NaN),d.type&Ze.SMOOTH_QUAD_TO?(c=isNaN(c)?f:2*f-c,A=isNaN(A)?h:2*h-A):d.type&Ze.QUAD_TO?(c=d.relative?f+d.x1:d.x1,A=d.relative?h+d.y1:d.y2):(c=NaN,A=NaN),d.type&Ze.LINE_COMMANDS||d.type&Ze.ARC&&(d.rX===0||d.rY===0||!d.lArcFlag)||d.type&Ze.CURVE_TO||d.type&Ze.SMOOTH_CURVE_TO||d.type&Ze.QUAD_TO||d.type&Ze.SMOOTH_QUAD_TO){var E=d.x===void 0?0:d.relative?d.x:d.x-f,T=d.y===void 0?0:d.relative?d.y:d.y-h;I=isNaN(c)?d.x1===void 0?I:d.relative?d.x:d.x1-f:c-f,S=isNaN(A)?d.y1===void 0?S:d.relative?d.y:d.y1-h:A-h;var U=d.x2===void 0?0:d.relative?d.x:d.x2-f,D=d.y2===void 0?0:d.relative?d.y:d.y2-h;g(E)<=s&&g(T)<=s&&g(I)<=s&&g(S)<=s&&g(U)<=s&&g(D)<=s&&(B=!0)}return d.type&Ze.CLOSE_PATH&&g(f-p)<=s&&g(h-v)<=s&&(B=!0),B?[]:d}))},r.MATRIX=o,r.ROTATE=function(s,u,l){u===void 0&&(u=0),l===void 0&&(l=0),il(s,u,l);var c=Math.sin(s),A=Math.cos(s);return o(A,c,-c,A,u-u*A+l*c,l-u*c-l*A)},r.TRANSLATE=function(s,u){return u===void 0&&(u=0),il(s,u),o(1,0,0,1,s,u)},r.SCALE=function(s,u){return u===void 0&&(u=s),il(s,u),o(s,0,0,u,0,0)},r.SKEW_X=function(s){return il(s),o(1,0,Math.atan(s),1,0,0)},r.SKEW_Y=function(s){return il(s),o(1,Math.atan(s),0,1,0,0)},r.X_AXIS_SYMMETRY=function(s){return s===void 0&&(s=0),il(s),o(-1,0,0,1,s,0)},r.Y_AXIS_SYMMETRY=function(s){return s===void 0&&(s=0),il(s),o(1,0,0,-1,0,s)},r.A_TO_C=function(){return a((function(s,u,l){return Ze.ARC===s.type?(function(c,A,d){var f,h,p,v;c.cX||D_(c,A,d);for(var g=Math.min(c.phi1,c.phi2),B=Math.max(c.phi1,c.phi2)-g,I=Math.ceil(B/90),S=new Array(I),E=A,T=d,U=0;U<I;U++){var D=XG(c.phi1,c.phi2,U/I),k=XG(c.phi1,c.phi2,(U+1)/I),O=k-D,N=4/3*Math.tan(O*eA/4),P=[Math.cos(D*eA)-N*Math.sin(D*eA),Math.sin(D*eA)+N*Math.cos(D*eA)],j=P[0],z=P[1],ne=[Math.cos(k*eA),Math.sin(k*eA)],re=ne[0],Y=ne[1],J=[re+N*Math.sin(k*eA),Y-N*Math.cos(k*eA)],G=J[0],Z=J[1];S[U]={relative:c.relative,type:Ze.CURVE_TO};var he=function(R,H){var ae=R_([R*c.rX,H*c.rY],c.xRot),le=ae[0],pe=ae[1];return[c.cX+le,c.cY+pe]};f=he(j,z),S[U].x1=f[0],S[U].y1=f[1],h=he(G,Z),S[U].x2=h[0],S[U].y2=h[1],p=he(re,Y),S[U].x=p[0],S[U].y=p[1],c.relative&&(S[U].x1-=E,S[U].y1-=T,S[U].x2-=E,S[U].y2-=T,S[U].x-=E,S[U].y-=T),E=(v=[S[U].x,S[U].y])[0],T=v[1]}return S})(s,s.relative?0:u,s.relative?0:l):s}))},r.ANNOTATE_ARCS=function(){return a((function(s,u,l){return s.relative&&(u=0,l=0),Ze.ARC===s.type&&D_(s,u,l),s}))},r.CLONE=i,r.CALCULATE_BOUNDS=function(){var s=function(d){var f={};for(var h in d)f[h]=d[h];return f},u=e(),l=n(),c=t(),A=a((function(d,f,h){var p=c(l(u(s(d))));function v(Z){Z>A.maxX&&(A.maxX=Z),Z<A.minX&&(A.minX=Z)}function g(Z){Z>A.maxY&&(A.maxY=Z),Z<A.minY&&(A.minY=Z)}if(p.type&Ze.DRAWING_COMMANDS&&(v(f),g(h)),p.type&Ze.HORIZ_LINE_TO&&v(p.x),p.type&Ze.VERT_LINE_TO&&g(p.y),p.type&Ze.LINE_TO&&(v(p.x),g(p.y)),p.type&Ze.CURVE_TO){v(p.x),g(p.y);for(var B=0,I=$G(f,p.x1,p.x2,p.x);B<I.length;B++)0<(G=I[B])&&1>G&&v(JG(f,p.x1,p.x2,p.x,G));for(var S=0,E=$G(h,p.y1,p.y2,p.y);S<E.length;S++)0<(G=E[S])&&1>G&&g(JG(h,p.y1,p.y2,p.y,G))}if(p.type&Ze.ARC){v(p.x),g(p.y),D_(p,f,h);for(var T=p.xRot/180*Math.PI,U=Math.cos(T)*p.rX,D=Math.sin(T)*p.rX,k=-Math.sin(T)*p.rY,O=Math.cos(T)*p.rY,N=p.phi1<p.phi2?[p.phi1,p.phi2]:-180>p.phi2?[p.phi2+360,p.phi1+360]:[p.phi2,p.phi1],P=N[0],j=N[1],z=function(Z){var he=Z[0],R=Z[1],H=180*Math.atan2(R,he)/Math.PI;return H<P?H+360:H},ne=0,re=KG(k,-U,0).map(z);ne<re.length;ne++)(G=re[ne])>P&&G<j&&v(YG(p.cX,U,k,G));for(var Y=0,J=KG(O,-D,0).map(z);Y<J.length;Y++){var G;(G=J[Y])>P&&G<j&&g(YG(p.cY,D,O,G))}}return d}));return A.minX=1/0,A.maxX=-1/0,A.minY=1/0,A.maxY=-1/0,A}})(Ya||(Ya={}));rK=(function(){function r(){}return r.prototype.round=function(e){return this.transform(Ya.ROUND(e))},r.prototype.toAbs=function(){return this.transform(Ya.TO_ABS())},r.prototype.toRel=function(){return this.transform(Ya.TO_REL())},r.prototype.normalizeHVZ=function(e,t,n){return this.transform(Ya.NORMALIZE_HVZ(e,t,n))},r.prototype.normalizeST=function(){return this.transform(Ya.NORMALIZE_ST())},r.prototype.qtToC=function(){return this.transform(Ya.QT_TO_C())},r.prototype.aToC=function(){return this.transform(Ya.A_TO_C())},r.prototype.sanitize=function(e){return this.transform(Ya.SANITIZE(e))},r.prototype.translate=function(e,t){return this.transform(Ya.TRANSLATE(e,t))},r.prototype.scale=function(e,t){return this.transform(Ya.SCALE(e,t))},r.prototype.rotate=function(e,t,n){return this.transform(Ya.ROTATE(e,t,n))},r.prototype.matrix=function(e,t,n,a,o,i){return this.transform(Ya.MATRIX(e,t,n,a,o,i))},r.prototype.skewX=function(e){return this.transform(Ya.SKEW_X(e))},r.prototype.skewY=function(e){return this.transform(Ya.SKEW_Y(e))},r.prototype.xSymmetry=function(e){return this.transform(Ya.X_AXIS_SYMMETRY(e))},r.prototype.ySymmetry=function(e){return this.transform(Ya.Y_AXIS_SYMMETRY(e))},r.prototype.annotateArcs=function(){return this.transform(Ya.ANNOTATE_ARCS())},r})(),hwe=function(r){return r===" "||r==="	"||r==="\r"||r===`
`},ZG=function(r){return 48<=r.charCodeAt(0)&&r.charCodeAt(0)<=57},pwe=(function(r){function e(){var t=r.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return tK(e,r),e.prototype.finish=function(t){if(t===void 0&&(t=[]),this.parse(" ",t),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,n){var a=this;n===void 0&&(n=[]);for(var o=function(A){n.push(A),a.curArgs.length=0,a.canParseCommandOrComma=!0},i=0;i<t.length;i++){var s=t[i],u=!(this.curCommandType!==Ze.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),l=ZG(s)&&(this.curNumber==="0"&&s==="0"||u);if(!ZG(s)||l)if(s!=="e"&&s!=="E")if(s!=="-"&&s!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(s!=="."||this.curNumberHasExp||this.curNumberHasDecimal||u){if(this.curNumber&&this.curCommandType!==-1){var c=Number(this.curNumber);if(isNaN(c))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===Ze.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>c)throw new SyntaxError('Expected positive number, got "'+c+'" at index "'+i+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"')}this.curArgs.push(c),this.curArgs.length===mwe[this.curCommandType]&&(Ze.HORIZ_LINE_TO===this.curCommandType?o({type:Ze.HORIZ_LINE_TO,relative:this.curCommandRelative,x:c}):Ze.VERT_LINE_TO===this.curCommandType?o({type:Ze.VERT_LINE_TO,relative:this.curCommandRelative,y:c}):this.curCommandType===Ze.MOVE_TO||this.curCommandType===Ze.LINE_TO||this.curCommandType===Ze.SMOOTH_QUAD_TO?(o({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),Ze.MOVE_TO===this.curCommandType&&(this.curCommandType=Ze.LINE_TO)):this.curCommandType===Ze.CURVE_TO?o({type:Ze.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===Ze.SMOOTH_CURVE_TO?o({type:Ze.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Ze.QUAD_TO?o({type:Ze.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Ze.ARC&&o({type:Ze.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!hwe(s))if(s===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(s!=="+"&&s!=="-"&&s!==".")if(l)this.curNumber=s,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+s+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,s!=="z"&&s!=="Z")if(s==="h"||s==="H")this.curCommandType=Ze.HORIZ_LINE_TO,this.curCommandRelative=s==="h";else if(s==="v"||s==="V")this.curCommandType=Ze.VERT_LINE_TO,this.curCommandRelative=s==="v";else if(s==="m"||s==="M")this.curCommandType=Ze.MOVE_TO,this.curCommandRelative=s==="m";else if(s==="l"||s==="L")this.curCommandType=Ze.LINE_TO,this.curCommandRelative=s==="l";else if(s==="c"||s==="C")this.curCommandType=Ze.CURVE_TO,this.curCommandRelative=s==="c";else if(s==="s"||s==="S")this.curCommandType=Ze.SMOOTH_CURVE_TO,this.curCommandRelative=s==="s";else if(s==="q"||s==="Q")this.curCommandType=Ze.QUAD_TO,this.curCommandRelative=s==="q";else if(s==="t"||s==="T")this.curCommandType=Ze.SMOOTH_QUAD_TO,this.curCommandRelative=s==="t";else{if(s!=="a"&&s!=="A")throw new SyntaxError('Unexpected character "'+s+'" at index '+i+".");this.curCommandType=Ze.ARC,this.curCommandRelative=s==="a"}else n.push({type:Ze.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=s,this.curNumberHasDecimal=s==="."}else this.curNumber+=s,this.curNumberHasDecimal=!0;else this.curNumber+=s;else this.curNumber+=s,this.curNumberHasExp=!0;else this.curNumber+=s,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(n,a){a===void 0&&(a=[]);for(var o=0,i=Object.getPrototypeOf(this).parse.call(this,n);o<i.length;o++){var s=i[o],u=t(s);Array.isArray(u)?a.push.apply(a,u):a.push(u)}return a}}})},e})(rK),Ze=(function(r){function e(t){var n=r.call(this)||this;return n.commands=typeof t=="string"?e.parse(t):t,n}return tK(e,r),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=Ya.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var n=[],a=0,o=this.commands;a<o.length;a++){var i=t(o[a]);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return this.commands=n,this},e.encode=function(t){return dwe(t)},e.parse=function(t){var n=new pwe,a=[];return n.parse(t,a),n.finish(a),a},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e})(rK),mwe=((ol={})[Ze.MOVE_TO]=2,ol[Ze.LINE_TO]=2,ol[Ze.HORIZ_LINE_TO]=1,ol[Ze.VERT_LINE_TO]=1,ol[Ze.CLOSE_PATH]=0,ol[Ze.QUAD_TO]=4,ol[Ze.SMOOTH_QUAD_TO]=2,ol[Ze.CURVE_TO]=6,ol[Ze.SMOOTH_CURVE_TO]=4,ol[Ze.ARC]=7,ol)});var sK=we(()=>{"use strict";var gwe=f1().PROPER,vwe=pf(),ywe=ui(),aK=al(),xwe=da(),wwe=rB(),M_="toString",oK=RegExp.prototype,iK=oK[M_],bwe=xwe(function(){return iK.call({source:"a",flags:"b"})!=="/a/b"}),Cwe=gwe&&iK.name!==M_;(bwe||Cwe)&&vwe(oK,M_,function(){var e=ywe(this),t=aK(e.source),n=aK(wwe(e));return"/"+t+"/"+n},{unsafe:!0})});function gB(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gB=function(e){return typeof e}:gB=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gB(r)}function Bwe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Ewe(r,e,t,n,a){if(typeof r=="string"&&(r=document.getElementById(r)),!r||gB(r)!=="object"||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=r.getContext("2d");try{return o.getImageData(e,t,n,a)}catch(i){throw new Error("unable to access image data: "+i)}}function lK(r,e,t,n,a,o){if(!(isNaN(o)||o<1)){o|=0;var i=Ewe(r,e,t,n,a);i=Lwe(i,e,t,n,a,o),r.getContext("2d").putImageData(i,e,t)}}function Lwe(r,e,t,n,a,o){for(var i=r.data,s=2*o+1,u=n-1,l=a-1,c=o+1,A=c*(c+1)/2,d=new uK,f=d,h,p=1;p<s;p++)f=f.next=new uK,p===c&&(h=f);f.next=d;for(var v=null,g=null,B=0,I=0,S=Swe[o],E=Iwe[o],T=0;T<a;T++){f=d;for(var U=i[I],D=i[I+1],k=i[I+2],O=i[I+3],N=0;N<c;N++)f.r=U,f.g=D,f.b=k,f.a=O,f=f.next;for(var P=0,j=0,z=0,ne=0,re=c*U,Y=c*D,J=c*k,G=c*O,Z=A*U,he=A*D,R=A*k,H=A*O,ae=1;ae<c;ae++){var le=I+((u<ae?u:ae)<<2),pe=i[le],ve=i[le+1],Se=i[le+2],me=i[le+3],ke=c-ae;Z+=(f.r=pe)*ke,he+=(f.g=ve)*ke,R+=(f.b=Se)*ke,H+=(f.a=me)*ke,P+=pe,j+=ve,z+=Se,ne+=me,f=f.next}v=d,g=h;for(var Re=0;Re<n;Re++){var De=H*S>>>E;if(i[I+3]=De,De!==0){var ze=255/De;i[I]=(Z*S>>>E)*ze,i[I+1]=(he*S>>>E)*ze,i[I+2]=(R*S>>>E)*ze}else i[I]=i[I+1]=i[I+2]=0;Z-=re,he-=Y,R-=J,H-=G,re-=v.r,Y-=v.g,J-=v.b,G-=v.a;var et=Re+o+1;et=B+(et<u?et:u)<<2,P+=v.r=i[et],j+=v.g=i[et+1],z+=v.b=i[et+2],ne+=v.a=i[et+3],Z+=P,he+=j,R+=z,H+=ne,v=v.next;var te=g,je=te.r,Ct=te.g,ft=te.b,He=te.a;re+=je,Y+=Ct,J+=ft,G+=He,P-=je,j-=Ct,z-=ft,ne-=He,g=g.next,I+=4}B+=n}for(var vt=0;vt<n;vt++){I=vt<<2;var at=i[I],ht=i[I+1],dt=i[I+2],Mt=i[I+3],Jt=c*at,Qt=c*ht,Ht=c*dt,Vt=c*Mt,mt=A*at,Kt=A*ht,ct=A*dt,Mr=A*Mt;f=d;for(var lr=0;lr<c;lr++)f.r=at,f.g=ht,f.b=dt,f.a=Mt,f=f.next;for(var Zt=n,Xt=0,br=0,Rt=0,kr=0,qt=1;qt<=o;qt++){I=Zt+vt<<2;var tr=c-qt;mt+=(f.r=at=i[I])*tr,Kt+=(f.g=ht=i[I+1])*tr,ct+=(f.b=dt=i[I+2])*tr,Mr+=(f.a=Mt=i[I+3])*tr,kr+=at,Xt+=ht,br+=dt,Rt+=Mt,f=f.next,qt<l&&(Zt+=n)}I=vt,v=d,g=h;for(var Ur=0;Ur<a;Ur++){var Yt=I<<2;i[Yt+3]=Mt=Mr*S>>>E,Mt>0?(Mt=255/Mt,i[Yt]=(mt*S>>>E)*Mt,i[Yt+1]=(Kt*S>>>E)*Mt,i[Yt+2]=(ct*S>>>E)*Mt):i[Yt]=i[Yt+1]=i[Yt+2]=0,mt-=Jt,Kt-=Qt,ct-=Ht,Mr-=Vt,Jt-=v.r,Qt-=v.g,Ht-=v.b,Vt-=v.a,Yt=vt+((Yt=Ur+c)<l?Yt:l)*n<<2,mt+=kr+=v.r=i[Yt],Kt+=Xt+=v.g=i[Yt+1],ct+=br+=v.b=i[Yt+2],Mr+=Rt+=v.a=i[Yt+3],v=v.next,Jt+=at=g.r,Qt+=ht=g.g,Ht+=dt=g.b,Vt+=Mt=g.a,kr-=at,Xt-=ht,br-=dt,Rt-=Mt,g=g.next,I+=n}}return r}var Swe,Iwe,uK,cK=en(()=>{Swe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Iwe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];uK=function r(){Bwe(this,r),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}});var bK={};AI(bK,{AElement:()=>KB,AnimateColorElement:()=>VB,AnimateElement:()=>yg,AnimateTransformElement:()=>qB,BoundingBox:()=>ls,CB1:()=>Q_,CB2:()=>H_,CB3:()=>V_,CB4:()=>q_,Canvg:()=>X_,CircleElement:()=>kB,ClipPathElement:()=>eS,DefsElement:()=>UB,DescElement:()=>iS,Document:()=>gh,Element:()=>jn,EllipseElement:()=>NB,FeColorMatrixElement:()=>H1,FeCompositeElement:()=>nS,FeDropShadowElement:()=>tS,FeGaussianBlurElement:()=>aS,FeMorphologyElement:()=>rS,FilterElement:()=>q1,Font:()=>yu,FontElement:()=>WB,FontFaceElement:()=>zB,GElement:()=>vg,GlyphElement:()=>D1,GradientElement:()=>O1,ImageElement:()=>YB,LineElement:()=>PB,LinearGradientElement:()=>OB,MarkerElement:()=>MB,MaskElement:()=>V1,Matrix:()=>N1,MissingGlyphElement:()=>jB,Mouse:()=>SB,PSEUDO_ZERO:()=>hh,Parser:()=>gg,PathElement:()=>Ma,PathParser:()=>vr,PatternElement:()=>RB,Point:()=>Ja,PolygonElement:()=>DB,PolylineElement:()=>U1,Property:()=>ir,QB1:()=>W_,QB2:()=>z_,QB3:()=>j_,RadialGradientElement:()=>QB,RectElement:()=>M1,RenderedElement:()=>Wl,Rotate:()=>EB,SVGElement:()=>xf,SVGFontLoader:()=>JB,Scale:()=>LB,Screen:()=>ph,Skew:()=>P1,SkewX:()=>FB,SkewY:()=>TB,StopElement:()=>HB,StyleElement:()=>Q1,SymbolElement:()=>$B,TRefElement:()=>GB,TSpanElement:()=>R1,TextElement:()=>yf,TextPathElement:()=>XB,TitleElement:()=>oS,Transform:()=>mh,Translate:()=>IB,UnknownElement:()=>_B,UseElement:()=>ZB,ViewPort:()=>BB,compressSpaces:()=>vh,default:()=>X_,getSelectorSpecificity:()=>yK,normalizeAttributeName:()=>gK,normalizeColor:()=>vK,parseExternalUrl:()=>Y_,presets:()=>_we,toNumbers:()=>us,trimLeft:()=>pK,trimRight:()=>mK,vectorMagnitude:()=>U_,vectorsAngle:()=>O_,vectorsRatio:()=>CB});function Fwe(){var{DOMParser:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:r,createCanvas(t,n){return new OffscreenCanvas(t,n)},createImage(t){return ql(function*(){var n=yield fetch(t),a=yield n.blob(),o=yield createImageBitmap(a);return o})()}};return(typeof DOMParser<"u"||typeof r>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function Twe(r){var{DOMParser:e,canvas:t,fetch:n}=r;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:t.createCanvas,createImage:t.loadImage}}function vh(r){return r.replace(/(?!\u3000)\s+/gm," ")}function pK(r){return r.replace(/^[\n \t]+/,"")}function mK(r){return r.replace(/[\n \t]+$/,"")}function us(r){var e=(r||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}function gK(r){return kwe.test(r)?r.toLowerCase():r}function Y_(r){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(r)||[];return e[2]||e[3]||e[4]}function vK(r){if(!r.startsWith("rgb"))return r;var e=3,t=r.replace(/\d+(\.\d+)?/g,(n,a)=>e--&&a?String(Math.round(parseFloat(n))):n);return t}function fh(r,e){var t=e.exec(r);return t?[r.replace(e," "),t.length]:[r,0]}function yK(r){var e=[0,0,0],t=r.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[t,n]=fh(t,Nwe),e[1]+=n,[t,n]=fh(t,Pwe),e[0]+=n,[t,n]=fh(t,Dwe),e[1]+=n,[t,n]=fh(t,Rwe),e[2]+=n,[t,n]=fh(t,Mwe),e[1]+=n,[t,n]=fh(t,Uwe),e[1]+=n,t=t.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[t,n]=fh(t,Owe),e[2]+=n,e.join("")}function U_(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function CB(r,e){return(r[0]*e[0]+r[1]*e[1])/(U_(r)*U_(e))}function O_(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(CB(r,e))}function Q_(r){return r*r*r}function H_(r){return 3*r*r*(1-r)}function V_(r){return 3*r*(1-r)*(1-r)}function q_(r){return(1-r)*(1-r)*(1-r)}function W_(r){return r*r}function z_(r){return 2*r*(1-r)}function j_(r){return(1-r)*(1-r)}function Vwe(r){return vh(r).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function qwe(r){var[e,t]=r.split("(");return[e.trim(),t.trim().replace(")","")]}function Wwe(r){var e=r.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function zwe(r){return typeof process>"u"?r:r.trim().split(",").map(Wwe).join(",")}function jwe(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function Gwe(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}function AK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function vB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?AK(Object(t),!0).forEach(function(n){dB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):AK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function yB(r,e,t,n,a,o){return r[t*n*4+e*4+o]}function xB(r,e,t,n,a,o,i){r[t*n*4+e*4+o]=i}function $a(r,e,t){var n=r[e];return n*t}function tA(r,e,t,n){return e+Math.cos(r)*t+Math.sin(r)*n}function dK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ywe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dK(Object(t),!0).forEach(function(n){dB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $we(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t}function Jwe(r){return K_.apply(this,arguments)}function K_(){return K_=ql(function*(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=document.createElement("img");return e&&(t.crossOrigin="Anonymous"),new Promise((n,a)=>{t.onload=()=>{n(t)},t.onerror=(o,i,s,u,l)=>{a(l)},t.src=r})}),K_.apply(this,arguments)}function hK(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function dh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hK(Object(t),!0).forEach(function(n){dB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hK(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ltt,Att,ftt,dtt,htt,ptt,gtt,vtt,ytt,wB,xtt,bB,wtt,btt,Ctt,Stt,_we,kwe,Nwe,Pwe,Dwe,Rwe,Mwe,Uwe,Owe,hh,ir,BB,Ja,SB,xK,wK,ph,Qwe,Hwe,gg,IB,EB,LB,N1,P1,FB,TB,mh,jn,_B,yu,ls,vr,Wl,Ma,D1,yf,R1,G_,xf,M1,kB,NB,PB,U1,DB,RB,MB,UB,vg,O1,OB,QB,HB,yg,VB,qB,WB,zB,jB,GB,KB,XB,Kwe,YB,$B,JB,Q1,ZB,H1,V1,fK,eS,q1,tS,rS,nS,aS,oS,iS,Xwe,gh,X_,CK=en(()=>{ltt=At(pj(),1);gj();Att=At(o9(),1),ftt=At(A9(),1),dtt=At(v9(),1),htt=At(b_(),1),ptt=At(nG(),1);uG();gtt=At(mG(),1),vtt=At(yG(),1),ytt=At(BG(),1),wB=At(LG(),1),xtt=At(MG(),1),bB=At(OG(),1),wtt=At(HG(),1),btt=At(qG(),1),Ctt=At(GG(),1);nK();Stt=At(sK(),1);cK();_we=Object.freeze({__proto__:null,offscreen:Fwe,node:Twe});kwe=/^[A-Z-]+$/;Nwe=/(\[[^\]]+\])/g,Pwe=/(#[^\s+>~.[:]+)/g,Dwe=/(\.[^\s+>~.[:]+)/g,Rwe=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Mwe=/(:[\w-]+\([^)]*\))/gi,Uwe=/(:[^\s+>~.[:]+)/g,Owe=/([^\s+>~.[:]+)/g;hh=1e-8;ir=class r{constructor(e,t,n){this.document=e,this.name=t,this.value=n,this.isNormalizedColor=!1}static empty(e){return new r(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:t,name:n}=this;return vh(this.getString()).trim().split(e).map(a=>new r(t,n,a))}hasValue(e){var{value:t}=this;return t!==null&&t!==""&&(e||t!==0)&&typeof t<"u"}isString(e){var{value:t}=this,n=typeof t=="string";return!n||!e?n:e.test(t)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:t}=this,n=parseFloat(t);return this.isString(/%$/)&&(n/=100),n}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=vK(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[n,a]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:o}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&a):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(n);default:{var i=this.getNumber();return t&&i<1?i*o.computeSize(n):i}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}getFillStyleDefinition(e,t){var n=this.getDefinition();if(!n)return null;if(typeof n.createGradient=="function")return n.createGradient(this.document.ctx,e,t);if(typeof n.createPattern=="function"){if(n.getHrefAttribute().hasValue()){var a=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),a.hasValue()&&n.getAttribute("patternTransform",!0).setValue(a.value)}return n.createPattern(this.document.ctx,e,t)}return null}getTextBaseline(){return this.hasValue()?r.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var t=this.getColor(),n=t.length,a=0,o=0;o<n&&(t[o]===","&&a++,a!==3);o++);if(e.hasValue()&&this.isString()&&a!==3){var i=new bB.default(t);i.ok&&(i.alpha=e.getNumber(),t=i.toRGBA())}return new r(this.document,this.name,t)}};ir.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};BB=class{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,t){this.viewPorts.push({width:e,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}},Ja=class r{constructor(e,t){this.x=e,this.y=t}static parse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[n=t,a=t]=us(e);return new r(n,a)}static parseScale(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[n=t,a=n]=us(e);return new r(n,a)}static parsePath(e){for(var t=us(e),n=t.length,a=[],o=0;o<n;o+=2)a.push(new r(t[o],t[o+1]));return a}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:t,y:n}=this,a=t*e[0]+n*e[2]+e[4],o=t*e[1]+n*e[3]+e[5];this.x=a,this.y=o}},SB=class{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:t,onMouseMove:n}=this,a=e.ctx.canvas;a.onclick=t,a.onmousemove=n,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:t,eventElements:n}=this,{style:a}=e.ctx.canvas;a&&(a.cursor=""),t.forEach((o,i)=>{for(var{run:s}=o,u=n[i];u;)s(u),u=u.parent}),this.events=[],this.eventElements=[]}}checkPath(e,t){if(!(!this.working||!t)){var{events:n,eventElements:a}=this;n.forEach((o,i)=>{var{x:s,y:u}=o;!a[i]&&t.isPointInPath&&t.isPointInPath(s,u)&&(a[i]=e)})}}checkBoundingBox(e,t){if(!(!this.working||!t)){var{events:n,eventElements:a}=this;n.forEach((o,i)=>{var{x:s,y:u}=o;!a[i]&&t.isPointInBox(s,u)&&(a[i]=e)})}}mapXY(e,t){for(var{window:n,ctx:a}=this.screen,o=new Ja(e,t),i=a.canvas;i;)o.x-=i.offsetLeft,o.y-=i.offsetTop,i=i.offsetParent;return n.scrollX&&(o.x+=n.scrollX),n.scrollY&&(o.y+=n.scrollY),o}onClick(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:t,y:n,run(a){a.onClick&&a.onClick()}})}onMouseMove(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:t,y:n,run(a){a.onMouseMove&&a.onMouseMove()}})}},xK=typeof window<"u"?window:null,wK=typeof fetch<"u"?fetch.bind(void 0):null,ph=class{constructor(e){var{fetch:t=wK,window:n=xK}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new BB,this.mouse=new SB(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=t}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(t=>t());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:t,ctx:n,aspectRatio:a,width:o,desiredWidth:i,height:s,desiredHeight:u,minX:l=0,minY:c=0,refX:A,refY:d,clip:f=!1,clipX:h=0,clipY:p=0}=e,v=vh(a).replace(/^defer\s/,""),[g,B]=v.split(" "),I=g||"xMidYMid",S=B||"meet",E=o/i,T=s/u,U=Math.min(E,T),D=Math.max(E,T),k=i,O=u;S==="meet"&&(k*=U,O*=U),S==="slice"&&(k*=D,O*=D);var N=new ir(t,"refX",A),P=new ir(t,"refY",d),j=N.hasValue()&&P.hasValue();if(j&&n.translate(-U*N.getPixels("x"),-U*P.getPixels("y")),f){var z=U*h,ne=U*p;n.beginPath(),n.moveTo(z,ne),n.lineTo(o,ne),n.lineTo(o,s),n.lineTo(z,s),n.closePath(),n.clip()}if(!j){var re=S==="meet"&&U===T,Y=S==="slice"&&D===T,J=S==="meet"&&U===E,G=S==="slice"&&D===E;I.startsWith("xMid")&&(re||Y)&&n.translate(o/2-k/2,0),I.endsWith("YMid")&&(J||G)&&n.translate(0,s/2-O/2),I.startsWith("xMax")&&(re||Y)&&n.translate(o-k,0),I.endsWith("YMax")&&(J||G)&&n.translate(0,s-O)}switch(!0){case I==="none":n.scale(E,T);break;case S==="meet":n.scale(U,U);break;case S==="slice":n.scale(D,D);break}n.translate(-l,-c)}start(e){var{enableRedraw:t=!1,ignoreMouse:n=!1,ignoreAnimation:a=!1,ignoreDimensions:o=!1,ignoreClear:i=!1,forceRedraw:s,scaleWidth:u,scaleHeight:l,offsetX:c,offsetY:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:d,mouse:f}=this,h=1e3/d;if(this.frameDuration=h,this.readyPromise=new Promise(I=>{this.resolveReady=I}),this.isReady()&&this.render(e,o,i,u,l,c,A),!!t){var p=Date.now(),v=p,g=0,B=()=>{p=Date.now(),g=p-v,g>=h&&(v=p-g%h,this.shouldUpdate(a,s)&&(this.render(e,o,i,u,l,c,A),f.runEvents())),this.intervalId=(0,wB.default)(B)};n||f.start(),this.intervalId=(0,wB.default)(B)}}stop(){this.intervalId&&(wB.default.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,t){if(!e){var{frameDuration:n}=this,a=this.animations.reduce((o,i)=>i.update(n)||o,!1);if(a)return!0}return!!(typeof t=="function"&&t()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,t,n,a,o,i,s){var{CLIENT_WIDTH:u,CLIENT_HEIGHT:l,viewPort:c,ctx:A,isFirstRender:d}=this,f=A.canvas;c.clear(),f.width&&f.height?c.setCurrent(f.width,f.height):c.setCurrent(u,l);var h=e.getStyle("width"),p=e.getStyle("height");!t&&(d||typeof a!="number"&&typeof o!="number")&&(h.hasValue()&&(f.width=h.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),p.hasValue()&&(f.height=p.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var v=f.clientWidth||f.width,g=f.clientHeight||f.height;if(t&&h.hasValue()&&p.hasValue()&&(v=h.getPixels("x"),g=p.getPixels("y")),c.setCurrent(v,g),typeof i=="number"&&e.getAttribute("x",!0).setValue(i),typeof s=="number"&&e.getAttribute("y",!0).setValue(s),typeof a=="number"||typeof o=="number"){var B=us(e.getAttribute("viewBox").getString()),I=0,S=0;if(typeof a=="number"){var E=e.getStyle("width");E.hasValue()?I=E.getPixels("x")/a:isNaN(B[2])||(I=B[2]/a)}if(typeof o=="number"){var T=e.getStyle("height");T.hasValue()?S=T.getPixels("y")/o:isNaN(B[3])||(S=B[3]/o)}I||(I=S),S||(S=I),e.getAttribute("width",!0).setValue(a),e.getAttribute("height",!0).setValue(o);var U=e.getStyle("transform",!0,!0);U.setValue("".concat(U.getString()," scale(").concat(1/I,", ").concat(1/S,")"))}n||A.clearRect(0,0,v,g),e.render(A),d&&(this.isFirstRender=!1)}};ph.defaultWindow=xK;ph.defaultFetch=wK;({defaultFetch:Qwe}=ph),Hwe=typeof DOMParser<"u"?DOMParser:null,gg=class{constructor(){var{fetch:e=Qwe,DOMParser:t=Hwe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=t}parse(e){var t=this;return ql(function*(){return e.startsWith("<")?t.parseFromString(e):t.load(e)})()}parseFromString(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(t.parseFromString(e,"text/xml"))}}checkDocument(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}load(e){var t=this;return ql(function*(){var n=yield t.fetch(e),a=yield n.text();return t.parseFromString(a)})()}},IB=class{constructor(e,t){this.type="translate",this.point=null,this.point=Ja.parse(t)}apply(e){var{x:t,y:n}=this.point;e.translate(t||0,n||0)}unapply(e){var{x:t,y:n}=this.point;e.translate(-1*t||0,-1*n||0)}applyToPoint(e){var{x:t,y:n}=this.point;e.applyTransform([1,0,0,1,t||0,n||0])}},EB=class{constructor(e,t,n){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var a=us(t);this.angle=new ir(e,"angle",a[0]),this.originX=n[0],this.originY=n[1],this.cx=a[1]||0,this.cy=a[2]||0}apply(e){var{cx:t,cy:n,originX:a,originY:o,angle:i}=this,s=t+a.getPixels("x"),u=n+o.getPixels("y");e.translate(s,u),e.rotate(i.getRadians()),e.translate(-s,-u)}unapply(e){var{cx:t,cy:n,originX:a,originY:o,angle:i}=this,s=t+a.getPixels("x"),u=n+o.getPixels("y");e.translate(s,u),e.rotate(-1*i.getRadians()),e.translate(-s,-u)}applyToPoint(e){var{cx:t,cy:n,angle:a}=this,o=a.getRadians();e.applyTransform([1,0,0,1,t||0,n||0]),e.applyTransform([Math.cos(o),Math.sin(o),-Math.sin(o),Math.cos(o),0,0]),e.applyTransform([1,0,0,1,-t||0,-n||0])}},LB=class{constructor(e,t,n){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var a=Ja.parseScale(t);(a.x===0||a.y===0)&&(a.x=hh,a.y=hh),this.scale=a,this.originX=n[0],this.originY=n[1]}apply(e){var{scale:{x:t,y:n},originX:a,originY:o}=this,i=a.getPixels("x"),s=o.getPixels("y");e.translate(i,s),e.scale(t,n||t),e.translate(-i,-s)}unapply(e){var{scale:{x:t,y:n},originX:a,originY:o}=this,i=a.getPixels("x"),s=o.getPixels("y");e.translate(i,s),e.scale(1/t,1/n||t),e.translate(-i,-s)}applyToPoint(e){var{x:t,y:n}=this.scale;e.applyTransform([t||0,0,0,n||0,0,0])}},N1=class{constructor(e,t,n){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=us(t),this.originX=n[0],this.originY=n[1]}apply(e){var{originX:t,originY:n,matrix:a}=this,o=t.getPixels("x"),i=n.getPixels("y");e.translate(o,i),e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.translate(-o,-i)}unapply(e){var{originX:t,originY:n,matrix:a}=this,o=a[0],i=a[2],s=a[4],u=a[1],l=a[3],c=a[5],A=0,d=0,f=1,h=1/(o*(l*f-c*d)-i*(u*f-c*A)+s*(u*d-l*A)),p=t.getPixels("x"),v=n.getPixels("y");e.translate(p,v),e.transform(h*(l*f-c*d),h*(c*A-u*f),h*(s*d-i*f),h*(o*f-s*A),h*(i*c-s*l),h*(s*u-o*c)),e.translate(-p,-v)}applyToPoint(e){e.applyTransform(this.matrix)}},P1=class extends N1{constructor(e,t,n){super(e,t,n),this.type="skew",this.angle=null,this.angle=new ir(e,"angle",t)}},FB=class extends P1{constructor(e,t,n){super(e,t,n),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}},TB=class extends P1{constructor(e,t,n){super(e,t,n),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}};mh=class r{constructor(e,t,n){this.document=e,this.transforms=[];var a=Vwe(t);a.forEach(o=>{if(o!=="none"){var[i,s]=qwe(o),u=r.transformTypes[i];typeof u<"u"&&this.transforms.push(new u(this.document,s,n))}})}static fromElement(e,t){var n=t.getStyle("transform",!1,!0),[a,o=a]=t.getStyle("transform-origin",!1,!0).split(),i=[a,o];return n.hasValue()?new r(e,n.getString(),i):null}apply(e){for(var{transforms:t}=this,n=t.length,a=0;a<n;a++)t[a].apply(e)}unapply(e){for(var{transforms:t}=this,n=t.length,a=n-1;a>=0;a--)t[a].unapply(e)}applyToPoint(e){for(var{transforms:t}=this,n=t.length,a=0;a<n;a++)t[a].applyToPoint(e)}};mh.transformTypes={translate:IB,rotate:EB,scale:LB,matrix:N1,skewX:FB,skewY:TB};jn=class r{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=t,this.captureTextNodes=n,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!t||t.nodeType!==1)){if(Array.from(t.attributes).forEach(s=>{var u=gK(s.nodeName);this.attributes[u]=new ir(e,u,s.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var a=this.getAttribute("style").getString().split(";").map(s=>s.trim());a.forEach(s=>{if(s){var[u,l]=s.split(":").map(c=>c.trim());this.styles[u]=new ir(e,u,l)}})}var{definitions:o}=e,i=this.getAttribute("id");i.hasValue()&&(o[i.getString()]||(o[i.getString()]=this)),Array.from(t.childNodes).forEach(s=>{if(s.nodeType===1)this.addChild(s);else if(n&&(s.nodeType===3||s.nodeType===4)){var u=e.createTextNode(s);u.getText().length>0&&this.addChild(u)}})}}getAttribute(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.attributes[e];if(!n&&t){var a=new ir(this.document,e,"");return this.attributes[e]=a,a}return n||ir.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return ir.empty(this.document)}getStyle(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.styles[e];if(a)return a;var o=this.getAttribute(e);if(o!=null&&o.hasValue())return this.styles[e]=o,o;if(!n){var{parent:i}=this;if(i){var s=i.getStyle(e);if(s!=null&&s.hasValue())return s}}if(t){var u=new ir(this.document,e,"");return this.styles[e]=u,u}return a||ir.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var t=mh.fromElement(this.document,this);t&&t.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var a=n.getDefinition();a&&a.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(t=>{t.render(e)})}addChild(e){var t=e instanceof r?e:this.document.createElement(e);t.parent=this,r.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(e){var t,{node:n}=this;if(typeof n.matches=="function")return n.matches(e);var a=(t=n.getAttribute)===null||t===void 0?void 0:t.call(n,"class");return!a||a===""?!1:a.split(" ").some(o=>".".concat(o)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:t}=this.document;for(var n in e)if(!n.startsWith("@")&&this.matchesSelector(n)){var a=e[n],o=t[n];if(a)for(var i in a){var s=this.stylesSpecificity[i];typeof s>"u"&&(s="000"),o>=s&&(this.styles[i]=a[i],this.stylesSpecificity[i]=o)}}}removeStyles(e,t){var n=t.reduce((a,o)=>{var i=e.getStyle(o);if(!i.hasValue())return a;var s=i.getString();return i.setValue(""),[...a,[o,s]]},[]);return n}restoreStyles(e,t){t.forEach(n=>{var[a,o]=n;e.getStyle(a,!0).setValue(o)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};jn.ignoreChildTypes=["title"];_B=class extends jn{constructor(e,t,n){super(e,t,n)}};yu=class r{constructor(e,t,n,a,o,i){var s=i?typeof i=="string"?r.parse(i):i:{};this.fontFamily=o||s.fontFamily,this.fontSize=a||s.fontSize,this.fontStyle=e||s.fontStyle,this.fontWeight=n||s.fontWeight,this.fontVariant=t||s.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="",a="",o="",i="",s="",u=vh(e).trim().split(" "),l={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return u.forEach(c=>{switch(!0){case(!l.fontStyle&&r.styles.includes(c)):c!=="inherit"&&(n=c),l.fontStyle=!0;break;case(!l.fontVariant&&r.variants.includes(c)):c!=="inherit"&&(a=c),l.fontStyle=!0,l.fontVariant=!0;break;case(!l.fontWeight&&r.weights.includes(c)):c!=="inherit"&&(o=c),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0;break;case!l.fontSize:c!=="inherit"&&([i]=c.split("/")),l.fontStyle=!0,l.fontVariant=!0,l.fontWeight=!0,l.fontSize=!0;break;default:c!=="inherit"&&(s+=c)}}),new r(n,a,o,i,s,t)}toString(){return[jwe(this.fontStyle),this.fontVariant,Gwe(this.fontWeight),this.fontSize,zwe(this.fontFamily)].join(" ").trim()}};yu.styles="normal|italic|oblique|inherit";yu.variants="normal|small-caps|inherit";yu.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";ls=class{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=t,this.x2=n,this.y2=a,this.addPoint(e,t),this.addPoint(n,a)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,t){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:t,y1:n,x2:a,y2:o}=e;this.addPoint(t,n),this.addPoint(a,o)}}sumCubic(e,t,n,a,o){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*a+Math.pow(e,3)*o}bezierCurveAdd(e,t,n,a,o){var i=6*t-12*n+6*a,s=-3*t+9*n-9*a+3*o,u=3*n-3*t;if(s===0){if(i===0)return;var l=-u/i;0<l&&l<1&&(e?this.addX(this.sumCubic(l,t,n,a,o)):this.addY(this.sumCubic(l,t,n,a,o)));return}var c=Math.pow(i,2)-4*u*s;if(!(c<0)){var A=(-i+Math.sqrt(c))/(2*s);0<A&&A<1&&(e?this.addX(this.sumCubic(A,t,n,a,o)):this.addY(this.sumCubic(A,t,n,a,o)));var d=(-i-Math.sqrt(c))/(2*s);0<d&&d<1&&(e?this.addX(this.sumCubic(d,t,n,a,o)):this.addY(this.sumCubic(d,t,n,a,o)))}}addBezierCurve(e,t,n,a,o,i,s,u){this.addPoint(e,t),this.addPoint(s,u),this.bezierCurveAdd(!0,e,n,o,s),this.bezierCurveAdd(!1,t,a,i,u)}addQuadraticCurve(e,t,n,a,o,i){var s=e+.6666666666666666*(n-e),u=t+2/3*(a-t),l=s+1/3*(o-e),c=u+1/3*(i-t);this.addBezierCurve(e,t,s,l,u,c,o,i)}isPointInBox(e,t){var{x1:n,y1:a,x2:o,y2:i}=this;return n<=e&&e<=o&&a<=t&&t<=i}},vr=class extends Ze{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Ja(0,0),this.control=new Ja(0,0),this.current=new Ja(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:t}=this;return e>=t.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",n=new Ja(this.command[e],this.command[t]);return this.makeAbsolute(n)}getAsControlPoint(e,t){var n=this.getPoint(e,t);return this.control=n,n}getAsCurrentPoint(e,t){var n=this.getPoint(e,t);return this.current=n,n}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==Ze.CURVE_TO&&e!==Ze.SMOOTH_CURVE_TO&&e!==Ze.QUAD_TO&&e!==Ze.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:n},control:{x:a,y:o}}=this,i=new Ja(2*t-a,2*n-o);return i}makeAbsolute(e){if(this.command.relative){var{x:t,y:n}=this.current;e.x+=t,e.y+=n}return e}addMarker(e,t,n){var{points:a,angles:o}=this;n&&o.length>0&&!o[o.length-1]&&(o[o.length-1]=a[a.length-1].angleTo(n)),this.addMarkerAngle(e,t?t.angleTo(e):null)}addMarkerAngle(e,t){this.points.push(e),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,t=e.length,n=0;n<t;n++)if(!e[n]){for(var a=n+1;a<t;a++)if(e[a]){e[n]=e[a];break}}return e}},Wl=class extends jn{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,t=this;t;){var n=t.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),t=t.parent}return e}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t){var n=this.getStyle("fill"),a=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),i=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var s=n.getFillStyleDefinition(this,a);s&&(e.fillStyle=s)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var u=n.getColor();u!=="inherit"&&(e.fillStyle=u==="none"?"rgba(0,0,0,0)":u)}if(a.hasValue()){var l=new ir(this.document,"fill",e.fillStyle).addOpacity(a).getColor();e.fillStyle=l}if(o.isUrlDefinition()){var c=o.getFillStyleDefinition(this,i);c&&(e.strokeStyle=c)}else if(o.hasValue()){o.getString()==="currentColor"&&o.setValue(this.getStyle("color").getColor());var A=o.getString();A!=="inherit"&&(e.strokeStyle=A==="none"?"rgba(0,0,0,0)":A)}if(i.hasValue()){var d=new ir(this.document,"stroke",e.strokeStyle).addOpacity(i).getString();e.strokeStyle=d}var f=this.getStyle("stroke-width");if(f.hasValue()){var h=f.getPixels();e.lineWidth=h||hh}var p=this.getStyle("stroke-linecap"),v=this.getStyle("stroke-linejoin"),g=this.getStyle("stroke-miterlimit"),B=this.getStyle("stroke-dasharray"),I=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(e.lineCap=p.getString()),v.hasValue()&&(e.lineJoin=v.getString()),g.hasValue()&&(e.miterLimit=g.getNumber()),B.hasValue()&&B.getString()!=="none"){var S=us(B.getString());typeof e.setLineDash<"u"?e.setLineDash(S):typeof e.webkitLineDash<"u"?e.webkitLineDash=S:typeof e.mozDash<"u"&&!(S.length===1&&S[0]===0)&&(e.mozDash=S);var E=I.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=E:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=E:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=E)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var T=this.getStyle("font"),U=this.getStyle("font-style"),D=this.getStyle("font-variant"),k=this.getStyle("font-weight"),O=this.getStyle("font-size"),N=this.getStyle("font-family"),P=new yu(U.getString(),D.getString(),k.getString(),O.hasValue()?"".concat(O.getPixels(!0),"px"):"",N.getString(),yu.parse(T.getString(),e.font));U.setValue(P.fontStyle),D.setValue(P.fontVariant),k.setValue(P.fontWeight),O.setValue(P.fontSize),N.setValue(P.fontFamily),e.font=P.toString(),O.isPixels()&&(this.document.emSize=O.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}},Ma=class r extends Wl{constructor(e,t,n){super(e,t,n),this.type="path",this.pathParser=null,this.pathParser=new vr(this.getAttribute("d").getString())}path(e){var{pathParser:t}=this,n=new ls;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case vr.MOVE_TO:this.pathM(e,n);break;case vr.LINE_TO:this.pathL(e,n);break;case vr.HORIZ_LINE_TO:this.pathH(e,n);break;case vr.VERT_LINE_TO:this.pathV(e,n);break;case vr.CURVE_TO:this.pathC(e,n);break;case vr.SMOOTH_CURVE_TO:this.pathS(e,n);break;case vr.QUAD_TO:this.pathQ(e,n);break;case vr.SMOOTH_QUAD_TO:this.pathT(e,n);break;case vr.ARC:this.pathA(e,n);break;case vr.CLOSE_PATH:this.pathZ(e,n);break}return n}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,t=e.getMarkerPoints(),n=e.getMarkerAngles(),a=t.map((o,i)=>[o,n[i]]);return a}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");e.fillStyle!==""&&(t.getString("inherit")!=="inherit"?e.fill(t.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var a=n.length-1,o=this.getStyle("marker-start"),i=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(o.isUrlDefinition()){var u=o.getDefinition(),[l,c]=n[0];u.render(e,l,c)}if(i.isUrlDefinition())for(var A=i.getDefinition(),d=1;d<a;d++){var[f,h]=n[d];A.render(e,f,h)}if(s.isUrlDefinition()){var p=s.getDefinition(),[v,g]=n[a];p.render(e,v,g)}}}static pathM(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}pathM(e,t){var{pathParser:n}=this,{point:a}=r.pathM(n),{x:o,y:i}=a;n.addMarker(a),t.addPoint(o,i),e&&e.moveTo(o,i)}static pathL(e){var{current:t}=e,n=e.getAsCurrentPoint();return{current:t,point:n}}pathL(e,t){var{pathParser:n}=this,{current:a,point:o}=r.pathL(n),{x:i,y:s}=o;n.addMarker(o,a),t.addPoint(i,s),e&&e.lineTo(i,s)}static pathH(e){var{current:t,command:n}=e,a=new Ja((n.relative?t.x:0)+n.x,t.y);return e.current=a,{current:t,point:a}}pathH(e,t){var{pathParser:n}=this,{current:a,point:o}=r.pathH(n),{x:i,y:s}=o;n.addMarker(o,a),t.addPoint(i,s),e&&e.lineTo(i,s)}static pathV(e){var{current:t,command:n}=e,a=new Ja(t.x,(n.relative?t.y:0)+n.y);return e.current=a,{current:t,point:a}}pathV(e,t){var{pathParser:n}=this,{current:a,point:o}=r.pathV(n),{x:i,y:s}=o;n.addMarker(o,a),t.addPoint(i,s),e&&e.lineTo(i,s)}static pathC(e){var{current:t}=e,n=e.getPoint("x1","y1"),a=e.getAsControlPoint("x2","y2"),o=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:a,currentPoint:o}}pathC(e,t){var{pathParser:n}=this,{current:a,point:o,controlPoint:i,currentPoint:s}=r.pathC(n);n.addMarker(s,i,o),t.addBezierCurve(a.x,a.y,o.x,o.y,i.x,i.y,s.x,s.y),e&&e.bezierCurveTo(o.x,o.y,i.x,i.y,s.x,s.y)}static pathS(e){var{current:t}=e,n=e.getReflectedControlPoint(),a=e.getAsControlPoint("x2","y2"),o=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:a,currentPoint:o}}pathS(e,t){var{pathParser:n}=this,{current:a,point:o,controlPoint:i,currentPoint:s}=r.pathS(n);n.addMarker(s,i,o),t.addBezierCurve(a.x,a.y,o.x,o.y,i.x,i.y,s.x,s.y),e&&e.bezierCurveTo(o.x,o.y,i.x,i.y,s.x,s.y)}static pathQ(e){var{current:t}=e,n=e.getAsControlPoint("x1","y1"),a=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:a}}pathQ(e,t){var{pathParser:n}=this,{current:a,controlPoint:o,currentPoint:i}=r.pathQ(n);n.addMarker(i,o,o),t.addQuadraticCurve(a.x,a.y,o.x,o.y,i.x,i.y),e&&e.quadraticCurveTo(o.x,o.y,i.x,i.y)}static pathT(e){var{current:t}=e,n=e.getReflectedControlPoint();e.control=n;var a=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:a}}pathT(e,t){var{pathParser:n}=this,{current:a,controlPoint:o,currentPoint:i}=r.pathT(n);n.addMarker(i,o,o),t.addQuadraticCurve(a.x,a.y,o.x,o.y,i.x,i.y),e&&e.quadraticCurveTo(o.x,o.y,i.x,i.y)}static pathA(e){var{current:t,command:n}=e,{rX:a,rY:o,xRot:i,lArcFlag:s,sweepFlag:u}=n,l=i*(Math.PI/180),c=e.getAsCurrentPoint(),A=new Ja(Math.cos(l)*(t.x-c.x)/2+Math.sin(l)*(t.y-c.y)/2,-Math.sin(l)*(t.x-c.x)/2+Math.cos(l)*(t.y-c.y)/2),d=Math.pow(A.x,2)/Math.pow(a,2)+Math.pow(A.y,2)/Math.pow(o,2);d>1&&(a*=Math.sqrt(d),o*=Math.sqrt(d));var f=(s===u?-1:1)*Math.sqrt((Math.pow(a,2)*Math.pow(o,2)-Math.pow(a,2)*Math.pow(A.y,2)-Math.pow(o,2)*Math.pow(A.x,2))/(Math.pow(a,2)*Math.pow(A.y,2)+Math.pow(o,2)*Math.pow(A.x,2)));isNaN(f)&&(f=0);var h=new Ja(f*a*A.y/o,f*-o*A.x/a),p=new Ja((t.x+c.x)/2+Math.cos(l)*h.x-Math.sin(l)*h.y,(t.y+c.y)/2+Math.sin(l)*h.x+Math.cos(l)*h.y),v=O_([1,0],[(A.x-h.x)/a,(A.y-h.y)/o]),g=[(A.x-h.x)/a,(A.y-h.y)/o],B=[(-A.x-h.x)/a,(-A.y-h.y)/o],I=O_(g,B);return CB(g,B)<=-1&&(I=Math.PI),CB(g,B)>=1&&(I=0),{currentPoint:c,rX:a,rY:o,sweepFlag:u,xAxisRotation:l,centp:p,a1:v,ad:I}}pathA(e,t){var{pathParser:n}=this,{currentPoint:a,rX:o,rY:i,sweepFlag:s,xAxisRotation:u,centp:l,a1:c,ad:A}=r.pathA(n),d=1-s?1:-1,f=c+d*(A/2),h=new Ja(l.x+o*Math.cos(f),l.y+i*Math.sin(f));if(n.addMarkerAngle(h,f-d*Math.PI/2),n.addMarkerAngle(a,f-d*Math.PI),t.addPoint(a.x,a.y),e&&!isNaN(c)&&!isNaN(A)){var p=o>i?o:i,v=o>i?1:o/i,g=o>i?i/o:1;e.translate(l.x,l.y),e.rotate(u),e.scale(v,g),e.arc(0,0,p,c,c+A,!!(1-s)),e.scale(1/v,1/g),e.rotate(-u),e.translate(-l.x,-l.y)}}static pathZ(e){e.current=e.start}pathZ(e,t){r.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}},D1=class extends Ma{constructor(e,t,n){super(e,t,n),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}},yf=class r extends Wl{constructor(e,t,n){super(e,t,new.target===r?!0:n),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,t);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var t=null;return this.children.forEach((n,a)=>{var o=this.getChildBoundingBox(e,this,this,a);t?t.addBoundingBox(o):t=o}),t}getFontSize(){var{document:e,parent:t}=this,n=yu.parse(e.ctx.font).fontSize,a=t.getStyle("font-size").getNumber(n);return a}getTElementBoundingBox(e){var t=this.getFontSize();return new ls(this.x,this.y-t,this.x+this.measureText(e),this.y)}getGlyph(e,t,n){var a=t[n],o=null;if(e.isArabic){var i=t.length,s=t[n-1],u=t[n+1],l="isolated";if((n===0||s===" ")&&n<i-1&&u!==" "&&(l="terminal"),n>0&&s!==" "&&n<i-1&&u!==" "&&(l="medial"),n>0&&s!==" "&&(n===i-1||u===" ")&&(l="initial"),typeof e.glyphs[a]<"u"){var c=e.glyphs[a];o=c instanceof D1?c:c[l]}}else o=e.glyphs[a];return o||(o=e.missingGlyph),o}getText(){return""}getTextFromNode(e){var t=e||this.node,n=Array.from(t.parentNode.childNodes),a=n.indexOf(t),o=n.length-1,i=vh(t.textContent||"");return a===0&&(i=pK(i)),a===o&&(i=mK(i)),i}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,a)=>{this.renderChild(e,this,this,a)});var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:t,parent:n}=this,a=this.getText(),o=n.getStyle("font-family").getDefinition();if(o){for(var{unitsPerEm:i}=o.fontFace,s=yu.parse(t.ctx.font),u=n.getStyle("font-size").getNumber(s.fontSize),l=n.getStyle("font-style").getString(s.fontStyle),c=u/i,A=o.isRTL?a.split("").reverse().join(""):a,d=us(n.getAttribute("dx").getString()),f=A.length,h=0;h<f;h++){var p=this.getGlyph(o,A,h);e.translate(this.x,this.y),e.scale(c,-c);var v=e.lineWidth;e.lineWidth=e.lineWidth*i/u,l==="italic"&&e.transform(1,0,.4,1,0,0),p.render(e),l==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=v,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=u*(p.horizAdvX||o.horizAdvX)/i,typeof d[h]<"u"&&!isNaN(d[h])&&(this.x+=d[h])}return}var{x:g,y:B}=this;e.fillStyle&&e.fillText(a,g,B),e.strokeStyle&&e.strokeText(a,g,B)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),n=!1,a=0;t==="start"&&!n||t==="end"&&n?a=e.x-this.minX:t==="end"&&!n||t==="start"&&n?a=e.x-this.maxX:a=e.x-(this.minX+this.maxX)/2;for(var o=this.textChunkStart;o<this.leafTexts.length;o++)this.leafTexts[o].x+=a;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((t,n)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,n)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,t,n,a){var o=n.children[a];o.children.length>0?o.children.forEach((i,s)=>{t.adjustChildCoordinatesRecursiveCore(e,t,o,s)}):this.adjustChildCoordinates(e,t,n,a)}adjustChildCoordinates(e,t,n,a){var o=n.children[a];if(typeof o.measureText!="function")return o;e.save(),o.setContext(e,!0);var i=o.getAttribute("x"),s=o.getAttribute("y"),u=o.getAttribute("dx"),l=o.getAttribute("dy"),c=o.getStyle("font-family").getDefinition(),A=!!c&&c.isRTL;a===0&&(i.hasValue()||i.setValue(o.getInheritedAttribute("x")),s.hasValue()||s.setValue(o.getInheritedAttribute("y")),u.hasValue()||u.setValue(o.getInheritedAttribute("dx")),l.hasValue()||l.setValue(o.getInheritedAttribute("dy")));var d=o.measureText(e);return A&&(t.x-=d),i.hasValue()?(t.applyAnchoring(),o.x=i.getPixels("x"),u.hasValue()&&(o.x+=u.getPixels("x"))):(u.hasValue()&&(t.x+=u.getPixels("x")),o.x=t.x),t.x=o.x,A||(t.x+=d),s.hasValue()?(o.y=s.getPixels("y"),l.hasValue()&&(o.y+=l.getPixels("y"))):(l.hasValue()&&(t.y+=l.getPixels("y")),o.y=t.y),t.y=o.y,t.leafTexts.push(o),t.minX=Math.min(t.minX,o.x,o.x+d),t.maxX=Math.max(t.maxX,o.x,o.x+d),o.clearContext(e),e.restore(),o}getChildBoundingBox(e,t,n,a){var o=n.children[a];if(typeof o.getBoundingBox!="function")return null;var i=o.getBoundingBox(e);return i?(o.children.forEach((s,u)=>{var l=t.getChildBoundingBox(e,t,o,u);i.addBoundingBox(l)}),i):null}renderChild(e,t,n,a){var o=n.children[a];o.render(e),o.children.forEach((i,s)=>{t.renderChild(e,t,o,s)})}measureText(e){var{measureCache:t}=this;if(~t)return t;var n=this.getText(),a=this.measureTargetText(e,n);return this.measureCache=a,a}measureTargetText(e,t){if(!t.length)return 0;var{parent:n}=this,a=n.getStyle("font-family").getDefinition();if(a){for(var o=this.getFontSize(),i=a.isRTL?t.split("").reverse().join(""):t,s=us(n.getAttribute("dx").getString()),u=i.length,l=0,c=0;c<u;c++){var A=this.getGlyph(a,i,c);l+=(A.horizAdvX||a.horizAdvX)*o/a.fontFace.unitsPerEm,typeof s[c]<"u"&&!isNaN(s[c])&&(l+=s[c])}return l}if(!e.measureText)return t.length*10;e.save(),this.setContext(e,!0);var{width:d}=e.measureText(t);return this.clearContext(e),e.restore(),d}getInheritedAttribute(e){for(var t=this;t instanceof r&&t.isFirstChild();){var n=t.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");t=t.parent}return null}},R1=class r extends yf{constructor(e,t,n){super(e,t,new.target===r?!0:n),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}},G_=class extends R1{constructor(){super(...arguments),this.type="textNode"}},xf=class extends Wl{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var t,{document:n}=this,{screen:a,window:o}=n,i=e.canvas;if(a.setDefaults(e),i.style&&typeof e.font<"u"&&o&&typeof o.getComputedStyle<"u"){e.font=o.getComputedStyle(i).getPropertyValue("font");var s=new ir(n,"fontSize",yu.parse(e.font).fontSize);s.hasValue()&&(n.rootEmSize=s.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:u,height:l}=a.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var c=this.getAttribute("refX"),A=this.getAttribute("refY"),d=this.getAttribute("viewBox"),f=d.hasValue()?us(d.getString()):null,h=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",p=0,v=0,g=0,B=0;f&&(p=f[0],v=f[1]),this.root||(u=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y"),this.type==="marker"&&(g=p,B=v,p=0,v=0)),a.viewPort.setCurrent(u,l),this.node&&(!this.parent||((t=this.node.parentNode)===null||t===void 0?void 0:t.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),f&&(u=f[2],l=f[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a.viewPort.width,desiredWidth:u,height:a.viewPort.height,desiredHeight:l,minX:p,minY:v,refX:c.getValue(),refY:A.getValue(),clip:h,clipX:g,clipY:B}),f&&(a.viewPort.removeCurrent(),a.viewPort.setCurrent(u,l))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.getAttribute("width",!0),o=this.getAttribute("height",!0),i=this.getAttribute("viewBox"),s=this.getAttribute("style"),u=a.getNumber(0),l=o.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(a.setValue(e),o.setValue(t),i.hasValue()||i.setValue("0 0 ".concat(u||e," ").concat(l||t)),s.hasValue()){var A=this.getStyle("width"),d=this.getStyle("height");A.hasValue()&&A.setValue("".concat(e,"px")),d.hasValue()&&d.setValue("".concat(t,"px"))}}},M1=class extends Ma{constructor(){super(...arguments),this.type="rect"}path(e){var t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),a=this.getStyle("width",!1,!0).getPixels("x"),o=this.getStyle("height",!1,!0).getPixels("y"),i=this.getAttribute("rx"),s=this.getAttribute("ry"),u=i.getPixels("x"),l=s.getPixels("y");if(i.hasValue()&&!s.hasValue()&&(l=u),s.hasValue()&&!i.hasValue()&&(u=l),u=Math.min(u,a/2),l=Math.min(l,o/2),e){var c=4*((Math.sqrt(2)-1)/3);e.beginPath(),o>0&&a>0&&(e.moveTo(t+u,n),e.lineTo(t+a-u,n),e.bezierCurveTo(t+a-u+c*u,n,t+a,n+l-c*l,t+a,n+l),e.lineTo(t+a,n+o-l),e.bezierCurveTo(t+a,n+o-l+c*l,t+a-u+c*u,n+o,t+a-u,n+o),e.lineTo(t+u,n+o),e.bezierCurveTo(t+u-c*u,n+o,t,n+o-l+c*l,t,n+o-l),e.lineTo(t,n+l),e.bezierCurveTo(t,n+l-c*l,t+u-c*u,n,t+u,n),e.closePath())}return new ls(t,n,t+a,n+o)}getMarkers(){return null}},kB=class extends Ma{constructor(){super(...arguments),this.type="circle"}path(e){var t=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),a=this.getAttribute("r").getPixels();return e&&a>0&&(e.beginPath(),e.arc(t,n,a,0,Math.PI*2,!1),e.closePath()),new ls(t-a,n-a,t+a,n+a)}getMarkers(){return null}},NB=class extends Ma{constructor(){super(...arguments),this.type="ellipse"}path(e){var t=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),a=this.getAttribute("ry").getPixels("y"),o=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y");return e&&n>0&&a>0&&(e.beginPath(),e.moveTo(o+n,i),e.bezierCurveTo(o+n,i+t*a,o+t*n,i+a,o,i+a),e.bezierCurveTo(o-t*n,i+a,o-n,i+t*a,o-n,i),e.bezierCurveTo(o-n,i-t*a,o-t*n,i-a,o,i-a),e.bezierCurveTo(o+t*n,i-a,o+n,i-t*a,o+n,i),e.closePath()),new ls(o-n,i-a,o+n,i+a)}getMarkers(){return null}},PB=class extends Ma{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Ja(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Ja(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:t,y:n},{x:a,y:o}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(t,n),e.lineTo(a,o)),new ls(t,n,a,o)}getMarkers(){var[e,t]=this.getPoints(),n=e.angleTo(t);return[[e,n],[t,n]]}},U1=class extends Ma{constructor(e,t,n){super(e,t,n),this.type="polyline",this.points=[],this.points=Ja.parsePath(this.getAttribute("points").getString())}path(e){var{points:t}=this,[{x:n,y:a}]=t,o=new ls(n,a);return e&&(e.beginPath(),e.moveTo(n,a)),t.forEach(i=>{var{x:s,y:u}=i;o.addPoint(s,u),e&&e.lineTo(s,u)}),o}getMarkers(){var{points:e}=this,t=e.length-1,n=[];return e.forEach((a,o)=>{o!==t&&n.push([a,a.angleTo(e[o+1])])}),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}},DB=class extends U1{constructor(){super(...arguments),this.type="polygon"}path(e){var t=super.path(e),[{x:n,y:a}]=this.points;return e&&(e.lineTo(n,a),e.closePath()),t}},RB=class extends jn{constructor(){super(...arguments),this.type="pattern"}createPattern(e,t,n){var a=this.getStyle("width").getPixels("x",!0),o=this.getStyle("height").getPixels("y",!0),i=new xf(this.document,null);i.attributes.viewBox=new ir(this.document,"viewBox",this.getAttribute("viewBox").getValue()),i.attributes.width=new ir(this.document,"width","".concat(a,"px")),i.attributes.height=new ir(this.document,"height","".concat(o,"px")),i.attributes.transform=new ir(this.document,"transform",this.getAttribute("patternTransform").getValue()),i.children=this.children;var s=this.document.createCanvas(a,o),u=s.getContext("2d"),l=this.getAttribute("x"),c=this.getAttribute("y");l.hasValue()&&c.hasValue()&&u.translate(l.getPixels("x",!0),c.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var A=-1;A<=1;A++)for(var d=-1;d<=1;d++)u.save(),i.attributes.x=new ir(this.document,"x",A*s.width),i.attributes.y=new ir(this.document,"y",d*s.height),i.render(u),u.restore();var f=e.createPattern(s,"repeat");return f}},MB=class extends jn{constructor(){super(...arguments),this.type="marker"}render(e,t,n){if(t){var{x:a,y:o}=t,i=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(a,o),i==="auto"&&e.rotate(n),s==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var u=new xf(this.document,null);u.type=this.type,u.attributes.viewBox=new ir(this.document,"viewBox",this.getAttribute("viewBox").getValue()),u.attributes.refX=new ir(this.document,"refX",this.getAttribute("refX").getValue()),u.attributes.refY=new ir(this.document,"refY",this.getAttribute("refY").getValue()),u.attributes.width=new ir(this.document,"width",this.getAttribute("markerWidth").getValue()),u.attributes.height=new ir(this.document,"height",this.getAttribute("markerHeight").getValue()),u.attributes.overflow=new ir(this.document,"overflow",this.getAttribute("overflow").getValue()),u.attributes.fill=new ir(this.document,"fill",this.getAttribute("fill").getColor("black")),u.attributes.stroke=new ir(this.document,"stroke",this.getAttribute("stroke").getValue("none")),u.children=this.children,u.render(e),e.restore(),s==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),i==="auto"&&e.rotate(-n),e.translate(-a,-o)}}},UB=class extends jn{constructor(){super(...arguments),this.type="defs"}render(){}},vg=class extends Wl{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var t=new ls;return this.children.forEach(n=>{t.addBoundingBox(n.getBoundingBox(e))}),t}},O1=class extends jn{constructor(e,t,n){super(e,t,n),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:a,children:o}=this;o.forEach(i=>{i.type==="stop"&&a.push(i)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,t,n){var a=this;this.getHrefAttribute().hasValue()&&(a=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(a));var{stops:o}=a,i=this.getGradient(e,t);if(!i)return this.addParentOpacity(n,o[o.length-1].color);if(o.forEach(v=>{i.addColorStop(v.offset,this.addParentOpacity(n,v.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:u,viewPort:l}=s.screen,[c]=l.viewPorts,A=new M1(s,null);A.attributes.x=new ir(s,"x",-u/3),A.attributes.y=new ir(s,"y",-u/3),A.attributes.width=new ir(s,"width",u),A.attributes.height=new ir(s,"height",u);var d=new vg(s,null);d.attributes.transform=new ir(s,"transform",this.getAttribute("gradientTransform").getValue()),d.children=[A];var f=new xf(s,null);f.attributes.x=new ir(s,"x",0),f.attributes.y=new ir(s,"y",0),f.attributes.width=new ir(s,"width",c.width),f.attributes.height=new ir(s,"height",c.height),f.children=[d];var h=s.createCanvas(c.width,c.height),p=h.getContext("2d");return p.fillStyle=i,f.render(p),p.createPattern(h,"no-repeat")}return i}inheritStopContainer(e){this.attributesToInherit.forEach(t=>{!this.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())})}addParentOpacity(e,t){if(e.hasValue()){var n=new ir(this.document,"color",t);return n.addOpacity(e).getColor()}return t}},OB=class extends O1{constructor(e,t,n){super(e,t,n),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",a=n?t.getBoundingBox(e):null;if(n&&!a)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var o=n?a.x+a.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),i=n?a.y+a.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=n?a.x+a.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),u=n?a.y+a.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return o===s&&i===u?null:e.createLinearGradient(o,i,s,u)}},QB=class extends O1{constructor(e,t,n){super(e,t,n),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",a=t.getBoundingBox(e);if(n&&!a)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var o=n?a.x+a.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),i=n?a.y+a.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=o,u=i;this.getAttribute("fx").hasValue()&&(s=n?a.x+a.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(u=n?a.y+a.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var l=n?(a.width+a.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return e.createRadialGradient(s,u,c,o,i,l)}},HB=class extends jn{constructor(e,t,n){super(e,t,n),this.type="stop";var a=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),o=this.getStyle("stop-opacity"),i=this.getStyle("stop-color",!0);i.getString()===""&&i.setValue("#000"),o.hasValue()&&(i=i.addOpacity(o)),this.offset=a,this.color=i.getColor()}},yg=class extends jn{constructor(e,t,n){super(e,t,n),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new ir(e,"values",null);var a=this.getAttribute("values");a.hasValue()&&this.values.setValue(a.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:e}=this,{progress:t,from:n,to:a}=this.getProgress(),o=n.getNumber()+(a.getNumber()-n.getNumber())*t;return e==="%"&&(o*=100),"".concat(o).concat(e)}update(e){var{parent:t}=this,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var a=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(a==="freeze"&&!this.frozen)this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=n.getString();else if(a==="remove"&&!this.removed)return this.removed=!0,n.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var o=!1;if(this.begin<this.duration){var i=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var u=s.getString();i="".concat(u,"(").concat(i,")")}n.setValue(i),o=!0}return o}getProgress(){var{document:e,values:t}=this,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var a=n.progress*(t.getValue().length-1),o=Math.floor(a),i=Math.ceil(a);n.from=new ir(e,"from",parseFloat(t.getValue()[o])),n.to=new ir(e,"to",parseFloat(t.getValue()[i])),n.progress=(a-o)/(i-o)}else n.from=this.from,n.to=this.to;return n}},VB=class extends yg{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),a=new bB.default(t.getColor()),o=new bB.default(n.getColor());if(a.ok&&o.ok){var i=a.r+(o.r-a.r)*e,s=a.g+(o.g-a.g)*e,u=a.b+(o.b-a.b)*e;return"rgb(".concat(Math.floor(i),", ").concat(Math.floor(s),", ").concat(Math.floor(u),")")}return this.getAttribute("from").getColor()}},qB=class extends yg{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),a=us(t.getString()),o=us(n.getString()),i=a.map((s,u)=>{var l=o[u];return s+(l-s)*e}).join(" ");return i}},WB=class extends jn{constructor(e,t,n){super(e,t,n),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:a}=e,{children:o}=this;for(var i of o)switch(i.type){case"font-face":{this.fontFace=i;var s=i.getStyle("font-family");s.hasValue()&&(a[s.getString()]=this);break}case"missing-glyph":this.missingGlyph=i;break;case"glyph":{var u=i;u.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[u.unicode]>"u"&&(this.glyphs[u.unicode]=Object.create(null)),this.glyphs[u.unicode][u.arabicForm]=u):this.glyphs[u.unicode]=u;break}}}render(){}},zB=class extends jn{constructor(e,t,n){super(e,t,n),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}},jB=class extends Ma{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}},GB=class extends yf{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}},KB=class extends yf{constructor(e,t,n){super(e,t,n),this.type="a";var{childNodes:a}=t,o=a[0],i=a.length>0&&Array.from(a).every(s=>s.nodeType===3);this.hasText=i,this.text=i?this.getTextFromNode(o):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:t,x:n,y:a}=this,{mouse:o}=t.screen,i=new ir(t,"fontSize",yu.parse(t.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new ls(n,a-i.getPixels("y"),n+this.measureText(e),a))}else if(this.children.length>0){var s=new vg(this.document,null);s.children=this.children,s.parent=this,s.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}};XB=class extends yf{constructor(e,t,n){super(e,t,n),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var a=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(a)}getText(){return this.text}path(e){var{dataArray:t}=this;e&&e.beginPath(),t.forEach(n=>{var{type:a,points:o}=n;switch(a){case vr.LINE_TO:e&&e.lineTo(o[0],o[1]);break;case vr.MOVE_TO:e&&e.moveTo(o[0],o[1]);break;case vr.CURVE_TO:e&&e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case vr.QUAD_TO:e&&e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case vr.ARC:{var[i,s,u,l,c,A,d,f]=o,h=u>l?u:l,p=u>l?1:u/l,v=u>l?l/u:1;e&&(e.translate(i,s),e.rotate(d),e.scale(p,v),e.arc(0,0,h,c,c+A,!!(1-f)),e.scale(1/p,1/v),e.rotate(-d),e.translate(-i,-s));break}case vr.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),{glyphInfo:a}=this,o=e.fillStyle;t==="underline"&&e.beginPath(),a.forEach((i,s)=>{var{p0:u,p1:l,rotation:c,text:A}=i;e.save(),e.translate(u.x,u.y),e.rotate(c),e.fillStyle&&e.fillText(A,0,0),e.strokeStyle&&e.strokeText(A,0,0),e.restore(),t==="underline"&&(s===0&&e.moveTo(u.x,u.y+n/8),e.lineTo(l.x,l.y+n/5))}),t==="underline"&&(e.lineWidth=n/20,e.strokeStyle=o,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,t,n,a,o,i,s,u,l){var c=i,A=this.measureText(e,u);u===" "&&t==="justify"&&n<a&&(A+=(a-n)/o),l>-1&&(c+=this.getLetterSpacingAt(l));var d=this.textHeight/20,f=this.getEquidistantPointOnPath(c,d,0),h=this.getEquidistantPointOnPath(c+A,d,0),p={p0:f,p1:h},v=f&&h?Math.atan2(h.y-f.y,h.x-f.x):0;if(s){var g=Math.cos(Math.PI/2+v)*s,B=Math.cos(-v)*s;p.p0=vB(vB({},f),{},{x:f.x+g,y:f.y+B}),p.p1=vB(vB({},h),{},{x:h.x+g,y:h.y+B})}return c+=A,{offset:c,segment:p,rotation:v}}measureText(e,t){var{measuresCache:n}=this,a=t||this.getText();if(n.has(a))return n.get(a);var o=this.measureTargetText(e,a);return n.set(a,o),o}setTextData(e){if(!this.glyphInfo){var t=this.getText(),n=t.split(""),a=t.split(" ").length-1,o=this.parent.getAttribute("dx").split().map(S=>S.getPixels("x")),i=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),l=this.parent.getStyle("letter-spacing"),c=0;!u.hasValue()||u.getValue()==="inherit"?c=l.getPixels():u.hasValue()&&u.getValue()!=="initial"&&u.getValue()!=="unset"&&(c=u.getPixels());var A=[],d=t.length;this.letterSpacingCache=A;for(var f=0;f<d;f++)A.push(typeof o[f]<"u"?o[f]:c);var h=A.reduce((S,E,T)=>T===0?0:S+E||0,0),p=this.measureText(e),v=Math.max(p+h,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),B=this.getStyle("startOffset").getNumber(0)*g,I=0;(s==="middle"||s==="center")&&(I=-v/2),(s==="end"||s==="right")&&(I=-v),I+=B,n.forEach((S,E)=>{var{offset:T,segment:U,rotation:D}=this.findSegmentToFitChar(e,s,v,g,a,I,i,S,E);I=T,!(!U.p0||!U.p1)&&this.glyphInfo.push({text:n[E],p0:U.p0,p1:U.p1,rotation:D})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var t=[],{pathParser:n}=e;for(n.reset();!n.isEnd();){var{current:a}=n,o=a?a.x:0,i=a?a.y:0,s=n.next(),u=s.type,l=[];switch(s.type){case vr.MOVE_TO:this.pathM(n,l);break;case vr.LINE_TO:u=this.pathL(n,l);break;case vr.HORIZ_LINE_TO:u=this.pathH(n,l);break;case vr.VERT_LINE_TO:u=this.pathV(n,l);break;case vr.CURVE_TO:this.pathC(n,l);break;case vr.SMOOTH_CURVE_TO:u=this.pathS(n,l);break;case vr.QUAD_TO:this.pathQ(n,l);break;case vr.SMOOTH_QUAD_TO:u=this.pathT(n,l);break;case vr.ARC:l=this.pathA(n);break;case vr.CLOSE_PATH:Ma.pathZ(n);break}s.type!==vr.CLOSE_PATH?t.push({type:u,points:l,start:{x:o,y:i},pathLength:this.calcLength(o,i,u,l)}):t.push({type:vr.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(e,t){var{x:n,y:a}=Ma.pathM(e).point;t.push(n,a)}pathL(e,t){var{x:n,y:a}=Ma.pathL(e).point;return t.push(n,a),vr.LINE_TO}pathH(e,t){var{x:n,y:a}=Ma.pathH(e).point;return t.push(n,a),vr.LINE_TO}pathV(e,t){var{x:n,y:a}=Ma.pathV(e).point;return t.push(n,a),vr.LINE_TO}pathC(e,t){var{point:n,controlPoint:a,currentPoint:o}=Ma.pathC(e);t.push(n.x,n.y,a.x,a.y,o.x,o.y)}pathS(e,t){var{point:n,controlPoint:a,currentPoint:o}=Ma.pathS(e);return t.push(n.x,n.y,a.x,a.y,o.x,o.y),vr.CURVE_TO}pathQ(e,t){var{controlPoint:n,currentPoint:a}=Ma.pathQ(e);t.push(n.x,n.y,a.x,a.y)}pathT(e,t){var{controlPoint:n,currentPoint:a}=Ma.pathT(e);return t.push(n.x,n.y,a.x,a.y),vr.QUAD_TO}pathA(e){var{rX:t,rY:n,sweepFlag:a,xAxisRotation:o,centp:i,a1:s,ad:u}=Ma.pathA(e);return a===0&&u>0&&(u-=2*Math.PI),a===1&&u<0&&(u+=2*Math.PI),[i.x,i.y,t,n,s,u,o,a]}calcLength(e,t,n,a){var o=0,i=null,s=null,u=0;switch(n){case vr.LINE_TO:return this.getLineLength(e,t,a[0],a[1]);case vr.CURVE_TO:for(o=0,i=this.getPointOnCubicBezier(0,e,t,a[0],a[1],a[2],a[3],a[4],a[5]),u=.01;u<=1;u+=.01)s=this.getPointOnCubicBezier(u,e,t,a[0],a[1],a[2],a[3],a[4],a[5]),o+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return o;case vr.QUAD_TO:for(o=0,i=this.getPointOnQuadraticBezier(0,e,t,a[0],a[1],a[2],a[3]),u=.01;u<=1;u+=.01)s=this.getPointOnQuadraticBezier(u,e,t,a[0],a[1],a[2],a[3]),o+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return o;case vr.ARC:{o=0;var l=a[4],c=a[5],A=a[4]+c,d=Math.PI/180;if(Math.abs(l-A)<d&&(d=Math.abs(l-A)),i=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),c<0)for(u=l-d;u>A;u-=d)s=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],u,0),o+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;else for(u=l+d;u<A;u+=d)s=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],u,0),o+=this.getLineLength(i.x,i.y,s.x,s.y),i=s;return s=this.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],A,0),o+=this.getLineLength(i.x,i.y,s.x,s.y),o}}return 0}getPointOnLine(e,t,n,a,o){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,u=(o-n)/(a-t+hh),l=Math.sqrt(e*e/(1+u*u));a<t&&(l*=-1);var c=u*l,A=null;if(a===t)A={x:i,y:s+c};else if((s-n)/(i-t+hh)===u)A={x:i+l,y:s+c};else{var d=0,f=0,h=this.getLineLength(t,n,a,o);if(h<hh)return null;var p=(i-t)*(a-t)+(s-n)*(o-n);p/=h*h,d=t+p*(a-t),f=n+p*(o-n);var v=this.getLineLength(i,s,d,f),g=Math.sqrt(e*e-v*v);l=Math.sqrt(g*g/(1+u*u)),a<t&&(l*=-1),c=u*l,A={x:d+l,y:f+c}}return A}getPointOnPath(e){var t=this.getPathLength(),n=0,a=null;if(e<-5e-5||e-5e-5>t)return null;var{dataArray:o}=this;for(var i of o){if(i&&(i.pathLength<5e-5||n+i.pathLength+5e-5<e)){n+=i.pathLength;continue}var s=e-n,u=0;switch(i.type){case vr.LINE_TO:a=this.getPointOnLine(s,i.start.x,i.start.y,i.points[0],i.points[1],i.start.x,i.start.y);break;case vr.ARC:{var l=i.points[4],c=i.points[5],A=i.points[4]+c;if(u=l+s/i.pathLength*c,c<0&&u<A||c>=0&&u>A)break;a=this.getPointOnEllipticalArc(i.points[0],i.points[1],i.points[2],i.points[3],u,i.points[6]);break}case vr.CURVE_TO:u=s/i.pathLength,u>1&&(u=1),a=this.getPointOnCubicBezier(u,i.start.x,i.start.y,i.points[0],i.points[1],i.points[2],i.points[3],i.points[4],i.points[5]);break;case vr.QUAD_TO:u=s/i.pathLength,u>1&&(u=1),a=this.getPointOnQuadraticBezier(u,i.start.x,i.start.y,i.points[0],i.points[1],i.points[2],i.points[3]);break}if(a)return a;break}return null}getLineLength(e,t,n,a){return Math.sqrt((n-e)*(n-e)+(a-t)*(a-t))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,t)=>t.pathLength>0?e+t.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,t,n,a,o,i,s,u,l){var c=u*Q_(e)+i*H_(e)+a*V_(e)+t*q_(e),A=l*Q_(e)+s*H_(e)+o*V_(e)+n*q_(e);return{x:c,y:A}}getPointOnQuadraticBezier(e,t,n,a,o,i,s){var u=i*W_(e)+a*z_(e)+t*j_(e),l=s*W_(e)+o*z_(e)+n*j_(e);return{x:u,y:l}}getPointOnEllipticalArc(e,t,n,a,o,i){var s=Math.cos(i),u=Math.sin(i),l={x:n*Math.cos(o),y:a*Math.sin(o)};return{x:e+(l.x*s-l.y*u),y:t+(l.x*u+l.y*s)}}buildEquidistantCache(e,t){var n=this.getPathLength(),a=t||.25,o=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==o||this.equidistantCache.precision!==a){this.equidistantCache={step:o,precision:a,points:[]};for(var i=0,s=0;s<=n;s+=a){var u=this.getPointOnPath(s),l=this.getPointOnPath(s+a);!u||!l||(i+=this.getLineLength(u.x,u.y,l.x,l.y),i>=o&&(this.equidistantCache.points.push({x:u.x,y:u.y,distance:s}),i-=o))}}}getEquidistantPointOnPath(e,t,n){if(this.buildEquidistantCache(t,n),e<0||e-this.getPathLength()>5e-5)return null;var a=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[a]||null}},Kwe=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i,YB=class extends Wl{constructor(e,t,n){super(e,t,n),this.type="image",this.loaded=!1;var a=this.getHrefAttribute().getString();if(a){var o=a.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(a);e.images.push(this),o?this.loadSvg(a):this.loadImage(a),this.isSvg=o}}loadImage(e){var t=this;return ql(function*(){try{var n=yield t.document.createImage(e);t.image=n}catch(a){console.error('Error while loading image "'.concat(e,'":'),a)}t.loaded=!0})()}loadSvg(e){var t=this;return ql(function*(){var n=Kwe.exec(e);if(n){var a=n[5];n[4]==="base64"?t.image=atob(a):t.image=decodeURIComponent(a)}else try{var o=yield t.document.fetch(e),i=yield o.text();t.image=i}catch(s){console.error('Error while loading image "'.concat(e,'":'),s)}t.loaded=!0})()}renderChildren(e){var{document:t,image:n,loaded:a}=this,o=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");if(!(!a||!n||!s||!u)){if(e.save(),e.translate(o,i),this.isSvg){var l=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:u});l.document.documentElement.parent=this,l.render()}else{var c=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:c.width,height:u,desiredHeight:c.height}),this.loaded&&(typeof c.complete>"u"||c.complete)&&e.drawImage(c,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");return new ls(e,t,e+n,t+a)}},$B=class extends Wl{constructor(){super(...arguments),this.type="symbol"}render(e){}},JB=class{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,t){var n=this;return ql(function*(){try{var{document:a}=n,o=yield a.canvg.parser.load(t),i=o.getElementsByTagName("font");Array.from(i).forEach(s=>{var u=a.createElement(s);a.definitions[e]=u})}catch(s){console.error('Error while loading font "'.concat(t,'":'),s)}n.loaded=!0})()}},Q1=class extends jn{constructor(e,t,n){super(e,t,n),this.type="style";var a=vh(Array.from(t.childNodes).map(i=>i.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),o=a.split("}");o.forEach(i=>{var s=i.trim();if(s){var u=s.split("{"),l=u[0].split(","),c=u[1].split(";");l.forEach(A=>{var d=A.trim();if(d){var f=e.styles[d]||{};if(c.forEach(v=>{var g=v.indexOf(":"),B=v.substr(0,g).trim(),I=v.substr(g+1,v.length-g).trim();B&&I&&(f[B]=new ir(e,B,I))}),e.styles[d]=f,e.stylesSpecificity[d]=yK(d),d==="@font-face"){var h=f["font-family"].getString().replace(/"|'/g,""),p=f.src.getString().split(",");p.forEach(v=>{if(v.indexOf('format("svg")')>0){var g=Y_(v);g&&new JB(e).load(h,g)}})}}})}})}};Q1.parseExternalUrl=Y_;ZB=class extends Wl{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var t=this.getAttribute("x"),n=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}path(e){var{element:t}=this;t&&t.path(e)}renderChildren(e){var{document:t,element:n}=this;if(n){var a=n;if(n.type==="symbol"&&(a=new xf(t,null),a.attributes.viewBox=new ir(t,"viewBox",n.getAttribute("viewBox").getString()),a.attributes.preserveAspectRatio=new ir(t,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),a.attributes.overflow=new ir(t,"overflow",n.getAttribute("overflow").getString()),a.children=n.children,n.styles.opacity=new ir(t,"opacity",this.calculateOpacity())),a.type==="svg"){var o=this.getStyle("width",!1,!0),i=this.getStyle("height",!1,!0);o.hasValue()&&(a.attributes.width=new ir(t,"width",o.getString())),i.hasValue()&&(a.attributes.height=new ir(t,"height",i.getString()))}var s=a.parent;a.parent=this,a.render(e),a.parent=s}}getBoundingBox(e){var{element:t}=this;return t?t.getBoundingBox(e):null}elementTransform(){var{document:e,element:t}=this;return mh.fromElement(e,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}};H1=class extends jn{constructor(e,t,n){super(e,t,n),this.type="feColorMatrix";var a=us(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var o=a[0];a=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var i=a[0]*Math.PI/180;a=[tA(i,.213,.787,-.213),tA(i,.715,-.715,-.715),tA(i,.072,-.072,.928),0,0,tA(i,.213,-.213,.143),tA(i,.715,.285,.14),tA(i,.072,-.072,-.283),0,0,tA(i,.213,-.213,-.787),tA(i,.715,-.715,.715),tA(i,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=a,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,t,n,a,o){for(var{includeOpacity:i,matrix:s}=this,u=e.getImageData(0,0,a,o),l=0;l<o;l++)for(var c=0;c<a;c++){var A=yB(u.data,c,l,a,o,0),d=yB(u.data,c,l,a,o,1),f=yB(u.data,c,l,a,o,2),h=yB(u.data,c,l,a,o,3),p=$a(s,0,A)+$a(s,1,d)+$a(s,2,f)+$a(s,3,h)+$a(s,4,1),v=$a(s,5,A)+$a(s,6,d)+$a(s,7,f)+$a(s,8,h)+$a(s,9,1),g=$a(s,10,A)+$a(s,11,d)+$a(s,12,f)+$a(s,13,h)+$a(s,14,1),B=$a(s,15,A)+$a(s,16,d)+$a(s,17,f)+$a(s,18,h)+$a(s,19,1);i&&(p=0,v=0,g=0,B*=h/255),xB(u.data,c,l,a,o,0,p),xB(u.data,c,l,a,o,1,v),xB(u.data,c,l,a,o,2,g),xB(u.data,c,l,a,o,3,B)}e.clearRect(0,0,a,o),e.putImageData(u,0,0)}},V1=class r extends jn{constructor(){super(...arguments),this.type="mask"}apply(e,t){var{document:n}=this,a=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!i&&!s){var u=new ls;this.children.forEach(h=>{u.addBoundingBox(h.getBoundingBox(e))}),a=Math.floor(u.x1),o=Math.floor(u.y1),i=Math.floor(u.width),s=Math.floor(u.height)}var l=this.removeStyles(t,r.ignoreStyles),c=n.createCanvas(a+i,o+s),A=c.getContext("2d");n.screen.setDefaults(A),this.renderChildren(A),new H1(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(A,0,0,a+i,o+s);var d=n.createCanvas(a+i,o+s),f=d.getContext("2d");n.screen.setDefaults(f),t.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=A.createPattern(c,"no-repeat"),f.fillRect(0,0,a+i,o+s),e.fillStyle=f.createPattern(d,"no-repeat"),e.fillRect(0,0,a+i,o+s),this.restoreStyles(t,l)}render(e){}};V1.ignoreStyles=["mask","transform","clip-path"];fK=()=>{},eS=class extends jn{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:t}=this,n=Reflect.getPrototypeOf(e),{beginPath:a,closePath:o}=e;n&&(n.beginPath=fK,n.closePath=fK),Reflect.apply(a,e,[]),this.children.forEach(i=>{if(!(typeof i.path>"u")){var s=typeof i.elementTransform<"u"?i.elementTransform():null;s||(s=mh.fromElement(t,i)),s&&s.apply(e),i.path(e),n&&(n.closePath=o),s&&s.unapply(e)}}),Reflect.apply(o,e,[]),e.clip(),n&&(n.beginPath=a,n.closePath=o)}render(e){}},q1=class r extends jn{constructor(){super(...arguments),this.type="filter"}apply(e,t){var{document:n,children:a}=this,o=t.getBoundingBox(e);if(o){var i=0,s=0;a.forEach(g=>{var B=g.extraFilterDistance||0;i=Math.max(i,B),s=Math.max(s,B)});var u=Math.floor(o.width),l=Math.floor(o.height),c=u+2*i,A=l+2*s;if(!(c<1||A<1)){var d=Math.floor(o.x),f=Math.floor(o.y),h=this.removeStyles(t,r.ignoreStyles),p=n.createCanvas(c,A),v=p.getContext("2d");n.screen.setDefaults(v),v.translate(-d+i,-f+s),t.render(v),a.forEach(g=>{typeof g.apply=="function"&&g.apply(v,0,0,c,A)}),e.drawImage(p,0,0,c,A,d-i,f-s,c,A),this.restoreStyles(t,h)}}}render(e){}};q1.ignoreStyles=["filter","transform","clip-path"];tS=class extends jn{constructor(e,t,n){super(e,t,n),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,t,n,a,o){}},rS=class extends jn{constructor(){super(...arguments),this.type="feMorphology"}apply(e,t,n,a,o){}},nS=class extends jn{constructor(){super(...arguments),this.type="feComposite"}apply(e,t,n,a,o){}},aS=class extends jn{constructor(e,t,n){super(e,t,n),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,t,n,a,o){var{document:i,blurRadius:s}=this,u=i.window?i.window.document.body:null,l=e.canvas;l.id=i.getUniqueId(),u&&(l.style.display="none",u.appendChild(l)),lK(l,t,n,a,o,s),u&&u.removeChild(l)}},oS=class extends jn{constructor(){super(...arguments),this.type="title"}},iS=class extends jn{constructor(){super(...arguments),this.type="desc"}},Xwe={svg:xf,rect:M1,circle:kB,ellipse:NB,line:PB,polyline:U1,polygon:DB,path:Ma,pattern:RB,marker:MB,defs:UB,linearGradient:OB,radialGradient:QB,stop:HB,animate:yg,animateColor:VB,animateTransform:qB,font:WB,"font-face":zB,"missing-glyph":jB,glyph:D1,text:yf,tspan:R1,tref:GB,a:KB,textPath:XB,image:YB,g:vg,symbol:$B,style:Q1,use:ZB,mask:V1,clipPath:eS,filter:q1,feDropShadow:tS,feMorphology:rS,feComposite:nS,feColorMatrix:H1,feGaussianBlur:aS,title:oS,desc:iS};gh=class r{constructor(e){var{rootEmSize:t=12,emSize:n=12,createCanvas:a=r.createCanvas,createImage:o=r.createImage,anonymousCrossOrigin:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=t,this.emSize=n,this.createCanvas=a,this.createImage=this.bindCreateImage(o,i),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,t){return typeof t=="boolean"?(n,a)=>e(n,typeof a=="boolean"?a:t):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:t}=this;t.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(e){var t=e.nodeName.replace(/^[^:]+:/,""),n=r.elementTypes[t];return typeof n<"u"?new n(this,e):new _B(this,e)}createTextNode(e){return new G_(this,e)}setViewBox(e){this.screen.setViewBox(Ywe({document:this},e))}};gh.createCanvas=$we;gh.createImage=Jwe;gh.elementTypes=Xwe;X_=class r{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new gg(n),this.screen=new ph(e,n),this.options=n;var a=new gh(this,n),o=a.createDocumentElement(t);this.document=a,this.documentElement=o}static from(e,t){var n=arguments;return ql(function*(){var a=n.length>2&&n[2]!==void 0?n[2]:{},o=new gg(a),i=yield o.parse(t);return new r(e,i,a)})()}static fromString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=new gg(n),o=a.parseFromString(t);return new r(e,o,n)}fork(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.from(e,t,dh(dh({},this.options),n))}forkString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.fromString(e,t,dh(dh({},this.options),n))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,t=this;return ql(function*(){var n=e.length>0&&e[0]!==void 0?e[0]:{};t.start(dh({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},n)),yield t.ready(),t.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:t,screen:n,options:a}=this;n.start(t,dh(dh({enableRedraw:!0},a),e))}stop(){this.screen.stop()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,t,n)}}});var oX={};AI(oX,{AcroForm:()=>fbe,AcroFormAppearance:()=>_t,AcroFormButton:()=>mo,AcroFormCheckBox:()=>j1,AcroFormChoiceField:()=>wh,AcroFormComboBox:()=>Ch,AcroFormEditBox:()=>W1,AcroFormListBox:()=>bh,AcroFormPasswordField:()=>G1,AcroFormPushButton:()=>z1,AcroFormRadioButton:()=>Bh,AcroFormTextField:()=>Bf,GState:()=>K1,ShadingPattern:()=>bf,TilingPattern:()=>xh,default:()=>er,jsPDF:()=>er});function $_(){pr.console&&typeof pr.console.log=="function"&&pr.console.log.apply(pr.console,arguments)}function J_(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){yh(n.response,e,t)},n.onerror=function(){Pn.error("could not download file")},n.send()}function BK(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function sS(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}function jK(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,o=t[n].process,i=a.exec(r);i&&(e=o(i),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return s.length==1&&(s="0"+s),u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),"#"+s+u+l}}function Z_(r,e){var t=r[0],n=r[1],a=r[2],o=r[3];t=ci(t,n,a,o,e[0],7,-680876936),o=ci(o,t,n,a,e[1],12,-389564586),a=ci(a,o,t,n,e[2],17,606105819),n=ci(n,a,o,t,e[3],22,-1044525330),t=ci(t,n,a,o,e[4],7,-176418897),o=ci(o,t,n,a,e[5],12,1200080426),a=ci(a,o,t,n,e[6],17,-1473231341),n=ci(n,a,o,t,e[7],22,-45705983),t=ci(t,n,a,o,e[8],7,1770035416),o=ci(o,t,n,a,e[9],12,-1958414417),a=ci(a,o,t,n,e[10],17,-42063),n=ci(n,a,o,t,e[11],22,-1990404162),t=ci(t,n,a,o,e[12],7,1804603682),o=ci(o,t,n,a,e[13],12,-40341101),a=ci(a,o,t,n,e[14],17,-1502002290),t=Ai(t,n=ci(n,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ai(o,t,n,a,e[6],9,-1069501632),a=Ai(a,o,t,n,e[11],14,643717713),n=Ai(n,a,o,t,e[0],20,-373897302),t=Ai(t,n,a,o,e[5],5,-701558691),o=Ai(o,t,n,a,e[10],9,38016083),a=Ai(a,o,t,n,e[15],14,-660478335),n=Ai(n,a,o,t,e[4],20,-405537848),t=Ai(t,n,a,o,e[9],5,568446438),o=Ai(o,t,n,a,e[14],9,-1019803690),a=Ai(a,o,t,n,e[3],14,-187363961),n=Ai(n,a,o,t,e[8],20,1163531501),t=Ai(t,n,a,o,e[13],5,-1444681467),o=Ai(o,t,n,a,e[2],9,-51403784),a=Ai(a,o,t,n,e[7],14,1735328473),t=fi(t,n=Ai(n,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=fi(o,t,n,a,e[8],11,-2022574463),a=fi(a,o,t,n,e[11],16,1839030562),n=fi(n,a,o,t,e[14],23,-35309556),t=fi(t,n,a,o,e[1],4,-1530992060),o=fi(o,t,n,a,e[4],11,1272893353),a=fi(a,o,t,n,e[7],16,-155497632),n=fi(n,a,o,t,e[10],23,-1094730640),t=fi(t,n,a,o,e[13],4,681279174),o=fi(o,t,n,a,e[0],11,-358537222),a=fi(a,o,t,n,e[3],16,-722521979),n=fi(n,a,o,t,e[6],23,76029189),t=fi(t,n,a,o,e[9],4,-640364487),o=fi(o,t,n,a,e[12],11,-421815835),a=fi(a,o,t,n,e[15],16,530742520),t=di(t,n=fi(n,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=di(o,t,n,a,e[7],10,1126891415),a=di(a,o,t,n,e[14],15,-1416354905),n=di(n,a,o,t,e[5],21,-57434055),t=di(t,n,a,o,e[12],6,1700485571),o=di(o,t,n,a,e[3],10,-1894986606),a=di(a,o,t,n,e[10],15,-1051523),n=di(n,a,o,t,e[1],21,-2054922799),t=di(t,n,a,o,e[8],6,1873313359),o=di(o,t,n,a,e[15],10,-30611744),a=di(a,o,t,n,e[6],15,-1560198380),n=di(n,a,o,t,e[13],21,1309151649),t=di(t,n,a,o,e[4],6,-145523070),o=di(o,t,n,a,e[11],10,-1120210379),a=di(a,o,t,n,e[2],15,718787259),n=di(n,a,o,t,e[9],21,-343485551),r[0]=Cf(t,r[0]),r[1]=Cf(n,r[1]),r[2]=Cf(a,r[2]),r[3]=Cf(o,r[3])}function dS(r,e,t,n,a,o){return e=Cf(Cf(e,r),Cf(n,o)),Cf(e<<a|e>>>32-a,t)}function ci(r,e,t,n,a,o,i){return dS(e&t|~e&n,r,e,a,o,i)}function Ai(r,e,t,n,a,o,i){return dS(e&n|t&~n,r,e,a,o,i)}function fi(r,e,t,n,a,o,i){return dS(e^t^n,r,e,a,o,i)}function di(r,e,t,n,a,o,i){return dS(t^(e|~n),r,e,a,o,i)}function GK(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Z_(n,Zwe(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Z_(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Z_(n,a),n}function Zwe(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}function ebe(r){for(var e="",t=0;t<4;t++)e+=IK[r>>8*t+4&15]+IK[r>>8*t&15];return e}function tbe(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function ok(r){return GK(r).map(tbe).join("")}function Cf(r,e){if(rbe){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function ik(r,e){var t,n,a,o;if(r!==t){for(var i=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),s=[],u=0;u<256;u++)s[u]=u;var l=0;for(u=0;u<256;u++){var c=s[u];l=(l+c+i.charCodeAt(u))%256,s[u]=s[l],s[l]=c}t=r,n=s}else s=n;var A=e.length,d=0,f=0,h="";for(u=0;u<A;u++)f=(f+(c=s[d=(d+1)%256]))%256,s[d]=s[f],s[f]=c,i=s[(s[d]+s[f])%256],h+=String.fromCharCode(e.charCodeAt(u)^i);return h}function bg(r,e,t,n){this.v=1,this.r=2;var a=192;r.forEach(function(s){if(EK.perm!==void 0)throw new Error("Invalid permission: "+s);a+=EK[s]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,i),this.P=-(1+(255^a)),this.encryptionKey=ok(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ik(this.encryptionKey,this.padding)}function Cg(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var a=r.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[n]}return e}function LK(r){if(Kr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!a],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var i=e[t][o];try{i[0].apply(r,n)}catch(s){pr.console&&Pn.error("jsPDF PubSub Error",s.message,s)}i[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function K1(r){if(!(this instanceof K1))return new K1(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function KK(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function bf(r,e,t,n,a){if(!(this instanceof bf))return new bf(r,e,t,n,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,KK.call(this,n,a)}function xh(r,e,t,n,a){if(!(this instanceof xh))return new xh(r,e,t,n,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,KK.call(this,n,a)}function er(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],i=[],s=1,u=16,l="S",c=null;Kr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,a=r.format||a,o=r.compress||r.compressPdf||o,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(u=r.floatPrecision),l=r.defaultPathOperation||"S"),i=r.filters||(o===!0?["FlateEncode"]:i),n=n||"mm",t=(""+(t||"P")).toLowerCase();var A=r.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=LK;var h="1.3",p=f.__private__.getPdfVersion=function(){return h};f.__private__.setPdfVersion=function(L){h=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var g=f.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var B="compat",I="advanced",S=B;function E(){this.saveGraphicsState(),te(new ar(Kt,0,0,-Kt,0,Ks()*Kt).toString()+" cm"),this.setFontSize(this.getFontSize()/Kt),l="n",S=I}function T(){this.restoreGraphicsState(),l="S",S=B}var U=f.__private__.combineFontStyleAndFontWeight=function(L,V){if(L=="bold"&&V=="normal"||L=="bold"&&V==400||L=="normal"&&V=="italic"||L=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(L=V==400||V==="normal"?L==="italic"?"italic":"normal":V!=700&&V!=="bold"||L!=="normal"?(V==700?"bold":V)+""+L:"bold"),L};f.advancedAPI=function(L){var V=S===B;return V&&E.call(this),typeof L!="function"||(L(this),V&&T.call(this)),this},f.compatAPI=function(L){var V=S===I;return V&&T.call(this),typeof L!="function"||(L(this),V&&E.call(this)),this},f.isAdvancedAPI=function(){return S===I};var D,k=function(L){if(S!==I)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(L,V){var de=e||V;if(isNaN(L)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(de).replace(/0+$/,"")};D=f.hpf=f.__private__.hpf=typeof u=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,u)}:u==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,16)};var N=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return O(L,2)},P=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return O(L,3)},j=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return S===B?L*Kt:S===I?L:void 0},z=function(L){return j((function(V){return S===B?Ks()-V:S===I?V:void 0})(L))};f.__private__.setPrecision=f.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var ne,re="00000000000000000000000000000000",Y=f.__private__.getFileId=function(){return re},J=f.__private__.setFileId=function(L){return re=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ia=new bg(c.userPermissions,c.userPassword,c.ownerPassword,re)),re};f.setFileId=function(L){return J(L),this},f.getFileId=function(){return Y()};var G=f.__private__.convertDateToPDFDate=function(L){var V=L.getTimezoneOffset(),de=V<0?"+":"-",ge=Math.floor(Math.abs(V/60)),Le=Math.abs(V%60),qe=[de,ae(ge),"'",ae(Le),"'"].join("");return["D:",L.getFullYear(),ae(L.getMonth()+1),ae(L.getDate()),ae(L.getHours()),ae(L.getMinutes()),ae(L.getSeconds()),qe].join("")},Z=f.__private__.convertPDFDateToDate=function(L){var V=parseInt(L.substr(2,4),10),de=parseInt(L.substr(6,2),10)-1,ge=parseInt(L.substr(8,2),10),Le=parseInt(L.substr(10,2),10),qe=parseInt(L.substr(12,2),10),Ke=parseInt(L.substr(14,2),10);return new Date(V,de,ge,Le,qe,Ke,0)},he=f.__private__.setCreationDate=function(L){var V;if(L===void 0&&(L=new Date),L instanceof Date)V=G(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=L}return ne=V},R=f.__private__.getCreationDate=function(L){var V=ne;return L==="jsDate"&&(V=Z(ne)),V};f.setCreationDate=function(L){return he(L),this},f.getCreationDate=function(L){return R(L)};var H,ae=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},le=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},pe=0,ve=[],Se=[],me=0,ke=[],Re=[],De=!1,ze=Se;f.__private__.setCustomOutputDestination=function(L){De=!0,ze=L};var et=function(L){De||(ze=L)};f.__private__.resetCustomOutputDestination=function(){De=!1,ze=Se};var te=f.__private__.out=function(L){return L=L.toString(),me+=L.length+1,ze.push(L),ze},je=f.__private__.write=function(L){return te(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ct=f.__private__.getArrayBuffer=function(L){for(var V=L.length,de=new ArrayBuffer(V),ge=new Uint8Array(de);V--;)ge[V]=L.charCodeAt(V);return de},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ft};var He=r.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return He=S===I?L/Kt:L,this};var vt,at=f.__private__.getFontSize=f.getFontSize=function(){return S===B?He:He*Kt},ht=r.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return ht=L,this},f.__private__.getR2L=f.getR2L=function(){return ht};var dt,Mt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))vt=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');vt=L}else vt=parseInt(L,10)};f.__private__.getZoomMode=function(){return vt};var Jt,Qt=f.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');dt=L};f.__private__.getPageMode=function(){return dt};var Ht=f.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Jt=L};f.__private__.getLayoutMode=function(){return Jt},f.__private__.setDisplayMode=f.setDisplayMode=function(L,V,de){return Mt(L),Ht(V),Qt(de),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(Object.keys(Vt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[L]},f.__private__.getDocumentProperties=function(){return Vt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var V in Vt)Vt.hasOwnProperty(V)&&L[V]&&(Vt[V]=L[V]);return this},f.__private__.setDocumentProperty=function(L,V){if(Object.keys(Vt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[L]=V};var mt,Kt,ct,Mr,lr,Zt={},Xt={},br=[],Rt={},kr={},qt={},tr={},Ur=null,Yt=0,Ut=[],Hr=new LK(f),Hi=r.hotfixes||[],Ir={},Va={},pi=[],ar=function L(V,de,ge,Le,qe,Ke){if(!(this instanceof L))return new L(V,de,ge,Le,qe,Ke);isNaN(V)&&(V=1),isNaN(de)&&(de=0),isNaN(ge)&&(ge=0),isNaN(Le)&&(Le=1),isNaN(qe)&&(qe=0),isNaN(Ke)&&(Ke=0),this._matrix=[V,de,ge,Le,qe,Ke]};Object.defineProperty(ar.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ar.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ar.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ar.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ar.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ar.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ar.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ar.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ar.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ar.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ar.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ar.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ar.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ar.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ar.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ar.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ar.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(L)},ar.prototype.multiply=function(L){var V=L.sx*this.sx+L.shy*this.shx,de=L.sx*this.shy+L.shy*this.sy,ge=L.shx*this.sx+L.sy*this.shx,Le=L.shx*this.shy+L.sy*this.sy,qe=L.tx*this.sx+L.ty*this.shx+this.tx,Ke=L.tx*this.shy+L.ty*this.sy+this.ty;return new ar(V,de,ge,Le,qe,Ke)},ar.prototype.decompose=function(){var L=this.sx,V=this.shy,de=this.shx,ge=this.sy,Le=this.tx,qe=this.ty,Ke=Math.sqrt(L*L+V*V),Ft=(L/=Ke)*de+(V/=Ke)*ge;de-=L*Ft,ge-=V*Ft;var Wt=Math.sqrt(de*de+ge*ge);return Ft/=Wt,L*(ge/=Wt)<V*(de/=Wt)&&(L=-L,V=-V,Ft=-Ft,Ke=-Ke),{scale:new ar(Ke,0,0,Wt,0,0),translate:new ar(1,0,0,1,Le,qe),rotate:new ar(L,V,-V,L,0,0),skew:new ar(1,0,Ft,1,0,0)}},ar.prototype.toString=function(L){return this.join(" ")},ar.prototype.inversed=function(){var L=this.sx,V=this.shy,de=this.shx,ge=this.sy,Le=this.tx,qe=this.ty,Ke=1/(L*ge-V*de),Ft=ge*Ke,Wt=-V*Ke,Ar=-de*Ke,yr=L*Ke;return new ar(Ft,Wt,Ar,yr,-Ft*Le-Ar*qe,-Wt*Le-yr*qe)},ar.prototype.applyToPoint=function(L){var V=L.x*this.sx+L.y*this.shx+this.tx,de=L.x*this.shy+L.y*this.sy+this.ty;return new Cu(V,de)},ar.prototype.applyToRectangle=function(L){var V=this.applyToPoint(L),de=this.applyToPoint(new Cu(L.x+L.w,L.y+L.h));return new js(V.x,V.y,de.x-V.x,de.y-V.y)},ar.prototype.clone=function(){var L=this.sx,V=this.shy,de=this.shx,ge=this.sy,Le=this.tx,qe=this.ty;return new ar(L,V,de,ge,Le,qe)},f.Matrix=ar;var mi=f.matrixMult=function(L,V){return V.multiply(L)},gi=new ar(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=gi;var sr=function(L,V){if(!kr[L]){var de=(V instanceof bf?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);V.id=de,kr[L]=de,Rt[de]=V,Hr.publish("addPattern",V)}};f.ShadingPattern=bf,f.TilingPattern=xh,f.addShadingPattern=function(L,V){return k("addShadingPattern()"),sr(L,V),this},f.beginTilingPattern=function(L){k("beginTilingPattern()"),Pf(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,V){k("endTilingPattern()"),V.stream=Re[H].join(`
`),sr(L,V),Hr.publish("endTilingPattern",V),pi.pop().restore()};var Za,Or=f.__private__.newObject=function(){var L=Vr();return Gn(L,!0),L},Vr=f.__private__.newObjectDeferred=function(){return pe++,ve[pe]=function(){return me},pe},Gn=function(L,V){return V=typeof V=="boolean"&&V,ve[L]=me,V&&te(L+" 0 obj"),L},ds=f.__private__.newAdditionalObject=function(){var L={objId:Vr(),content:""};return ke.push(L),L},vi=Vr(),Vo=Vr(),aa=f.__private__.decodeColorString=function(L){var V=L.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var de=parseFloat(V[0]);V=[de,de,de,"r"]}for(var ge="#",Le=0;Le<3;Le++)ge+=("0"+Math.floor(255*parseFloat(V[Le])).toString(16)).slice(-2);return ge},qo=f.__private__.encodeColorString=function(L){var V;typeof L=="string"&&(L={ch1:L});var de=L.ch1,ge=L.ch2,Le=L.ch3,qe=L.ch4,Ke=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Ft=new jK(de);if(Ft.ok)de=Ft.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Wt=parseInt(de.substr(1),16);de=Wt>>16&255,ge=Wt>>8&255,Le=255&Wt}if(ge===void 0||qe===void 0&&de===ge&&ge===Le)V=typeof de=="string"?de+" "+Ke[0]:L.precision===2?N(de/255)+" "+Ke[0]:P(de/255)+" "+Ke[0];else if(qe===void 0||Kr(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",Ke[1]].join(" ");V=typeof de=="string"?[de,ge,Le,Ke[1]].join(" "):L.precision===2?[N(de/255),N(ge/255),N(Le/255),Ke[1]].join(" "):[P(de/255),P(ge/255),P(Le/255),Ke[1]].join(" ")}else V=typeof de=="string"?[de,ge,Le,qe,Ke[2]].join(" "):L.precision===2?[N(de),N(ge),N(Le),N(qe),Ke[2]].join(" "):[P(de),P(ge),P(Le),P(qe),Ke[2]].join(" ");return V},Wo=f.__private__.getFilters=function(){return i},eo=f.__private__.putStream=function(L){var V=(L=L||{}).data||"",de=L.filters||Wo(),ge=L.alreadyAppliedFilters||[],Le=L.addLength1||!1,qe=V.length,Ke=L.objectId,Ft=function(La){return La};if(c!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ft=Ia.encryptor(Ke,0));var Wt={};de===!0&&(de=["FlateEncode"]);var Ar=L.additionalKeyValues||[],yr=(Wt=er.API.processDataByFilters!==void 0?er.API.processDataByFilters(V,de):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Wt.data.length!==0&&(Ar.push({key:"Length",value:Wt.data.length}),Le===!0&&Ar.push({key:"Length1",value:qe})),yr.length!=0)if(yr.split("/").length-1==1)Ar.push({key:"Filter",value:yr});else{Ar.push({key:"Filter",value:"["+yr+"]"});for(var Wr=0;Wr<Ar.length;Wr+=1)if(Ar[Wr].key==="DecodeParms"){for(var Sn=[],ma=0;ma<Wt.reverseChain.split("/").length-1;ma+=1)Sn.push("null");Sn.push(Ar[Wr].value),Ar[Wr].value="["+Sn.join(" ")+"]"}}te("<<");for(var In=0;In<Ar.length;In++)te("/"+Ar[In].key+" "+Ar[In].value);te(">>"),Wt.data.length!==0&&(te("stream"),te(Ft(Wt.data)),te("endstream"))},hs=f.__private__.putPage=function(L){var V=L.number,de=L.data,ge=L.objId,Le=L.contentsObjId;Gn(ge,!0),te("<</Type /Page"),te("/Parent "+L.rootDictionaryObjId+" 0 R"),te("/Resources "+L.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(D(L.mediaBox.bottomLeftX))+" "+parseFloat(D(L.mediaBox.bottomLeftY))+" "+D(L.mediaBox.topRightX)+" "+D(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&te("/CropBox ["+D(L.cropBox.bottomLeftX)+" "+D(L.cropBox.bottomLeftY)+" "+D(L.cropBox.topRightX)+" "+D(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&te("/BleedBox ["+D(L.bleedBox.bottomLeftX)+" "+D(L.bleedBox.bottomLeftY)+" "+D(L.bleedBox.topRightX)+" "+D(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&te("/TrimBox ["+D(L.trimBox.bottomLeftX)+" "+D(L.trimBox.bottomLeftY)+" "+D(L.trimBox.topRightX)+" "+D(L.trimBox.topRightY)+"]"),L.artBox!==null&&te("/ArtBox ["+D(L.artBox.bottomLeftX)+" "+D(L.artBox.bottomLeftY)+" "+D(L.artBox.topRightX)+" "+D(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&te("/UserUnit "+L.userUnit),Hr.publish("putPage",{objId:ge,pageContext:Ut[V],pageNumber:V,page:de}),te("/Contents "+Le+" 0 R"),te(">>"),te("endobj");var qe=de.join(`
`);return S===I&&(qe+=`
Q`),Gn(Le,!0),eo({data:qe,filters:Wo(),objectId:Le}),te("endobj"),ge},Vi=f.__private__.putPages=function(){var L,V,de=[];for(L=1;L<=Yt;L++)Ut[L].objId=Vr(),Ut[L].contentsObjId=Vr();for(L=1;L<=Yt;L++)de.push(hs({number:L,data:Re[L],objId:Ut[L].objId,contentsObjId:Ut[L].contentsObjId,mediaBox:Ut[L].mediaBox,cropBox:Ut[L].cropBox,bleedBox:Ut[L].bleedBox,trimBox:Ut[L].trimBox,artBox:Ut[L].artBox,userUnit:Ut[L].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Vo}));Gn(vi,!0),te("<</Type /Pages");var ge="/Kids [";for(V=0;V<Yt;V++)ge+=de[V]+" 0 R ";te(ge+"]"),te("/Count "+Yt),te(">>"),te("endobj"),Hr.publish("postPutPages")},Lt=function(L){Hr.publish("putFont",{font:L,out:te,newObject:Or,putStream:eo}),L.isAlreadyPutted!==!0&&(L.objectNumber=Or(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Cg(L.postScriptName)),te("/Subtype /Type1"),typeof L.encoding=="string"&&te("/Encoding /"+L.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},xe=function(L){L.objectNumber=Or();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[D(L.x),D(L.y),D(L.x+L.width),D(L.y+L.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var de=L.pages[1].join(`
`);eo({data:de,additionalKeyValues:V,objectId:L.objectNumber}),te("endobj")},tt=function(L,V){V||(V=21);var de=Or(),ge=(function(Ke,Ft){var Wt,Ar=[],yr=1/(Ft-1);for(Wt=0;Wt<1;Wt+=yr)Ar.push(Wt);if(Ar.push(1),Ke[0].offset!=0){var Wr={offset:0,color:Ke[0].color};Ke.unshift(Wr)}if(Ke[Ke.length-1].offset!=1){var Sn={offset:1,color:Ke[Ke.length-1].color};Ke.push(Sn)}for(var ma="",In=0,La=0;La<Ar.length;La++){for(Wt=Ar[La];Wt>Ke[In+1].offset;)In++;var ga=Ke[In].offset,to=(Wt-ga)/(Ke[In+1].offset-ga),Su=Ke[In].color,xs=Ke[In+1].color;ma+=le(Math.round((1-to)*Su[0]+to*xs[0]).toString(16))+le(Math.round((1-to)*Su[1]+to*xs[1]).toString(16))+le(Math.round((1-to)*Su[2]+to*xs[2]).toString(16))}return ma.trim()})(L.colors,V),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+V+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),eo({data:ge,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),te("endobj"),L.objectNumber=Or(),te("<< /ShadingType "+L.type),te("/ColorSpace /DeviceRGB");var qe="/Coords ["+D(parseFloat(L.coords[0]))+" "+D(parseFloat(L.coords[1]))+" ";L.type===2?qe+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3])):qe+=D(parseFloat(L.coords[2]))+" "+D(parseFloat(L.coords[3]))+" "+D(parseFloat(L.coords[4]))+" "+D(parseFloat(L.coords[5])),te(qe+="]"),L.matrix&&te("/Matrix ["+L.matrix.toString()+"]"),te("/Function "+de+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Bt=function(L,V){var de=Vr(),ge=Or();V.push({resourcesOid:de,objectOid:ge}),L.objectNumber=ge;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+L.boundingBox.map(D).join(" ")+"]"}),Le.push({key:"XStep",value:D(L.xStep)}),Le.push({key:"YStep",value:D(L.yStep)}),Le.push({key:"Resources",value:de+" 0 R"}),L.matrix&&Le.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),eo({data:L.stream,additionalKeyValues:Le,objectId:L.objectNumber}),te("endobj")},An=function(L){for(var V in L.objectNumber=Or(),te("<<"),L)switch(V){case"opacity":te("/ca "+N(L[V]));break;case"stroke-opacity":te("/CA "+N(L[V]))}te(">>"),te("endobj")},Cn=function(L){Gn(L.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in te("/Font <<"),Zt)Zt.hasOwnProperty(V)&&(A===!1||A===!0&&d.hasOwnProperty(V))&&te("/"+V+" "+Zt[V].objectNumber+" 0 R");te(">>")})(),(function(){if(Object.keys(Rt).length>0){for(var V in te("/Shading <<"),Rt)Rt.hasOwnProperty(V)&&Rt[V]instanceof bf&&Rt[V].objectNumber>=0&&te("/"+V+" "+Rt[V].objectNumber+" 0 R");Hr.publish("putShadingPatternDict"),te(">>")}})(),(function(V){if(Object.keys(Rt).length>0){for(var de in te("/Pattern <<"),Rt)Rt.hasOwnProperty(de)&&Rt[de]instanceof f.TilingPattern&&Rt[de].objectNumber>=0&&Rt[de].objectNumber<V&&te("/"+de+" "+Rt[de].objectNumber+" 0 R");Hr.publish("putTilingPatternDict"),te(">>")}})(L.objectOid),(function(){if(Object.keys(qt).length>0){var V;for(V in te("/ExtGState <<"),qt)qt.hasOwnProperty(V)&&qt[V].objectNumber>=0&&te("/"+V+" "+qt[V].objectNumber+" 0 R");Hr.publish("putGStateDict"),te(">>")}})(),(function(){for(var V in te("/XObject <<"),Ir)Ir.hasOwnProperty(V)&&Ir[V].objectNumber>=0&&te("/"+V+" "+Ir[V].objectNumber+" 0 R");Hr.publish("putXobjectDict"),te(">>")})(),te(">>"),te("endobj")},Bn=function(L){Xt[L.fontName]=Xt[L.fontName]||{},Xt[L.fontName][L.fontStyle]=L.id},Kn=function(L,V,de,ge,Le){var qe={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:L,fontName:V,fontStyle:de,encoding:ge,isStandardFont:Le||!1,metadata:{}};return Hr.publish("addFont",{font:qe,instance:this}),Zt[qe.id]=qe,Bn(qe),qe.id},On=f.__private__.pdfEscape=f.pdfEscape=function(L,V){return(function(de,ge){var Le,qe,Ke,Ft,Wt,Ar,yr,Wr,Sn;if(Ke=(ge=ge||{}).sourceEncoding||"Unicode",Wt=ge.outputEncoding,(ge.autoencode||Wt)&&Zt[mt].metadata&&Zt[mt].metadata[Ke]&&Zt[mt].metadata[Ke].encoding&&(Ft=Zt[mt].metadata[Ke].encoding,!Wt&&Zt[mt].encoding&&(Wt=Zt[mt].encoding),!Wt&&Ft.codePages&&(Wt=Ft.codePages[0]),typeof Wt=="string"&&(Wt=Ft[Wt]),Wt)){for(yr=!1,Ar=[],Le=0,qe=de.length;Le<qe;Le++)(Wr=Wt[de.charCodeAt(Le)])?Ar.push(String.fromCharCode(Wr)):Ar.push(de[Le]),Ar[Le].charCodeAt(0)>>8&&(yr=!0);de=Ar.join("")}for(Le=de.length;yr===void 0&&Le!==0;)de.charCodeAt(Le-1)>>8&&(yr=!0),Le--;if(!yr)return de;for(Ar=ge.noBOM?[]:[254,255],Le=0,qe=de.length;Le<qe;Le++){if((Sn=(Wr=de.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ar.push(Sn),Ar.push(Wr-(Sn<<8))}return String.fromCharCode.apply(void 0,Ar)})(L,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},go=f.__private__.beginPage=function(L){Re[++Yt]=[],Ut[Yt]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Qs(Yt),et(Re[H])},cl=function(L,V){var de,ge,Le;switch(t=V||t,typeof L=="string"&&(de=g(L.toLowerCase()),Array.isArray(de)&&(ge=de[0],Le=de[1])),Array.isArray(L)&&(ge=L[0]*Kt,Le=L[1]*Kt),isNaN(ge)&&(ge=a[0],Le=a[1]),(ge>14400||Le>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Le=Math.min(14400,Le)),a=[ge,Le],t.substr(0,1)){case"l":Le>ge&&(a=[Le,ge]);break;case"p":ge>Le&&(a=[Le,ge])}go(a),fr(Tf),te(uA),kf!==0&&te(kf+" J"),Nf!==0&&te(Nf+" j"),Hr.publish("addPage",{pageNumber:Yt})},Qn=function(L){L>0&&L<=Yt&&(Re.splice(L,1),Ut.splice(L,1),Yt--,H>Yt&&(H=Yt),this.setPage(H))},Qs=function(L){L>0&&L<=Yt&&(H=L)},ps=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Re.length-1},Lh=function(L,V,de){var ge,Le=void 0;return de=de||{},L=L!==void 0?L:Zt[mt].fontName,V=V!==void 0?V:Zt[mt].fontStyle,ge=L.toLowerCase(),Xt[ge]!==void 0&&Xt[ge][V]!==void 0?Le=Xt[ge][V]:Xt[L]!==void 0&&Xt[L][V]!==void 0?Le=Xt[L][V]:de.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+L+"', '"+V+"'. Refer to getFontList() for available fonts."),Le||de.noFallback||(Le=Xt.times[V])==null&&(Le=Xt.times.normal),Le},Hs=f.__private__.putInfo=function(){var L=Or(),V=function(ge){return ge};for(var de in c!==null&&(V=Ia.encryptor(L,0)),te("<<"),te("/Producer ("+On(V("jsPDF "+er.version))+")"),Vt)Vt.hasOwnProperty(de)&&Vt[de]&&te("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+On(V(Vt[de]))+")");te("/CreationDate ("+On(V(ne))+")"),te(">>"),te("endobj")},iA=f.__private__.putCatalog=function(L){var V=(L=L||{}).rootDictionaryObjId||vi;switch(Or(),te("<<"),te("/Type /Catalog"),te("/Pages "+V+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+vt;de.substr(de.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&te("/OpenAction [3 0 R /XYZ null null "+N(vt)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}dt&&te("/PageMode /"+dt),Hr.publish("putCatalog"),te(">>"),te("endobj")},sA=f.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(pe+1)),te("/Root "+pe+" 0 R"),te("/Info "+(pe-1)+" 0 R"),c!==null&&te("/Encrypt "+Ia.oid+" 0 R"),te("/ID [ <"+re+"> <"+re+"> ]"),te(">>")},Hn=f.__private__.putHeader=function(){te("%PDF-"+h),te("%\xBA\xDF\xAC\xE0")},Al=f.__private__.putXRef=function(){var L="0000000000";te("xref"),te("0 "+(pe+1)),te("0000000000 65535 f ");for(var V=1;V<=pe;V++)typeof ve[V]=="function"?te((L+ve[V]()).slice(-10)+" 00000 n "):ve[V]!==void 0?te((L+ve[V]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Vs=f.__private__.buildDocument=function(){var L;pe=0,me=0,Se=[],ve=[],ke=[],vi=Vr(),Vo=Vr(),et(Se),Hr.publish("buildDocument"),Hn(),Vi(),(function(){Hr.publish("putAdditionalObjects");for(var de=0;de<ke.length;de++){var ge=ke[de];Gn(ge.objId,!0),te(ge.content),te("endobj")}Hr.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var de in Zt)Zt.hasOwnProperty(de)&&(A===!1||A===!0&&d.hasOwnProperty(de))&&Lt(Zt[de])})(),(function(){var de;for(de in qt)qt.hasOwnProperty(de)&&An(qt[de])})(),(function(){for(var de in Ir)Ir.hasOwnProperty(de)&&xe(Ir[de])})(),(function(de){var ge;for(ge in Rt)Rt.hasOwnProperty(ge)&&(Rt[ge]instanceof bf?tt(Rt[ge]):Rt[ge]instanceof xh&&Bt(Rt[ge],de))})(L),Hr.publish("putResources"),L.forEach(Cn),Cn({resourcesOid:Vo,objectOid:Number.MAX_SAFE_INTEGER}),Hr.publish("postPutResources"),c!==null&&(Ia.oid=Or(),te("<<"),te("/Filter /Standard"),te("/V "+Ia.v),te("/R "+Ia.r),te("/U <"+Ia.toHexString(Ia.U)+">"),te("/O <"+Ia.toHexString(Ia.O)+">"),te("/P "+Ia.P),te(">>"),te("endobj")),Hs(),iA();var V=me;return Al(),sA(),te("startxref"),te(""+V),te("%%EOF"),et(Re[H]),Se.join(`
`)},Sa=f.__private__.getBlob=function(L){return new Blob([Ct(L)],{type:"application/pdf"})},Fh=f.output=f.__private__.output=(Za=function(L,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",L){case void 0:return Vs();case"save":f.save(V.filename);break;case"arraybuffer":return Ct(Vs());case"blob":return Sa(Vs());case"bloburi":case"bloburl":if(pr.URL!==void 0&&typeof pr.URL.createObjectURL=="function")return pr.URL&&pr.URL.createObjectURL(Sa(Vs()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ge=Vs();try{de=SK(ge)}catch{de=SK(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+V.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Le=V.pdfObjectUrl,qe="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ft=pr.open();return Ft!==null&&Ft.document.write(Ke),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pr)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ar=pr.open();if(Ar!==null){Ar.document.write(Wt);var yr=this;Ar.document.documentElement.querySelector("#pdfViewer").onload=function(){Ar.document.title=V.filename,Ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yr.output("bloburl"))}}return Ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Sn=pr.open();if(Sn!==null&&(Sn.document.write(Wr),Sn.document.title=V.filename),Sn||typeof safari>"u")return Sn;break;case"datauri":case"dataurl":return pr.document.location.href=this.output("datauristring",V);default:return null}},Za.foo=function(){try{return Za.apply(this,arguments)}catch(de){var L=de.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var V="Error in function "+L.split(`
`)[0].split("<")[0]+": "+de.message;if(!pr.console)throw new Error(V);pr.console.error(V,de),pr.alert&&alert(V)}},Za.foo.bar=Za,Za.foo),qi=function(L){return Array.isArray(Hi)===!0&&Hi.indexOf(L)>-1};switch(n){case"pt":Kt=1;break;case"mm":Kt=72/25.4;break;case"cm":Kt=72/2.54;break;case"in":Kt=72;break;case"px":Kt=qi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Kt=12;break;case"ex":Kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Kt=n}var Ia=null;he(),J();var bu=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[L].objId,pageNumber:L,pageContext:Ut[L]}},Th=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Ut)if(Ut[V].objId===L)break;return bu(V)},Ig=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ut[H].objId,pageNumber:H,pageContext:Ut[H]}};f.addPage=function(){return cl.apply(this,arguments),this},f.setPage=function(){return Qs.apply(this,arguments),et.call(this,Re[H]),this},f.insertPage=function(L){return this.addPage(),this.movePage(H,L),this},f.movePage=function(L,V){var de,ge;if(L>V){de=Re[L],ge=Ut[L];for(var Le=L;Le>V;Le--)Re[Le]=Re[Le-1],Ut[Le]=Ut[Le-1];Re[V]=de,Ut[V]=ge,this.setPage(V)}else if(L<V){de=Re[L],ge=Ut[L];for(var qe=L;qe<V;qe++)Re[qe]=Re[qe+1],Ut[qe]=Ut[qe+1];Re[V]=de,Ut[V]=ge,this.setPage(V)}return this},f.deletePage=function(){return Qn.apply(this,arguments),this},f.__private__.text=f.text=function(L,V,de,ge,Le){var qe,Ke,Ft,Wt,Ar,yr,Wr,Sn,ma,In=(ge=ge||{}).scope||this;if(typeof L=="number"&&typeof V=="number"&&(typeof de=="string"||Array.isArray(de))){var La=de;de=V,V=L,L=La}if(arguments[3]instanceof ar==0?(Ft=arguments[4],Wt=arguments[5],Kr(Wr=arguments[3])==="object"&&Wr!==null||(typeof Ft=="string"&&(Wt=Ft,Ft=null),typeof Wr=="string"&&(Wt=Wr,Wr=null),typeof Wr=="number"&&(Ft=Wr,Wr=null),ge={flags:Wr,angle:Ft,align:Wt})):(k("The transform parameter of text() with a Matrix value"),ma=Le),isNaN(V)||isNaN(de)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return In;var ga,to="",Su=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:vs,xs=In.internal.scaleFactor;function Iu(tn){return tn=tn.split("	").join(Array(ge.TabLen||9).join(" ")),On(tn,Wr)}function rc(tn){for(var Nr,Xn=tn.concat(),Fa=[],Nu=Xn.length;Nu--;)typeof(Nr=Xn.shift())=="string"?Fa.push(Nr):Array.isArray(tn)&&(Nr.length===1||Nr[1]===void 0&&Nr[2]===void 0)?Fa.push(Nr[0]):Fa.push([Nr[0],Nr[1],Nr[2]]);return Fa}function nc(tn,Nr){var Xn;if(typeof tn=="string")Xn=Nr(tn)[0];else if(Array.isArray(tn)){for(var Fa,Nu,ml=tn.concat(),pA=[],Mf=ml.length;Mf--;)typeof(Fa=ml.shift())=="string"?pA.push(Nr(Fa)[0]):Array.isArray(Fa)&&typeof Fa[0]=="string"&&(Nu=Nr(Fa[0],Fa[1],Fa[2]),pA.push([Nu[0],Nu[1],Nu[2]]));Xn=pA}return Xn}var Eu=!1,ws=!0;if(typeof L=="string")Eu=!0;else if(Array.isArray(L)){var Wi=L.concat();Ke=[];for(var Qr,ro=Wi.length;ro--;)(typeof(Qr=Wi.shift())!="string"||Array.isArray(Qr)&&typeof Qr[0]!="string")&&(ws=!1);Eu=ws}if(Eu===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Lu=He/In.internal.scaleFactor,fl=Lu*(Su-1);switch(ge.baseline){case"bottom":de-=fl;break;case"top":de+=Lu-fl;break;case"hanging":de+=Lu-2*fl;break;case"middle":de+=Lu/2-fl}if((yr=ge.maxWidth||0)>0&&(typeof L=="string"?L=In.splitTextToSize(L,yr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(tn,Nr){return tn.concat(In.splitTextToSize(Nr,yr))},[]))),qe={text:L,x:V,y:de,options:ge,mutex:{pdfEscape:On,activeFontKey:mt,fonts:Zt,activeFontSize:He}},Hr.publish("preProcessText",qe),L=qe.text,Ft=(ge=qe.options).angle,ma instanceof ar==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,ge.rotationDirection===0&&(Ft=-Ft),S===I&&(Ft=-Ft);var Xs=Math.cos(Ft),zo=Math.sin(Ft);ma=new ar(Xs,zo,-zo,Xs,0,0)}else Ft&&Ft instanceof ar&&(ma=Ft);S!==I||ma||(ma=gi),(Ar=ge.charSpace||zs)!==void 0&&(to+=D(j(Ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sn=ge.horizontalScale)!==void 0&&(to+=D(100*Sn)+` Tz
`),ge.lang;var To=-1,vo=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Tn=In.internal.getCurrentPageInfo().pageContext;switch(vo){case 0:case!1:case"fill":To=0;break;case 1:case!0:case"stroke":To=1;break;case 2:case"fillThenStroke":To=2;break;case 3:case"invisible":To=3;break;case 4:case"fillAndAddForClipping":To=4;break;case 5:case"strokeAndAddPathForClipping":To=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":To=6;break;case 7:case"addToPathForClipping":To=7}var Rf=Tn.usedRenderingMode!==void 0?Tn.usedRenderingMode:-1;To!==-1?to+=To+` Tr
`:Rf!==-1&&(to+=`0 Tr
`),To!==-1&&(Tn.usedRenderingMode=To),Wt=ge.align||"left";var fn,Fu=He*Su,zi=In.internal.pageSize.getWidth(),Tu=Zt[mt];Ar=ge.charSpace||zs,yr=ge.maxWidth||0,Wr=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var zr=[],dl=function(tn){return In.getStringUnitWidth(tn,{font:Tu,charSpace:Ar,fontSize:He,doKerning:!1})*He/xs};if(Object.prototype.toString.call(L)==="[object Array]"){var jo;Ke=rc(L),Wt!=="left"&&(fn=Ke.map(dl));var Go,_u=0;if(Wt==="right"){V-=fn[0],L=[],ro=Ke.length;for(var ji=0;ji<ro;ji++)ji===0?(Go=qa(V),jo=Ws(de)):(Go=j(_u-fn[ji]),jo=-Fu),L.push([Ke[ji],Go,jo]),_u=fn[ji]}else if(Wt==="center"){V-=fn[0]/2,L=[],ro=Ke.length;for(var ku=0;ku<ro;ku++)ku===0?(Go=qa(V),jo=Ws(de)):(Go=j((_u-fn[ku])/2),jo=-Fu),L.push([Ke[ku],Go,jo]),_u=fn[ku]}else if(Wt==="left"){L=[],ro=Ke.length;for(var AA=0;AA<ro;AA++)L.push(Ke[AA])}else if(Wt==="justify"&&Tu.encoding==="Identity-H"){L=[],ro=Ke.length,yr=yr!==0?yr:zi;for(var no=0,dn=0;dn<ro;dn++)if(jo=dn===0?Ws(de):-Fu,Go=dn===0?qa(V):no,dn<ro-1){var bs=j((yr-fn[dn])/(Ke[dn].split(" ").length-1)),vn=Ke[dn].split(" ");L.push([vn[0]+" ",Go,jo]),no=0;for(var ao=1;ao<vn.length;ao++){var fA=(dl(vn[ao-1]+" "+vn[ao])-dl(vn[ao]))*xs+bs;ao==vn.length-1?L.push([vn[ao],fA,0]):L.push([vn[ao]+" ",fA,0]),no-=fA}}else L.push([Ke[dn],Go,jo]);L.push(["",no,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ro=Ke.length,yr=yr!==0?yr:zi,dn=0;dn<ro;dn++){jo=dn===0?Ws(de):-Fu,Go=dn===0?qa(V):0;var dA=Ke[dn].split(" ").length-1,ac=dA>0?(yr-fn[dn])/dA:0;dn<ro-1?zr.push(D(j(ac))):zr.push(0),L.push([Ke[dn],Go,jo])}}}(typeof ge.R2L=="boolean"?ge.R2L:ht)===!0&&(L=nc(L,function(tn,Nr,Xn){return[tn.split("").reverse().join(""),Nr,Xn]})),qe={text:L,x:V,y:de,options:ge,mutex:{pdfEscape:On,activeFontKey:mt,fonts:Zt,activeFontSize:He}},Hr.publish("postProcessText",qe),L=qe.text,ga=qe.mutex.isHex||!1;var hA=Zt[mt].encoding;hA!=="WinAnsiEncoding"&&hA!=="StandardEncoding"||(L=nc(L,function(tn,Nr,Xn){return[Iu(tn),Nr,Xn]})),Ke=rc(L),L=[];for(var hl,Gi,yo,oc=Array.isArray(Ke[0])?1:0,pl="",Ys=function(tn,Nr,Xn){var Fa="";return Xn instanceof ar?(Xn=typeof ge.angle=="number"?mi(Xn,new ar(1,0,0,1,tn,Nr)):mi(new ar(1,0,0,1,tn,Nr),Xn),S===I&&(Xn=mi(new ar(1,0,0,-1,0,0),Xn)),Fa=Xn.join(" ")+` Tm
`):Fa=D(tn)+" "+D(Nr)+` Td
`,Fa},yi=0;yi<Ke.length;yi++){switch(pl="",oc){case 1:yo=(ga?"<":"(")+Ke[yi][0]+(ga?">":")"),hl=parseFloat(Ke[yi][1]),Gi=parseFloat(Ke[yi][2]);break;case 0:yo=(ga?"<":"(")+Ke[yi]+(ga?">":")"),hl=qa(V),Gi=Ws(de)}zr!==void 0&&zr[yi]!==void 0&&(pl=zr[yi]+` Tw
`),yi===0?L.push(pl+Ys(hl,Gi,ma)+yo):oc===0?L.push(pl+yo):oc===1&&L.push(pl+Ys(hl,Gi,ma)+yo)}L=oc===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var $s=`BT
/`;return $s+=mt+" "+He+` Tf
`,$s+=D(He*Su)+` TL
`,$s+=Jl+`
`,$s+=to,$s+=L,te($s+="ET"),d[mt]=!0,In};var Eg=f.__private__.clip=f.clip=function(L){return te(L==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Eg("evenodd")},f.__private__.discardPath=f.discardPath=function(){return te("n"),this};var qs=f.__private__.isValidStyle=function(L){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(V=!0),V};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return qs(L)&&(l=L),this};var Xl=f.__private__.getStyle=f.getStyle=function(L){var V=l;switch(L){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=L}return V},_h=f.close=function(){return te("h"),this};f.stroke=function(){return te("S"),this},f.fill=function(L){return Yl("f",L),this},f.fillEvenOdd=function(L){return Yl("f*",L),this},f.fillStroke=function(L){return Yl("B",L),this},f.fillStrokeEvenOdd=function(L){return Yl("B*",L),this};var Yl=function(L,V){Kr(V)==="object"?kh(V,L):te(L)},$l=function(L){L===null||S===I&&L===void 0||(L=Xl(L),te(L))};function Lg(L,V,de,ge,Le){var qe=new xh(V||this.boundingBox,de||this.xStep,ge||this.yStep,this.gState,Le||this.matrix);qe.stream=this.stream;var Ke=L+"$$"+this.cloneIndex+++"$$";return sr(Ke,qe),qe}var kh=function(L,V){var de=kr[L.key],ge=Rt[de];if(ge instanceof bf)te("q"),te(Ff(V)),ge.gState&&f.setGState(ge.gState),te(L.matrix.toString()+" cm"),te("/"+de+" sh"),te("Q");else if(ge instanceof xh){var Le=new ar(1,0,0,-1,0,Ks());L.matrix&&(Le=Le.multiply(L.matrix||gi),de=Lg.call(ge,L.key,L.boundingBox,L.xStep,L.yStep,Le).id),te("q"),te("/Pattern cs"),te("/"+de+" scn"),ge.gState&&f.setGState(ge.gState),te(V),te("Q")}},Ff=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ms=f.moveTo=function(L,V){return te(D(j(L))+" "+D(z(V))+" m"),this},Nh=f.lineTo=function(L,V){return te(D(j(L))+" "+D(z(V))+" l"),this},gs=f.curveTo=function(L,V,de,ge,Le,qe){return te([D(j(L)),D(z(V)),D(j(de)),D(z(ge)),D(j(Le)),D(z(qe)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,V,de,ge,Le){if(isNaN(L)||isNaN(V)||isNaN(de)||isNaN(ge)||!qs(Le))throw new Error("Invalid arguments passed to jsPDF.line");return S===B?this.lines([[de-L,ge-V]],L,V,[1,1],Le||"S"):this.lines([[de-L,ge-V]],L,V,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,V,de,ge,Le,qe){var Ke,Ft,Wt,Ar,yr,Wr,Sn,ma,In,La,ga,to;if(typeof L=="number"&&(to=de,de=V,V=L,L=to),ge=ge||[1,1],qe=qe||!1,isNaN(V)||isNaN(de)||!Array.isArray(L)||!Array.isArray(ge)||!qs(Le)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ms(V,de),Ke=ge[0],Ft=ge[1],Ar=L.length,La=V,ga=de,Wt=0;Wt<Ar;Wt++)(yr=L[Wt]).length===2?(La=yr[0]*Ke+La,ga=yr[1]*Ft+ga,Nh(La,ga)):(Wr=yr[0]*Ke+La,Sn=yr[1]*Ft+ga,ma=yr[2]*Ke+La,In=yr[3]*Ft+ga,La=yr[4]*Ke+La,ga=yr[5]*Ft+ga,gs(Wr,Sn,ma,In,La,ga));return qe&&_h(),$l(Le),this},f.path=function(L){for(var V=0;V<L.length;V++){var de=L[V],ge=de.c;switch(de.op){case"m":ms(ge[0],ge[1]);break;case"l":Nh(ge[0],ge[1]);break;case"c":gs.apply(this,ge);break;case"h":_h()}}return this},f.__private__.rect=f.rect=function(L,V,de,ge,Le){if(isNaN(L)||isNaN(V)||isNaN(de)||isNaN(ge)||!qs(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return S===B&&(ge=-ge),te([D(j(L)),D(z(V)),D(j(de)),D(j(ge)),"re"].join(" ")),$l(Le),this},f.__private__.triangle=f.triangle=function(L,V,de,ge,Le,qe,Ke){if(isNaN(L)||isNaN(V)||isNaN(de)||isNaN(ge)||isNaN(Le)||isNaN(qe)||!qs(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-L,ge-V],[Le-de,qe-ge],[L-Le,V-qe]],L,V,[1,1],Ke,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,V,de,ge,Le,qe,Ke){if(isNaN(L)||isNaN(V)||isNaN(de)||isNaN(ge)||isNaN(Le)||isNaN(qe)||!qs(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*de),qe=Math.min(qe,.5*ge),this.lines([[de-2*Le,0],[Le*Ft,0,Le,qe-qe*Ft,Le,qe],[0,ge-2*qe],[0,qe*Ft,-Le*Ft,qe,-Le,qe],[2*Le-de,0],[-Le*Ft,0,-Le,-qe*Ft,-Le,-qe],[0,2*qe-ge],[0,-qe*Ft,Le*Ft,-qe,Le,-qe]],L+Le,V,[1,1],Ke,!0),this},f.__private__.ellipse=f.ellipse=function(L,V,de,ge,Le){if(isNaN(L)||isNaN(V)||isNaN(de)||isNaN(ge)||!qs(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*de,Ke=4/3*(Math.SQRT2-1)*ge;return ms(L+de,V),gs(L+de,V-Ke,L+qe,V-ge,L,V-ge),gs(L-qe,V-ge,L-de,V-Ke,L-de,V),gs(L-de,V+Ke,L-qe,V+ge,L,V+ge),gs(L+qe,V+ge,L+de,V+Ke,L+de,V),$l(Le),this},f.__private__.circle=f.circle=function(L,V,de,ge){if(isNaN(L)||isNaN(V)||isNaN(de)||!qs(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,V,de,de,ge)},f.setFont=function(L,V,de){return de&&(V=U(V,de)),mt=Lh(L,V,{disableWarning:!1}),this};var Fg=f.__private__.getFont=f.getFont=function(){return Zt[Lh.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,V,de={};for(L in Xt)if(Xt.hasOwnProperty(L))for(V in de[L]=[],Xt[L])Xt[L].hasOwnProperty(V)&&de[L].push(V);return de},f.addFont=function(L,V,de,ge,Le){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(de=U(de,ge)),Kn.call(this,L,V,de,Le=Le||"Identity-H")};var vs,Tf=r.lineWidth||.200025,Tg=f.__private__.getLineWidth=f.getLineWidth=function(){return Tf},fr=f.__private__.setLineWidth=f.setLineWidth=function(L){return Tf=L,te(D(j(L))+" w"),this};f.__private__.setLineDash=er.API.setLineDash=er.API.setLineDashPattern=function(L,V){if(L=L||[],V=V||0,isNaN(V)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(de){return D(j(de))}).join(" "),V=D(j(V)),te("["+L+"] "+V+" d"),this};var _g=f.__private__.getLineHeight=f.getLineHeight=function(){return He*vs};f.__private__.getLineHeight=f.getLineHeight=function(){return He*vs};var kg=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(vs=L),this},Ng=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return vs};kg(r.lineHeight);var qa=f.__private__.getHorizontalCoordinate=function(L){return j(L)},Ws=f.__private__.getVerticalCoordinate=function(L){return S===I?L:Ut[H].mediaBox.topRightY-Ut[H].mediaBox.bottomLeftY-j(L)},Ph=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return D(qa(L))},Dh=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return D(Ws(L))},uA=r.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return aa(uA)},f.__private__.setStrokeColor=f.setDrawColor=function(L,V,de,ge){return uA=qo({ch1:L,ch2:V,ch3:de,ch4:ge,pdfColorType:"draw",precision:2}),te(uA),this};var _f=r.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return aa(_f)},f.__private__.setFillColor=f.setFillColor=function(L,V,de,ge){return _f=qo({ch1:L,ch2:V,ch3:de,ch4:ge,pdfColorType:"fill",precision:2}),te(_f),this};var Jl=r.textColor||"0 g",Rh=f.__private__.getTextColor=f.getTextColor=function(){return aa(Jl)};f.__private__.setTextColor=f.setTextColor=function(L,V,de,ge){return Jl=qo({ch1:L,ch2:V,ch3:de,ch4:ge,pdfColorType:"text",precision:3}),this};var zs=r.charSpace,Mh=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(zs||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zs=L,this};var kf=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var V=f.CapJoinStyles[L];if(V===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kf=V,te(V+" J"),this};var Nf=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var V=f.CapJoinStyles[L];if(V===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nf=V,te(V+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(D(j(L))+" M"),this},f.GState=K1,f.setGState=function(L){(L=typeof L=="string"?qt[tr[L]]:Ea(null,L)).equals(Ur)||(te("/"+L.id+" gs"),Ur=L)};var Ea=function(L,V){if(!L||!tr[L]){var de=!1;for(var ge in qt)if(qt.hasOwnProperty(ge)&&qt[ge].equals(V)){de=!0;break}if(de)V=qt[ge];else{var Le="GS"+(Object.keys(qt).length+1).toString(10);qt[Le]=V,V.id=Le}return L&&(tr[L]=V.id),Hr.publish("addGState",V),V}};f.addGState=function(L,V){return Ea(L,V),this},f.saveGraphicsState=function(){return te("q"),br.push({key:mt,size:He,color:Jl}),this},f.restoreGraphicsState=function(){te("Q");var L=br.pop();return mt=L.key,He=L.size,Jl=L.color,Ur=null,this},f.setCurrentTransformationMatrix=function(L){return te(L.toString()+" cm"),this},f.comment=function(L){return te("#"+L),this};var Cu=function(L,V){var de=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(qe){isNaN(qe)||(de=parseFloat(qe))}});var ge=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(qe){isNaN(qe)||(ge=parseFloat(qe))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(qe){Le=qe.toString()}}),this},js=function(L,V,de,ge){Cu.call(this,L,V),this.type="rect";var Le=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(Ke){isNaN(Ke)||(Le=parseFloat(Ke))}});var qe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(Ke){isNaN(Ke)||(qe=parseFloat(Ke))}}),this},lA=function(){this.page=Yt,this.currentPage=H,this.pages=Re.slice(0),this.pagesContext=Ut.slice(0),this.x=ct,this.y=Mr,this.matrix=lr,this.width=Df(H),this.height=tc(H),this.outputDestination=ze,this.id="",this.objectNumber=-1};lA.prototype.restore=function(){Yt=this.page,H=this.currentPage,Ut=this.pagesContext,Re=this.pages,ct=this.x,Mr=this.y,lr=this.matrix,ec(H,this.width),Gs(H,this.height),ze=this.outputDestination};var Pf=function(L,V,de,ge,Le){pi.push(new lA),Yt=H=0,Re=[],ct=L,Mr=V,lr=Le,go([de,ge])};for(var Zl in f.beginFormObject=function(L,V,de,ge,Le){return Pf(L,V,de,ge,Le),this},f.endFormObject=function(L){return(function(V){if(Va[V])pi.pop().restore();else{var de=new lA,ge="Xo"+(Object.keys(Ir).length+1).toString(10);de.id=ge,Va[V]=ge,Ir[ge]=de,Hr.publish("addFormObject",de),pi.pop().restore()}})(L),this},f.doFormObject=function(L,V){var de=Ir[Va[L]];return te("q"),te(V.toString()+" cm"),te("/"+de.id+" Do"),te("Q"),this},f.getFormObject=function(L){var V=Ir[Va[L]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},f.save=function(L,V){return L=L||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(yh(Sa(Vs()),L),typeof yh.unload=="function"&&pr.setTimeout&&setTimeout(yh.unload,911),this):new Promise(function(de,ge){try{var Le=yh(Sa(Vs()),L);typeof yh.unload=="function"&&pr.setTimeout&&setTimeout(yh.unload,911),de(Le)}catch(qe){ge(qe.message)}})},er.API)er.API.hasOwnProperty(Zl)&&(Zl==="events"&&er.API.events.length?(function(L,V){var de,ge,Le;for(Le=V.length-1;Le!==-1;Le--)de=V[Le][0],ge=V[Le][1],L.subscribe.apply(L,[de].concat(typeof ge=="function"?[ge]:ge))})(Hr,er.API.events):f[Zl]=er.API[Zl]);function Df(L){return Ut[L].mediaBox.topRightX-Ut[L].mediaBox.bottomLeftX}function ec(L,V){Ut[L].mediaBox.topRightX=V+Ut[L].mediaBox.bottomLeftX}function tc(L){return Ut[L].mediaBox.topRightY-Ut[L].mediaBox.bottomLeftY}function Gs(L,V){Ut[L].mediaBox.topRightY=V+Ut[L].mediaBox.bottomLeftY}var Bu=f.getPageWidth=function(L){return Df(L=L||H)/Kt},ys=f.setPageWidth=function(L,V){ec(L,V*Kt)},Ks=f.getPageHeight=function(L){return tc(L=L||H)/Kt},cA=f.setPageHeight=function(L,V){Gs(L,V*Kt)};return f.internal={pdfEscape:On,getStyle:Xl,getFont:Fg,getFontSize:at,getCharSpace:Mh,getTextColor:Rh,getLineHeight:_g,getLineHeightFactor:Ng,getLineWidth:Tg,write:je,getHorizontalCoordinate:qa,getVerticalCoordinate:Ws,getCoordinateString:Ph,getVerticalCoordinateString:Dh,collections:{},newObject:Or,newAdditionalObject:ds,newObjectDeferred:Vr,newObjectDeferredBegin:Gn,getFilters:Wo,putStream:eo,events:Hr,scaleFactor:Kt,pageSize:{getWidth:function(){return Bu(H)},setWidth:function(L){ys(H,L)},getHeight:function(){return Ks(H)},setHeight:function(L){cA(H,L)}},encryptionOptions:c,encryption:Ia,getEncryptor:function(L){return c!==null?Ia.encryptor(L,0):function(V){return V}},output:Fh,getNumberOfPages:ps,get pages(){return Re},out:te,f2:N,f3:P,getPageInfo:bu,getPageInfoByObjId:Th,getCurrentPageInfo:Ig,getPDFVersion:p,Point:Cu,Rectangle:js,Matrix:ar,hasHotfix:qi},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Bu(H)},set:function(L){ys(H,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Ks(H)},set:function(L){cA(H,L)},enumerable:!0,configurable:!0}),function(L){for(var V=0,de=ft.length;V<de;V++){var ge=Kn.call(this,L[V][0],L[V][1],L[V][2],ft[V][3],!0);A===!1&&(d[ge]=!0);var Le=L[V][0].split("-");Bn({id:ge,fontName:Le[0],fontStyle:Le[1]||""})}Hr.publish("addFonts",{fonts:Zt,dictionary:Xt})}.call(f,ft),mt="F1",cl(a,t),Hr.publish("initialized"),f}function JK(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}function tk(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return ZK[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof uk[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,n].join(" ")}}}function TK(r,e,t,n){var a;for(a=t;a>=0&&a<e.length;a+=n)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=n)if(r[e[a]])return r[e[a]]}function kK(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function NK(r){return r.trimLeft()}function pbe(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function mbe(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}function MK(r,e,t,n,a){var o=4,i=OK;switch(a){case er.API.image_compression.FAST:o=1,i=UK;break;case er.API.image_compression.MEDIUM:o=6,i=QK;break;case er.API.image_compression.SLOW:o=9,i=HK}r=(function(u,l,c,A){for(var d,f=u.length/l,h=new Uint8Array(u.length+f),p=[gbe,UK,OK,QK,HK],v=0;v<f;v+=1){var g=v*l,B=u.subarray(g,g+l);if(A)h.set(A(B,c,d),g+v);else{for(var I=p.length,S=[],E=0;E<I;E+=1)S[E]=p[E](B,c,d);var T=ybe(S.concat());h.set(S[T],g+v)}d=B}return h})(r,e,Math.ceil(t*n/8),i);var s=z2(r,{level:o});return er.API.__addimage__.arrayBufferToBinaryString(s)}function gbe(r){var e=Array.apply([],r);return e.unshift(0),e}function UK(r,e){var t=r.length,n=[];n[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;n[a+1]=r[a]-o+256&255}return n}function OK(r,e,t){var n=r.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var i=t&&t[o]||0;a[o+1]=r[o]-i+256&255}return a}function QK(r,e,t){var n=r.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var i=r[o-e]||0,s=t&&t[o]||0;a[o+1]=r[o]+256-(i+s>>>1)&255}return a}function HK(r,e,t){var n=r.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var i=vbe(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-i+256&255}return a}function vbe(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return n<=a&&n<=o?r:a<=o?e:t}function ybe(r){var e=r.map(function(t){return t.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function nk(r,e,t){var n=e*t,a=Math.floor(n/8),o=16-(n-8*a+t),i=(1<<t)-1;return rX(r,a)>>o&i}function VK(r,e,t,n){var a=t*n,o=Math.floor(a/8),i=16-(a-8*o+n),s=(1<<n)-1,u=(e&s)<<i;(function(l,c,A){if(c+1<l.byteLength)l.setUint16(c,A,!1);else{var d=A>>8&255;l.setUint8(c,d)}})(r,o,rX(r,o)&~(s<<i)&65535|u)}function rX(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function xbe(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,i=1<<1+(7&a);r[e++],r[e++];var s=null,u=null;o&&(s=e,u=i,e+=3*i);var l=!0,c=[],A=0,d=null,f=0,h=null;for(this.width=t,this.height=n;l&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,h=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=r[e++];A=r[e++]|r[e++]<<8,d=r[e++],1&p||(d=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var v=r[e++]|r[e++]<<8,g=r[e++]|r[e++]<<8,B=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,S=r[e++],E=S>>6&1,T=1<<1+(7&S),U=s,D=u,k=!1;S>>7&&(k=!0,U=e,D=T,e+=3*T);var O=e;for(e++;;){var N;if(!((N=r[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}c.push({x:v,y:g,width:B,height:I,has_local_palette:k,palette_offset:U,palette_size:D,data_offset:O,data_length:e-O,transparent_index:d,interlaced:!!E,delay:A,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return h},this.frameInfo=function(P){if(P<0||P>=c.length)throw new Error("Frame index out of range.");return c[P]},this.decodeAndBlitFrameBGRA=function(P,j){var z=this.frameInfo(P),ne=z.width*z.height,re=new Uint8Array(ne);qK(r,z.data_offset,re,ne);var Y=z.palette_offset,J=z.transparent_index;J===null&&(J=256);var G=z.width,Z=t-G,he=G,R=4*(z.y*t+z.x),H=4*((z.y+z.height)*t+z.x),ae=R,le=4*Z;z.interlaced===!0&&(le+=4*t*7);for(var pe=8,ve=0,Se=re.length;ve<Se;++ve){var me=re[ve];if(he===0&&(he=G,(ae+=le)>=H&&(le=4*Z+4*t*(pe-1),ae=R+(G+Z)*(pe<<1),pe>>=1)),me===J)ae+=4;else{var ke=r[Y+3*me],Re=r[Y+3*me+1],De=r[Y+3*me+2];j[ae++]=De,j[ae++]=Re,j[ae++]=ke,j[ae++]=255}--he}},this.decodeAndBlitFrameRGBA=function(P,j){var z=this.frameInfo(P),ne=z.width*z.height,re=new Uint8Array(ne);qK(r,z.data_offset,re,ne);var Y=z.palette_offset,J=z.transparent_index;J===null&&(J=256);var G=z.width,Z=t-G,he=G,R=4*(z.y*t+z.x),H=4*((z.y+z.height)*t+z.x),ae=R,le=4*Z;z.interlaced===!0&&(le+=4*t*7);for(var pe=8,ve=0,Se=re.length;ve<Se;++ve){var me=re[ve];if(he===0&&(he=G,(ae+=le)>=H&&(le=4*Z+4*t*(pe-1),ae=R+(G+Z)*(pe<<1),pe>>=1)),me===J)ae+=4;else{var ke=r[Y+3*me],Re=r[Y+3*me+1],De=r[Y+3*me+2];j[ae++]=ke,j[ae++]=Re,j[ae++]=De,j[ae++]=255}--he}}}function qK(r,e,t,n){for(var a=r[e++],o=1<<a,i=o+1,s=i+1,u=a+1,l=(1<<u)-1,c=0,A=0,d=0,f=r[e++],h=new Int32Array(4096),p=null;;){for(;c<16&&f!==0;)A|=r[e++]<<c,c+=8,f===1?f=r[e++]:--f;if(c<u)break;var v=A&l;if(A>>=u,c-=u,v!==o){if(v===i)break;for(var g=v<s?v:p,B=0,I=g;I>o;)I=h[I]>>8,++B;var S=I;if(d+B+(g!==v?1:0)>n)return void Pn.log("Warning, gif stream longer than expected.");t[d++]=S;var E=d+=B;for(g!==v&&(t[d++]=S),I=g;B--;)I=h[I],t[--E]=255&I,I>>=8;p!==null&&s<4096&&(h[s++]=p<<8|S,s>=l+1&&u<12&&(++u,l=l<<1|1)),p=v}else s=i+1,l=(1<<(u=a+1))-1,p=null}return d!==n&&Pn.log("Warning, gif stream shorter than expected."),t}function ak(r){var e,t,n,a,o,i=Math.floor,s=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),A=new Array(65535),d=new Array(65535),f=new Array(64),h=new Array(64),p=[],v=0,g=7,B=new Array(64),I=new Array(64),S=new Array(64),E=new Array(256),T=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(R,H){for(var ae=0,le=0,pe=new Array,ve=1;ve<=16;ve++){for(var Se=1;Se<=R[ve];Se++)pe[H[le]]=[],pe[H[le]][0]=ae,pe[H[le]][1]=ve,le++,ae++;ae*=2}return pe}function Y(R){for(var H=R[0],ae=R[1]-1;ae>=0;)H&1<<ae&&(v|=1<<g),ae--,--g<0&&(v==255?(J(255),J(0)):J(v),g=7,v=0)}function J(R){p.push(R)}function G(R){J(R>>8&255),J(255&R)}function Z(R,H,ae,le,pe){for(var ve,Se=pe[0],me=pe[240],ke=(function(He,vt){var at,ht,dt,Mt,Jt,Qt,Ht,Vt,mt,Kt,ct=0;for(mt=0;mt<8;++mt){at=He[ct],ht=He[ct+1],dt=He[ct+2],Mt=He[ct+3],Jt=He[ct+4],Qt=He[ct+5],Ht=He[ct+6];var Mr=at+(Vt=He[ct+7]),lr=at-Vt,Zt=ht+Ht,Xt=ht-Ht,br=dt+Qt,Rt=dt-Qt,kr=Mt+Jt,qt=Mt-Jt,tr=Mr+kr,Ur=Mr-kr,Yt=Zt+br,Ut=Zt-br;He[ct]=tr+Yt,He[ct+4]=tr-Yt;var Hr=.707106781*(Ut+Ur);He[ct+2]=Ur+Hr,He[ct+6]=Ur-Hr;var Hi=.382683433*((tr=qt+Rt)-(Ut=Xt+lr)),Ir=.5411961*tr+Hi,Va=1.306562965*Ut+Hi,pi=.707106781*(Yt=Rt+Xt),ar=lr+pi,mi=lr-pi;He[ct+5]=mi+Ir,He[ct+3]=mi-Ir,He[ct+1]=ar+Va,He[ct+7]=ar-Va,ct+=8}for(ct=0,mt=0;mt<8;++mt){at=He[ct],ht=He[ct+8],dt=He[ct+16],Mt=He[ct+24],Jt=He[ct+32],Qt=He[ct+40],Ht=He[ct+48];var gi=at+(Vt=He[ct+56]),sr=at-Vt,Za=ht+Ht,Or=ht-Ht,Vr=dt+Qt,Gn=dt-Qt,ds=Mt+Jt,vi=Mt-Jt,Vo=gi+ds,aa=gi-ds,qo=Za+Vr,Wo=Za-Vr;He[ct]=Vo+qo,He[ct+32]=Vo-qo;var eo=.707106781*(Wo+aa);He[ct+16]=aa+eo,He[ct+48]=aa-eo;var hs=.382683433*((Vo=vi+Gn)-(Wo=Or+sr)),Vi=.5411961*Vo+hs,Lt=1.306562965*Wo+hs,xe=.707106781*(qo=Gn+Or),tt=sr+xe,Bt=sr-xe;He[ct+40]=Bt+Vi,He[ct+24]=Bt-Vi,He[ct+8]=tt+Lt,He[ct+56]=tt-Lt,ct++}for(mt=0;mt<64;++mt)Kt=He[mt]*vt[mt],f[mt]=Kt>0?Kt+.5|0:Kt-.5|0;return f})(R,H),Re=0;Re<64;++Re)h[U[Re]]=ke[Re];var De=h[0]-ae;ae=h[0],De==0?Y(le[0]):(Y(le[d[ve=32767+De]]),Y(A[ve]));for(var ze=63;ze>0&&h[ze]==0;)ze--;if(ze==0)return Y(Se),ae;for(var et,te=1;te<=ze;){for(var je=te;h[te]==0&&te<=ze;)++te;var Ct=te-je;if(Ct>=16){et=Ct>>4;for(var ft=1;ft<=et;++ft)Y(me);Ct&=15}ve=32767+h[te],Y(pe[(Ct<<4)+d[ve]]),Y(A[ve]),te++}return ze!=63&&Y(Se),ae}function he(R){R=Math.min(Math.max(R,1),100),o!=R&&((function(H){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var pe=i((ae[le]*H+50)/100);pe=Math.min(Math.max(pe,1),255),s[U[le]]=pe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var me=i((ve[Se]*H+50)/100);me=Math.min(Math.max(me,1),255),u[U[Se]]=me}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,De=0;De<8;De++)for(var ze=0;ze<8;ze++)l[Re]=1/(s[U[Re]]*ke[De]*ke[ze]*8),c[Re]=1/(u[U[Re]]*ke[De]*ke[ze]*8),Re++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),o=R)}this.encode=function(R,H){H&&he(H),p=new Array,v=0,g=7,G(65496),G(65504),G(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),G(1),G(1),J(0),J(0),(function(){G(65499),G(132),J(0);for(var ht=0;ht<64;ht++)J(s[ht]);J(1);for(var dt=0;dt<64;dt++)J(u[dt])})(),(function(ht,dt){G(65472),G(17),J(8),G(dt),G(ht),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(R.width,R.height),(function(){G(65476),G(418),J(0);for(var ht=0;ht<16;ht++)J(D[ht+1]);for(var dt=0;dt<=11;dt++)J(k[dt]);J(16);for(var Mt=0;Mt<16;Mt++)J(O[Mt+1]);for(var Jt=0;Jt<=161;Jt++)J(N[Jt]);J(1);for(var Qt=0;Qt<16;Qt++)J(P[Qt+1]);for(var Ht=0;Ht<=11;Ht++)J(j[Ht]);J(17);for(var Vt=0;Vt<16;Vt++)J(z[Vt+1]);for(var mt=0;mt<=161;mt++)J(ne[mt])})(),G(65498),G(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var ae=0,le=0,pe=0;v=0,g=7,this.encode.displayName="_encode_";for(var ve,Se,me,ke,Re,De,ze,et,te,je=R.data,Ct=R.width,ft=R.height,He=4*Ct,vt=0;vt<ft;){for(ve=0;ve<He;){for(Re=He*vt+ve,ze=-1,et=0,te=0;te<64;te++)De=Re+(et=te>>3)*He+(ze=4*(7&te)),vt+et>=ft&&(De-=He*(vt+1+et-ft)),ve+ze>=He&&(De-=ve+ze-He+4),Se=je[De++],me=je[De++],ke=je[De++],B[te]=(T[Se]+T[me+256|0]+T[ke+512|0]>>16)-128,I[te]=(T[Se+768|0]+T[me+1024|0]+T[ke+1280|0]>>16)-128,S[te]=(T[Se+1280|0]+T[me+1536|0]+T[ke+1792|0]>>16)-128;ae=Z(B,l,ae,e,n),le=Z(I,c,le,t,a),pe=Z(S,c,pe,t,a),ve+=32}vt+=8}if(g>=0){var at=[];at[1]=g+1,at[0]=(1<<g+1)-1,Y(at)}return G(65497),new Uint8Array(p)},r=r||50,(function(){for(var R=String.fromCharCode,H=0;H<256;H++)E[H]=R(H)})(),e=re(D,k),t=re(P,j),n=re(O,N),a=re(z,ne),(function(){for(var R=1,H=2,ae=1;ae<=15;ae++){for(var le=R;le<H;le++)d[32767+le]=ae,A[32767+le]=[],A[32767+le][1]=ae,A[32767+le][0]=le;for(var pe=-(H-1);pe<=-R;pe++)d[32767+pe]=ae,A[32767+pe]=[],A[32767+pe][1]=ae,A[32767+pe][0]=H-1+pe;R<<=1,H<<=1}})(),(function(){for(var R=0;R<256;R++)T[R]=19595*R,T[R+256|0]=38470*R,T[R+512|0]=7471*R+32768,T[R+768|0]=-11059*R,T[R+1024|0]=-21709*R,T[R+1280|0]=32768*R+8421375,T[R+1536|0]=-27439*R,T[R+1792|0]=-5329*R})(),he(r)}function sl(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WK(r){function e(k){if(!k)throw Error("assert :P")}function t(k,O,N){for(var P=0;4>P;P++)if(k[O+P]!=N.charCodeAt(P))return!0;return!1}function n(k,O,N,P,j){for(var z=0;z<j;z++)k[O+z]=N[P+z]}function a(k,O,N,P){for(var j=0;j<P;j++)k[O+j]=N}function o(k){return new Int32Array(k)}function i(k,O){for(var N=[],P=0;P<k;P++)N.push(new O);return N}function s(k,O){var N=[];return(function P(j,z,ne){for(var re=ne[z],Y=0;Y<re&&(j.push(ne.length>z+1?[]:new O),!(ne.length<z+1));Y++)P(j[Y],z+1,ne)})(N,0,k),N}var u=function(){var k=this;function O(y,C){for(var F=1<<C-1>>>0;y&F;)F>>>=1;return F?(y&F-1)+F:y}function N(y,C,F,M,q){e(!(M%F));do y[C+(M-=F)]=q;while(0<M)}function P(y,C,F,M,q){if(e(2328>=q),512>=q)var X=o(512);else if((X=o(q))==null)return 0;return(function($,ee,ie,Ae,be,Fe){var fe,Ie,Te=ee,Ue=1<<ie,Ne=o(16),Ve=o(16);for(e(be!=0),e(Ae!=null),e($!=null),e(0<ie),Ie=0;Ie<be;++Ie){if(15<Ae[Ie])return 0;++Ne[Ae[Ie]]}if(Ne[0]==be)return 0;for(Ve[1]=0,fe=1;15>fe;++fe){if(Ne[fe]>1<<fe)return 0;Ve[fe+1]=Ve[fe]+Ne[fe]}for(Ie=0;Ie<be;++Ie)fe=Ae[Ie],0<Ae[Ie]&&(Fe[Ve[fe]++]=Ie);if(Ve[15]==1)return(Ae=new j).g=0,Ae.value=Fe[0],N($,Te,1,Ue,Ae),Ue;var We,rt=-1,Xe=Ue-1,Gt=0,It=1,Cr=1,kt=1<<ie;for(Ie=0,fe=1,be=2;fe<=ie;++fe,be<<=1){if(It+=Cr<<=1,0>(Cr-=Ne[fe]))return 0;for(;0<Ne[fe];--Ne[fe])(Ae=new j).g=fe,Ae.value=Fe[Ie++],N($,Te+Gt,be,kt,Ae),Gt=O(Gt,fe)}for(fe=ie+1,be=2;15>=fe;++fe,be<<=1){if(It+=Cr<<=1,0>(Cr-=Ne[fe]))return 0;for(;0<Ne[fe];--Ne[fe]){if(Ae=new j,(Gt&Xe)!=rt){for(Te+=kt,We=1<<(rt=fe)-ie;15>rt&&!(0>=(We-=Ne[rt]));)++rt,We<<=1;Ue+=kt=1<<(We=rt-ie),$[ee+(rt=Gt&Xe)].g=We+ie,$[ee+rt].value=Te-ee-rt}Ae.g=fe-ie,Ae.value=Fe[Ie++],N($,Te+(Gt>>ie),be,kt,Ae),Gt=O(Gt,fe)}}return It!=2*Ve[15]-1?0:Ue})(y,C,F,M,q,X)}function j(){this.value=this.g=0}function z(){this.value=this.g=0}function ne(){this.G=i(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(dl,z)}function re(y,C,F,M){e(y!=null),e(C!=null),e(2147483648>M),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=C,y.pa=F,y.Jd=C,y.Yc=F+M,y.Zc=4<=M?F+M-4+1:F,Se(y)}function Y(y,C){for(var F=0;0<C--;)F|=ke(y,128)<<C;return F}function J(y,C){var F=Y(y,C);return me(y)?-F:F}function G(y,C,F,M){var q,X=0;for(e(y!=null),e(C!=null),e(4294967288>M),y.Sb=M,y.Ra=0,y.u=0,y.h=0,4<M&&(M=4),q=0;q<M;++q)X+=C[F+q]<<8*q;y.Ra=X,y.bb=M,y.oa=C,y.pa=F}function Z(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<_u-8>>>0,++y.bb,y.u-=8;le(y)&&(y.h=1,y.u=0)}function he(y,C){if(e(0<=C),!y.h&&C<=Go){var F=ae(y)&jo[C];return y.u+=C,Z(y),F}return y.h=1,y.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&_u-1)>>>0}function le(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>_u}function pe(y,C){y.u=C,y.h=le(y)}function ve(y){y.u>=ji&&(e(y.u>=ji),Z(y))}function Se(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function me(y){return Y(y,1)}function ke(y,C){var F=y.Ca;0>y.b&&Se(y);var M=y.b,q=F*C>>>8,X=(y.I>>>M>q)+0;for(X?(F-=q,y.I-=q+1<<M>>>0):F=q+1,M=F,q=0;256<=M;)q+=8,M>>=8;return M=7^q+ku[M],y.b-=M,y.Ca=(F<<M)-1,X}function Re(y,C,F){y[C+0]=F>>24&255,y[C+1]=F>>16&255,y[C+2]=F>>8&255,y[C+3]=255&F}function De(y,C){return y[C+0]|y[C+1]<<8}function ze(y,C){return De(y,C)|y[C+2]<<16}function et(y,C){return De(y,C)|De(y,C+2)<<16}function te(y,C){var F=1<<C;return e(y!=null),e(0<C),y.X=o(F),y.X==null?0:(y.Mb=32-C,y.Xa=C,1)}function je(y,C){e(y!=null),e(C!=null),e(y.Xa==C.Xa),n(C.X,0,y.X,0,1<<C.Xa)}function Ct(){this.X=[],this.Xa=this.Mb=0}function ft(y,C,F,M){e(F!=null),e(M!=null);var q=F[0],X=M[0];return q==0&&(q=(y*X+C/2)/C),X==0&&(X=(C*q+y/2)/y),0>=q||0>=X?0:(F[0]=q,M[0]=X,1)}function He(y,C){return y+(1<<C)-1>>>C}function vt(y,C){return((4278255360&y)+(4278255360&C)>>>0&4278255360)+((16711935&y)+(16711935&C)>>>0&16711935)>>>0}function at(y,C){k[C]=function(F,M,q,X,$,ee,ie){var Ae;for(Ae=0;Ae<$;++Ae){var be=k[y](ee[ie+Ae-1],q,X+Ae);ee[ie+Ae]=vt(F[M+Ae],be)}}}function ht(){this.ud=this.hd=this.jd=0}function dt(y,C){return((4278124286&(y^C))>>>1)+(y&C)>>>0}function Mt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Jt(y,C){return Mt(y+(y-C+.5>>1))}function Qt(y,C,F){return Math.abs(C-F)-Math.abs(y-F)}function Ht(y,C,F,M,q,X,$){for(M=X[$-1],F=0;F<q;++F)X[$+F]=M=vt(y[C+F],M)}function Vt(y,C,F,M,q){var X;for(X=0;X<F;++X){var $=y[C+X],ee=$>>8&255,ie=16711935&(ie=(ie=16711935&$)+((ee<<16)+ee));M[q+X]=(4278255360&$)+ie>>>0}}function mt(y,C){C.jd=255&y,C.hd=y>>8&255,C.ud=y>>16&255}function Kt(y,C,F,M,q,X){var $;for($=0;$<M;++$){var ee=C[F+$],ie=ee>>>8,Ae=ee,be=255&(be=(be=ee>>>16)+((y.jd<<24>>24)*(ie<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(y.hd<<24>>24)*(ie<<24>>24)>>>5)+((y.ud<<24>>24)*(be<<24>>24)>>>5)),q[X+$]=(4278255360&ee)+(be<<16)+Ae}}function ct(y,C,F,M,q){k[C]=function(X,$,ee,ie,Ae,be,Fe,fe,Ie){for(ie=Fe;ie<fe;++ie)for(Fe=0;Fe<Ie;++Fe)Ae[be++]=q(ee[M(X[$++])])},k[y]=function(X,$,ee,ie,Ae,be,Fe){var fe=8>>X.b,Ie=X.Ea,Te=X.K[0],Ue=X.w;if(8>fe)for(X=(1<<X.b)-1,Ue=(1<<fe)-1;$<ee;++$){var Ne,Ve=0;for(Ne=0;Ne<Ie;++Ne)Ne&X||(Ve=M(ie[Ae++])),be[Fe++]=q(Te[Ve&Ue]),Ve>>=fe}else k["VP8LMapColor"+F](ie,Ae,Te,Ue,be,Fe,$,ee,Ie)}}function Mr(y,C,F,M,q){for(F=C+F;C<F;){var X=y[C++];M[q++]=X>>16&255,M[q++]=X>>8&255,M[q++]=255&X}}function lr(y,C,F,M,q){for(F=C+F;C<F;){var X=y[C++];M[q++]=X>>16&255,M[q++]=X>>8&255,M[q++]=255&X,M[q++]=X>>24&255}}function Zt(y,C,F,M,q){for(F=C+F;C<F;){var X=($=y[C++])>>16&240|$>>12&15,$=240&$|$>>28&15;M[q++]=X,M[q++]=$}}function Xt(y,C,F,M,q){for(F=C+F;C<F;){var X=($=y[C++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;M[q++]=X,M[q++]=$}}function br(y,C,F,M,q){for(F=C+F;C<F;){var X=y[C++];M[q++]=255&X,M[q++]=X>>8&255,M[q++]=X>>16&255}}function Rt(y,C,F,M,q,X){if(X==0)for(F=C+F;C<F;)Re(M,((X=y[C++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),q+=32;else n(M,q,y,C,F)}function kr(y,C){k[C][0]=k[y+"0"],k[C][1]=k[y+"1"],k[C][2]=k[y+"2"],k[C][3]=k[y+"3"],k[C][4]=k[y+"4"],k[C][5]=k[y+"5"],k[C][6]=k[y+"6"],k[C][7]=k[y+"7"],k[C][8]=k[y+"8"],k[C][9]=k[y+"9"],k[C][10]=k[y+"10"],k[C][11]=k[y+"11"],k[C][12]=k[y+"12"],k[C][13]=k[y+"13"],k[C][14]=k[y+"0"],k[C][15]=k[y+"0"]}function qt(y){return y==qg||y==gA||y==Vh||y==Wg}function tr(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tr,this.f.kb=new Ur,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hi(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Ir(y,C){var F=y.T,M=C.ba.f.RGBA,q=M.eb,X=M.fb+y.ka*M.A,$=Ko[C.ba.S],ee=y.y,ie=y.O,Ae=y.f,be=y.N,Fe=y.ea,fe=y.W,Ie=C.cc,Te=C.dc,Ue=C.Mc,Ne=C.Nc,Ve=y.ka,We=y.ka+y.T,rt=y.U,Xe=rt+1>>1;for(Ve==0?$(ee,ie,null,null,Ae,be,Fe,fe,Ae,be,Fe,fe,q,X,null,null,rt):($(C.ec,C.fc,ee,ie,Ie,Te,Ue,Ne,Ae,be,Fe,fe,q,X-M.A,q,X,rt),++F);Ve+2<We;Ve+=2)Ie=Ae,Te=be,Ue=Fe,Ne=fe,be+=y.Rc,fe+=y.Rc,X+=2*M.A,$(ee,(ie+=2*y.fa)-y.fa,ee,ie,Ie,Te,Ue,Ne,Ae,be,Fe,fe,q,X-M.A,q,X,rt);return ie+=y.fa,y.j+We<y.o?(n(C.ec,C.fc,ee,ie,rt),n(C.cc,C.dc,Ae,be,Xe),n(C.Mc,C.Nc,Fe,fe,Xe),F--):1&We||$(ee,ie,null,null,Ae,be,Fe,fe,Ae,be,Fe,fe,q,X+M.A,null,null,rt),F}function Va(y,C,F){var M=y.F,q=[y.J];if(M!=null){var X=y.U,$=C.ba.S,ee=$==Hh||$==Vh;C=C.ba.f.RGBA;var ie=[0],Ae=y.ka;ie[0]=y.T,y.Kb&&(Ae==0?--ie[0]:(--Ae,q[0]-=y.width),y.j+y.ka+y.T==y.o&&(ie[0]=y.o-y.j-Ae));var be=C.eb;Ae=C.fb+Ae*C.A,y=Uf(M,q[0],y.width,X,ie,be,Ae+(ee?0:3),C.A),e(F==ie),y&&qt($)&&mA(be,Ae,ee,X,ie,C.A)}return 0}function pi(y){var C=y.ma,F=C.ba.S,M=11>F,q=F==Qh||F==ic||F==Hh||F==Vg||F==12||qt(F);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!zi(C.Oa,y,q?11:12))return 0;if(q&&qt(F)&&rc(),y.da)alert("todo:use_scaling");else{if(M){if(C.Ib=Hi,y.Kb){if(F=y.U+1>>1,C.memory=o(y.U+2*F),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+y.U,C.Mc=C.cc,C.Nc=C.dc+F,C.Ib=Ir,rc()}}else alert("todo:EmitYUV");q&&(C.Jb=Va,M&&xs())}if(M&&!Ax){for(y=0;256>y;++y)QS[y]=89858*(y-128)+zh>>sc,qS[y]=-22014*(y-128)+zh,VS[y]=-45773*(y-128),HS[y]=113618*(y-128)+zh>>sc;for(y=Hf;y<Gg;++y)C=76283*(y-16)+zh>>sc,WS[y-Hf]=Hs(C,255),zS[y-Hf]=Hs(C+8>>4,15);Ax=1}return 1}function ar(y){var C=y.ma,F=y.U,M=y.T;return e(!(1&y.ka)),0>=F||0>=M?0:(F=C.Ib(y,C),C.Jb!=null&&C.Jb(y,C,F),C.Dc+=F,1)}function mi(y){y.ma.memory=null}function gi(y,C,F,M){return he(y,8)!=47?0:(C[0]=he(y,14)+1,F[0]=he(y,14)+1,M[0]=he(y,1),he(y,3)!=0?0:!y.h)}function sr(y,C){if(4>y)return y+1;var F=y-2>>1;return(2+(1&y)<<F)+he(C,F)+1}function Za(y,C){return 120<C?C-120:1<=(F=((F=FS[C-1])>>4)*y+(8-(15&F)))?F:1;var F}function Or(y,C,F){var M=ae(F),q=y[C+=255&M].g-8;return 0<q&&(pe(F,F.u+8),M=ae(F),C+=y[C].value,C+=M&(1<<q)-1),pe(F,F.u+y[C].g),y[C].value}function Vr(y,C,F){return F.g+=y.g,F.value+=y.value<<C>>>0,e(8>=F.g),y.g}function Gn(y,C,F){var M=y.xc;return e((C=M==0?0:y.vc[y.md*(F>>M)+(C>>M)])<y.Wb),y.Ya[C]}function ds(y,C,F,M){var q=y.ab,X=y.c*C,$=y.C;C=$+C;var ee=F,ie=M;for(M=y.Ta,F=y.Ua;0<q--;){var Ae=y.gc[q],be=$,Fe=C,fe=ee,Ie=ie,Te=(ie=M,ee=F,Ae.Ea);switch(e(be<Fe),e(Fe<=Ae.nc),Ae.hc){case 2:dn(fe,Ie,(Fe-be)*Te,ie,ee);break;case 0:var Ue=be,Ne=Fe,Ve=ie,We=ee,rt=(kt=Ae).Ea;Ue==0&&(AA(fe,Ie,null,null,1,Ve,We),Ht(fe,Ie+1,0,0,rt-1,Ve,We+1),Ie+=rt,We+=rt,++Ue);for(var Xe=1<<kt.b,Gt=Xe-1,It=He(rt,kt.b),Cr=kt.K,kt=kt.w+(Ue>>kt.b)*It;Ue<Ne;){var Je=Cr,Ta=kt,Br=1;for(no(fe,Ie,Ve,We-rt,1,Ve,We);Br<rt;){var Tt=(Br&~Gt)+Xe;Tt>rt&&(Tt=rt),(0,dA[Je[Ta++]>>8&15])(fe,Ie+ +Br,Ve,We+Br-rt,Tt-Br,Ve,We+Br),Br=Tt}Ie+=rt,We+=rt,++Ue&Gt||(kt+=It)}Fe!=Ae.nc&&n(ie,ee-Te,ie,ee+(Fe-be-1)*Te,Te);break;case 1:for(Te=fe,Ne=Ie,rt=(fe=Ae.Ea)-(We=fe&~(Ve=(Ie=1<<Ae.b)-1)),Ue=He(fe,Ae.b),Xe=Ae.K,Ae=Ae.w+(be>>Ae.b)*Ue;be<Fe;){for(Gt=Xe,It=Ae,Cr=new ht,kt=Ne+We,Je=Ne+fe;Ne<kt;)mt(Gt[It++],Cr),ac(Cr,Te,Ne,Ie,ie,ee),Ne+=Ie,ee+=Ie;Ne<Je&&(mt(Gt[It++],Cr),ac(Cr,Te,Ne,rt,ie,ee),Ne+=rt,ee+=rt),++be&Ve||(Ae+=Ue)}break;case 3:if(fe==ie&&Ie==ee&&0<Ae.b){for(Ne=ie,fe=Te=ee+(Fe-be)*Te-(We=(Fe-be)*He(Ae.Ea,Ae.b)),Ie=ie,Ve=ee,Ue=[],We=(rt=We)-1;0<=We;--We)Ue[We]=Ie[Ve+We];for(We=rt-1;0<=We;--We)Ne[fe+We]=Ue[We];bs(Ae,be,Fe,ie,Te,ie,ee)}else bs(Ae,be,Fe,fe,Ie,ie,ee)}ee=M,ie=F}ie!=F&&n(M,F,ee,ie,X)}function vi(y,C){var F=y.V,M=y.Ba+y.c*y.C,q=C-y.C;if(e(C<=y.l.o),e(16>=q),0<q){var X=y.l,$=y.Ta,ee=y.Ua,ie=X.width;if(ds(y,q,F,M),q=ee=[ee],e((F=y.C)<(M=C)),e(X.v<X.va),M>X.o&&(M=X.o),F<X.j){var Ae=X.j-F;F=X.j,q[0]+=Ae*ie}if(F>=M?F=0:(q[0]+=4*X.v,X.ka=F-X.j,X.U=X.va-X.v,X.T=M-F,F=1),F){if(ee=ee[0],11>(F=y.ca).S){var be=F.f.RGBA,Fe=(M=F.S,q=X.U,X=X.T,Ae=be.eb,be.A),fe=X;for(be=be.fb+y.Ma*be.A;0<fe--;){var Ie=$,Te=ee,Ue=q,Ne=Ae,Ve=be;switch(M){case Pu:hA(Ie,Te,Ue,Ne,Ve);break;case Qh:hl(Ie,Te,Ue,Ne,Ve);break;case qg:hl(Ie,Te,Ue,Ne,Ve),mA(Ne,Ve,0,Ue,1,0);break;case tx:oc(Ie,Te,Ue,Ne,Ve);break;case ic:Rt(Ie,Te,Ue,Ne,Ve,1);break;case gA:Rt(Ie,Te,Ue,Ne,Ve,1),mA(Ne,Ve,0,Ue,1,0);break;case Hh:Rt(Ie,Te,Ue,Ne,Ve,0);break;case Vh:Rt(Ie,Te,Ue,Ne,Ve,0),mA(Ne,Ve,1,Ue,1,0);break;case Vg:Gi(Ie,Te,Ue,Ne,Ve);break;case Wg:Gi(Ie,Te,Ue,Ne,Ve),Y1(Ne,Ve,Ue,1,0);break;case rx:yo(Ie,Te,Ue,Ne,Ve);break;default:e(0)}ee+=ie,be+=Fe}y.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=F.height)}}y.C=C,e(y.C<=y.i)}function Vo(y){var C;if(0<y.ua)return 0;for(C=0;C<y.Wb;++C){var F=y.Ya[C].G,M=y.Ya[C].H;if(0<F[1][M[1]+0].g||0<F[2][M[2]+0].g||0<F[3][M[3]+0].g)return 0}return 1}function aa(y,C,F,M,q,X){if(y.Z!=0){var $=y.qd,ee=y.rd;for(e(gl[y.Z]!=null);C<F;++C)gl[y.Z]($,ee,M,q,M,q,X),$=M,ee=q,q+=X;y.qd=$,y.rd=ee}}function qo(y,C){var F=y.l.ma,M=F.Z==0||F.Z==1?y.l.j:y.C;if(M=y.C<M?M:y.C,e(C<=y.l.o),C>M){var q=y.l.width,X=F.ca,$=F.tb+q*M,ee=y.V,ie=y.Ba+y.c*M,Ae=y.gc;e(y.ab==1),e(Ae[0].hc==3),ao(Ae[0],M,C,ee,ie,X,$),aa(F,M,C,X,$,q)}y.C=y.Ma=C}function Wo(y,C,F,M,q,X,$){var ee=y.$/M,ie=y.$%M,Ae=y.m,be=y.s,Fe=F+y.$,fe=Fe;q=F+M*q;var Ie=F+M*X,Te=280+be.ua,Ue=y.Pb?ee:16777216,Ne=0<be.ua?be.Wa:null,Ve=be.wc,We=Fe<Ie?Gn(be,ie,ee):null;e(y.C<X),e(Ie<=q);var rt=!1;e:for(;;){for(;rt||Fe<Ie;){var Xe=0;if(ee>=Ue){var Gt=Fe-F;e((Ue=y).Pb),Ue.wd=Ue.m,Ue.xd=Gt,0<Ue.s.ua&&je(Ue.s.Wa,Ue.s.vb),Ue=ee+qh}if(ie&Ve||(We=Gn(be,ie,ee)),e(We!=null),We.Qb&&(C[Fe]=We.qb,rt=!0),!rt)if(ve(Ae),We.jc){Xe=Ae,Gt=C;var It=Fe,Cr=We.pd[ae(Xe)&dl-1];e(We.jc),256>Cr.g?(pe(Xe,Xe.u+Cr.g),Gt[It]=Cr.value,Xe=0):(pe(Xe,Xe.u+Cr.g-256),e(256<=Cr.value),Xe=Cr.value),Xe==0&&(rt=!0)}else Xe=Or(We.G[0],We.H[0],Ae);if(Ae.h)break;if(rt||256>Xe){if(!rt)if(We.nd)C[Fe]=(We.qb|Xe<<8)>>>0;else{if(ve(Ae),rt=Or(We.G[1],We.H[1],Ae),ve(Ae),Gt=Or(We.G[2],We.H[2],Ae),It=Or(We.G[3],We.H[3],Ae),Ae.h)break;C[Fe]=(It<<24|rt<<16|Xe<<8|Gt)>>>0}if(rt=!1,++Fe,++ie>=M&&(ie=0,++ee,$!=null&&ee<=X&&!(ee%16)&&$(y,ee),Ne!=null))for(;fe<Fe;)Xe=C[fe++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe}else if(280>Xe){if(Xe=sr(Xe-256,Ae),Gt=Or(We.G[4],We.H[4],Ae),ve(Ae),Gt=Za(M,Gt=sr(Gt,Ae)),Ae.h)break;if(Fe-F<Gt||q-Fe<Xe)break e;for(It=0;It<Xe;++It)C[Fe+It]=C[Fe+It-Gt];for(Fe+=Xe,ie+=Xe;ie>=M;)ie-=M,++ee,$!=null&&ee<=X&&!(ee%16)&&$(y,ee);if(e(Fe<=q),ie&Ve&&(We=Gn(be,ie,ee)),Ne!=null)for(;fe<Fe;)Xe=C[fe++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe}else{if(!(Xe<Te))break e;for(rt=Xe-280,e(Ne!=null);fe<Fe;)Xe=C[fe++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe;Xe=Fe,e(!(rt>>>(Gt=Ne).Xa)),C[Xe]=Gt.X[rt],rt=!0}rt||e(Ae.h==le(Ae))}if(y.Pb&&Ae.h&&Fe<q)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&je(y.s.vb,y.s.Wa);else{if(Ae.h)break e;$?.(y,ee>X?X:ee),y.a=0,y.$=Fe-F}return 1}return y.a=3,0}function eo(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var C=y.Wa;C!=null&&(C.X=null),y.vb=null,e(y!=null)}function hs(){var y=new Ar;return y==null?null:(y.a=0,y.xb=ox,kr("Predictor","VP8LPredictors"),kr("Predictor","VP8LPredictors_C"),kr("PredictorAdd","VP8LPredictorsAdd"),kr("PredictorAdd","VP8LPredictorsAdd_C"),dn=Vt,ac=Kt,hA=Mr,hl=lr,Gi=Zt,yo=Xt,oc=br,k.VP8LMapColor32b=vn,k.VP8LMapColor8b=fA,y)}function Vi(y,C,F,M,q){var X=1,$=[y],ee=[C],ie=M.m,Ae=M.s,be=null,Fe=0;e:for(;;){if(F)for(;X&&he(ie,1);){var fe=$,Ie=ee,Te=M,Ue=1,Ne=Te.m,Ve=Te.gc[Te.ab],We=he(Ne,2);if(Te.Oc&1<<We)X=0;else{switch(Te.Oc|=1<<We,Ve.hc=We,Ve.Ea=fe[0],Ve.nc=Ie[0],Ve.K=[null],++Te.ab,e(4>=Te.ab),We){case 0:case 1:Ve.b=he(Ne,3)+2,Ue=Vi(He(Ve.Ea,Ve.b),He(Ve.nc,Ve.b),0,Te,Ve.K),Ve.K=Ve.K[0];break;case 3:var rt,Xe=he(Ne,8)+1,Gt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(fe[0]=He(Ve.Ea,Gt),Ve.b=Gt,rt=Ue=Vi(Xe,1,0,Te,Ve.K)){var It,Cr=Xe,kt=Ve,Je=1<<(8>>kt.b),Ta=o(Je);if(Ta==null)rt=0;else{var Br=kt.K[0],Tt=kt.w;for(Ta[0]=kt.K[0][0],It=1;It<1*Cr;++It)Ta[It]=vt(Br[Tt+It],Ta[It-1]);for(;It<4*Je;++It)Ta[It]=0;kt.K[0]=null,kt.K[0]=Ta,rt=1}}Ue=rt;break;case 2:break;default:e(0)}X=Ue}}if($=$[0],ee=ee[0],X&&he(ie,1)&&!(X=1<=(Fe=he(ie,4))&&11>=Fe)){M.a=3;break e}var ot;if(ot=X)t:{var oa,mr,Tr,hn=M,oo=$,_o=ee,Yn=Fe,$n=F,io=hn.m,ia=hn.s,jr=[null],rn=1,Jn=0,Zr=TS[Yn];r:for(;;){if($n&&he(io,1)){var so=he(io,3)+2,Ss=He(oo,so),sa=He(_o,so),Xo=Ss*sa;if(!Vi(Ss,sa,0,hn,jr))break r;for(jr=jr[0],ia.xc=so,oa=0;oa<Xo;++oa){var yn=jr[oa]>>8&65535;jr[oa]=yn,yn>=rn&&(rn=yn+1)}}if(io.h)break r;for(mr=0;5>mr;++mr){var _a=Of[mr];!mr&&0<Yn&&(_a+=1<<Yn),Jn<_a&&(Jn=_a)}var wi=i(rn*Zr,j),ko=rn,Yo=i(ko,ne);if(Yo==null)var bi=null;else e(65536>=ko),bi=Yo;var $o=o(Jn);if(bi==null||$o==null||wi==null){hn.a=1;break r}var Ci=wi;for(oa=Tr=0;oa<rn;++oa){var xn=bi[oa],Bi=xn.G,Jo=xn.H,uc=0,Is=1,ka=0;for(mr=0;5>mr;++mr){_a=Of[mr],Bi[mr]=Ci,Jo[mr]=Tr,!mr&&0<Yn&&(_a+=1<<Yn);a:{var Vf,Gh=_a,Kh=hn,yA=$o,Xg=Ci,Yg=Tr,Xh=0,Ru=Kh.m,fx=he(Ru,1);if(a(yA,0,0,Gh),fx){var dx=he(Ru,1)+1,$g=he(Ru,1),hx=he(Ru,$g==0?1:8);yA[hx]=1,dx==2&&(yA[hx=he(Ru,8)]=1);var Yh=1}else{var px=o(19),Si=he(Ru,4)+4;if(19<Si){Kh.a=3;var xA=0;break a}for(Vf=0;Vf<Si;++Vf)px[LS[Vf]]=he(Ru,3);var Jg=void 0,qf=void 0,mx=Kh,KS=px,$h=Gh,gx=yA,Zg=0,vl=mx.m,vx=8,e0=i(128,j);n:for(;P(e0,0,7,KS,19);){if(he(vl,1)){var XS=2+2*he(vl,3);if((Jg=2+he(vl,XS))>$h)break n}else Jg=$h;for(qf=0;qf<$h&&Jg--;){ve(vl);var Jh=e0[0+(127&ae(vl))];pe(vl,vl.u+Jh.g);var lc=Jh.value;if(16>lc)gx[qf++]=lc,lc!=0&&(vx=lc);else{var uo=lc==16,wA=lc-16,YS=IS[wA],yx=he(vl,SS[wA])+YS;if(qf+yx>$h)break n;for(var xx=uo?vx:0;0<yx--;)gx[qf++]=xx}}Zg=1;break n}Zg||(mx.a=3),Yh=Zg}(Yh=Yh&&!Ru.h)&&(Xh=P(Xg,Yg,8,yA,Gh)),Yh&&Xh!=0?xA=Xh:(Kh.a=3,xA=0)}if(xA==0)break r;if(Is&&ES[mr]==1&&(Is=Ci[Tr].g==0),uc+=Ci[Tr].g,Tr+=xA,3>=mr){var cc,t0=$o[0];for(cc=1;cc<_a;++cc)$o[cc]>t0&&(t0=$o[cc]);ka+=t0}}if(xn.nd=Is,xn.Qb=0,Is&&(xn.qb=(Bi[3][Jo[3]+0].value<<24|Bi[1][Jo[1]+0].value<<16|Bi[2][Jo[2]+0].value)>>>0,uc==0&&256>Bi[0][Jo[0]+0].value&&(xn.Qb=1,xn.qb+=Bi[0][Jo[0]+0].value<<8)),xn.jc=!xn.Qb&&6>ka,xn.jc){var Zh,Mu=xn;for(Zh=0;Zh<dl;++Zh){var yl=Zh,xl=Mu.pd[yl],ep=Mu.G[0][Mu.H[0]+yl];256<=ep.value?(xl.g=ep.g+256,xl.value=ep.value):(xl.g=0,xl.value=0,yl>>=Vr(ep,8,xl),yl>>=Vr(Mu.G[1][Mu.H[1]+yl],16,xl),yl>>=Vr(Mu.G[2][Mu.H[2]+yl],0,xl),Vr(Mu.G[3][Mu.H[3]+yl],24,xl))}}}ia.vc=jr,ia.Wb=rn,ia.Ya=bi,ia.yc=wi,ot=1;break t}ot=0}if(!(X=ot)){M.a=3;break e}if(0<Fe){if(Ae.ua=1<<Fe,!te(Ae.Wa,Fe)){M.a=1,X=0;break e}}else Ae.ua=0;var r0=M,wx=$,bx=ee,tp=r0.s,rp=tp.xc;if(r0.c=wx,r0.i=bx,tp.md=He(wx,rp),tp.wc=rp==0?-1:(1<<rp)-1,F){M.xb=ax;break e}if((be=o($*ee))==null){M.a=1,X=0;break e}X=(X=Wo(M,be,0,$,ee,ee,null))&&!ie.h;break e}return X?(q!=null?q[0]=be:(e(be==null),e(F)),M.$=0,F||eo(Ae)):eo(Ae),X}function Lt(y,C){var F=y.c*y.i,M=F+C+16*C;return e(y.c<=C),y.V=o(M),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+F+C,1)}function xe(y,C){var F=y.C,M=C-F,q=y.V,X=y.Ba+y.c*F;for(e(C<=y.l.o);0<M;){var $=16<M?16:M,ee=y.l.ma,ie=y.l.width,Ae=ie*$,be=ee.ca,Fe=ee.tb+ie*F,fe=y.Ta,Ie=y.Ua;ds(y,$,q,X),$1(fe,Ie,be,Fe,Ae),aa(ee,F,F+$,be,Fe,ie),M-=$,q+=$*y.c,F+=$}e(F==C),y.C=y.Ma=C}function tt(){this.ub=this.yd=this.td=this.Rb=0}function Bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function An(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Cn(){this.Yb=(function(){var y=[];return(function C(F,M,q){for(var X=q[M],$=0;$<X&&(F.push(q.length>M+1?[]:0),!(q.length<M+1));$++)C(F[$],M+1,q)})(y,0,[3,11]),y})()}function Bn(){this.jb=o(3),this.Wc=s([4,8],Cn),this.Xc=s([4,17],Cn)}function Kn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function On(){this.ld=this.La=this.dd=this.tc=0}function go(){this.Na=this.la=0}function cl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qn(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qs(){this.uc=this.M=this.Nb=0,this.wa=Array(new On),this.Y=0,this.ya=Array(new Qn),this.aa=0,this.l=new iA}function ps(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Lh(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new tt,this.Kc=new Bt,this.ed=new Kn,this.Qa=new An,this.Ic=this.$c=this.Aa=0,this.D=new Qs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,R),this.ia=0,this.pb=i(4,cl),this.Pa=new Bn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new go),this.sb=0,this.wa=Array(new On),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qn),this.L=this.aa=0,this.gd=s([4,2],On),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hs(y,C){return 0>y?0:y>C?C:y}function iA(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sA(){var y=new Lh;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Qf||(Qf=Sa)),y}function Hn(y,C,F){return y.a==0&&(y.a=C,y.sc=F,y.cb=0),0}function Al(y,C,F){return 3<=F&&y[C+0]==157&&y[C+1]==1&&y[C+2]==42}function Vs(y,C){if(y==null)return 0;if(y.a=0,y.sc="OK",C==null)return Hn(y,2,"null VP8Io passed to VP8GetHeaders()");var F=C.data,M=C.w,q=C.ha;if(4>q)return Hn(y,7,"Truncated header.");var X=F[M+0]|F[M+1]<<8|F[M+2]<<16,$=y.Od;if($.Rb=!(1&X),$.td=X>>1&7,$.yd=X>>4&1,$.ub=X>>5,3<$.td)return Hn(y,3,"Incorrect keyframe parameters.");if(!$.yd)return Hn(y,4,"Frame not displayable.");M+=3,q-=3;var ee=y.Kc;if($.Rb){if(7>q)return Hn(y,7,"cannot parse picture header");if(!Al(F,M,q))return Hn(y,3,"Bad code word");ee.c=16383&(F[M+4]<<8|F[M+3]),ee.Td=F[M+4]>>6,ee.i=16383&(F[M+6]<<8|F[M+5]),ee.Ud=F[M+6]>>6,M+=7,q-=7,y.za=ee.c+15>>4,y.Ub=ee.i+15>>4,C.width=ee.c,C.height=ee.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((X=y.Pa).jb,0,255,X.jb.length),e((X=y.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,a(X.Zb,0,0,X.Zb.length),a(X.Lb,0,0,X.Lb)}if($.ub>q)return Hn(y,7,"bad partition length");re(X=y.m,F,M,$.ub),M+=$.ub,q-=$.ub,$.Rb&&(ee.Ld=me(X),ee.Kd=me(X)),ee=y.Qa;var ie,Ae=y.Pa;if(e(X!=null),e(ee!=null),ee.Cb=me(X),ee.Cb){if(ee.Bb=me(X),me(X)){for(ee.Fb=me(X),ie=0;4>ie;++ie)ee.Zb[ie]=me(X)?J(X,7):0;for(ie=0;4>ie;++ie)ee.Lb[ie]=me(X)?J(X,6):0}if(ee.Bb)for(ie=0;3>ie;++ie)Ae.jb[ie]=me(X)?Y(X,8):255}else ee.Bb=0;if(X.Ka)return Hn(y,3,"cannot parse segment header");if((ee=y.ed).zd=me(X),ee.Tb=Y(X,6),ee.wb=Y(X,3),ee.Pc=me(X),ee.Pc&&me(X)){for(Ae=0;4>Ae;++Ae)me(X)&&(ee.vd[Ae]=J(X,6));for(Ae=0;4>Ae;++Ae)me(X)&&(ee.od[Ae]=J(X,6))}if(y.L=ee.Tb==0?0:ee.zd?1:2,X.Ka)return Hn(y,3,"cannot parse filter header");var be=q;if(q=ie=M,M=ie+be,ee=be,y.Xb=(1<<Y(y.m,2))-1,be<3*(Ae=y.Xb))F=7;else{for(ie+=3*Ae,ee-=3*Ae,be=0;be<Ae;++be){var Fe=F[q+0]|F[q+1]<<8|F[q+2]<<16;Fe>ee&&(Fe=ee),re(y.Jc[+be],F,ie,Fe),ie+=Fe,ee-=Fe,q+=3}re(y.Jc[+Ae],F,ie,ee),F=ie<M?0:5}if(F!=0)return Hn(y,F,"cannot parse partitions");for(F=Y(ie=y.m,7),q=me(ie)?J(ie,4):0,M=me(ie)?J(ie,4):0,ee=me(ie)?J(ie,4):0,Ae=me(ie)?J(ie,4):0,ie=me(ie)?J(ie,4):0,be=y.Qa,Fe=0;4>Fe;++Fe){if(be.Cb){var fe=be.Zb[Fe];be.Fb||(fe+=F)}else{if(0<Fe){y.pb[Fe]=y.pb[0];continue}fe=F}var Ie=y.pb[Fe];Ie.Sc[0]=zg[Hs(fe+q,127)],Ie.Sc[1]=jg[Hs(fe+0,127)],Ie.Eb[0]=2*zg[Hs(fe+M,127)],Ie.Eb[1]=101581*jg[Hs(fe+ee,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=zg[Hs(fe+Ae,117)],Ie.Qc[1]=jg[Hs(fe+ie,127)],Ie.lc=fe+ie}if(!$.Rb)return Hn(y,4,"Not a key frame.");for(me(X),$=y.Pa,F=0;4>F;++F){for(q=0;8>q;++q)for(M=0;3>M;++M)for(ee=0;11>ee;++ee)Ae=ke(X,DS[F][q][M][ee])?Y(X,8):NS[F][q][M][ee],$.Wc[F][q].Yb[M][ee]=Ae;for(q=0;17>q;++q)$.Xc[F][q]=$.Wc[F][RS[q]]}return y.kc=me(X),y.kc&&(y.Bd=Y(X,8)),y.cb=1}function Sa(y,C,F,M,q,X,$){var ee=C[q].Yb[F];for(F=0;16>q;++q){if(!ke(y,ee[F+0]))return q;for(;!ke(y,ee[F+1]);)if(ee=C[++q].Yb[0],F=0,q==16)return 16;var ie=C[q+1].Yb;if(ke(y,ee[F+2])){var Ae=y,be=0;if(ke(Ae,(fe=ee)[(Fe=F)+3]))if(ke(Ae,fe[Fe+6])){for(ee=0,Fe=2*(be=ke(Ae,fe[Fe+8]))+(fe=ke(Ae,fe[Fe+9+be])),be=0,fe=_S[Fe];fe[ee];++ee)be+=be+ke(Ae,fe[ee]);be+=3+(8<<Fe)}else ke(Ae,fe[Fe+7])?(be=7+2*ke(Ae,165),be+=ke(Ae,145)):be=5+ke(Ae,159);else be=ke(Ae,fe[Fe+4])?3+ke(Ae,fe[Fe+5]):2;ee=ie[2]}else be=1,ee=ie[1];ie=$+kS[q],0>(Ae=y).b&&Se(Ae);var Fe,fe=Ae.b,Ie=(Fe=Ae.Ca>>1)-(Ae.I>>fe)>>31;--Ae.b,Ae.Ca+=Ie,Ae.Ca|=1,Ae.I-=(Fe+1&Ie)<<fe,X[ie]=((be^Ie)-Ie)*M[(0<q)+0]}return 16}function Fh(y){var C=y.rb[y.sb-1];C.la=0,C.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function qi(y,C,F,M,q){q=y[C+F+32*M]+(q>>3),y[C+F+32*M]=-256&q?0>q?0:255:q}function Ia(y,C,F,M,q,X){qi(y,C,0,F,M+q),qi(y,C,1,F,M+X),qi(y,C,2,F,M-X),qi(y,C,3,F,M-q)}function bu(y){return(20091*y>>16)+y}function Th(y,C,F,M){var q,X=0,$=o(16);for(q=0;4>q;++q){var ee=y[C+0]+y[C+8],ie=y[C+0]-y[C+8],Ae=(35468*y[C+4]>>16)-bu(y[C+12]),be=bu(y[C+4])+(35468*y[C+12]>>16);$[X+0]=ee+be,$[X+1]=ie+Ae,$[X+2]=ie-Ae,$[X+3]=ee-be,X+=4,C++}for(q=X=0;4>q;++q)ee=(y=$[X+0]+4)+$[X+8],ie=y-$[X+8],Ae=(35468*$[X+4]>>16)-bu($[X+12]),qi(F,M,0,0,ee+(be=bu($[X+4])+(35468*$[X+12]>>16))),qi(F,M,1,0,ie+Ae),qi(F,M,2,0,ie-Ae),qi(F,M,3,0,ee-be),X++,M+=32}function Ig(y,C,F,M){var q=y[C+0]+4,X=35468*y[C+4]>>16,$=bu(y[C+4]),ee=35468*y[C+1]>>16;Ia(F,M,0,q+$,y=bu(y[C+1]),ee),Ia(F,M,1,q+X,y,ee),Ia(F,M,2,q-X,y,ee),Ia(F,M,3,q-$,y,ee)}function Eg(y,C,F,M,q){Th(y,C,F,M),q&&Th(y,C+16,F,M+4)}function qs(y,C,F,M){Ys(y,C+0,F,M,1),Ys(y,C+32,F,M+128,1)}function Xl(y,C,F,M){var q;for(y=y[C+0]+4,q=0;4>q;++q)for(C=0;4>C;++C)qi(F,M,C,q,y)}function _h(y,C,F,M){y[C+0]&&tn(y,C+0,F,M),y[C+16]&&tn(y,C+16,F,M+4),y[C+32]&&tn(y,C+32,F,M+128),y[C+48]&&tn(y,C+48,F,M+128+4)}function Yl(y,C,F,M){var q,X=o(16);for(q=0;4>q;++q){var $=y[C+0+q]+y[C+12+q],ee=y[C+4+q]+y[C+8+q],ie=y[C+4+q]-y[C+8+q],Ae=y[C+0+q]-y[C+12+q];X[0+q]=$+ee,X[8+q]=$-ee,X[4+q]=Ae+ie,X[12+q]=Ae-ie}for(q=0;4>q;++q)$=(y=X[0+4*q]+3)+X[3+4*q],ee=X[1+4*q]+X[2+4*q],ie=X[1+4*q]-X[2+4*q],Ae=y-X[3+4*q],F[M+0]=$+ee>>3,F[M+16]=Ae+ie>>3,F[M+32]=$-ee>>3,F[M+48]=Ae-ie>>3,M+=64}function $l(y,C,F){var M,q=C-32,X=xi,$=255-y[q-1];for(M=0;M<F;++M){var ee,ie=X,Ae=$+y[C-1];for(ee=0;ee<F;++ee)y[C+ee]=ie[Ae+y[q+ee]];C+=32}}function Lg(y,C){$l(y,C,4)}function kh(y,C){$l(y,C,8)}function Ff(y,C){$l(y,C,16)}function ms(y,C){var F;for(F=0;16>F;++F)n(y,C+32*F,y,C-32,16)}function Nh(y,C){var F;for(F=16;0<F;--F)a(y,C,y[C-1],16),C+=32}function gs(y,C,F){var M;for(M=0;16>M;++M)a(C,F+32*M,y,16)}function Fg(y,C){var F,M=16;for(F=0;16>F;++F)M+=y[C-1+32*F]+y[C+F-32];gs(M>>5,y,C)}function vs(y,C){var F,M=8;for(F=0;16>F;++F)M+=y[C-1+32*F];gs(M>>4,y,C)}function Tf(y,C){var F,M=8;for(F=0;16>F;++F)M+=y[C+F-32];gs(M>>4,y,C)}function Tg(y,C){gs(128,y,C)}function fr(y,C,F){return y+2*C+F+2>>2}function _g(y,C){var F,M=C-32;for(M=new Uint8Array([fr(y[M-1],y[M+0],y[M+1]),fr(y[M+0],y[M+1],y[M+2]),fr(y[M+1],y[M+2],y[M+3]),fr(y[M+2],y[M+3],y[M+4])]),F=0;4>F;++F)n(y,C+32*F,M,0,M.length)}function kg(y,C){var F=y[C-1],M=y[C-1+32],q=y[C-1+64],X=y[C-1+96];Re(y,C+0,16843009*fr(y[C-1-32],F,M)),Re(y,C+32,16843009*fr(F,M,q)),Re(y,C+64,16843009*fr(M,q,X)),Re(y,C+96,16843009*fr(q,X,X))}function Ng(y,C){var F,M=4;for(F=0;4>F;++F)M+=y[C+F-32]+y[C-1+32*F];for(M>>=3,F=0;4>F;++F)a(y,C+32*F,M,4)}function qa(y,C){var F=y[C-1+0],M=y[C-1+32],q=y[C-1+64],X=y[C-1-32],$=y[C+0-32],ee=y[C+1-32],ie=y[C+2-32],Ae=y[C+3-32];y[C+0+96]=fr(M,q,y[C-1+96]),y[C+1+96]=y[C+0+64]=fr(F,M,q),y[C+2+96]=y[C+1+64]=y[C+0+32]=fr(X,F,M),y[C+3+96]=y[C+2+64]=y[C+1+32]=y[C+0+0]=fr($,X,F),y[C+3+64]=y[C+2+32]=y[C+1+0]=fr(ee,$,X),y[C+3+32]=y[C+2+0]=fr(ie,ee,$),y[C+3+0]=fr(Ae,ie,ee)}function Ws(y,C){var F=y[C+1-32],M=y[C+2-32],q=y[C+3-32],X=y[C+4-32],$=y[C+5-32],ee=y[C+6-32],ie=y[C+7-32];y[C+0+0]=fr(y[C+0-32],F,M),y[C+1+0]=y[C+0+32]=fr(F,M,q),y[C+2+0]=y[C+1+32]=y[C+0+64]=fr(M,q,X),y[C+3+0]=y[C+2+32]=y[C+1+64]=y[C+0+96]=fr(q,X,$),y[C+3+32]=y[C+2+64]=y[C+1+96]=fr(X,$,ee),y[C+3+64]=y[C+2+96]=fr($,ee,ie),y[C+3+96]=fr(ee,ie,ie)}function Ph(y,C){var F=y[C-1+0],M=y[C-1+32],q=y[C-1+64],X=y[C-1-32],$=y[C+0-32],ee=y[C+1-32],ie=y[C+2-32],Ae=y[C+3-32];y[C+0+0]=y[C+1+64]=X+$+1>>1,y[C+1+0]=y[C+2+64]=$+ee+1>>1,y[C+2+0]=y[C+3+64]=ee+ie+1>>1,y[C+3+0]=ie+Ae+1>>1,y[C+0+96]=fr(q,M,F),y[C+0+64]=fr(M,F,X),y[C+0+32]=y[C+1+96]=fr(F,X,$),y[C+1+32]=y[C+2+96]=fr(X,$,ee),y[C+2+32]=y[C+3+96]=fr($,ee,ie),y[C+3+32]=fr(ee,ie,Ae)}function Dh(y,C){var F=y[C+0-32],M=y[C+1-32],q=y[C+2-32],X=y[C+3-32],$=y[C+4-32],ee=y[C+5-32],ie=y[C+6-32],Ae=y[C+7-32];y[C+0+0]=F+M+1>>1,y[C+1+0]=y[C+0+64]=M+q+1>>1,y[C+2+0]=y[C+1+64]=q+X+1>>1,y[C+3+0]=y[C+2+64]=X+$+1>>1,y[C+0+32]=fr(F,M,q),y[C+1+32]=y[C+0+96]=fr(M,q,X),y[C+2+32]=y[C+1+96]=fr(q,X,$),y[C+3+32]=y[C+2+96]=fr(X,$,ee),y[C+3+64]=fr($,ee,ie),y[C+3+96]=fr(ee,ie,Ae)}function uA(y,C){var F=y[C-1+0],M=y[C-1+32],q=y[C-1+64],X=y[C-1+96];y[C+0+0]=F+M+1>>1,y[C+2+0]=y[C+0+32]=M+q+1>>1,y[C+2+32]=y[C+0+64]=q+X+1>>1,y[C+1+0]=fr(F,M,q),y[C+3+0]=y[C+1+32]=fr(M,q,X),y[C+3+32]=y[C+1+64]=fr(q,X,X),y[C+3+64]=y[C+2+64]=y[C+0+96]=y[C+1+96]=y[C+2+96]=y[C+3+96]=X}function _f(y,C){var F=y[C-1+0],M=y[C-1+32],q=y[C-1+64],X=y[C-1+96],$=y[C-1-32],ee=y[C+0-32],ie=y[C+1-32],Ae=y[C+2-32];y[C+0+0]=y[C+2+32]=F+$+1>>1,y[C+0+32]=y[C+2+64]=M+F+1>>1,y[C+0+64]=y[C+2+96]=q+M+1>>1,y[C+0+96]=X+q+1>>1,y[C+3+0]=fr(ee,ie,Ae),y[C+2+0]=fr($,ee,ie),y[C+1+0]=y[C+3+32]=fr(F,$,ee),y[C+1+32]=y[C+3+64]=fr(M,F,$),y[C+1+64]=y[C+3+96]=fr(q,M,F),y[C+1+96]=fr(X,q,M)}function Jl(y,C){var F;for(F=0;8>F;++F)n(y,C+32*F,y,C-32,8)}function Rh(y,C){var F;for(F=0;8>F;++F)a(y,C,y[C-1],8),C+=32}function zs(y,C,F){var M;for(M=0;8>M;++M)a(C,F+32*M,y,8)}function Mh(y,C){var F,M=8;for(F=0;8>F;++F)M+=y[C+F-32]+y[C-1+32*F];zs(M>>4,y,C)}function kf(y,C){var F,M=4;for(F=0;8>F;++F)M+=y[C+F-32];zs(M>>3,y,C)}function Nf(y,C){var F,M=4;for(F=0;8>F;++F)M+=y[C-1+32*F];zs(M>>3,y,C)}function Ea(y,C){zs(128,y,C)}function Cu(y,C,F){var M=y[C-F],q=y[C+0],X=3*(q-M)+Hg[1020+y[C-2*F]-y[C+F]],$=Oh[112+(X+4>>3)];y[C-F]=xi[255+M+Oh[112+(X+3>>3)]],y[C+0]=xi[255+q-$]}function js(y,C,F,M){var q=y[C+0],X=y[C+F];return Ki[255+y[C-2*F]-y[C-F]]>M||Ki[255+X-q]>M}function lA(y,C,F,M){return 4*Ki[255+y[C-F]-y[C+0]]+Ki[255+y[C-2*F]-y[C+F]]<=M}function Pf(y,C,F,M,q){var X=y[C-3*F],$=y[C-2*F],ee=y[C-F],ie=y[C+0],Ae=y[C+F],be=y[C+2*F],Fe=y[C+3*F];return 4*Ki[255+ee-ie]+Ki[255+$-Ae]>M?0:Ki[255+y[C-4*F]-X]<=q&&Ki[255+X-$]<=q&&Ki[255+$-ee]<=q&&Ki[255+Fe-be]<=q&&Ki[255+be-Ae]<=q&&Ki[255+Ae-ie]<=q}function Zl(y,C,F,M){var q=2*M+1;for(M=0;16>M;++M)lA(y,C+M,F,q)&&Cu(y,C+M,F)}function Df(y,C,F,M){var q=2*M+1;for(M=0;16>M;++M)lA(y,C+M*F,1,q)&&Cu(y,C+M*F,1)}function ec(y,C,F,M){var q;for(q=3;0<q;--q)Zl(y,C+=4*F,F,M)}function tc(y,C,F,M){var q;for(q=3;0<q;--q)Df(y,C+=4,F,M)}function Gs(y,C,F,M,q,X,$,ee){for(X=2*X+1;0<q--;){if(Pf(y,C,F,X,$))if(js(y,C,F,ee))Cu(y,C,F);else{var ie=y,Ae=C,be=F,Fe=ie[Ae-2*be],fe=ie[Ae-be],Ie=ie[Ae+0],Te=ie[Ae+be],Ue=ie[Ae+2*be],Ne=27*(We=Hg[1020+3*(Ie-fe)+Hg[1020+Fe-Te]])+63>>7,Ve=18*We+63>>7,We=9*We+63>>7;ie[Ae-3*be]=xi[255+ie[Ae-3*be]+We],ie[Ae-2*be]=xi[255+Fe+Ve],ie[Ae-be]=xi[255+fe+Ne],ie[Ae+0]=xi[255+Ie-Ne],ie[Ae+be]=xi[255+Te-Ve],ie[Ae+2*be]=xi[255+Ue-We]}C+=M}}function Bu(y,C,F,M,q,X,$,ee){for(X=2*X+1;0<q--;){if(Pf(y,C,F,X,$))if(js(y,C,F,ee))Cu(y,C,F);else{var ie=y,Ae=C,be=F,Fe=ie[Ae-be],fe=ie[Ae+0],Ie=ie[Ae+be],Te=Oh[112+(4+(Ue=3*(fe-Fe))>>3)],Ue=Oh[112+(Ue+3>>3)],Ne=Te+1>>1;ie[Ae-2*be]=xi[255+ie[Ae-2*be]+Ne],ie[Ae-be]=xi[255+Fe+Ue],ie[Ae+0]=xi[255+fe-Te],ie[Ae+be]=xi[255+Ie-Ne]}C+=M}}function ys(y,C,F,M,q,X){Gs(y,C,F,1,16,M,q,X)}function Ks(y,C,F,M,q,X){Gs(y,C,1,F,16,M,q,X)}function cA(y,C,F,M,q,X){var $;for($=3;0<$;--$)Bu(y,C+=4*F,F,1,16,M,q,X)}function L(y,C,F,M,q,X){var $;for($=3;0<$;--$)Bu(y,C+=4,1,F,16,M,q,X)}function V(y,C,F,M,q,X,$,ee){Gs(y,C,q,1,8,X,$,ee),Gs(F,M,q,1,8,X,$,ee)}function de(y,C,F,M,q,X,$,ee){Gs(y,C,1,q,8,X,$,ee),Gs(F,M,1,q,8,X,$,ee)}function ge(y,C,F,M,q,X,$,ee){Bu(y,C+4*q,q,1,8,X,$,ee),Bu(F,M+4*q,q,1,8,X,$,ee)}function Le(y,C,F,M,q,X,$,ee){Bu(y,C+4,1,q,8,X,$,ee),Bu(F,M+4,1,q,8,X,$,ee)}function qe(){this.ba=new Yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ft(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wt(){this.ua=0,this.Wa=new Ct,this.vb=new Ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new j}function Ar(){this.xb=this.a=0,this.l=new iA,this.ca=new Yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wt,this.ab=0,this.gc=i(4,Ft),this.Oc=0}function yr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new iA,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wr(y,C,F,M,q,X,$){for(y=y==null?0:y[C+0],C=0;C<$;++C)q[X+C]=y+F[M+C]&255,y=q[X+C]}function Sn(y,C,F,M,q,X,$){var ee;if(y==null)Wr(null,null,F,M,q,X,$);else for(ee=0;ee<$;++ee)q[X+ee]=y[C+ee]+F[M+ee]&255}function ma(y,C,F,M,q,X,$){if(y==null)Wr(null,null,F,M,q,X,$);else{var ee,ie=y[C+0],Ae=ie,be=ie;for(ee=0;ee<$;++ee)Ae=be+(ie=y[C+ee])-Ae,be=F[M+ee]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=ie,q[X+ee]=be}}function In(y,C,F,M){var q=C.width,X=C.o;if(e(y!=null&&C!=null),0>F||0>=M||F+M>X)return null;if(!y.Cc){if(y.ga==null){var $;if(y.ga=new yr,($=y.ga==null)||($=C.width*C.o,e(y.Gb.length==0),y.Gb=o($),y.Uc=0,y.Gb==null?$=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,$=1),$=!$),!$){$=y.ga;var ee=y.Fa,ie=y.P,Ae=y.qc,be=y.mb,Fe=y.nb,fe=ie+1,Ie=Ae-1,Te=$.l;if(e(ee!=null&&be!=null&&C!=null),gl[0]=null,gl[1]=Wr,gl[2]=Sn,gl[3]=ma,$.ca=be,$.tb=Fe,$.c=C.width,$.i=C.height,e(0<$.c&&0<$.i),1>=Ae)C=0;else if($.$a=3&ee[ie+0],$.Z=ee[ie+0]>>2&3,$.Lc=ee[ie+0]>>4&3,ie=ee[ie+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||ie)C=0;else if(Te.put=ar,Te.ac=pi,Te.bc=mi,Te.ma=$,Te.width=C.width,Te.height=C.height,Te.Da=C.Da,Te.v=C.v,Te.va=C.va,Te.j=C.j,Te.o=C.o,$.$a)e:{e($.$a==1),C=hs();t:for(;;){if(C==null){C=0;break e}if(e($!=null),$.mc=C,C.c=$.c,C.i=$.i,C.l=$.l,C.l.ma=$,C.l.width=$.c,C.l.height=$.i,C.a=0,G(C.m,ee,fe,Ie),!Vi($.c,$.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&Vo(C.s)?($.ic=1,ee=C.c*C.i,C.Ta=null,C.Ua=0,C.V=o(ee),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):($.ic=0,C=Lt(C,$.c)),!C))break t;C=1;break e}$.mc=null,C=0}else C=Ie>=$.c*$.i;$=!C}if($)return null;y.ga.Lc!=1?y.Ga=0:M=X-F}e(y.ga!=null),e(F+M<=X);e:{if(C=(ee=y.ga).c,X=ee.l.o,ee.$a==0){if(fe=y.rc,Ie=y.Vc,Te=y.Fa,ie=y.P+1+F*C,Ae=y.mb,be=y.nb+F*C,e(ie<=y.P+y.qc),ee.Z!=0)for(e(gl[ee.Z]!=null),$=0;$<M;++$)gl[ee.Z](fe,Ie,Te,ie,Ae,be,C),fe=Ae,Ie=be,be+=C,ie+=C;else for($=0;$<M;++$)n(Ae,be,Te,ie,C),fe=Ae,Ie=be,be+=C,ie+=C;y.rc=fe,y.Vc=Ie}else{if(e(ee.mc!=null),C=F+M,e(($=ee.mc)!=null),e(C<=$.i),$.C>=C)C=1;else if(ee.ic||xs(),ee.ic){ee=$.V,fe=$.Ba,Ie=$.c;var Ue=$.i,Ne=(Te=1,ie=$.$/Ie,Ae=$.$%Ie,be=$.m,Fe=$.s,$.$),Ve=Ie*Ue,We=Ie*C,rt=Fe.wc,Xe=Ne<We?Gn(Fe,Ae,ie):null;e(Ne<=Ve),e(C<=Ue),e(Vo(Fe));t:for(;;){for(;!be.h&&Ne<We;){if(Ae&rt||(Xe=Gn(Fe,Ae,ie)),e(Xe!=null),ve(be),256>(Ue=Or(Xe.G[0],Xe.H[0],be)))ee[fe+Ne]=Ue,++Ne,++Ae>=Ie&&(Ae=0,++ie<=C&&!(ie%16)&&qo($,ie));else{if(!(280>Ue)){Te=0;break t}Ue=sr(Ue-256,be);var Gt,It=Or(Xe.G[4],Xe.H[4],be);if(ve(be),!(Ne>=(It=Za(Ie,It=sr(It,be)))&&Ve-Ne>=Ue)){Te=0;break t}for(Gt=0;Gt<Ue;++Gt)ee[fe+Ne+Gt]=ee[fe+Ne+Gt-It];for(Ne+=Ue,Ae+=Ue;Ae>=Ie;)Ae-=Ie,++ie<=C&&!(ie%16)&&qo($,ie);Ne<We&&Ae&rt&&(Xe=Gn(Fe,Ae,ie))}e(be.h==le(be))}qo($,ie>C?C:ie);break t}!Te||be.h&&Ne<Ve?(Te=0,$.a=be.h?5:3):$.$=Ne,C=Te}else C=Wo($,$.V,$.Ba,$.c,$.i,C,xe);if(!C){M=0;break e}}F+M>=X&&(y.Cc=1),M=1}if(!M)return null;if(y.Cc&&((M=y.ga)!=null&&(M.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+F*q}function La(y,C,F,M,q,X){for(;0<q--;){var $,ee=y,ie=C+(F?1:0),Ae=y,be=C+(F?0:3);for($=0;$<M;++$){var Fe=Ae[be+4*$];Fe!=255&&(Fe*=32897,ee[ie+4*$+0]=ee[ie+4*$+0]*Fe>>23,ee[ie+4*$+1]=ee[ie+4*$+1]*Fe>>23,ee[ie+4*$+2]=ee[ie+4*$+2]*Fe>>23)}C+=X}}function ga(y,C,F,M,q){for(;0<M--;){var X;for(X=0;X<F;++X){var $=y[C+2*X+0],ee=15&(Ae=y[C+2*X+1]),ie=4369*ee,Ae=(240&Ae|Ae>>4)*ie>>16;y[C+2*X+0]=(240&$|$>>4)*ie>>16&240|(15&$|$<<4)*ie>>16>>4&15,y[C+2*X+1]=240&Ae|ee}C+=q}}function to(y,C,F,M,q,X,$,ee){var ie,Ae,be=255;for(Ae=0;Ae<q;++Ae){for(ie=0;ie<M;++ie){var Fe=y[C+ie];X[$+4*ie]=Fe,be&=Fe}C+=F,$+=ee}return be!=255}function Su(y,C,F,M,q){var X;for(X=0;X<q;++X)F[M+X]=y[C+X]>>8}function xs(){mA=La,Y1=ga,Uf=to,$1=Su}function Iu(y,C,F){k[y]=function(M,q,X,$,ee,ie,Ae,be,Fe,fe,Ie,Te,Ue,Ne,Ve,We,rt){var Xe,Gt=rt-1>>1,It=ee[ie+0]|Ae[be+0]<<16,Cr=Fe[fe+0]|Ie[Te+0]<<16;e(M!=null);var kt=3*It+Cr+131074>>2;for(C(M[q+0],255&kt,kt>>16,Ue,Ne),X!=null&&(kt=3*Cr+It+131074>>2,C(X[$+0],255&kt,kt>>16,Ve,We)),Xe=1;Xe<=Gt;++Xe){var Je=ee[ie+Xe]|Ae[be+Xe]<<16,Ta=Fe[fe+Xe]|Ie[Te+Xe]<<16,Br=It+Je+Cr+Ta+524296,Tt=Br+2*(Je+Cr)>>3;kt=Tt+It>>1,It=(Br=Br+2*(It+Ta)>>3)+Je>>1,C(M[q+2*Xe-1],255&kt,kt>>16,Ue,Ne+(2*Xe-1)*F),C(M[q+2*Xe-0],255&It,It>>16,Ue,Ne+(2*Xe-0)*F),X!=null&&(kt=Br+Cr>>1,It=Tt+Ta>>1,C(X[$+2*Xe-1],255&kt,kt>>16,Ve,We+(2*Xe-1)*F),C(X[$+2*Xe+0],255&It,It>>16,Ve,We+(2*Xe+0)*F)),It=Je,Cr=Ta}1&rt||(kt=3*It+Cr+131074>>2,C(M[q+rt-1],255&kt,kt>>16,Ue,Ne+(rt-1)*F),X!=null&&(kt=3*Cr+It+131074>>2,C(X[$+rt-1],255&kt,kt>>16,Ve,We+(rt-1)*F)))}}function rc(){Ko[Pu]=Wh,Ko[Qh]=ix,Ko[tx]=MS,Ko[ic]=sx,Ko[Hh]=ux,Ko[Vg]=lx,Ko[rx]=US,Ko[qg]=ix,Ko[gA]=sx,Ko[Vh]=ux,Ko[Wg]=lx}function nc(y){return y&~OS?0>y?0:255:y>>cx}function Eu(y,C){return nc((19077*y>>8)+(26149*C>>8)-14234)}function ws(y,C,F){return nc((19077*y>>8)-(6419*C>>8)-(13320*F>>8)+8708)}function Wi(y,C){return nc((19077*y>>8)+(33050*C>>8)-17685)}function Qr(y,C,F,M,q){M[q+0]=Eu(y,F),M[q+1]=ws(y,C,F),M[q+2]=Wi(y,C)}function ro(y,C,F,M,q){M[q+0]=Wi(y,C),M[q+1]=ws(y,C,F),M[q+2]=Eu(y,F)}function Lu(y,C,F,M,q){var X=ws(y,C,F);C=X<<3&224|Wi(y,C)>>3,M[q+0]=248&Eu(y,F)|X>>5,M[q+1]=C}function fl(y,C,F,M,q){var X=240&Wi(y,C)|15;M[q+0]=240&Eu(y,F)|ws(y,C,F)>>4,M[q+1]=X}function Xs(y,C,F,M,q){M[q+0]=255,Qr(y,C,F,M,q+1)}function zo(y,C,F,M,q){ro(y,C,F,M,q),M[q+3]=255}function To(y,C,F,M,q){Qr(y,C,F,M,q),M[q+3]=255}function vo(y,C,F){k[y]=function(M,q,X,$,ee,ie,Ae,be,Fe){for(var fe=be+(-2&Fe)*F;be!=fe;)C(M[q+0],X[$+0],ee[ie+0],Ae,be),C(M[q+1],X[$+0],ee[ie+0],Ae,be+F),q+=2,++$,++ie,be+=2*F;1&Fe&&C(M[q+0],X[$+0],ee[ie+0],Ae,be)}}function Tn(y,C,F){return F==0?y==0?C==0?6:5:C==0?4:0:F}function Rf(y,C,F,M,q){switch(y>>>30){case 3:Ys(C,F,M,q,0);break;case 2:yi(C,F,M,q);break;case 1:tn(C,F,M,q)}}function fn(y,C){var F,M,q=C.M,X=C.Nb,$=y.oc,ee=y.pc+40,ie=y.oc,Ae=y.pc+584,be=y.oc,Fe=y.pc+600;for(F=0;16>F;++F)$[ee+32*F-1]=129;for(F=0;8>F;++F)ie[Ae+32*F-1]=129,be[Fe+32*F-1]=129;for(0<q?$[ee-1-32]=ie[Ae-1-32]=be[Fe-1-32]=129:(a($,ee-32-1,127,21),a(ie,Ae-32-1,127,9),a(be,Fe-32-1,127,9)),M=0;M<y.za;++M){var fe=C.ya[C.aa+M];if(0<M){for(F=-1;16>F;++F)n($,ee+32*F-4,$,ee+32*F+12,4);for(F=-1;8>F;++F)n(ie,Ae+32*F-4,ie,Ae+32*F+4,4),n(be,Fe+32*F-4,be,Fe+32*F+4,4)}var Ie=y.Gd,Te=y.Hd+M,Ue=fe.ad,Ne=fe.Hc;if(0<q&&(n($,ee-32,Ie[Te].y,0,16),n(ie,Ae-32,Ie[Te].f,0,8),n(be,Fe-32,Ie[Te].ea,0,8)),fe.Za){var Ve=$,We=ee-32+16;for(0<q&&(M>=y.za-1?a(Ve,We,Ie[Te].y[15],4):n(Ve,We,Ie[Te+1].y,0,4)),F=0;4>F;F++)Ve[We+128+F]=Ve[We+256+F]=Ve[We+384+F]=Ve[We+0+F];for(F=0;16>F;++F,Ne<<=2)Ve=$,We=ee+Kg[F],Bs[fe.Ob[F]](Ve,We),Rf(Ne,Ue,16*+F,Ve,We)}else if(Ve=Tn(M,q,fe.Ob[0]),Cs[Ve]($,ee),Ne!=0)for(F=0;16>F;++F,Ne<<=2)Rf(Ne,Ue,16*+F,$,ee+Kg[F]);for(F=fe.Gc,Ve=Tn(M,q,fe.Dd),Du[Ve](ie,Ae),Du[Ve](be,Fe),Ne=Ue,Ve=ie,We=Ae,255&(fe=0|F)&&(170&fe?$s(Ne,256,Ve,We):Nr(Ne,256,Ve,We)),fe=be,Ne=Fe,255&(F>>=8)&&(170&F?$s(Ue,320,fe,Ne):Nr(Ue,320,fe,Ne)),q<y.Ub-1&&(n(Ie[Te].y,0,$,ee+480,16),n(Ie[Te].f,0,ie,Ae+224,8),n(Ie[Te].ea,0,be,Fe+224,8)),F=8*X*y.B,Ie=y.sa,Te=y.ta+16*M+16*X*y.R,Ue=y.qa,fe=y.ra+8*M+F,Ne=y.Ha,Ve=y.Ia+8*M+F,F=0;16>F;++F)n(Ie,Te+F*y.R,$,ee+32*F,16);for(F=0;8>F;++F)n(Ue,fe+F*y.B,ie,Ae+32*F,8),n(Ne,Ve+F*y.B,be,Fe+32*F,8)}}function Fu(y,C,F,M,q,X,$,ee,ie){var Ae=[0],be=[0],Fe=0,fe=ie!=null?ie.kd:0,Ie=ie??new Ke;if(y==null||12>F)return 7;Ie.data=y,Ie.w=C,Ie.ha=F,C=[C],F=[F],Ie.gb=[Ie.gb];e:{var Te=C,Ue=F,Ne=Ie.gb;if(e(y!=null),e(Ue!=null),e(Ne!=null),Ne[0]=0,12<=Ue[0]&&!t(y,Te[0],"RIFF")){if(t(y,Te[0]+8,"WEBP")){Ne=3;break e}var Ve=et(y,Te[0]+4);if(12>Ve||4294967286<Ve){Ne=3;break e}if(fe&&Ve>Ue[0]-8){Ne=7;break e}Ne[0]=Ve,Te[0]+=12,Ue[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ve=0<Ie.gb[0],F=F[0];;){e:{var We=y;Ue=C,Ne=F;var rt=Ae,Xe=be,Gt=Te=[0];if((kt=Fe=[Fe])[0]=0,8>Ne[0])Ne=7;else{if(!t(We,Ue[0],"VP8X")){if(et(We,Ue[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var It=et(We,Ue[0]+8),Cr=1+ze(We,Ue[0]+12);if(2147483648<=Cr*(We=1+ze(We,Ue[0]+15))){Ne=3;break e}Gt!=null&&(Gt[0]=It),rt!=null&&(rt[0]=Cr),Xe!=null&&(Xe[0]=We),Ue[0]+=18,Ne[0]-=18,kt[0]=1}Ne=0}}if(Fe=Fe[0],Te=Te[0],Ne!=0)return Ne;if(Ue=!!(2&Te),!Ve&&Fe)return 3;if(X!=null&&(X[0]=!!(16&Te)),$!=null&&($[0]=Ue),ee!=null&&(ee[0]=0),$=Ae[0],Te=be[0],Fe&&Ue&&ie==null){Ne=0;break}if(4>F){Ne=7;break}if(Ve&&Fe||!Ve&&!Fe&&!t(y,C[0],"ALPH")){F=[F],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{It=y,Ne=C,Ve=F;var kt=Ie.gb;rt=Ie.na,Xe=Ie.P,Gt=Ie.Sa,Cr=22,e(It!=null),e(Ve!=null),We=Ne[0];var Je=Ve[0];for(e(rt!=null),e(Gt!=null),rt[0]=null,Xe[0]=null,Gt[0]=0;;){if(Ne[0]=We,Ve[0]=Je,8>Je){Ne=7;break e}var Ta=et(It,We+4);if(4294967286<Ta){Ne=3;break e}var Br=8+Ta+1&-2;if(Cr+=Br,0<kt&&Cr>kt){Ne=3;break e}if(!t(It,We,"VP8 ")||!t(It,We,"VP8L")){Ne=0;break e}if(Je[0]<Br){Ne=7;break e}t(It,We,"ALPH")||(rt[0]=It,Xe[0]=We+8,Gt[0]=Ta),We+=Br,Je-=Br}}if(F=F[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Ne!=0)break}F=[F],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(kt=y,Ne=C,Ve=F,rt=Ie.gb[0],Xe=Ie.Ja,Gt=Ie.xa,It=Ne[0],We=!t(kt,It,"VP8 "),Cr=!t(kt,It,"VP8L"),e(kt!=null),e(Ve!=null),e(Xe!=null),e(Gt!=null),8>Ve[0])Ne=7;else{if(We||Cr){if(kt=et(kt,It+4),12<=rt&&kt>rt-12){Ne=3;break e}if(fe&&kt>Ve[0]-8){Ne=7;break e}Xe[0]=kt,Ne[0]+=8,Ve[0]-=8,Gt[0]=Cr}else Gt[0]=5<=Ve[0]&&kt[It+0]==47&&!(kt[It+4]>>5),Xe[0]=Ve[0];Ne=0}if(F=F[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],C=C[0],Ne!=0)break;if(4294967286<Ie.Ja)return 3;if(ee==null||Ue||(ee[0]=Ie.xa?2:1),$=[$],Te=[Te],Ie.xa){if(5>F){Ne=7;break}ee=$,fe=Te,Ue=X,y==null||5>F?y=0:5<=F&&y[C+0]==47&&!(y[C+4]>>5)?(Ve=[0],kt=[0],rt=[0],G(Xe=new H,y,C,F),gi(Xe,Ve,kt,rt)?(ee!=null&&(ee[0]=Ve[0]),fe!=null&&(fe[0]=kt[0]),Ue!=null&&(Ue[0]=rt[0]),y=1):y=0):y=0}else{if(10>F){Ne=7;break}ee=Te,y==null||10>F||!Al(y,C+3,F-3)?y=0:(fe=y[C+0]|y[C+1]<<8|y[C+2]<<16,Ue=16383&(y[C+7]<<8|y[C+6]),y=16383&(y[C+9]<<8|y[C+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=Ie.Ja||!Ue||!y?y=0:($&&($[0]=Ue),ee&&(ee[0]=y),y=1))}if(!y||($=$[0],Te=Te[0],Fe&&(Ae[0]!=$||be[0]!=Te)))return 3;ie!=null&&(ie[0]=Ie,ie.offset=C-ie.w,e(4294967286>C-ie.w),e(ie.offset==ie.ha-F));break}return Ne==0||Ne==7&&Fe&&ie==null?(X!=null&&(X[0]|=Ie.na!=null&&0<Ie.na.length),M!=null&&(M[0]=$),q!=null&&(q[0]=Te),0):Ne}function zi(y,C,F){var M=C.width,q=C.height,X=0,$=0,ee=M,ie=q;if(C.Da=y!=null&&0<y.Da,C.Da&&(ee=y.cd,ie=y.bd,X=y.v,$=y.j,11>F||(X&=-2,$&=-2),0>X||0>$||0>=ee||0>=ie||X+ee>M||$+ie>q))return 0;if(C.v=X,C.j=$,C.va=X+ee,C.o=$+ie,C.U=ee,C.T=ie,C.da=y!=null&&0<y.da,C.da){if(!ft(ee,ie,F=[y.ib],X=[y.hb]))return 0;C.ib=F[0],C.hb=X[0]}return C.ob=y!=null&&y.ob,C.Kb=y==null||!y.Sd,C.da&&(C.ob=C.ib<3*M/4&&C.hb<3*q/4,C.Kb=0),1}function Tu(y){if(y==null)return 2;if(11>y.S){var C=y.f.RGBA;C.fb+=(y.height-1)*C.A,C.A=-C.A}else C=y.f.kb,y=y.height,C.O+=(y-1)*C.fa,C.fa=-C.fa,C.N+=(y-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(y-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(y-1)*C.lb,C.lb=-C.lb);return 0}function zr(y,C,F,M){if(M==null||0>=y||0>=C)return 2;if(F!=null){if(F.Da){var q=F.cd,X=F.bd,$=-2&F.v,ee=-2&F.j;if(0>$||0>ee||0>=q||0>=X||$+q>y||ee+X>C)return 2;y=q,C=X}if(F.da){if(!ft(y,C,q=[F.ib],X=[F.hb]))return 2;y=q[0],C=X[0]}}M.width=y,M.height=C;e:{var ie=M.width,Ae=M.height;if(y=M.S,0>=ie||0>=Ae||!(y>=Pu&&13>y))y=2;else{if(0>=M.Rd&&M.sd==null){$=X=q=C=0;var be=(ee=ie*vA[y])*Ae;if(11>y||(X=(Ae+1)/2*(C=(ie+1)/2),y==12&&($=(q=ie)*Ae)),(Ae=o(be+2*X+$))==null){y=1;break e}M.sd=Ae,11>y?((ie=M.f.RGBA).eb=Ae,ie.fb=0,ie.A=ee,ie.size=be):((ie=M.f.kb).y=Ae,ie.O=0,ie.fa=ee,ie.Fd=be,ie.f=Ae,ie.N=0+be,ie.Ab=C,ie.Cd=X,ie.ea=Ae,ie.W=0+be+X,ie.Db=C,ie.Ed=X,y==12&&(ie.F=Ae,ie.J=0+be+2*X),ie.Tc=$,ie.lb=q)}if(C=1,q=M.S,X=M.width,$=M.height,q>=Pu&&13>q)if(11>q)y=M.f.RGBA,C&=(ee=Math.abs(y.A))*($-1)+X<=y.size,C&=ee>=X*vA[q],C&=y.eb!=null;else{y=M.f.kb,ee=(X+1)/2,be=($+1)/2,ie=Math.abs(y.fa),Ae=Math.abs(y.Ab);var Fe=Math.abs(y.Db),fe=Math.abs(y.lb),Ie=fe*($-1)+X;C&=ie*($-1)+X<=y.Fd,C&=Ae*(be-1)+ee<=y.Cd,C=(C&=Fe*(be-1)+ee<=y.Ed)&ie>=X&Ae>=ee&Fe>=ee,C&=y.y!=null,C&=y.f!=null,C&=y.ea!=null,q==12&&(C&=fe>=X,C&=Ie<=y.Tc,C&=y.F!=null)}else C=0;y=C?0:2}}return y!=0||F!=null&&F.fd&&(y=Tu(M)),y}var dl=64,jo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Go=24,_u=32,ji=8,ku=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];at("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(y){return y},k.Predictor2=function(y,C,F){return C[F+0]},k.Predictor3=function(y,C,F){return C[F+1]},k.Predictor4=function(y,C,F){return C[F-1]},k.Predictor5=function(y,C,F){return dt(dt(y,C[F+1]),C[F+0])},k.Predictor6=function(y,C,F){return dt(y,C[F-1])},k.Predictor7=function(y,C,F){return dt(y,C[F+0])},k.Predictor8=function(y,C,F){return dt(C[F-1],C[F+0])},k.Predictor9=function(y,C,F){return dt(C[F+0],C[F+1])},k.Predictor10=function(y,C,F){return dt(dt(y,C[F-1]),dt(C[F+0],C[F+1]))},k.Predictor11=function(y,C,F){var M=C[F+0];return 0>=Qt(M>>24&255,y>>24&255,(C=C[F-1])>>24&255)+Qt(M>>16&255,y>>16&255,C>>16&255)+Qt(M>>8&255,y>>8&255,C>>8&255)+Qt(255&M,255&y,255&C)?M:y},k.Predictor12=function(y,C,F){var M=C[F+0];return(Mt((y>>24&255)+(M>>24&255)-((C=C[F-1])>>24&255))<<24|Mt((y>>16&255)+(M>>16&255)-(C>>16&255))<<16|Mt((y>>8&255)+(M>>8&255)-(C>>8&255))<<8|Mt((255&y)+(255&M)-(255&C)))>>>0},k.Predictor13=function(y,C,F){var M=C[F-1];return(Jt((y=dt(y,C[F+0]))>>24&255,M>>24&255)<<24|Jt(y>>16&255,M>>16&255)<<16|Jt(y>>8&255,M>>8&255)<<8|Jt(255&y,255&M))>>>0};var AA=k.PredictorAdd0;k.PredictorAdd1=Ht,at("Predictor2","PredictorAdd2"),at("Predictor3","PredictorAdd3"),at("Predictor4","PredictorAdd4"),at("Predictor5","PredictorAdd5"),at("Predictor6","PredictorAdd6"),at("Predictor7","PredictorAdd7"),at("Predictor8","PredictorAdd8"),at("Predictor9","PredictorAdd9"),at("Predictor10","PredictorAdd10"),at("Predictor11","PredictorAdd11"),at("Predictor12","PredictorAdd12"),at("Predictor13","PredictorAdd13");var no=k.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var dn,bs=k.ColorIndexInverseTransform,vn=k.MapARGB,ao=k.VP8LColorIndexInverseTransformAlpha,fA=k.MapAlpha,dA=k.VP8LPredictorsAdd=[];dA.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var ac,hA,hl,Gi,yo,oc,pl,Ys,yi,$s,tn,Nr,Xn,Fa,Nu,ml,pA,Mf,Pg,Dg,Rg,Mg,Ug,Og,mA,Y1,Uf,$1,J1=o(511),Uh=o(2041),Z1=o(225),Qg=o(767),ex=0,Hg=Uh,Oh=Z1,xi=Qg,Ki=J1,Pu=0,Qh=1,tx=2,ic=3,Hh=4,Vg=5,rx=6,qg=7,gA=8,Vh=9,Wg=10,SS=[2,3,7],IS=[3,3,11],Of=[280,256,256,256,40],ES=[0,1,1,1,0],LS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],FS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],TS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qh=8,zg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qf=null,_S=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],nx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],PS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],DS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],RS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cs=[],Bs=[],Du=[],ax=1,ox=2,gl=[],Ko=[];Iu("UpsampleRgbLinePair",Qr,3),Iu("UpsampleBgrLinePair",ro,3),Iu("UpsampleRgbaLinePair",To,4),Iu("UpsampleBgraLinePair",zo,4),Iu("UpsampleArgbLinePair",Xs,4),Iu("UpsampleRgba4444LinePair",fl,2),Iu("UpsampleRgb565LinePair",Lu,2);var Wh=k.UpsampleRgbLinePair,MS=k.UpsampleBgrLinePair,ix=k.UpsampleRgbaLinePair,sx=k.UpsampleBgraLinePair,ux=k.UpsampleArgbLinePair,lx=k.UpsampleRgba4444LinePair,US=k.UpsampleRgb565LinePair,sc=16,zh=1<<sc-1,Hf=-227,Gg=482,cx=6,OS=(256<<cx)-1,Ax=0,QS=o(256),HS=o(256),VS=o(256),qS=o(256),WS=o(Gg-Hf),zS=o(Gg-Hf);vo("YuvToRgbRow",Qr,3),vo("YuvToBgrRow",ro,3),vo("YuvToRgbaRow",To,4),vo("YuvToBgraRow",zo,4),vo("YuvToArgbRow",Xs,4),vo("YuvToRgba4444Row",fl,2),vo("YuvToRgb565Row",Lu,2);var Kg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jh=[0,2,8],jS=[8,7,6,4,4,2,2,2,1,1,1,1],GS=1;this.WebPDecodeRGBA=function(y,C,F,M,q){var X=Qh,$=new qe,ee=new Yt;$.ba=ee,ee.S=X,ee.width=[ee.width],ee.height=[ee.height];var ie=ee.width,Ae=ee.height,be=new Ut;if(be==null||y==null)var Fe=2;else e(be!=null),Fe=Fu(y,C,F,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Fe!=0?ie=0:(ie!=null&&(ie[0]=be.width[0]),Ae!=null&&(Ae[0]=be.height[0]),ie=1),ie){ee.width=ee.width[0],ee.height=ee.height[0],M!=null&&(M[0]=ee.width),q!=null&&(q[0]=ee.height);e:{if(M=new iA,(q=new Ke).data=y,q.w=C,q.ha=F,q.kd=1,C=[0],e(q!=null),((y=Fu(q.data,q.w,q.ha,null,null,null,C,null,q))==0||y==7)&&C[0]&&(y=4),(C=y)==0){if(e($!=null),M.data=q.data,M.w=q.w+q.offset,M.ha=q.ha-q.offset,M.put=ar,M.ac=pi,M.bc=mi,M.ma=$,q.xa){if((y=hs())==null){$=1;break e}if((function(fe,Ie){var Te=[0],Ue=[0],Ne=[0];t:for(;;){if(fe==null)return 0;if(Ie==null)return fe.a=2,0;if(fe.l=Ie,fe.a=0,G(fe.m,Ie.data,Ie.w,Ie.ha),!gi(fe.m,Te,Ue,Ne)){fe.a=3;break t}if(fe.xb=ox,Ie.width=Te[0],Ie.height=Ue[0],!Vi(Te[0],Ue[0],1,fe,null))break t;return 1}return e(fe.a!=0),0})(y,M)){if(M=(C=zr(M.width,M.height,$.Oa,$.ba))==0){t:{M=y;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((F=M.l)!=null),e((q=F.ma)!=null),M.xb!=0){if(M.ca=q.ba,M.tb=q.tb,e(M.ca!=null),!zi(q.Oa,F,ic)){M.a=2;break r}if(!Lt(M,F.width)||F.da)break r;if((F.da||qt(M.ca.S))&&xs(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&xs()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!te(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!Wo(M,M.V,M.Ba,M.c,M.i,F.o,vi))break r;q.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(C=y.a)}else C=y.a}else{if((y=new sA)==null){$=1;break e}if(y.Fa=q.na,y.P=q.P,y.qc=q.Sa,Vs(y,M)){if((C=zr(M.width,M.height,$.Oa,$.ba))==0){if(y.Aa=0,F=$.Oa,e((q=y)!=null),F!=null){if(0<(ie=0>(ie=F.Md)?0:100<ie?255:255*ie/100)){for(Ae=be=0;4>Ae;++Ae)12>(Fe=q.pb[Ae]).lc&&(Fe.ia=ie*jS[0>Fe.lc?0:Fe.lc]>>3),be|=Fe.ia;be&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=F.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(fe,Ie){if(fe==null)return 0;if(Ie==null)return Hn(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!Vs(fe,Ie))return 0;if(e(fe.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(fe.L=0);var Te=jh[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=Ie.v-Te>>4,fe.zb=Ie.j-Te>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=Ie.o+15+Te>>4,fe.Hb=Ie.va+15+Te>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var Ue=fe.ed;for(Te=0;4>Te;++Te){var Ne;if(fe.Qa.Cb){var Ve=fe.Qa.Lb[Te];fe.Qa.Fb||(Ve+=Ue.Tb)}else Ve=Ue.Tb;for(Ne=0;1>=Ne;++Ne){var We=fe.gd[Te][Ne],rt=Ve;if(Ue.Pc&&(rt+=Ue.vd[0],Ne&&(rt+=Ue.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var Xe=rt;0<Ue.wb&&(Xe=4<Ue.wb?Xe>>2:Xe>>1)>9-Ue.wb&&(Xe=9-Ue.wb),1>Xe&&(Xe=1),We.dd=Xe,We.tc=2*rt+Xe,We.ld=40<=rt?2:15<=rt?1:0}else We.tc=0;We.La=Ne}}}Te=0}else Hn(fe,6,"Frame setup failed"),Te=fe.a;if(Te=Te==0){if(Te){fe.$c=0,0<fe.Aa||(fe.Ic=GS);t:{Te=fe.Ic,Ue=4*(Xe=fe.za);var Gt=32*Xe,It=Xe+1,Cr=0<fe.L?Xe*(0<fe.Aa?2:1):0,kt=(fe.Aa==2?2:1)*Xe;if((We=Ue+832+(Ne=3*(16*Te+jh[fe.L])/2*Gt)+(Ve=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=We)Te=0;else{if(We>fe.Vb){if(fe.Vb=0,fe.Ec=o(We),fe.Fc=0,fe.Ec==null){Te=Hn(fe,1,"no memory during frame initialization.");break t}fe.Vb=We}We=fe.Ec,rt=fe.Fc,fe.Ac=We,fe.Bc=rt,rt+=Ue,fe.Gd=i(Gt,ps),fe.Hd=0,fe.rb=i(It+1,go),fe.sb=1,fe.wa=Cr?i(Cr,On):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=Xe),e(!0),fe.oc=We,fe.pc=rt,rt+=832,fe.ya=i(kt,Qn),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=Xe),fe.R=16*Xe,fe.B=8*Xe,Xe=(Gt=jh[fe.L])*fe.R,Gt=Gt/2*fe.B,fe.sa=We,fe.ta=rt+Xe,fe.qa=fe.sa,fe.ra=fe.ta+16*Te*fe.R+Gt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*Te*fe.B+Gt,fe.$c=0,rt+=Ne,fe.mb=Ve?We:null,fe.nb=Ve?rt:null,e(rt+Ve<=fe.Fc+fe.Vb),Fh(fe),a(fe.Ac,fe.Bc,0,Ue),Te=1}}if(Te){if(Ie.ka=0,Ie.y=fe.sa,Ie.O=fe.ta,Ie.f=fe.qa,Ie.N=fe.ra,Ie.ea=fe.Ha,Ie.Vd=fe.Ia,Ie.fa=fe.R,Ie.Rc=fe.B,Ie.F=null,Ie.J=0,!ex){for(Te=-255;255>=Te;++Te)J1[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)Uh[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)Z1[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Qg[255+Te]=0>Te?0:255<Te?255:Te;ex=1}pl=Yl,Ys=Eg,$s=qs,tn=Xl,Nr=_h,yi=Ig,Xn=ys,Fa=Ks,Nu=V,ml=de,pA=cA,Mf=L,Pg=ge,Dg=Le,Rg=Zl,Mg=Df,Ug=ec,Og=tc,Bs[0]=Ng,Bs[1]=Lg,Bs[2]=_g,Bs[3]=kg,Bs[4]=qa,Bs[5]=Ph,Bs[6]=Ws,Bs[7]=Dh,Bs[8]=_f,Bs[9]=uA,Cs[0]=Fg,Cs[1]=Ff,Cs[2]=ms,Cs[3]=Nh,Cs[4]=vs,Cs[5]=Tf,Cs[6]=Tg,Du[0]=Mh,Du[1]=kh,Du[2]=Jl,Du[3]=Rh,Du[4]=Nf,Du[5]=kf,Du[6]=Ea,Te=1}else Te=0}Te&&(Te=(function(Je,Ta){for(Je.M=0;Je.M<Je.Va;++Je.M){var Br,Tt=Je.Jc[Je.M&Je.Xb],ot=Je.m,oa=Je;for(Br=0;Br<oa.za;++Br){var mr=ot,Tr=oa,hn=Tr.Ac,oo=Tr.Bc+4*Br,_o=Tr.zc,Yn=Tr.ya[Tr.aa+Br];if(Tr.Qa.Bb?Yn.$b=ke(mr,Tr.Pa.jb[0])?2+ke(mr,Tr.Pa.jb[2]):ke(mr,Tr.Pa.jb[1]):Yn.$b=0,Tr.kc&&(Yn.Ad=ke(mr,Tr.Bd)),Yn.Za=!ke(mr,145)+0,Yn.Za){var $n=Yn.Ob,io=0;for(Tr=0;4>Tr;++Tr){var ia,jr=_o[0+Tr];for(ia=0;4>ia;++ia){jr=PS[hn[oo+ia]][jr];for(var rn=nx[ke(mr,jr[0])];0<rn;)rn=nx[2*rn+ke(mr,jr[rn])];jr=-rn,hn[oo+ia]=jr}n($n,io,hn,oo,4),io+=4,_o[0+Tr]=jr}}else jr=ke(mr,156)?ke(mr,128)?1:3:ke(mr,163)?2:0,Yn.Ob[0]=jr,a(hn,oo,jr,4),a(_o,0,jr,4);Yn.Dd=ke(mr,142)?ke(mr,114)?ke(mr,183)?1:3:2:0}if(oa.m.Ka)return Hn(Je,7,"Premature end-of-partition0 encountered.");for(;Je.ja<Je.za;++Je.ja){if(oa=Tt,mr=(ot=Je).rb[ot.sb-1],hn=ot.rb[ot.sb+ot.ja],Br=ot.ya[ot.aa+ot.ja],oo=ot.kc?Br.Ad:0)mr.la=hn.la=0,Br.Za||(mr.Na=hn.Na=0),Br.Hc=0,Br.Gc=0,Br.ia=0;else{var Jn,Zr;if(mr=hn,hn=oa,oo=ot.Pa.Xc,_o=ot.ya[ot.aa+ot.ja],Yn=ot.pb[_o.$b],Tr=_o.ad,$n=0,io=ot.rb[ot.sb-1],jr=ia=0,a(Tr,$n,0,384),_o.Za)var so=0,Ss=oo[3];else{rn=o(16);var sa=mr.Na+io.Na;if(sa=Qf(hn,oo[1],sa,Yn.Eb,0,rn,0),mr.Na=io.Na=(0<sa)+0,1<sa)pl(rn,0,Tr,$n);else{var Xo=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)Tr[$n+rn]=Xo}so=1,Ss=oo[0]}var yn=15&mr.la,_a=15&io.la;for(rn=0;4>rn;++rn){var wi=1&_a;for(Xo=Zr=0;4>Xo;++Xo)yn=yn>>1|(wi=(sa=Qf(hn,Ss,sa=wi+(1&yn),Yn.Sc,so,Tr,$n))>so)<<7,Zr=Zr<<2|(3<sa?3:1<sa?2:Tr[$n+0]!=0),$n+=16;yn>>=4,_a=_a>>1|wi<<7,ia=(ia<<8|Zr)>>>0}for(Ss=yn,so=_a>>4,Jn=0;4>Jn;Jn+=2){for(Zr=0,yn=mr.la>>4+Jn,_a=io.la>>4+Jn,rn=0;2>rn;++rn){for(wi=1&_a,Xo=0;2>Xo;++Xo)sa=wi+(1&yn),yn=yn>>1|(wi=0<(sa=Qf(hn,oo[2],sa,Yn.Qc,0,Tr,$n)))<<3,Zr=Zr<<2|(3<sa?3:1<sa?2:Tr[$n+0]!=0),$n+=16;yn>>=2,_a=_a>>1|wi<<5}jr|=Zr<<4*Jn,Ss|=yn<<4<<Jn,so|=(240&_a)<<Jn}mr.la=Ss,io.la=so,_o.Hc=ia,_o.Gc=jr,_o.ia=43690&jr?0:Yn.ia,oo=!(ia|jr)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Br.$b][Br.Za],ot.wa[ot.Y+ot.ja].La|=!oo),oa.Ka)return Hn(Je,7,"Premature end-of-file encountered.")}if(Fh(Je),ot=Ta,oa=1,Br=(Tt=Je).D,mr=0<Tt.L&&Tt.M>=Tt.zb&&Tt.M<=Tt.Va,Tt.Aa==0)t:{if(Br.M=Tt.M,Br.uc=mr,fn(Tt,Br),oa=1,Br=(Zr=Tt.D).Nb,mr=(jr=jh[Tt.L])*Tt.R,hn=jr/2*Tt.B,rn=16*Br*Tt.R,Xo=8*Br*Tt.B,oo=Tt.sa,_o=Tt.ta-mr+rn,Yn=Tt.qa,Tr=Tt.ra-hn+Xo,$n=Tt.Ha,io=Tt.Ia-hn+Xo,_a=(yn=Zr.M)==0,ia=yn>=Tt.Va-1,Tt.Aa==2&&fn(Tt,Zr),Zr.uc)for(wi=(sa=Tt).D.M,e(sa.D.uc),Zr=sa.yb;Zr<sa.Hb;++Zr){so=Zr,Ss=wi;var ko=(Yo=(ka=sa).D).Nb;Jn=ka.R;var Yo=Yo.wa[Yo.Y+so],bi=ka.sa,$o=ka.ta+16*ko*Jn+16*so,Ci=Yo.dd,xn=Yo.tc;if(xn!=0)if(e(3<=xn),ka.L==1)0<so&&Mg(bi,$o,Jn,xn+4),Yo.La&&Og(bi,$o,Jn,xn),0<Ss&&Rg(bi,$o,Jn,xn+4),Yo.La&&Ug(bi,$o,Jn,xn);else{var Bi=ka.B,Jo=ka.qa,uc=ka.ra+8*ko*Bi+8*so,Is=ka.Ha,ka=ka.Ia+8*ko*Bi+8*so;ko=Yo.ld,0<so&&(Fa(bi,$o,Jn,xn+4,Ci,ko),ml(Jo,uc,Is,ka,Bi,xn+4,Ci,ko)),Yo.La&&(Mf(bi,$o,Jn,xn,Ci,ko),Dg(Jo,uc,Is,ka,Bi,xn,Ci,ko)),0<Ss&&(Xn(bi,$o,Jn,xn+4,Ci,ko),Nu(Jo,uc,Is,ka,Bi,xn+4,Ci,ko)),Yo.La&&(pA(bi,$o,Jn,xn,Ci,ko),Pg(Jo,uc,Is,ka,Bi,xn,Ci,ko))}}if(Tt.ia&&alert("todo:DitherRow"),ot.put!=null){if(Zr=16*yn,yn=16*(yn+1),_a?(ot.y=Tt.sa,ot.O=Tt.ta+rn,ot.f=Tt.qa,ot.N=Tt.ra+Xo,ot.ea=Tt.Ha,ot.W=Tt.Ia+Xo):(Zr-=jr,ot.y=oo,ot.O=_o,ot.f=Yn,ot.N=Tr,ot.ea=$n,ot.W=io),ia||(yn-=jr),yn>ot.o&&(yn=ot.o),ot.F=null,ot.J=null,Tt.Fa!=null&&0<Tt.Fa.length&&Zr<yn&&(ot.J=In(Tt,ot,Zr,yn-Zr),ot.F=Tt.mb,ot.F==null&&ot.F.length==0)){oa=Hn(Tt,3,"Could not decode alpha data.");break t}Zr<ot.j&&(jr=ot.j-Zr,Zr=ot.j,e(!(1&jr)),ot.O+=Tt.R*jr,ot.N+=Tt.B*(jr>>1),ot.W+=Tt.B*(jr>>1),ot.F!=null&&(ot.J+=ot.width*jr)),Zr<yn&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=Zr-ot.j,ot.U=ot.va-ot.v,ot.T=yn-Zr,oa=ot.put(ot))}Br+1!=Tt.Ic||ia||(n(Tt.sa,Tt.ta-mr,oo,_o+16*Tt.R,mr),n(Tt.qa,Tt.ra-hn,Yn,Tr+8*Tt.B,hn),n(Tt.Ha,Tt.Ia-hn,$n,io+8*Tt.B,hn))}if(!oa)return Hn(Je,6,"Output aborted.")}return 1})(fe,Ie)),Ie.bc!=null&&Ie.bc(Ie),Te&=1}return Te?(fe.cb=0,Te):0})(y,M)||(C=y.a)}}else C=y.a}C==0&&$.Oa!=null&&$.Oa.fd&&(C=Tu($.ba))}$=C}X=$!=0?null:11>X?ee.f.RGBA.eb:ee.f.kb.y}else X=null;return X};var vA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(k,O){for(var N="",P=0;P<4;P++)N+=String.fromCharCode(k[O++]);return N}function c(k,O){return k[O+0]|k[O+1]<<8}function A(k,O){return(k[O+0]|k[O+1]<<8|k[O+2]<<16)>>>0}function d(k,O){return(k[O+0]|k[O+1]<<8|k[O+2]<<16|k[O+3]<<24)>>>0}new u;var f=[0],h=[0],p=[],v=new u,g=r,B=(function(k,O){var N={},P=0,j=!1,z=0,ne=0;if(N.frames=[],!(function(R,H){for(var ae=0;ae<4;ae++)if(R[H+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(k,O)){for(d(k,O+=4),O+=8;O<k.length;){var re=l(k,O),Y=d(k,O+=4);O+=4;var J=Y+(1&Y);switch(re){case"VP8 ":case"VP8L":N.frames[P]===void 0&&(N.frames[P]={}),(he=N.frames[P]).src_off=j?ne:O-8,he.src_size=z+Y+8,P++,j&&(j=!1,z=0,ne=0);break;case"VP8X":(he=N.header={}).feature_flags=k[O];var G=O+4;he.canvas_width=1+A(k,G),G+=3,he.canvas_height=1+A(k,G),G+=3;break;case"ALPH":j=!0,z=J+8,ne=O-8;break;case"ANIM":(he=N.header).bgcolor=d(k,O),G=O+4,he.loop_count=c(k,G),G+=2;break;case"ANMF":var Z,he;(he=N.frames[P]={}).offset_x=2*A(k,O),O+=3,he.offset_y=2*A(k,O),O+=3,he.width=1+A(k,O),O+=3,he.height=1+A(k,O),O+=3,he.duration=A(k,O),O+=3,Z=k[O++],he.dispose=1&Z,he.blend=Z>>1&1}re!="ANMF"&&(O+=J)}return N}})(g,0);B.response=g,B.rgbaoutput=!0,B.dataurl=!1;var I=B.header?B.header:null,S=B.frames?B.frames:null;if(I){I.loop_counter=I.loop_count,f=[I.canvas_height],h=[I.canvas_width];for(var E=0;E<S.length&&S[E].blend!=0;E++);}var T=S[0],U=v.WebPDecodeRGBA(g,T.src_off,T.src_size,h,f);T.rgba=U,T.imgwidth=h[0],T.imgheight=f[0];for(var D=0;D<h[0]*f[0]*4;D++)p[D]=U[D];return this.width=h,this.height=f,this.data=p,this}function wbe(){var r,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));r=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+r.length+" >>"),this.internal.write("stream"),this.internal.write(r),this.internal.write("endstream"),this.internal.write("endobj")}function bbe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}var pr,Pn,yh,cS,SK,IK,rbe,EK,Ca,lk,Sh,xg,AS,wr,wf,cs,FK,zl,nbe,abe,obe,Ua,Oa,Qa,ibe,sbe,sk,uS,ube,lbe,cbe,XK,ek,jl,YK,$K,ul,wh,bh,Ch,W1,mo,z1,Bh,fS,j1,Bf,G1,_t,Abe,fbe,ZK,eX,uk,tX,dbe,hbe,_K,wg,lS,PK,DK,RK,rk,ll,Sf,Cbe,Bbe,Gl,Sbe,zK,nX,Ibe,Ebe,Lbe,Fbe,Tbe,_be,kbe,aX,Nbe,Pbe,Dbe,Rbe,Mbe,iX=en(()=>{q2();k8();V8();L7();pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();Pn={log:$_,warn:function(r){pr.console&&(typeof pr.console.warn=="function"?pr.console.warn.apply(pr.console,arguments):$_.call(null,arguments))},error:function(r){pr.console&&(typeof pr.console.error=="function"?pr.console.error.apply(pr.console,arguments):$_(r))}};yh=pr.saveAs||((typeof window>"u"?"undefined":Kr(window))!=="object"||window!==pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=pr.URL||pr.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?BK(a.href)?J_(r,e,t):sS(a,a.target="_blank"):sS(a)):(a.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){sS(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(BK(r))J_(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){sS(n)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Kr(o)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return J_(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(pr.HTMLElement)||pr.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&o)&&(typeof FileReader>"u"?"undefined":Kr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=i?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},s.readAsDataURL(r)}else{var u=pr.URL||pr.webkitURL,l=u.createObjectURL(r);n?n.location=l:location.href=l,n=null,setTimeout(function(){u.revokeObjectURL(l)},4e4)}});cS=pr.atob.bind(pr),SK=pr.btoa.bind(pr);IK="0123456789abcdef".split("");rbe=(function(r){for(var e=0;e<r.length;e++)r[e]=ebe(r[e]);return r.join("")})(GK("hello"))!="5d41402abc4b2a76b9719d911017c592";EK={print:4,modify:8,copy:16,"annot-forms":32};bg.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},bg.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bg.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},bg.prototype.processOwnerPassword=function(r,e){return ik(ok(e).substr(0,5),r)},bg.prototype.encryptor=function(r,e){var t=ok(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return ik(t,n)}},K1.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Kr(r)!==Kr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},er.API={events:[]},er.version="4.1.0";Ca=er.API,lk=1,Sh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xg=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},AS=function(r){return r.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},wr=function(r){return r.toFixed(2)},wf=function(r){return r.toFixed(5)};Ca.__acroform__={};cs=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},FK=function(r){return r*lk},zl=function(r){var e=new YK,t=_t.internal.getHeight(r)||0,n=_t.internal.getWidth(r)||0;return e.BBox=[0,0,Number(wr(n)),Number(wr(t))],e},nbe=Ca.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},abe=Ca.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},obe=Ca.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Ua=Ca.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return obe(r,e-1)},Oa=Ca.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nbe(r,e-1)},Qa=Ca.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return abe(r,e-1)},ibe=Ca.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=r[0],o=r[1],i=r[2],s=r[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=n(o+s)||0,u.upperRight_X=t(a+i)||0,u.upperRight_Y=n(o)||0,[Number(wr(u.lowerLeft_X)),Number(wr(u.lowerLeft_Y)),Number(wr(u.upperRight_X)),Number(wr(u.upperRight_Y))]},sbe=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=sk(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+wr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=zl(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},sk=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(N){return N.split(`
`)}):a.map(function(N){return[N]});var o=t,i=_t.internal.getHeight(r)||0;i=i<0?-i:i;var s=_t.internal.getWidth(r)||0;s=s<0?-s:s;var u=function(N,P,j){if(N+1<a.length){var z=P+" "+a[N+1][0];return uS(z,r,j).width<=s-4}return!1};o++;e:for(;o>0;){e="",o--;var l,c,A=uS("3",r,o).height,d=r.multiline?i-o:(i-A)/2,f=d+=2,h=0,p=0,v=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+uS(e,r,o=12).width+", FieldWidth:"+s+`
`;break}for(var g="",B=0,I=0;I<a.length;I++)if(a.hasOwnProperty(I)){var S=!1;if(a[I].length!==1&&v!==a[I].length-1){if((A+2)*(B+2)+2>i)continue e;g+=a[I][v],S=!0,p=I,I--}else{g=(g+=a[I][v]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(I),T=u(E,g,o),U=I>=a.length-1;if(T&&!U){g+=" ",v=0;continue}if(T||U){if(U)p=E;else if(r.multiline&&(A+2)*(B+2)+2>i)continue e}else{if(!r.multiline||(A+2)*(B+2)+2>i)continue e;p=E}}for(var D="",k=h;k<=p;k++){var O=a[k];if(r.multiline){if(k===p){D+=O[v]+" ",v=(v+1)%O.length;continue}if(k===h){D+=O[O.length-1]+" ";continue}}D+=O[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,c=uS(D,r,o).width,r.textAlign){case"right":l=s-c-2;break;case"center":l=(s-c)/2;break;default:l=2}e+=wr(l)+" "+wr(f)+` Td
`,e+="("+Sh(D)+`) Tj
`,e+=-wr(l)+` 0 Td
`,f=-(o+2),c=0,h=S?p:p+1,B++,g=""}break}return n.text=e,n.fontSize=o,n},uS=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},ube={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lbe=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},cbe=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ul.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(ube)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lk=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new $K,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&lbe(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,a){var o=!n;for(var i in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var s=n[i],u=[],l=s.Rect;if(s.Rect&&(s.Rect=ibe(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=_t.createDefaultAppearanceStream(s),Kr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(u=s.getKeyValueListForStream()),s.Rect=l,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=sbe(s);u.push({key:"AP",value:"<</N "+c+">>"}),a.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var A="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var f=s.appearanceStreamContent[d];if(A+="/"+d+" ",A+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var i in f)if(f.hasOwnProperty(i)){var h=f[i];typeof h=="function"&&(h=h.call(a,s)),A+="/"+i+" "+h+" ",a.internal.acroformPlugin.xForms.indexOf(h)>=0||a.internal.acroformPlugin.xForms.push(h)}}else typeof(h=f)=="function"&&(h=h.call(a,s)),A+="/"+i+" "+h,a.internal.acroformPlugin.xForms.indexOf(h)>=0||a.internal.acroformPlugin.xForms.push(h);A+=">>"}u.push({key:"AP",value:`<<
`+A+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:s.objId}),a.internal.out("endobj")}o&&(function(p,v){for(var g in p)if(p.hasOwnProperty(g)){var B=g,I=p[g];v.internal.newObjectDeferredBegin(I.objId,!0),Kr(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete p[B]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},XK=Ca.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(i){return i};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Kr(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)==="/"?a+="/"+AS(r[o].substr(1)):(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),a+="("+Sh(n(r[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ek=function(r,e,t){var n=function(a){return a};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Sh(n(r))+")"},jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};jl.prototype.toString=function(){return this.objId+" 0 R"},jl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},jl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],a=this[n];a&&(Array.isArray(a)?r.push({key:n,value:XK(a,this.objId,this.scope)}):a instanceof jl?(a.scope=this.scope,r.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:n,value:a}))}return r};YK=function(){jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};cs(YK,jl);$K=function(){jl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Sh(t(r))+")"}},set:function(t){r=t}})};cs($K,jl);ul=function r(){jl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ua(e,3)},set:function(g){g?this.F=Oa(e,3):this.F=Qa(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof fS)return;o="FieldObject"+r.FieldNum++}var g=function(B){return B};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Sh(g(o))+")"},set:function(g){o=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(g){o=g}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(g){i=g}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/lk:l},set:function(g){l=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof fS||this instanceof Bf))return ek(A,this.objId,this.scope)},set:function(g){g=g.toString(),A=g}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof mo==0?ek(d,this.objId,this.scope):d},set:function(g){g=g.toString(),d=this instanceof mo==0?g.substr(0,1)==="("?xg(g.substr(1,g.length-2)):xg(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mo==1?xg(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof mo==1?"/"+AS(g):g}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof mo==0?ek(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof mo==0?g.substr(0,1)==="("?xg(g.substr(1,g.length-2)):xg(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mo==1?xg(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof mo==1?"/"+AS(g):g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(g){g=!!g,p=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(g){h=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,1)},set:function(g){g?this.Ff=Oa(this.Ff,1):this.Ff=Qa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,2)},set:function(g){g?this.Ff=Oa(this.Ff,2):this.Ff=Qa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,3)},set:function(g){g?this.Ff=Oa(this.Ff,3):this.Ff=Qa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');v=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(v){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};cs(ul,jl);wh=function(){ul.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XK(e,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=(function(o,i,s){s||(s=1);for(var u,l=[];u=i.exec(o);)l.push(u[s]);return l})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,18)},set:function(t){t?this.Ff=Oa(this.Ff,18):this.Ff=Qa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Oa(this.Ff,19):this.Ff=Qa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,20)},set:function(t){t?(this.Ff=Oa(this.Ff,20),e.sort()):this.Ff=Qa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,22)},set:function(t){t?this.Ff=Oa(this.Ff,22):this.Ff=Qa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(t){t?this.Ff=Oa(this.Ff,23):this.Ff=Qa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,27)},set:function(t){t?this.Ff=Oa(this.Ff,27):this.Ff=Qa(this.Ff,27)}}),this.hasAppearanceStream=!1};cs(wh,ul);bh=function(){wh.call(this),this.fontName="helvetica",this.combo=!1};cs(bh,wh);Ch=function(){bh.call(this),this.combo=!0};cs(Ch,bh);W1=function(){Ch.call(this),this.edit=!0};cs(W1,Ch);mo=function(){ul.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,15)},set:function(t){t?this.Ff=Oa(this.Ff,15):this.Ff=Qa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,16)},set:function(t){t?this.Ff=Oa(this.Ff,16):this.Ff=Qa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,17)},set:function(t){t?this.Ff=Oa(this.Ff,17):this.Ff=Qa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(t){t?this.Ff=Oa(this.Ff,26):this.Ff=Qa(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Sh(t(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Kr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+AS(t)}})};cs(mo,ul);z1=function(){mo.call(this),this.pushButton=!0};cs(z1,mo);Bh=function(){mo.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};cs(Bh,mo);fS=function(){var r,e;ul.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,i=[];for(o in i.push("<<"),n)i.push("/"+o+" ("+Sh(a(n[o]))+")");return i.push(">>"),i.join(`
`)},set:function(a){Kr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cs(fS,ul),Bh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Bh.prototype.createOption=function(r){var e=new fS;return e.Parent=this,e.optionName=r,this.Kids.push(e),Abe.call(this.scope,e),e};j1=function(){mo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};cs(j1,mo);Bf=function(){ul.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,13)},set:function(e){e?this.Ff=Oa(this.Ff,13):this.Ff=Qa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,21)},set:function(e){e?this.Ff=Oa(this.Ff,21):this.Ff=Qa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(e){e?this.Ff=Oa(this.Ff,23):this.Ff=Qa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,24)},set:function(e){e?this.Ff=Oa(this.Ff,24):this.Ff=Qa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,25)},set:function(e){e?this.Ff=Oa(this.Ff,25):this.Ff=Qa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(e){e?this.Ff=Oa(this.Ff,26):this.Ff=Qa(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cs(Bf,ul);G1=function(){Bf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,14)},set:function(r){r?this.Ff=Oa(this.Ff,14):this.Ff=Qa(this.Ff,14)}}),this.password=!0};cs(G1,Bf);_t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=sk(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+wr(_t.internal.getWidth(r))+" "+wr(_t.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+wr(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=zl(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),a=[],o=_t.internal.getHeight(r),i=_t.internal.getWidth(r),s=sk(r,r.caption);return a.push("1 g"),a.push("0 0 "+wr(i)+" "+wr(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+wr(i-1)+" "+wr(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+wr(s.fontSize)+" Tf "+n),a.push(s.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wr(_t.internal.getWidth(r))+" "+wr(_t.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=_t.RadioButton.Circle.YesNormal,e.D[r]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=zl(r);e.scope=r.scope;var t=[],n=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=_t.internal.Bezier_C,o=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+wf(_t.internal.getWidth(r)/2)+" "+wf(_t.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=[],n=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5)),i=Number((n*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wf(_t.internal.getWidth(r)/2)+" "+wf(_t.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+wf(_t.internal.getWidth(r)/2)+" "+wf(_t.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),t.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),t.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),t.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=[],n=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+wf(_t.internal.getWidth(r)/2)+" "+wf(_t.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=_t.RadioButton.Cross.YesNormal,e.D[r]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=zl(r);e.scope=r.scope;var t=[],n=_t.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+wr(_t.internal.getWidth(r)-2)+" "+wr(_t.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(wr(n.x1.x)+" "+wr(n.x1.y)+" m"),t.push(wr(n.x2.x)+" "+wr(n.x2.y)+" l"),t.push(wr(n.x4.x)+" "+wr(n.x4.y)+" m"),t.push(wr(n.x3.x)+" "+wr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=_t.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+wr(_t.internal.getWidth(r))+" "+wr(_t.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wr(_t.internal.getWidth(r)-2)+" "+wr(_t.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(wr(t.x1.x)+" "+wr(t.x1.y)+" m"),n.push(wr(t.x2.x)+" "+wr(t.x2.y)+" l"),n.push(wr(t.x4.x)+" "+wr(t.x4.y)+" m"),n.push(wr(t.x3.x)+" "+wr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=zl(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wr(_t.internal.getWidth(r))+" "+wr(_t.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=_t.internal.getWidth(r),t=_t.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},_t.internal.getWidth=function(r){var e=0;return Kr(r)==="object"&&(e=FK(r.Rect[2])),e},_t.internal.getHeight=function(r){var e=0;return Kr(r)==="object"&&(e=FK(r.Rect[3])),e};Abe=Ca.addField=function(r){if(cbe(this,r),!(r instanceof ul))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ca.AcroFormChoiceField=wh,Ca.AcroFormListBox=bh,Ca.AcroFormComboBox=Ch,Ca.AcroFormEditBox=W1,Ca.AcroFormButton=mo,Ca.AcroFormPushButton=z1,Ca.AcroFormRadioButton=Bh,Ca.AcroFormCheckBox=j1,Ca.AcroFormTextField=Bf,Ca.AcroFormPasswordField=G1,Ca.AcroFormAppearance=_t,Ca.AcroForm={ChoiceField:wh,ListBox:bh,ComboBox:Ch,EditBox:W1,Button:mo,PushButton:z1,RadioButton:Bh,CheckBox:j1,TextField:Bf,PasswordField:G1,Appearance:_t},er.AcroForm={ChoiceField:wh,ListBox:bh,ComboBox:Ch,EditBox:W1,Button:mo,PushButton:z1,RadioButton:Bh,CheckBox:j1,TextField:Bf,PasswordField:G1,Appearance:_t};fbe=er.AcroForm;(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(N,P){var j,z,ne,re,Y,J=t;if((P=P||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(T(N))for(Y in n)for(ne=n[Y],j=0;j<ne.length;j+=1){for(re=!0,z=0;z<ne[j].length;z+=1)if(ne[j][z]!==void 0&&ne[j][z]!==N[z]){re=!1;break}if(re===!0){J=Y;break}}else for(Y in n)for(ne=n[Y],j=0;j<ne.length;j+=1){for(re=!0,z=0;z<ne[j].length;z+=1)if(ne[j][z]!==void 0&&ne[j][z]!==N.charCodeAt(z)){re=!1;break}if(re===!0){J=Y;break}}return J===t&&P!==t&&(J=P),J},o=function N(P){for(var j=this.internal.write,z=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:P.width}),re.push({key:"Height",value:P.height}),P.colorSpace===g.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===g.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var Y="",J=0,G=P.transparency.length;J<G;J++)Y+=P.transparency[J]+" "+P.transparency[J]+" ";re.push({key:"Mask",value:"["+Y+"]"})}P.sMask!==void 0&&re.push({key:"SMask",value:P.objectId+1+" 0 R"});var Z=P.filter!==void 0?["/"+P.filter]:void 0;if(z({data:P.data,additionalKeyValues:re,alreadyAppliedFilters:Z,objectId:P.objectId}),j("endobj"),"sMask"in P&&P.sMask!==void 0){var he,R=(he=P.sMaskBitsPerComponent)!==null&&he!==void 0?he:P.bitsPerComponent,H={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:P.sMask};"filter"in P&&(H.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(P.width),H.filter=P.filter),N.call(this,H)}if(P.colorSpace===g.INDEXED){var ae=this.internal.newObject();z({data:D(new Uint8Array(P.palette)),objectId:ae}),j("endobj")}},i=function(){var N=this.internal.collections[e+"images"];for(var P in N)o.call(this,N[P])},s=function(){var N,P=this.internal.collections[e+"images"],j=this.internal.write;for(var z in P)j("/I"+(N=P[z]).index,N.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var N=this.internal.collections[e+"images"];return u.call(this),N},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},A=function(N){return typeof r["process"+N.toUpperCase()]=="function"},d=function(N){return Kr(N)==="object"&&N.nodeType===1},f=function(N,P){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var j=""+N.getAttribute("src");if(j.indexOf("data:image/")===0)return cS(unescape(j).split("base64,").pop());var z=r.loadFile(j,!0);if(z!==void 0)return z}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ne;switch(P){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;default:ne="image/jpeg"}return cS(N.toDataURL(ne,1).split("base64,").pop())}},h=function(N){var P=this.internal.collections[e+"images"];if(P){for(var j in P)if(N===P[j].alias)return P[j]}},p=function(N,P,j){return N||P||(N=-96,P=-96),N<0&&(N=-1*j.width*72/N/this.internal.scaleFactor),P<0&&(P=-1*j.height*72/P/this.internal.scaleFactor),N===0&&(N=P*j.width/j.height),P===0&&(P=N*j.height/j.width),[N,P]},v=function(N,P,j,z,ne,re){var Y=p.call(this,j,z,ne),J=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,Z=l.call(this);if(j=Y[0],z=Y[1],Z[ne.index]=ne,re){re*=Math.PI/180;var he=Math.cos(re),R=Math.sin(re),H=function(le){return le.toFixed(4)},ae=[H(he),H(R),H(-1*R),H(he),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,J(N),G(P+z),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([J(j),"0","0",J(z),"0","0","cm"].join(" "))):this.internal.write([J(j),"0","0",J(z),J(N),G(P+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},g=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=r.__addimage__.sHashCode=function(N){var P,j,z=0;if(typeof N=="string")for(j=N.length,P=0;P<j;P++)z=(z<<5)-z+N.charCodeAt(P),z|=0;else if(T(N))for(j=N.byteLength/2,P=0;P<j;P++)z=(z<<5)-z+N[P],z|=0;return z},S=r.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var P=!0;return N.length===0&&(P=!1),N.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(P=!1),P},E=r.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var P=N.indexOf(",");return P<0?null:N.substring(0,P).trim().endsWith("base64")?N.substring(P+1):null};r.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var T=r.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},U=r.__addimage__.binaryStringToUint8Array=function(N){for(var P=N.length,j=new Uint8Array(P),z=0;z<P;z++)j[z]=N.charCodeAt(z);return j},D=r.__addimage__.arrayBufferToBinaryString=function(N){for(var P="",j=T(N)?N:new Uint8Array(N),z=0;z<j.length;z+=8192)P+=String.fromCharCode.apply(null,j.subarray(z,z+8192));return P};r.addImage=function(){var N,P,j,z,ne,re,Y,J,G;if(typeof arguments[1]=="number"?(P=t,j=arguments[1],z=arguments[2],ne=arguments[3],re=arguments[4],Y=arguments[5],J=arguments[6],G=arguments[7]):(P=arguments[1],j=arguments[2],z=arguments[3],ne=arguments[4],re=arguments[5],Y=arguments[6],J=arguments[7],G=arguments[8]),Kr(N=arguments[0])==="object"&&!d(N)&&"imageData"in N){var Z=N;N=Z.imageData,P=Z.format||P||t,j=Z.x||j||0,z=Z.y||z||0,ne=Z.w||Z.width||ne,re=Z.h||Z.height||re,Y=Z.alias||Y,J=Z.compression||J,G=Z.rotation||Z.angle||G}var he=this.internal.getFilters();if(J===void 0&&he.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(j)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=k.call(this,N,P,Y,J);return v.call(this,j,z,ne,re,R,G),this};var k=function(N,P,j,z){var ne,re,Y;if(typeof N=="string"&&a(N)===t){N=unescape(N);var J=O(N,!1);(J!==""||(J=r.loadFile(N,!0))!==void 0)&&(N=J)}if(d(N)&&(N=f(N,P)),P=a(N,P),!A(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((Y=j)==null||Y.length===0)&&(j=(function(G){return typeof G=="string"||T(G)?I(G):T(G.data)?I(G.data):null})(N)),(ne=h.call(this,j))||(N instanceof Uint8Array||P==="RGBA"||(re=N,N=U(N)),ne=this["process"+P.toUpperCase()](N,c.call(this),j,(function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in r.image_compression?G:B.NONE})(z),re)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},O=r.__addimage__.convertBase64ToBinaryString=function(N,P){P=typeof P!="boolean"||P;var j,z="";if(typeof N=="string"){var ne;j=(ne=E(N))!==null&&ne!==void 0?ne:N;try{z=cS(j)}catch(re){if(P)throw S(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};r.getImageProperties=function(N){var P,j,z="";if(d(N)&&(N=f(N)),typeof N=="string"&&a(N)===t&&((z=O(N,!1))===""&&(z=r.loadFile(N)||""),N=z),j=a(N),!A(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(N instanceof Uint8Array||(N=U(N)),!(P=this["process"+j.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=j,P}})(er.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};er.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,a,o,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),l=t.pageContext.annotations,c=!1,A=0;A<l.length&&!c;A++)switch((n=l[A]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){n=l[d];var f=this.internal.pdfEscape,h=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),B=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+f(g(n.contents))+")",o+=" /Popup "+v.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+f(g(B))+") >>",p.content=o;var I=p.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(o+=" /Open true"),o+=" >>",v.content=o,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(h(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var T=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,a,o,i){var s=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:u(t),y:l(n),w:u(t+a),h:l(n+o)},options:i,type:"link"})},r.textWithLink=function(t,n,a,o){var i,s,u=this.getTextWidth(t),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){s=o.maxWidth;var c=this.splitTextToSize(t,s).length;i=Math.ceil(l*c)}else s=u,i=l;return this.text(t,n,a,o),a+=.2*l,o.align==="center"&&(n-=u/2),o.align==="right"&&(n-=u),this.link(n,a-l,s,i,o),u},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(er.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},i=r.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},s=r.__arabicParser__.isArabicEndLetter=function(p){return i(p)&&o(p)&&e[p.charCodeAt(0)].length<=2},u=r.__arabicParser__.isArabicAlfLetter=function(p){return i(p)&&a.indexOf(p.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return i(p)&&o(p)&&e[p.charCodeAt(0)].length>=1};var l=r.__arabicParser__.arabicLetterHasFinalForm=function(p){return i(p)&&o(p)&&e[p.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(p){return i(p)&&o(p)&&e[p.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(p){return i(p)&&o(p)&&e[p.charCodeAt(0)].length==4},A=r.__arabicParser__.resolveLigatures=function(p){var v=0,g=t,B="",I=0;for(v=0;v<p.length;v+=1)g[p.charCodeAt(v)]!==void 0?(I++,typeof(g=g[p.charCodeAt(v)])=="number"&&(B+=String.fromCharCode(g),g=t,I=0),v===p.length-1&&(g=t,B+=p.charAt(v-(I-1)),v-=I-1,I=0)):(g=t,B+=p.charAt(v-I),v-=I,I=0);return B};r.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var d=r.__arabicParser__.getCorrectForm=function(p,v,g){return i(p)?o(p)===!1?-1:!l(p)||!i(v)&&!i(g)||!i(g)&&s(v)||s(p)&&!i(v)||s(p)&&u(v)||s(p)&&s(v)?0:c(p)&&i(v)&&!s(v)&&i(g)&&l(g)?3:s(p)||!i(g)?1:2:-1},f=function(p){var v=0,g=0,B=0,I="",S="",E="",T=(p=p||"").split("\\s+"),U=[];for(v=0;v<T.length;v+=1){for(U.push(""),g=0;g<T[v].length;g+=1)I=T[v][g],S=T[v][g-1],E=T[v][g+1],i(I)?(B=d(I,S,E),U[v]+=B!==-1?String.fromCharCode(e[I.charCodeAt(0)][B]):I):U[v]+=I;U[v]=A(U[v])}return U.join(" ")},h=r.__arabicParser__.processArabic=r.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(v)){var B=0;for(g=[],B=0;B<v.length;B+=1)Array.isArray(v[B])?g.push([f(v[B][0]),v[B][1],v[B][2]]):g.push([f(v[B])]);p=g}else p=f(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};r.events.push(["preProcessText",h])})(er.API),er.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(s){t=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(s){o=s}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(s){i=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(er.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return h},set:function(p){h=p}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},r.getTextDimensions=function(u,l){n.call(this);var c=(l=l||{}).fontSize||this.getFontSize(),A=l.font||this.getFont(),d=l.scaleFactor||this.internal.scaleFactor,f=0,h=0,p=0,v=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var g=l.maxWidth;g>0?typeof u=="string"?u=this.splitTextToSize(u,g):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(I,S){return I.concat(v.splitTextToSize(S,g))},[])):u=Array.isArray(u)?u:[u];for(var B=0;B<u.length;B++)f<(p=this.getStringUnitWidth(u[B],{font:A})*c)&&(f=p);return f!==0&&(h=u.length),{w:f/=d,h:Math.max((h*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=r.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var l=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===u.lineNumber?(u.x=(l.x||0)+(l.width||0),u.y=l.y||0):l.y+l.height+u.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=A.top,f&&d&&(this.printHeaderRow(u.lineNumber,!0),u.y+=d[0].height)):u.y=l.y+l.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-c,u.y+c,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+c,{align:"center",baseline:"top",maxWidth:u.width-c-c}):this.text(u.text,u.x+c,u.y+c,{align:"left",baseline:"top",maxWidth:u.width-c-c})),this.internal.__cell__.lastCell=u,this};r.table=function(u,l,c,A,d){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,h,p,v,g=[],B=[],I=[],S={},E={},T=[],U=[],D=(d=d||{}).autoSize||!1,k=d.printHeaders!==!1,O=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,N=d.margins||Object.assign({width:this.getPageWidth()},e),P=typeof d.padding=="number"?d.padding:3,j=d.headerBackgroundColor||"#c8c8c8",z=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=z,this.setFontSize(O),A==null)B=g=Object.keys(c[0]),I=g.map(function(){return"left"});else if(Array.isArray(A)&&Kr(A[0])==="object")for(g=A.map(function(Z){return Z.name}),B=A.map(function(Z){return Z.prompt||Z.name||""}),I=A.map(function(Z){return Z.align||"left"}),f=0;f<A.length;f+=1)E[A[f].name]=.7499990551181103*A[f].width;else Array.isArray(A)&&typeof A[0]=="string"&&(B=g=A,I=g.map(function(){return"left"}));if(D||Array.isArray(A)&&typeof A[0]=="string")for(f=0;f<g.length;f+=1){for(S[v=g[f]]=c.map(function(Z){return Z[v]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(B[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=S[v],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)T.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,T)+P+P,T=[]}if(k){var ne={};for(f=0;f<g.length;f+=1)ne[g[f]]={},ne[g[f]].text=B[f],ne[g[f]].align=I[f];var re=s.call(this,ne,E);U=g.map(function(Z){return new o(u,l,E[Z],re,ne[Z].text,void 0,ne[Z].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var Y=A.reduce(function(Z,he){return Z[he.name]=he.align,Z},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var J=s.call(this,c[f],E);for(p=0;p<g.length;p+=1){var G=c[f][g[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:p,data:G},this),i.call(this,new o(u,l,E[g[p]],J,G,f+2,Y[g[p]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=l,this};var s=function(u,l){var c=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(u).map(function(f){var h=u[f];return this.splitTextToSize(h.hasOwnProperty("text")?h.text:h,l[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*A/d+c+c},this).reduce(function(f,h){return Math.max(f,h)},0)};r.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},r.printHeaderRow=function(u,l){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=u;var h=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,c),this.setTextColor(h)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),t=!1}})(er.API);ZK={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],uk=JK(eX),tX=[100,200,300,400,500,600,700,800,900],dbe=JK(tX);hbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_K={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};rk=["times"];(function(r){var e,t,n,a,o,i,s,u,l,c=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new u,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new i,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new i,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,i=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,l=new c}]);var A=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=R;Object.defineProperty(this,"pdf",{get:function(){return H}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(te){ae=!!te}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(te){le=!!te}});var pe=0;Object.defineProperty(this,"posX",{get:function(){return pe},set:function(te){isNaN(te)||(pe=te)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(te){isNaN(te)||(ve=te)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(te){var je;typeof te=="number"?je=[te,te,te,te]:((je=new Array(4))[0]=te[0],je[1]=te.length>=2?te[1]:je[0],je[2]=te.length>=3?te[2]:je[0],je[3]=te.length>=4?te[3]:je[1]),l.margin=je}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(te){Se=te}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(te){me=te}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(te){ke=te}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(te){te instanceof c&&(l=te)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(te){l.path=te}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(te){Re=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var je;je=d(te),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var je=d(te);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var De=null,ze=null,et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(te){De=null,ze=null,et=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var je;if(this.ctx.font=te,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(te))!==null){var Ct=je[1];je[2];var ft=je[3],He=je[4];je[5];var vt=je[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(at==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var ht=(function(ct){var Mr,lr,Zt=[],Xt=ct.trim();if(Xt==="")return rk;if(Xt in _K)return[_K[Xt]];for(;Xt!=="";){switch(lr=null,Mr=(Xt=NK(Xt)).charAt(0)){case'"':case"'":lr=pbe(Xt.substring(1),Mr);break;default:lr=mbe(Xt)}if(lr===null||(Zt.push(lr[0]),(Xt=NK(lr[1]))!==""&&Xt.charAt(0)!==","))return rk;Xt=Xt.replace(/^,/,"")}return Zt})(vt);if(this.fontFaces){var dt=(function(ct,Mr){var lr=ct.getFontList(),Zt=JSON.stringify(lr);if(De===null||ze!==Zt){var Xt=(function(br){var Rt=[];return Object.keys(br).forEach(function(kr){br[kr].forEach(function(qt){var tr=null;switch(qt){case"bold":tr={family:kr,weight:"bold"};break;case"italic":tr={family:kr,style:"italic"};break;case"bolditalic":tr={family:kr,weight:"bold",style:"italic"};break;case"":case"normal":tr={family:kr}}tr!==null&&(tr.ref={name:kr,style:qt},Rt.push(tr))})}),Rt})(lr);De=(function(br){for(var Rt={},kr=0;kr<br.length;++kr){var qt=tk(br[kr]),tr=qt.family,Ur=qt.stretch,Yt=qt.style,Ut=qt.weight;Rt[tr]=Rt[tr]||{},Rt[tr][Ur]=Rt[tr][Ur]||{},Rt[tr][Ur][Yt]=Rt[tr][Ur][Yt]||{},Rt[tr][Ur][Yt][Ut]=qt}return Rt})(Xt.concat(Mr)),ze=Zt}return De})(this.pdf,this.fontFaces),Mt=ht.map(function(ct){return{family:ct,stretch:"normal",weight:ft,style:Ct}}),Jt=(function(ct,Mr,lr){for(var Zt=(lr=lr||{}).defaultFontFamily||"times",Xt=Object.assign({},hbe,lr.genericFontFamilies||{}),br=null,Rt=null,kr=0;kr<Mr.length;++kr)if(Xt[(br=tk(Mr[kr])).family]&&(br.family=Xt[br.family]),ct.hasOwnProperty(br.family)){Rt=ct[br.family];break}if(!(Rt=Rt||ct[Zt]))throw new Error("Could not find a font-family for the rule '"+kK(br)+"' and default family '"+Zt+"'.");if(Rt=(function(qt,tr){if(tr[qt])return tr[qt];var Ur=uk[qt],Yt=Ur<=uk.normal?-1:1,Ut=TK(tr,eX,Ur,Yt);if(!Ut)throw new Error("Could not find a matching font-stretch value for "+qt);return Ut})(br.stretch,Rt),Rt=(function(qt,tr){if(tr[qt])return tr[qt];for(var Ur=ZK[qt],Yt=0;Yt<Ur.length;++Yt)if(tr[Ur[Yt]])return tr[Ur[Yt]];throw new Error("Could not find a matching font-style for "+qt)})(br.style,Rt),!(Rt=(function(qt,tr){if(tr[qt])return tr[qt];if(qt===400&&tr[500])return tr[500];if(qt===500&&tr[400])return tr[400];var Ur=dbe[qt],Yt=TK(tr,tX,Ur,qt<400?-1:1);if(!Yt)throw new Error("Could not find a matching font-weight for value "+qt);return Yt})(br.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+kK(br)+"'.");return Rt})(dt,Mt);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Qt="";(ft==="bold"||parseInt(ft,10)>=700||Ct==="bold")&&(Qt="bold"),Ct==="italic"&&(Qt+="italic"),Qt.length===0&&(Qt="normal");for(var Ht="",Vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<ht.length;mt++){if(this.pdf.internal.getFont(ht[mt],Qt,{noFallback:!0,disableWarning:!0})!==void 0){Ht=ht[mt];break}if(Qt==="bolditalic"&&this.pdf.internal.getFont(ht[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=ht[mt],Qt="bold";else if(this.pdf.internal.getFont(ht[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=ht[mt],Qt="normal";break}}if(Ht===""){for(var Kt=0;Kt<ht.length;Kt++)if(Vt[ht[Kt]]){Ht=Vt[ht[Kt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Qt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};A.prototype.setLineDash=function(R){this.lineDash=R},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){S.call(this,"fill",!1)},A.prototype.stroke=function(){S.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(R,H){if(isNaN(R)||isNaN(H))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new i(R,H));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(R,H)},A.prototype.closePath=function(){var R=new i(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Kr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){R=new i(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(R.x,R.y)},A.prototype.lineTo=function(R,H){if(isNaN(R)||isNaN(H))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new i(R,H));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(ae.x,ae.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},A.prototype.quadraticCurveTo=function(R,H,ae,le){if(isNaN(ae)||isNaN(le)||isNaN(R)||isNaN(H))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var pe=this.ctx.transform.applyToPoint(new i(ae,le)),ve=this.ctx.transform.applyToPoint(new i(R,H));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new i(pe.x,pe.y)},A.prototype.bezierCurveTo=function(R,H,ae,le,pe,ve){if(isNaN(pe)||isNaN(ve)||isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new i(pe,ve)),me=this.ctx.transform.applyToPoint(new i(R,H)),ke=this.ctx.transform.applyToPoint(new i(ae,le));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ke.x,y2:ke.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new i(Se.x,Se.y)},A.prototype.arc=function(R,H,ae,le,pe,ve){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le)||isNaN(pe))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new i(R,H));R=Se.x,H=Se.y;var me=this.ctx.transform.applyToPoint(new i(0,ae)),ke=this.ctx.transform.applyToPoint(new i(0,0));ae=Math.sqrt(Math.pow(me.x-ke.x,2)+Math.pow(me.y-ke.y,2))}Math.abs(pe-le)>=2*Math.PI&&(le=0,pe=2*Math.PI),this.path.push({type:"arc",x:R,y:H,radius:ae,startAngle:le,endAngle:pe,counterclockwise:ve})},A.prototype.arcTo=function(R,H,ae,le,pe){throw new Error("arcTo not implemented.")},A.prototype.rect=function(R,H,ae,le){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,H),this.lineTo(R+ae,H),this.lineTo(R+ae,H+le),this.lineTo(R,H+le),this.lineTo(R,H),this.lineTo(R+ae,H),this.lineTo(R,H)},A.prototype.fillRect=function(R,H,ae,le){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var pe={};this.lineCap!=="butt"&&(pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,H,ae,le),this.fill(),pe.hasOwnProperty("lineCap")&&(this.lineCap=pe.lineCap),pe.hasOwnProperty("lineJoin")&&(this.lineJoin=pe.lineJoin)}},A.prototype.strokeRect=function(R,H,ae,le){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(R,H,ae,le),this.stroke())},A.prototype.clearRect=function(R,H,ae,le){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,H,ae,le))},A.prototype.save=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},A.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(H),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(R){var H,ae,le,pe;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))H=0,ae=0,le=0,pe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ve!==null)H=parseInt(ve[1]),ae=parseInt(ve[2]),le=parseInt(ve[3]),pe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)H=parseInt(ve[1]),ae=parseInt(ve[2]),le=parseInt(ve[3]),pe=parseFloat(ve[4]);else{if(pe=1,typeof R=="string"&&R.charAt(0)!=="#"){var Se=new jK(R);R=Se.ok?Se.toHex():"#000000"}R.length===4?(H=R.substring(1,2),H+=H,ae=R.substring(2,3),ae+=ae,le=R.substring(3,4),le+=le):(H=R.substring(1,3),ae=R.substring(3,5),le=R.substring(5,7)),H=parseInt(H,16),ae=parseInt(ae,16),le=parseInt(le,16)}}return{r:H,g:ae,b:le,a:pe,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},h=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(R,H,ae,le){if(isNaN(H)||isNaN(ae)||typeof R!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var pe=J(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;P.call(this,{text:R,x:H,y:ae,scale:ve,angle:pe,align:this.textAlign,maxWidth:le})}},A.prototype.strokeText=function(R,H,ae,le){if(isNaN(H)||isNaN(ae)||typeof R!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){le=isNaN(le)?void 0:le;var pe=J(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;P.call(this,{text:R,x:H,y:ae,scale:ve,renderingMode:"stroke",angle:pe,align:this.textAlign,maxWidth:le})}},A.prototype.measureText=function(R){if(typeof R!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ae=this.pdf.internal.scaleFactor,le=H.internal.getFontSize(),pe=H.getStringUnitWidth(R)*le/H.internal.scaleFactor;return new function(ve){var Se=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:pe*=Math.round(96*ae/72*1e4)/1e4})},A.prototype.scale=function(R,H){if(isNaN(R)||isNaN(H))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u(R,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},A.prototype.rotate=function(R){if(isNaN(R))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},A.prototype.translate=function(R,H){if(isNaN(R)||isNaN(H))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,R,H);this.ctx.transform=this.ctx.transform.multiply(ae)},A.prototype.transform=function(R,H,ae,le,pe,ve){if(isNaN(R)||isNaN(H)||isNaN(ae)||isNaN(le)||isNaN(pe)||isNaN(ve))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(R,H,ae,le,pe,ve);this.ctx.transform=this.ctx.transform.multiply(Se)},A.prototype.setTransform=function(R,H,ae,le,pe,ve){R=isNaN(R)?1:R,H=isNaN(H)?0:H,ae=isNaN(ae)?0:ae,le=isNaN(le)?1:le,pe=isNaN(pe)?0:pe,ve=isNaN(ve)?0:ve,this.ctx.transform=new u(R,H,ae,le,pe,ve)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(R,H,ae,le,pe,ve,Se,me,ke){var Re=this.pdf.getImageProperties(R),De=1,ze=1,et=1,te=1;le!==void 0&&me!==void 0&&(et=me/le,te=ke/pe,De=Re.width/le*me/le,ze=Re.height/pe*ke/pe),ve===void 0&&(ve=H,Se=ae,H=0,ae=0),le!==void 0&&me===void 0&&(me=le,ke=pe),le===void 0&&me===void 0&&(me=Re.width,ke=Re.height);var je=this.ctx.transform.decompose(),Ct=J(je.rotate.shx),ft=new u,He=(ft=(ft=(ft=ft.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new s(ve-H*et,Se-ae*te,le*De,pe*ze));if(this.autoPaging){for(var vt,at=v.call(this,He),ht=[],dt=0;dt<at.length;dt+=1)ht.indexOf(at[dt])===-1&&ht.push(at[dt]);I(ht);for(var Mt=ht[0],Jt=ht[ht.length-1],Qt=Mt;Qt<Jt+1;Qt++){this.pdf.setPage(Qt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Qt===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Qt===1?0:mt+(Qt-2)*Kt;if(this.ctx.clip_path.length!==0){var Mr=this.path;vt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(vt,this.posX+this.margin[3],-ct+Vt+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Mr}var lr=JSON.parse(JSON.stringify(He));lr=B([lr],this.posX+this.margin[3],-ct+Vt+this.ctx.prevPageLastElemOffset)[0];var Zt=(Qt>Mt||Qt<Jt)&&p.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Kt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",lr.x,lr.y,lr.w,lr.h,null,null,Ct),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",He.x,He.y,He.w,He.h,null,null,Ct)};var v=function(R,H,ae){var le=[];H=H||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var pe=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":le.push(Math.floor((R.y+pe)/ae)+1);break;case"arc":le.push(Math.floor((R.y+pe-R.radius)/ae)+1),le.push(Math.floor((R.y+pe+R.radius)/ae)+1);break;case"qct":var ve=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);le.push(Math.floor((ve.y+pe)/ae)+1),le.push(Math.floor((ve.y+ve.h+pe)/ae)+1);break;case"bct":var Se=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);le.push(Math.floor((Se.y+pe)/ae)+1),le.push(Math.floor((Se.y+Se.h+pe)/ae)+1);break;case"rect":le.push(Math.floor((R.y+pe)/ae)+1),le.push(Math.floor((R.y+R.h+pe)/ae)+1)}for(var me=0;me<le.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<le[me];)g.call(this);return le},g=function(){var R=this.fillStyle,H=this.strokeStyle,ae=this.font,le=this.lineCap,pe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=H,this.font=ae,this.lineCap=le,this.lineWidth=pe,this.lineJoin=ve},B=function(R,H,ae){for(var le=0;le<R.length;le++)switch(R[le].type){case"bct":R[le].x2+=H,R[le].y2+=ae;case"qct":R[le].x1+=H,R[le].y1+=ae;default:R[le].x+=H,R[le].y+=ae}return R},I=function(R){return R.sort(function(H,ae){return H-ae})},S=function(R,H){var ae=this.fillStyle,le=this.strokeStyle,pe=this.lineCap,ve=this.lineWidth,Se=Math.abs(ve*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var ke,Re,De=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),et=[],te=0;te<ze.length;te++)if(ze[te].x!==void 0)for(var je=v.call(this,ze[te]),Ct=0;Ct<je.length;Ct+=1)et.indexOf(je[Ct])===-1&&et.push(je[Ct]);for(var ft=0;ft<et.length;ft++)for(;this.pdf.internal.getNumberOfPages()<et[ft];)g.call(this);I(et);for(var He=et[0],vt=et[et.length-1],at=He;at<vt+1;at++){this.pdf.setPage(at),this.fillStyle=ae,this.strokeStyle=le,this.lineCap=pe,this.lineWidth=Se,this.lineJoin=me;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=at===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=at===1?0:Mt+(at-2)*Jt;if(this.ctx.clip_path.length!==0){var Ht=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ke,this.posX+this.margin[3],-Qt+dt+this.ctx.prevPageLastElemOffset),E.call(this,R,!0),this.path=Ht}if(Re=JSON.parse(JSON.stringify(De)),this.path=B(Re,this.posX+this.margin[3],-Qt+dt+this.ctx.prevPageLastElemOffset),H===!1||at===0){var Vt=(at>He||at<vt)&&p.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Jt,null).clip().discardPath()),E.call(this,R,H),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}this.path=De}else this.lineWidth=Se,E.call(this,R,H),this.lineWidth=ve},E=function(R,H){if((R!=="stroke"||H||!h.call(this))&&(R==="stroke"||H||!f.call(this))){for(var ae,le,pe=[],ve=this.path,Se=0;Se<ve.length;Se++){var me=ve[Se];switch(me.type){case"begin":pe.push({begin:!0});break;case"close":pe.push({close:!0});break;case"mt":pe.push({start:me,deltas:[],abs:[]});break;case"lt":var ke=pe.length;if(ve[Se-1]&&!isNaN(ve[Se-1].x)&&(ae=[me.x-ve[Se-1].x,me.y-ve[Se-1].y],ke>0)){for(;ke>=0;ke--)if(pe[ke-1].close!==!0&&pe[ke-1].begin!==!0){pe[ke-1].deltas.push(ae),pe[ke-1].abs.push(me);break}}break;case"bct":ae=[me.x1-ve[Se-1].x,me.y1-ve[Se-1].y,me.x2-ve[Se-1].x,me.y2-ve[Se-1].y,me.x-ve[Se-1].x,me.y-ve[Se-1].y],pe[pe.length-1].deltas.push(ae);break;case"qct":var Re=ve[Se-1].x+2/3*(me.x1-ve[Se-1].x),De=ve[Se-1].y+2/3*(me.y1-ve[Se-1].y),ze=me.x+2/3*(me.x1-me.x),et=me.y+2/3*(me.y1-me.y),te=me.x,je=me.y;ae=[Re-ve[Se-1].x,De-ve[Se-1].y,ze-ve[Se-1].x,et-ve[Se-1].y,te-ve[Se-1].x,je-ve[Se-1].y],pe[pe.length-1].deltas.push(ae);break;case"arc":pe.push({deltas:[],abs:[],arc:!0}),Array.isArray(pe[pe.length-1].abs)&&pe[pe.length-1].abs.push(me)}}le=H?null:R==="stroke"?"stroke":"fill";for(var Ct=!1,ft=0;ft<pe.length;ft++)if(pe[ft].arc)for(var He=pe[ft].abs,vt=0;vt<He.length;vt++){var at=He[vt];at.type==="arc"?D.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,H,!Ct):j.call(this,at.x,at.y),Ct=!0}else if(pe[ft].close===!0)this.pdf.internal.out("h"),Ct=!1;else if(pe[ft].begin!==!0){var ht=pe[ft].start.x,dt=pe[ft].start.y;z.call(this,pe[ft].deltas,ht,dt),Ct=!0}le&&k.call(this,le),H&&O.call(this)}},T=function(R){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-ae;case"top":return R+H-ae;case"hanging":return R+H-2*ae;case"middle":return R+H/2-ae;default:return R}},U=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(H,ae){this.colorStops.push([H,ae])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(R,H,ae,le,pe,ve,Se,me,ke){for(var Re=re.call(this,ae,le,pe,ve),De=0;De<Re.length;De++){var ze=Re[De];De===0&&(ke?N.call(this,ze.x1+R,ze.y1+H):j.call(this,ze.x1+R,ze.y1+H)),ne.call(this,R,H,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}me?O.call(this):k.call(this,Se)},k=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(R,H){this.pdf.internal.out(t(R)+" "+n(H)+" m")},P=function(R){var H;switch(R.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var ae,le,pe,ve=this.pdf.getTextDimensions(R.text),Se=T.call(this,R.y),me=U.call(this,Se)-ve.h,ke=this.ctx.transform.applyToPoint(new i(R.x,Se));if(this.autoPaging){var Re=this.ctx.transform.decompose(),De=new u;De=(De=(De=De.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var ze=this.ctx.transform.applyToRectangle(new s(R.x,Se,ve.w,ve.h)),et=De.applyToRectangle(new s(R.x,me,ve.w,ve.h)),te=v.call(this,et),je=[],Ct=0;Ct<te.length;Ct+=1)je.indexOf(te[Ct])===-1&&je.push(te[Ct]);I(je);for(var ft=je[0],He=je[je.length-1],vt=ft;vt<He+1;vt++){this.pdf.setPage(vt);var at=vt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],Mt=dt-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],Qt=Jt-this.margin[3],Ht=vt===1?0:ht+(vt-2)*Mt;if(this.ctx.clip_path.length!==0){var Vt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ae,this.posX+this.margin[3],-1*Ht+at),E.call(this,"fill",!0),this.path=Vt}var mt=B([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Ht+at+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*R.scale),pe=this.lineWidth,this.lineWidth=pe*R.scale);var Kt=this.autoPaging!=="text";if(Kt||mt.y+mt.h<=dt){if(Kt||mt.y>=at&&mt.x<=Jt){var ct=Kt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Jt-mt.x)[0],Mr=B([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ht+at+this.ctx.prevPageLastElemOffset)[0],lr=Kt&&(vt>ft||vt<He)&&p.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,Mt,null).clip().discardPath()),this.pdf.text(ct,Mr.x,Mr.y,{angle:R.angle,align:H,renderingMode:R.renderingMode}),lr&&this.pdf.restoreGraphicsState()}}else mt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-mt.y);R.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)}}else R.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*R.scale),pe=this.lineWidth,this.lineWidth=pe*R.scale),this.pdf.text(R.text,ke.x+this.posX,ke.y+this.posY,{angle:R.angle,align:H,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=pe)},j=function(R,H,ae,le){ae=ae||0,le=le||0,this.pdf.internal.out(t(R+ae)+" "+n(H+le)+" l")},z=function(R,H,ae){return this.pdf.lines(R,H,ae,null,null)},ne=function(R,H,ae,le,pe,ve,Se,me){this.pdf.internal.out([e(a(ae+R)),e(o(le+H)),e(a(pe+R)),e(o(ve+H)),e(a(Se+R)),e(o(me+H)),"c"].join(" "))},re=function(R,H,ae,le){for(var pe=2*Math.PI,ve=Math.PI/2;H>ae;)H-=pe;var Se=Math.abs(ae-H);Se<pe&&le&&(Se=pe-Se);for(var me=[],ke=le?-1:1,Re=H;Se>1e-5;){var De=Re+ke*Math.min(Se,ve);me.push(Y.call(this,R,Re,De)),Se-=Math.abs(De-Re),Re=De}return me},Y=function(R,H,ae){var le=(ae-H)/2,pe=R*Math.cos(le),ve=R*Math.sin(le),Se=pe,me=-ve,ke=Se*Se+me*me,Re=ke+Se*pe+me*ve,De=4/3*(Math.sqrt(2*ke*Re)-Re)/(Se*ve-me*pe),ze=Se-De*me,et=me+De*Se,te=ze,je=-et,Ct=le+H,ft=Math.cos(Ct),He=Math.sin(Ct);return{x1:R*Math.cos(H),y1:R*Math.sin(H),x2:ze*ft-et*He,y2:ze*He+et*ft,x3:te*ft-je*He,y3:te*He+je*ft,x4:R*Math.cos(ae),y4:R*Math.sin(ae)}},J=function(R){return 180*R/Math.PI},G=function(R,H,ae,le,pe,ve){var Se=R+.5*(ae-R),me=H+.5*(le-H),ke=pe+.5*(ae-pe),Re=ve+.5*(le-ve),De=Math.min(R,pe,Se,ke),ze=Math.max(R,pe,Se,ke),et=Math.min(H,ve,me,Re),te=Math.max(H,ve,me,Re);return new s(De,et,ze-De,te-et)},Z=function(R,H,ae,le,pe,ve,Se,me){var ke,Re,De,ze,et,te,je,Ct,ft,He,vt,at,ht,dt,Mt=ae-R,Jt=le-H,Qt=pe-ae,Ht=ve-le,Vt=Se-pe,mt=me-ve;for(Re=0;Re<41;Re++)ft=(je=(De=R+(ke=Re/40)*Mt)+ke*((et=ae+ke*Qt)-De))+ke*(et+ke*(pe+ke*Vt-et)-je),He=(Ct=(ze=H+ke*Jt)+ke*((te=le+ke*Ht)-ze))+ke*(te+ke*(ve+ke*mt-te)-Ct),Re==0?(vt=ft,at=He,ht=ft,dt=He):(vt=Math.min(vt,ft),at=Math.min(at,He),ht=Math.max(ht,ft),dt=Math.max(dt,He));return new s(Math.round(vt),Math.round(at),Math.round(ht-vt),Math.round(dt-at))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,H,ae=(R=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:H}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(er.API),(function(r){var e=function(i){var s,u,l,c,A,d,f,h,p,v;for(/[^\x00-\xFF]/.test(i),u=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(A=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(d=(A=((A=((A=((A=(A-(v=A%85))/85)-(p=A%85))/85)-(h=A%85))/85)-(f=A%85))/85)%85,u.push(d+33,f+33,h+33,p+33,v+33)):u.push(122);return(function(g,B){for(var I=B;I>0;I--)g.pop()})(u,s.length),String.fromCharCode.apply(String,u)+"~>"},t=function(i){var s,u,l,c,A,d=String,f="length",h=255,p="charCodeAt",v="slice",g="replace";for(i[v](-2),i=i[v](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,A=(i+=s="uuuuu"[v](i[f]%5||5))[f];A>c;c+=5)u=52200625*(i[p](c)-33)+614125*(i[p](c+1)-33)+7225*(i[p](c+2)-33)+85*(i[p](c+3)-33)+(i[p](c+4)-33),l.push(h&u>>24,h&u>>16,h&u>>8,h&u);return(function(B,I){for(var S=I;S>0;S--)B.pop()})(l,s[f]),d.fromCharCode.apply(d,l)},n=function(i){return i.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",l=0;l<i.length;l+=2)u+=String.fromCharCode("0x"+(i[l]+i[l+1]));return u},o=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return(s=z2(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};r.processDataByFilters=function(i,s){var u=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=o(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}})(er.API),(function(r){r.loadFile=function(e,t,n){return(function(a,o,i){o=o!==!1,i=typeof i=="function"?i:function(){};var s=void 0;try{s=(function(u,l,c){var A=new XMLHttpRequest,d=0,f=function(h){var p=h.length,v=[],g=String.fromCharCode;for(d=0;d<p;d+=1)v.push(g(255&h.charCodeAt(d)));return v.join("")};if(A.open("GET",u,!l),A.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(A.onload=function(){A.status===200?c(f(this.responseText)):c(void 0)}),A.send(null),l&&A.status===200)return f(A.responseText)})(a,o,i)}catch{}return s})(e,t,n)},r.allowFsRead=void 0,r.loadImageFile=r.loadFile})(er.API),(function(r){function e(){return(pr.html2canvas?Promise.resolve(pr.html2canvas):Promise.resolve().then(()=>At(F7()))).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(pr.DOMPurify?Promise.resolve(pr.DOMPurify):Promise.resolve().then(()=>(q7(),V7))).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var u=Kr(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(s,u){var l=document.createElement(s);for(var c in u.className&&(l.className=u.className),u.innerHTML&&u.dompurify&&(l.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)l.style[c]=u.style[c];return l},o=function s(u,l){for(var c=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),A=u.firstChild;A;A=A.nextSibling)l!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||c.appendChild(s(A,l));return u.nodeType===1&&(u.nodeName==="CANVAS"?(c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(c.value=u.value),c.addEventListener("load",function(){c.scrollTop=u.scrollTop,c.scrollLeft=u.scrollLeft},!0)),c},i=function s(u){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return(c=c.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||(function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),u){case"string":return this.then(t).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,u(this.prop.container,l)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(u){var l=this.opt.jsPDF,c=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],p=h.src.find(function(v){return v.format==="truetype"});p&&l.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),u(this.prop.container,d)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var u=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||er.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,l,c){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,l,c){return this.setProgress(s?this.progress.val+s:null,u||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,u){var l=this;return this.thenCore(s,u,function(c,A){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,A).then(function(d){return l.updateProgress(1),d})})},i.prototype.thenCore=function(s,u,l){l=l||Promise.prototype.then;var c=this;s&&(s=s.bind(c)),u&&(u=u.bind(c));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:i.convert(Object.assign({},c),Promise.prototype),d=l.call(A,s,u);return i.convert(d,c.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(l){u=u.thenCore(l)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,er.getPageSize=function(s,u,l){if(Kr(s)==="object"){var c=s;s=c.orientation,u=c.unit||u,l=c.format||l}u=u||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var A,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+u}var h,p=0,v=0;if(f.hasOwnProperty(d))p=f[d][1]/A,v=f[d][0]/A;else try{p=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",v>p&&(h=v,v=p,p=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",p>v&&(h=v,v=p,p=h)}return{width:v,height:p,unit:u,k:A,orientation:s}},r.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(tk):null;var l=new i(u);return u.worker?l:l.from(s).doCallback()}})(er.API),er.API.addJS=function(r){var e,t,n=r;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var i=a[o],s=n.exec(i);if(s!=null){var u=s[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(o=0;o<l;o++){var A=t.internal.newObject();c.push(A);var d=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<c.length;o++)t.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,o){var i={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var i=n.children[o];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var u=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var l=0;l<n.children.length;l++)this.renderItems(n.children[l])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])})(er.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,a,o,i,s){var u,l=this.decode.DCT_DECODE,c=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(A){for(var d,f=256*A.charCodeAt(4)+A.charCodeAt(5),h=A.length,p={width:0,height:0,numcomponents:1},v=4;v<h;v+=2){if(v+=f,e.indexOf(A.charCodeAt(v+1))!==-1){d=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),p={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:d,numcomponents:A.charCodeAt(v+9)};break}f=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return p})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:t,width:u.width,height:u.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:a}}return c}})(er.API),er.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=E7(r,{checkCrc:!0}),i=o.width,s=o.height,u=o.channels,l=o.palette,c=o.depth;a=l&&u===1?(function(D){for(var k=D.width,O=D.height,N=D.data,P=D.palette,j=D.depth,z=!1,ne=[],re=[],Y=void 0,J=!1,G=0,Z=0;Z<P.length;Z++){var he=EF(P[Z],4),R=he[0],H=he[1],ae=he[2],le=he[3];ne.push(R,H,ae),le!=null&&(le===0?(G++,re.length<1&&re.push(Z)):le<255&&(J=!0))}if(J||G>1){z=!0,re=void 0;var pe=k*O;Y=new Uint8Array(pe);for(var ve=new DataView(N.buffer),Se=0;Se<pe;Se++){var me=nk(ve,Se,j),ke=EF(P[me],4)[3];Y[Se]=ke}}else G===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:N,alphaBytes:Y,needSMask:z,palette:ne,mask:re}})(o):u===2||u===4?(function(D){for(var k=D.data,O=D.width,N=D.height,P=D.channels,j=D.depth,z=P===2?"DeviceGray":"DeviceRGB",ne=P-1,re=O*N,Y=ne,J=re*Y,G=1*re,Z=Math.ceil(J*j/8),he=Math.ceil(G*j/8),R=new Uint8Array(Z),H=new Uint8Array(he),ae=new DataView(k.buffer),le=new DataView(R.buffer),pe=new DataView(H.buffer),ve=!1,Se=0;Se<re;Se++){for(var me=Se*P,ke=0;ke<Y;ke++)VK(le,nk(ae,me+ke,j),Se*Y+ke,j);var Re=nk(ae,me+Y,j);Re<(1<<j)-1&&(ve=!0),VK(pe,Re,1*Se,j)}return{colorSpace:z,colorsPerPixel:ne,sMaskBitsPerComponent:ve?j:void 0,colorBytes:R,alphaBytes:H,needSMask:ve}})(o):(function(D){var k=D.data,O=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(N){for(var P=N.length,j=new Uint8Array(2*P),z=new DataView(j.buffer,j.byteOffset,j.byteLength),ne=0;ne<P;ne++)z.setUint16(2*ne,N[ne],!1);return j})(k):k,needSMask:!1}})(o);var A,d,f,h=a,p=h.colorSpace,v=h.colorsPerPixel,g=h.sMaskBitsPerComponent,B=h.colorBytes,I=h.alphaBytes,S=h.needSMask,E=h.palette,T=h.mask,U=null;return n!==er.API.image_compression.NONE&&typeof z2=="function"?(U=(function(D){var k;switch(D){case er.API.image_compression.FAST:k=11;break;case er.API.image_compression.MEDIUM:k=13;break;case er.API.image_compression.SLOW:k=14;break;default:k=12}return k})(n),A=this.decode.FLATE_DECODE,d="/Predictor ".concat(U," /Colors ").concat(v," /BitsPerComponent ").concat(c," /Columns ").concat(i),r=MK(B,Math.ceil(i*v*c/8),v,c,n),S&&(f=MK(I,Math.ceil(i*g/8),1,g,n))):(A=void 0,d=void 0,r=B,S&&(f=I)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:t,data:r,index:e,filter:A,decodeParameters:d,transparency:T,palette:E,sMask:f,predictor:U,width:i,height:s,bitsPerComponent:c,sMaskBitsPerComponent:g,colorSpace:p}}},(function(r){r.processGIF89A=function(e,t,n,a){var o=new xbe(e),i=o.width,s=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:i,height:s},c=new ak(100).encode(l,100);return r.processJPEG.call(this,c,t,n,a)},r.processGIF87A=r.processGIF89A})(er.API),sl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},sl.prototype.parseBGR=function(){this.pos=this.offset;var r="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[r]()}catch(t){Pn.log("bit decode error:"+t)}},sl.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var u=this.palette[o>>7-s&1];this.data[i+4*s]=u.blue,this.data[i+4*s+1]=u.green,this.data[i+4*s+2]=u.red,this.data[i+4*s+3]=255}t!==0&&(this.pos+=4-t)}},sl.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*a*4,s=o>>4,u=15&o,l=this.palette[s];if(this.data[i]=l.blue,this.data[i+1]=l.green,this.data[i+2]=l.red,this.data[i+3]=255,2*a+1>=this.width)break;l=this.palette[u],this.data[i+4]=l.blue,this.data[i+4+1]=l.green,this.data[i+4+2]=l.red,this.data[i+4+3]=255}e!==0&&(this.pos+=4-e)}},sl.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(a<this.palette.length){var i=this.palette[a];this.data[o]=i.red,this.data[o+1]=i.green,this.data[o+2]=i.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},sl.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,l=o>>15?255:0,c=n*this.width*4+4*a;this.data[c]=u,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=l}this.pos+=r}},sl.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,u=(i>>5&t)/t*255|0,l=(i>>11)/e*255|0,c=a*this.width*4+4*o;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=s,this.data[c+3]=255}this.pos+=r}},sl.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*t;this.data[i]=o,this.data[i+1]=a,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},sl.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=i}},sl.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,a){var o=new sl(e,!1),i=o.width,s=o.height,u={data:o.getData(),width:i,height:s},l=new ak(100).encode(u,100);return r.processJPEG.call(this,l,t,n,a)}})(er.API),WK.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,a){var o=new WK(e),i=o.width,s=o.height,u={data:o.getData(),width:i,height:s},l=new ak(100).encode(u,100);return r.processJPEG.call(this,l,t,n,a)}})(er.API),er.API.processRGBA=function(r,e,t){for(var n=r.data,a=n.length,o=new Uint8Array(a/4*3),i=new Uint8Array(a/4),s=0,u=0,l=0;l<a;l+=4){var c=n[l],A=n[l+1],d=n[l+2],f=n[l+3];o[s++]=c,o[s++]=A,o[s++]=d,i[u++]=f}var h=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:h,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},er.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wg=er.API,lS=wg.getCharWidthsArray=function(r,e){var t,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),i=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:a.metadata.Unicode.widths,u=s.fof?s.fof:1,l=e.kerning?e.kerning:a.metadata.Unicode.kerning,c=l.fof?l.fof:1,A=e.doKerning!==!1,d=0,f=r.length,h=0,p=s[0]||u,v=[];for(t=0;t<f;t++)n=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+i*(1e3/o)||0)/1e3):(d=A&&Kr(l[n])==="object"&&!isNaN(parseInt(l[n][h],10))?l[n][h]/c:0,v.push((s[n]||p)/u+d)),h=n;return v},PK=wg.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return wg.processArabic&&(r=wg.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,a)/t:lS.apply(this,arguments).reduce(function(o,i){return o+i},0)},DK=function(r,e,t,n){for(var a=[],o=0,i=r.length,s=0;o!==i&&s+e[o]<t;)s+=e[o],o++;a.push(r.slice(0,o));var u=o;for(s=0;o!==i;)s+e[o]>n&&(a.push(r.slice(u,o)),s=0,u=o),s+=e[o],o++;return u!==o&&a.push(r.slice(u,o)),a},RK=function(r,e,t){t||(t={});var n,a,o,i,s,u,l,c=[],A=[c],d=t.textIndent||0,f=0,h=0,p=r.split(" "),v=lS.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?p[0].length+2:t.lineIndent||0){var g=Array(u).join(" "),B=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?B=B.concat(S.map(function(E,T){return(T&&E.length?`
`:"")+E})):B.push(S[0])}),p=B,u=PK.apply(this,[g,t])}for(o=0,i=p.length;o<i;o++){var I=0;if(n=p[o],u&&n[0]==`
`&&(n=n.substr(1),I=1),d+f+(h=(a=lS.apply(this,[n,t])).reduce(function(S,E){return S+E},0))>e||I){if(h>e){for(s=DK.apply(this,[n,a,e-(d+f),e]),c.push(s.shift()),c=[s.pop()];s.length;)A.push([s.shift()]);h=a.slice(n.length-(c[0]?c[0].length:0)).reduce(function(S,E){return S+E},0)}else c=[n];A.push(c),d=h+u,f=v}else c.push(n),d+=f+h,f=v}return l=u?function(S,E){return(E?g:"")+S.join(" ")}:function(S){return S.join(" ")},A.map(l)},wg.splitTextToSize=function(r,e,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var A=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return A.metadata[d]?{widths:A.metadata[d].widths||{0:1},kerning:A.metadata[d].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var i=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var s,u,l=[];for(s=0,u=n.length;s<u;s++)l=l.concat(RK.apply(this,[n[s],i,o]));return l},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[t[o]]=e[o],a[e[o]]=t[o];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=r.__fontmetrics__.compress=function(d){var f,h,p,v,g=["{"];for(var B in d){if(f=d[B],isNaN(parseInt(B,10))?h="'"+B+"'":(B=parseInt(B,10),h=(h=i(B).slice(2)).slice(0,-1)+a[h.slice(-1)]),typeof f=="number")f<0?(p=i(f).slice(3),v="-"):(p=i(f).slice(2),v=""),p=v+p.slice(0,-1)+a[p.slice(-1)];else{if(Kr(f)!=="object")throw new Error("Don't know what to do with value type "+Kr(f)+".");p=s(f)}g.push(h+p)}return g.push("}"),g.join("")},u=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,v,g={},B=1,I=g,S=[],E="",T="",U=d.length-1,D=1;D<U;D+=1)(v=d[D])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(S.push([I,p]),I={},p=void 0):v=="}"?((h=S.pop())[0][h[1]]=I,p=void 0,I=h[0]):v=="-"?B=-1:p===void 0?n.hasOwnProperty(v)?(E+=n[v],p=parseInt(E,16)*B,B=1,E=""):E+=v:n.hasOwnProperty(v)?(T+=n[v],I[p]=parseInt(T,16)*B,B=1,p=void 0,T=""):T+=v;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},A={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var f=d.font,h=A.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])})(er.API),(function(r){var e=function(t){for(var n=t.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var n=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(cS(s)),i.metadata=r.API.TTFFont.open(s),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,n)}}])})(er),er.API.addSvgAsImage=function(r,e,t,n,a,o,i,s){if(isNaN(e)||isNaN(t))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(pr.canvg?Promise.resolve(pr.canvg):Promise.resolve().then(()=>(CK(),bK))).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(l,r,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){A.addImage(u.toDataURL("image/jpeg",1),e,t,n,a,i,s)})},er.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,t);return this},er.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,a,o,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(i),u=[],l=0,c=0,A=0;function d(h,p){var v,g=!1;for(v=0;v<h.length;v+=1)h[v]===p&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var f=s.length;for(A=0;A<f;A+=1)t[s[A]].value=t[s[A]].defaultValue,t[s[A]].explicitSet=!1}if(Kr(r)==="object"){for(a in r)if(o=r[a],d(s,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&d(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(l=0;l<o.length;l+=1)if(n=!0,o[l].length===1&&typeof o[l][0]=="number")u.push(String(o[l]-1));else if(o[l].length>1){for(c=0;c<o[l].length;c+=1)typeof o[l][c]!="number"&&(n=!1);n===!0&&u.push([o[l][0]-1,o[l][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var h,p=[];for(h in t)t[h].explicitSet===!0&&(t[h].type==="name"?p.push("/"+h+" /"+t[h].value):p.push("/"+h+" "+t[h].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},er.API.addMetadata=function(r,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",bbe),this.internal.events.subscribe("postPutResources",wbe)),this},(function(r){var e=r.API,t=e.pdfEscape16=function(o,i){for(var s,u=i.metadata.Unicode.widths,l=["","0","00","000","0000"],c=[""],A=0,d=o.length;A<d;++A){if(s=i.metadata.characterToGlyph(o.charCodeAt(A)),i.metadata.glyIdsUsed.push(s),i.metadata.toUnicode[s]=o.charCodeAt(A),u.indexOf(s)==-1&&(u.push(s),u.push([parseInt(i.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(l[4-s.length],s)}return c.join("")},n=function(o){var i,s,u,l,c,A,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],A=0,d=(s=Object.keys(o).sort(function(f,h){return f-h})).length;A<d;A++)i=s[A],u.length>=100&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[i]!==void 0&&o[i]!==null&&typeof o[i].toString=="function"&&(l=("0000"+o[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),u.push("<"+i+"><"+l+">"));return u.length&&(c+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(i){var s=i.font,u=i.out,l=i.newObject,c=i.putStream;if(s.metadata instanceof r.API.TTFFont&&s.encoding==="Identity-H"){for(var A=s.metadata.Unicode.widths,d=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=l();c({data:f,addLength1:!0,objectId:p}),u("endobj");var v=l();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),u("endobj");var g=l();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Cg(s.fontName)),u("/FontFile2 "+p+" 0 R"),u("/FontBBox "+r.API.PDFObject.convert(s.metadata.bbox)),u("/Flags "+s.metadata.flags),u("/StemV "+s.metadata.stemV),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u(">>"),u("endobj");var B=l();u("<<"),u("/Type /Font"),u("/BaseFont /"+Cg(s.fontName)),u("/FontDescriptor "+g+" 0 R"),u("/W "+r.API.PDFObject.convert(A)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+s.encoding+")"),u(">>"),u(">>"),u("endobj"),s.objectNumber=l(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+v+" 0 R"),u("/BaseFont /"+Cg(s.fontName)),u("/Encoding /"+s.encoding),u("/DescendantFonts ["+B+" 0 R]"),u(">>"),u("endobj"),s.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(i){var s=i.font,u=i.out,l=i.newObject,c=i.putStream;if(s.metadata instanceof r.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var A=s.metadata.rawData,d="",f=0;f<A.length;f++)d+=String.fromCharCode(A[f]);var h=l();c({data:d,addLength1:!0,objectId:h}),u("endobj");var p=l();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:p}),u("endobj");var v=l();u("<<"),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u("/StemV "+s.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+h+" 0 R"),u("/Flags 96"),u("/FontBBox "+r.API.PDFObject.convert(s.metadata.bbox)),u("/FontName /"+Cg(s.fontName)),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u(">>"),u("endobj"),s.objectNumber=l();for(var g=0;g<s.metadata.hmtx.widths.length;g++)s.metadata.hmtx.widths[g]=parseInt(s.metadata.hmtx.widths[g]*(1e3/s.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Cg(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),u("endobj"),s.isAlreadyPutted=!0}})(o)}]);var a=function(o){var i,s=o.text||"",u=o.x,l=o.y,c=o.options||{},A=o.mutex||{},d=A.pdfEscape,f=A.activeFontKey,h=A.fonts,p=f,v="",g=0,B="",I=h[p].encoding;if(h[p].encoding!=="Identity-H")return{text:s,x:u,y:l,options:c,mutex:A};for(B=s,p=f,Array.isArray(s)&&(B=s[0]),g=0;g<B.length;g+=1)h[p].metadata.hasOwnProperty("cmap")&&(i=h[p].metadata.cmap.unicode.codeMap[B[g].charCodeAt(0)]),i||B[g].charCodeAt(0)<256&&h[p].metadata.hasOwnProperty("Unicode")?v+=B[g]:v+="";var S="";return parseInt(p.slice(1))<14||I==="WinAnsiEncoding"?S=d(v,p).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(S=t(v,h[p])),A.isHex=!0,{text:S,x:u,y:l,options:c,mutex:A}};e.events.push(["postProcessText",function(o){var i=o.text||"",s=[],u={text:i,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(i)){var l=0;for(l=0;l<i.length;l+=1)Array.isArray(i[l])&&i[l].length===3?s.push([a(Object.assign({},u,{text:i[l][0]})).text,i[l][1],i[l][2]]):s.push(a(Object.assign({},u,{text:i[l]})).text);o.text=s}else o.text=a(Object.assign({},u,{text:i})).text}])})(er),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(er.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var a,o,i,s,u,l,c,A=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,I=0;this.__bidiEngine__={};var S=function(N){var P=N.charCodeAt(),j=P>>8,z=p[j];return z!==void 0?A[256*z+(255&P)]:j===252||j===253?"AL":g.test(j)?"L":j===8?"R":"N"},E=function(N){for(var P,j=0;j<N.length;j++){if((P=S(N.charAt(j)))==="L")return!1;if(P==="R")return!0}return!1},T=function(N,P,j,z){var ne,re,Y,J,G=P[z];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(G="AN");break;case"AL":B=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":z<1||z+1>=P.length||(ne=j[z-1])!=="EN"&&ne!=="AN"||(re=P[z+1])!=="EN"&&re!=="AN"?G="N":B&&(re="AN"),G=re===ne?re:"N";break;case"ES":G=(ne=z>0?j[z-1]:"B")==="EN"&&z+1<P.length&&P[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&j[z-1]==="EN"){G="EN";break}if(B){G="N";break}for(Y=z+1,J=P.length;Y<J&&P[Y]==="ET";)Y++;G=Y<J&&P[Y]==="EN"?"EN":"N";break;case"NSM":if(i&&!s){for(J=P.length,Y=z+1;Y<J&&P[Y]==="NSM";)Y++;if(Y<J){var Z=N[z],he=Z>=1425&&Z<=2303||Z===64286;if(ne=P[Y],he&&(ne==="R"||ne==="AL")){G="R";break}}}G=z<1||(ne=P[z-1])==="B"?"N":j[z-1];break;case"B":B=!1,a=!0,G=I;break;case"S":o=!0,G="N"}return G},U=function(N,P,j){var z=N.split("");return j&&D(z,j,{hiLevel:I}),z.reverse(),P&&P.reverse(),z.join("")},D=function(N,P,j){var z,ne,re,Y,J,G=-1,Z=N.length,he=0,R=[],H=I?f:d,ae=[];for(B=!1,a=!1,o=!1,ne=0;ne<Z;ne++)ae[ne]=S(N[ne]);for(re=0;re<Z;re++){if(J=he,R[re]=T(N,ae,R,re),z=240&(he=H[J][h[R[re]]]),he&=15,P[re]=Y=H[he][5],z>0)if(z===16){for(ne=G;ne<re;ne++)P[ne]=1;G=-1}else G=-1;if(H[he][6])G===-1&&(G=re);else if(G>-1){for(ne=G;ne<re;ne++)P[ne]=Y;G=-1}ae[re]==="B"&&(P[re]=0),j.hiLevel|=Y}o&&(function(le,pe,ve){for(var Se=0;Se<ve;Se++)if(le[Se]==="S"){pe[Se]=I;for(var me=Se-1;me>=0&&le[me]==="WS";me--)pe[me]=I}})(ae,P,Z)},k=function(N,P,j,z,ne){if(!(ne.hiLevel<N)){if(N===1&&I===1&&!a)return P.reverse(),void(j&&j.reverse());for(var re,Y,J,G,Z=P.length,he=0;he<Z;){if(z[he]>=N){for(J=he+1;J<Z&&z[J]>=N;)J++;for(G=he,Y=J-1;G<Y;G++,Y--)re=P[G],P[G]=P[Y],P[Y]=re,j&&(re=j[G],j[G]=j[Y],j[Y]=re);he=J}he++}}},O=function(N,P,j){var z=N.split(""),ne={hiLevel:I};return j||(j=[]),D(z,j,ne),(function(re,Y,J){if(J.hiLevel!==0&&c)for(var G,Z=0;Z<re.length;Z++)Y[Z]===1&&(G=v.indexOf(re[Z]))>=0&&(re[Z]=v[G+1])})(z,j,ne),k(2,z,P,j,ne),k(1,z,P,j,ne),z.join("")};return this.__bidiEngine__.doBidiReorder=function(N,P,j){if((function(ne,re){if(re)for(var Y=0;Y<ne.length;Y++)re[Y]=Y;s===void 0&&(s=E(ne)),l===void 0&&(l=E(ne))})(N,P),i||!u||l)if(i&&u&&s^l)I=s?1:0,N=U(N,P,j);else if(!i&&u&&l)I=s?1:0,N=O(N,P,j),N=U(N,P);else if(!i||s||u||l){if(i&&!u&&s^l)N=U(N,P),s?(I=0,N=O(N,P,j)):(I=1,N=O(N,P,j),N=U(N,P));else if(i&&s&&!u&&l)I=1,N=O(N,P,j),N=U(N,P);else if(!i&&!u&&s^l){var z=c;s?(I=1,N=O(N,P,j),I=0,c=!1,N=O(N,P,j),c=z):(I=0,N=O(N,P,j),N=U(N,P),I=1,c=!1,N=O(N,P,j),c=z,N=U(N,P))}}else I=0,N=O(N,P,j);else I=s?1:0,N=O(N,P,j);return N},this.__bidiEngine__.setOptions=function(N){N&&(i=N.isInputVisual,u=N.isOutputVisual,s=N.isInputRtl,l=N.isOutputRtl,c=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var i=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(i=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?i.push([t.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):i.push([t.doBidiReorder(a[s])]);n.text=i}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(er),er.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Sf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Mbe(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new Cbe(this.contents),this.head=new Sbe(this),this.name=new Tbe(this),this.cmap=new nX(this),this.toUnicode={},this.hhea=new Ibe(this),this.maxp=new _be(this),this.hmtx=new kbe(this),this.post=new Lbe(this),this.os2=new Ebe(this),this.loca=new Rbe(this),this.glyf=new Nbe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var i,s,u,l;for(l=[],i=0,s=(u=this.bbox).length;i<s;i++)e=u[i],l.push(Math.round(e*this.scaleFactor));return l}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var a,o,i,s;for(i=0,o=0,s=(e=""+e).length;0<=s?o<s:o>s;o=0<=s?++o:--o)a=e.charCodeAt(o),i+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return i*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();Sf=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,a;for(a=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,a,o,i,s,u;return e=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^i)+256*(255^s)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*a+16777216*o+65536*i+256*s+u},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)t=e[n],o.push(this.writeByte(t));return o},r})(),Cbe=(function(){var r;function e(t){var n,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,a,o,i,s,u,l,c,A,d,f,h,p;for(p in f=Object.keys(t).length,u=Math.log(2),A=16*Math.floor(Math.log(f)/u),i=Math.floor(A/u),c=16*f-A,(a=new Sf).writeInt(this.scalarType),a.writeShort(f),a.writeShort(A),a.writeShort(i),a.writeShort(c),o=16*f,l=a.pos+o,s=null,h=[],t)for(d=t[p],a.writeString(p),a.writeInt(r(d)),a.writeInt(l),a.writeInt(d.length),h=h.concat(d),p==="head"&&(s=l),l+=d.length;l%4;)h.push(0),l++;return a.write(h),n=2981146554-r(a.data),a.pos=s+8,a.writeUInt32(n),a.data},r=function(t){var n,a,o,i;for(t=aX.call(t);t.length%4;)t.push(0);for(o=new Sf(t),a=0,n=0,i=t.length;n<i;n=n+=4)a+=o.readUInt32();return 4294967295&a},e})(),Bbe={}.hasOwnProperty,Gl=function(r,e){for(var t in e)Bbe.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};ll=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();Sbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Sf).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),zK=(function(){function r(e,t){var n,a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,o=(function(){var S,E;for(E=[],u=S=0;0<=d?S<d:S>d;u=0<=d?++S:--S)E.push(e.readUInt16());return E})(),e.pos+=2,p=(function(){var S,E;for(E=[],u=S=0;0<=d?S<d:S>d;u=0<=d?++S:--S)E.push(e.readUInt16());return E})(),l=(function(){var S,E;for(E=[],u=S=0;0<=d?S<d:S>d;u=0<=d?++S:--S)E.push(e.readUInt16());return E})(),c=(function(){var S,E;for(E=[],u=S=0;0<=d?S<d:S>d;u=0<=d?++S:--S)E.push(e.readUInt16());return E})(),a=(this.length-e.pos+this.offset)/2,s=(function(){var S,E;for(E=[],u=S=0;0<=a?S<a:S>a;u=0<=a?++S:--S)E.push(e.readUInt16());return E})(),u=g=0,I=o.length;g<I;u=++g)for(v=o[u],n=B=h=p[u];h<=v?B<=v:B>=v;n=h<=v?++B:--B)c[u]===0?i=n+l[u]:(i=s[c[u]/2+(n-h)-(d-u)]||0)!==0&&(i+=l[u]),this.codeMap[n]=65535&i}e.pos=A}return r.encode=function(e,t){var n,a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D,k,O,N,P,j,z,ne,re,Y,J,G,Z,he,R,H,ae,le,pe,ve,Se,me,ke,Re,De;switch(z=new Sf,i=Object.keys(e).sort(function(ze,et){return ze-et}),t){case"macroman":for(p=0,v=(function(){var ze=[];for(h=0;h<256;++h)ze.push(0);return ze})(),B={0:0},o={},ne=0,G=i.length;ne<G;ne++)B[me=e[a=i[ne]]]==null&&(B[me]=++p),o[a]={old:e[a],new:B[e[a]]},v[a]=B[e[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(v),{charMap:o,subtable:z.data,maxGlyphID:p+1};case"unicode":for(P=[],A=[],I=0,B={},n={},g=l=null,re=0,Z=i.length;re<Z;re++)B[E=e[a=i[re]]]==null&&(B[E]=++I),n[a]={old:E,new:B[E]},s=B[E]-a,g!=null&&s===l||(g&&A.push(g),P.push(a),l=s),g=a;for(g&&A.push(g),A.push(65535),P.push(65535),O=2*(k=P.length),D=2*Math.pow(Math.log(k)/Math.LN2,2),d=Math.log(D/2)/Math.LN2,U=2*k-D,u=[],T=[],f=[],h=Y=0,he=P.length;Y<he;h=++Y){if(N=P[h],c=A[h],N===65535){u.push(0),T.push(0);break}if(N-(j=n[N].new)>=32768)for(u.push(0),T.push(2*(f.length+k-h)),a=J=N;N<=c?J<=c:J>=c;a=N<=c?++J:--J)f.push(n[a].new);else u.push(j-N),T.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*k+2*f.length),z.writeUInt16(0),z.writeUInt16(O),z.writeUInt16(D),z.writeUInt16(d),z.writeUInt16(U),ve=0,R=A.length;ve<R;ve++)a=A[ve],z.writeUInt16(a);for(z.writeUInt16(0),Se=0,H=P.length;Se<H;Se++)a=P[Se],z.writeUInt16(a);for(ke=0,ae=u.length;ke<ae;ke++)s=u[ke],z.writeUInt16(s);for(Re=0,le=T.length;Re<le;Re++)S=T[Re],z.writeUInt16(S);for(De=0,pe=f.length;De<pe;De++)p=f[De],z.writeUInt16(p);return{charMap:n,subtable:z.data,maxGlyphID:I+1}}},r})(),nX=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t=new zK(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,a;return t==null&&(t="macroman"),n=zK.encode(e,t),(a=new Sf).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},r})(),Ibe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),Ebe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),Lbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var i,s,u;for(u=[],o=i=0,s=this.file.maxp.numGlyphs;0<=s?i<s:i>s;o=0<=s?++i:--i)u.push(e.readUInt32());return u}.call(this)}},r})(),Fbe=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Tbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,a,o,i,s,u,l,c,A,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(u={},o=c=0,A=n.length;c<A;o=++c)a=n[o],e.pos=a.offset,l=e.readString(a.length),i=new Fbe(l,a),u[d=a.nameID]==null&&(u[d]=[]),u[a.nameID].push(i);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r})(),_be=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),kbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,a,o,i,s,u;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var l,c;for(c=[],t=l=0;0<=a?l<a:l>a;t=0<=a?++l:--l)c.push(e.readInt16());return c})(),this.widths=function(){var l,c,A,d;for(d=[],l=0,c=(A=this.metrics).length;l<c;l++)o=A[l],d.push(o.advance);return d}.call(this),n=this.widths[this.widths.length-1],u=[],t=i=0;0<=a?i<a:i>a;t=0<=a?++i:--i)u.push(this.widths.push(n));return u},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),aX=[].slice,Nbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,a,o,i,s,u,l,c,A;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,i=(s=new Sf(t.read(a))).readShort(),l=s.readShort(),A=s.readShort(),u=s.readShort(),c=s.readShort(),this.cache[e]=i===-1?new Dbe(s,l,A,u,c):new Pbe(s,i,l,A,u,c),this.cache[e]))},r.prototype.encode=function(e,t,n){var a,o,i,s,u;for(i=[],o=[],s=0,u=t.length;s<u;s++)a=e[t[s]],o.push(i.length),a&&(i=i.concat(a.encode(n)));return o.push(i.length),{table:i,offsets:o}},r})(),Pbe=(function(){function r(e,t,n,a,o,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=i,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),Dbe=(function(){function r(e,t,n,a,o){var i,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Sf(aX.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),Rbe=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Gl(r,ll),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}.call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,i=0;i<n.length;++i)if(n[i]=a,o<t.length&&t[o]==i){++o,n[i]=a;var s=this.offsets[i],u=this.offsets[i+1]-s;u>0&&(a+=u)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},r})(),Mbe=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=a[n];return e},r.prototype.glyphsFor=function(e){var t,n,a,o,i,s,u;for(a={},i=0,s=e.length;i<s;i++)a[o=e[i]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(n=a[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))n=u[o],a[o]=n;return a},r.prototype.encode=function(e,t){var n,a,o,i,s,u,l,c,A,d,f,h,p,v,g;for(a in n=nX.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),f={0:0},g=n.charMap)f[(u=g[a]).old]=u.new;for(h in d=n.maxGlyphID,i)h in f||(f[h]=d++);return c=(function(B){var I,S;for(I in S={},B)S[B[I]]=I;return S})(f),A=Object.keys(c).sort(function(B,I){return B-I}),p=(function(){var B,I,S;for(S=[],B=0,I=A.length;B<I;B++)s=A[B],S.push(c[s]);return S})(),o=this.font.glyf.encode(i,p,f),l=this.font.loca.encode(o.offsets,p),v={cmap:this.font.cmap.raw(),glyf:o.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},r})();er.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,a,o,i;if(Array.isArray(t))return"["+(function(){var s,u,l;for(l=[],s=0,u=t.length;s<u;s++)n=t[s],l.push(e.convert(n));return l})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)i=t[a],o.push("/"+a+" "+e.convert(i));return o.push(">>"),o.join(`
`)}return""+t},e})()});var W=At(jt(),1);var Ls=At(jt(),1),$t=At(jt(),1),Da=At(jt(),1),NI=At(jt(),1),VN=At(jt(),1),an=At(jt(),1),EJ=At(jt(),1),LJ=At(jt(),1),FJ=At(jt(),1),cr=At(jt(),1),n3=At(jt(),1),QJ={};function Pa(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function eu(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vx({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function fp(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}var w$;w$=new WeakMap;function SI(r,e,t="/"){return b$(r,e,t,!1)}function b$(r,e,t,n){let a=typeof e=="string"?fp(e):e,o=bl(a.pathname||"/",t);if(o==null)return null;let i=bN(r);B$(i);let s=null;for(let u=0;s==null&&u<i.length;++u){let l=D$(o);s=N$(i[u],l,n)}return s}function C$(r,e){let{route:t,pathname:n,params:a}=r;return{id:t.id,pathname:n,params:a,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function bN(r,e=[],t=[],n="",a=!1){let o=(i,s,u=a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&u)return;Pa(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let A=hc([n,c.relativePath]),d=t.concat(c);i.children&&i.children.length>0&&(Pa(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),bN(i.children,e,d,A,u)),!(i.path==null&&!i.index)&&e.push({path:A,score:_$(A,i.index),routesMeta:d})};return r.forEach((i,s)=>{if(i.path===""||!i.path?.includes("?"))o(i,s);else for(let u of CN(i.path))o(i,s,!0,u)}),e}function CN(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=CN(n.join("/")),s=[];return s.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...i),s.map(u=>r.startsWith("/")&&u===""?"/":u)}function B$(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:k$(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var S$=/^:[\w-]+$/,I$=3,E$=2,L$=1,F$=10,T$=-2,gN=r=>r==="*";function _$(r,e){let t=r.split("/"),n=t.length;return t.some(gN)&&(n+=T$),e&&(n+=E$),t.filter(a=>!gN(a)).reduce((a,o)=>a+(S$.test(o)?I$:o===""?L$:F$),n)}function k$(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function N$(r,e,t=!1){let{routesMeta:n}=r,a={},o="/",i=[];for(let s=0;s<n.length;++s){let u=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",A=u0({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!A&&l&&t&&!n[n.length-1].route.index&&(A=u0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!A)return null;Object.assign(a,A.params),i.push({params:a,pathname:hc([o,A.pathname]),pathnameBase:U$(hc([o,A.pathnameBase])),route:d}),A.pathnameBase!=="/"&&(o=hc([o,A.pathnameBase]))}return i}function u0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=P$(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((l,{paramName:c,isOptional:A},d)=>{if(c==="*"){let h=s[d]||"";i=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}let f=s[d];return A&&!f?l[c]=void 0:l[c]=(f||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:i,pattern:r}}function P$(r,e=!1,t=!0){eu(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,s,u)=>(n.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function D$(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eu(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function bl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var R$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function BN(r,e="/"){let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?fp(r):r,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=vN(t.substring(1),"/"):o=vN(t,e)):o=e,{pathname:o,search:O$(n),hash:Q$(a)}}function vN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function yI(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M$(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function SN(r){let e=M$(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function IN(r,e,t,n=!1){let a;typeof r=="string"?a=fp(r):(a={...r},Pa(!a.pathname||!a.pathname.includes("?"),yI("?","pathname","search",a)),Pa(!a.pathname||!a.pathname.includes("#"),yI("#","pathname","hash",a)),Pa(!a.search||!a.search.includes("#"),yI("#","search","hash",a)));let o=r===""||a.pathname==="",i=o?"/":a.pathname,s;if(i==null)s=t;else{let A=e.length-1;if(!n&&i.startsWith("..")){let d=i.split("/");for(;d[0]==="..";)d.shift(),A-=1;a.pathname=d.join("/")}s=A>=0?e[A]:"/"}let u=BN(a,s),l=i&&i!=="/"&&i.endsWith("/"),c=(o||i===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}var hc=r=>r.join("/").replace(/\/\/+/g,"/"),U$=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),O$=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Q$=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;var EN=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function LN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function H$(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TN(r,e){let t=r;if(typeof t!="string"||!R$.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,a=!1;if(FN)try{let o=new URL(window.location.href),i=t.startsWith("//")?new URL(o.protocol+t):new URL(t),s=bl(i.pathname,e);i.origin===o.origin&&s!=null?t=s+i.search+i.hash:a=!0}catch{eu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:t}}var mCe=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _N=["POST","PUT","PATCH","DELETE"],gCe=new Set(_N),V$=["GET",..._N],vCe=new Set(V$);var Xf=Ls.createContext(null);Xf.displayName="DataRouter";var dp=Ls.createContext(null);dp.displayName="DataRouterState";var q$=Ls.createContext(!1);var II=Ls.createContext({isTransitioning:!1});II.displayName="ViewTransition";var kN=Ls.createContext(new Map);kN.displayName="Fetchers";var W$=Ls.createContext(null);W$.displayName="Await";var Ii=Ls.createContext(null);Ii.displayName="Navigation";var hp=Ls.createContext(null);hp.displayName="Location";var Uu=Ls.createContext({outlet:null,matches:[],isDataRoute:!1});Uu.displayName="Route";var EI=Ls.createContext(null);EI.displayName="RouteError";var bI=!0,NN="REACT_ROUTER_ERROR",z$="REDIRECT",j$="ROUTE_ERROR_RESPONSE";function G$(r){if(r.startsWith(`${NN}:${z$}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function K$(r){if(r.startsWith(`${NN}:${j$}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new EN(e.status,e.statusText,e.data)}catch{}}function PN(r,{relative:e}={}){Pa(pp(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=$t.useContext(Ii),{hash:a,pathname:o,search:i}=mp(r,{relative:e}),s=o;return t!=="/"&&(s=o==="/"?t:hc([t,o])),n.createHref({pathname:s,search:i,hash:a})}function pp(){return $t.useContext(hp)!=null}function Cl(){return Pa(pp(),"useLocation() may be used only in the context of a <Router> component."),$t.useContext(hp).location}var DN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RN(r){$t.useContext(Ii).static||$t.useLayoutEffect(r)}function qx(){let{isDataRoute:r}=$t.useContext(Uu);return r?oJ():X$()}function X$(){Pa(pp(),"useNavigate() may be used only in the context of a <Router> component.");let r=$t.useContext(Xf),{basename:e,navigator:t}=$t.useContext(Ii),{matches:n}=$t.useContext(Uu),{pathname:a}=Cl(),o=JSON.stringify(SN(n)),i=$t.useRef(!1);return RN(()=>{i.current=!0}),$t.useCallback((u,l={})=>{if(eu(i.current,DN),!i.current)return;if(typeof u=="number"){t.go(u);return}let c=IN(u,JSON.parse(o),a,l.relative==="path");r==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:hc([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,o,a,r])}var yCe=$t.createContext(null);function LI(){let{matches:r}=$t.useContext(Uu),e=r[r.length-1];return e?e.params:{}}function mp(r,{relative:e}={}){let{matches:t}=$t.useContext(Uu),{pathname:n}=Cl(),a=JSON.stringify(SN(t));return $t.useMemo(()=>IN(r,JSON.parse(a),n,e==="path"),[r,a,n,e])}function Y$(r,e,t,n,a){Pa(pp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$t.useContext(Ii),{matches:i}=$t.useContext(Uu),s=i[i.length-1],u=s?s.params:{},l=s?s.pathname:"/",c=s?s.pathnameBase:"/",A=s&&s.route;if(bI){let B=A&&A.path||"";QN(l,!A||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let d=Cl(),f;if(e){let B=typeof e=="string"?fp(e):e;Pa(c==="/"||B.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${B.pathname}" was given in the \`location\` prop.`),f=B}else f=d;let h=f.pathname||"/",p=h;if(c!=="/"){let B=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(B.length).join("/")}let v=SI(r,{pathname:p});bI&&(eu(A||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),eu(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let g=tJ(v&&v.map(B=>Object.assign({},B,{params:Object.assign({},u,B.params),pathname:hc([c,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?c:hc([c,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),i,t,n,a);return e&&g?$t.createElement(hp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},g):g}function $$(){let r=ON(),e=LN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return bI&&(console.error("Error handled by React Router default ErrorBoundary:",r),i=$t.createElement($t.Fragment,null,$t.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),$t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$t.createElement("code",{style:o},"ErrorBoundary")," or"," ",$t.createElement("code",{style:o},"errorElement")," prop on your route."))),$t.createElement($t.Fragment,null,$t.createElement("h2",null,"Unexpected Application Error!"),$t.createElement("h3",{style:{fontStyle:"italic"}},e),t?$t.createElement("pre",{style:a},t):null,i)}var J$=$t.createElement($$,null),MN=class extends $t.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let t=K$(r.digest);t&&(r=t)}let e=r!==void 0?$t.createElement(Uu.Provider,{value:this.props.routeContext},$t.createElement(EI.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?$t.createElement(Z$,{error:r},e):e}};MN.contextType=q$;var xI=new WeakMap;function Z$({children:r,error:e}){let{basename:t}=$t.useContext(Ii);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=G$(e.digest);if(n){let a=xI.get(e);if(a)throw a;let o=TN(n.location,t);if(FN&&!xI.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{let i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw xI.set(e,i),i}return $t.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return r}function eJ({routeContext:r,match:e,children:t}){let n=$t.useContext(Xf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),$t.createElement(Uu.Provider,{value:r},t)}function tJ(r,e=[],t=null,n=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,i=t?.errors;if(i!=null){let c=o.findIndex(A=>A.route.id&&i?.[A.route.id]!==void 0);Pa(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<o.length;c++){let A=o[c];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(u=c),A.route.id){let{loaderData:d,errors:f}=t,h=A.route.loader&&!d.hasOwnProperty(A.route.id)&&(!f||f[A.route.id]===void 0);if(A.route.lazy||h){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let l=t&&n?(c,A)=>{n(c,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:H$(t.matches),errorInfo:A})}:void 0;return o.reduceRight((c,A,d)=>{let f,h=!1,p=null,v=null;t&&(f=i&&A.route.id?i[A.route.id]:void 0,p=A.route.errorElement||J$,s&&(u<0&&d===0?(QN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):u===d&&(h=!0,v=A.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),B=()=>{let I;return f?I=p:h?I=v:A.route.Component?I=$t.createElement(A.route.Component,null):A.route.element?I=A.route.element:I=c,$t.createElement(eJ,{match:A,routeContext:{outlet:c,matches:g,isDataRoute:t!=null},children:I})};return t&&(A.route.ErrorBoundary||A.route.errorElement||d===0)?$t.createElement(MN,{location:t.location,revalidation:t.revalidation,component:p,error:f,children:B(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:l}):B()},null)}function FI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rJ(r){let e=$t.useContext(Xf);return Pa(e,FI(r)),e}function TI(r){let e=$t.useContext(dp);return Pa(e,FI(r)),e}function nJ(r){let e=$t.useContext(Uu);return Pa(e,FI(r)),e}function _I(r){let e=nJ(r),t=e.matches[e.matches.length-1];return Pa(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function aJ(){return _I("useRouteId")}function UN(){return TI("useNavigation").navigation}function kI(){let{matches:r,loaderData:e}=TI("useMatches");return $t.useMemo(()=>r.map(t=>C$(t,e)),[r,e])}function ON(){let r=$t.useContext(EI),e=TI("useRouteError"),t=_I("useRouteError");return r!==void 0?r:e.errors?.[t]}function oJ(){let{router:r}=rJ("useNavigate"),e=_I("useNavigate"),t=$t.useRef(!1);return RN(()=>{t.current=!0}),$t.useCallback(async(a,o={})=>{eu(t.current,DN),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var yN={};function QN(r,e,t){!e&&!yN[r]&&(yN[r]=!0,eu(!1,t))}var iJ="useOptimistic",xCe=Da[iJ];var wCe=Da.memo(sJ);function sJ({routes:r,future:e,state:t,onError:n}){return Y$(r,void 0,t,n,e)}function HN({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:i}){Pa(!pp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),u=Da.useMemo(()=>({basename:s,navigator:a,static:o,unstable_useTransitions:i,future:{}}),[s,a,o,i]);typeof t=="string"&&(t=fp(t));let{pathname:l="/",search:c="",hash:A="",state:d=null,key:f="default"}=t,h=Da.useMemo(()=>{let p=bl(l,s);return p==null?null:{location:{pathname:p,search:c,hash:A,state:d,key:f},navigationType:n}},[s,l,c,A,d,f,n]);return eu(h!=null,`<Router basename="${s}"> is not able to match the URL "${l}${c}${A}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:Da.createElement(Ii.Provider,{value:u},Da.createElement(hp.Provider,{children:e,value:h}))}var Qx="get",Hx="application/x-www-form-urlencoded";function Wx(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function uJ(r){return Wx(r)&&r.tagName.toLowerCase()==="button"}function lJ(r){return Wx(r)&&r.tagName.toLowerCase()==="form"}function cJ(r){return Wx(r)&&r.tagName.toLowerCase()==="input"}function AJ(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fJ(r,e){return r.button===0&&(!e||e==="_self")&&!AJ(r)}var Ux=null;function dJ(){if(Ux===null)try{new FormData(document.createElement("form"),0),Ux=!1}catch{Ux=!0}return Ux}var hJ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wI(r){return r!=null&&!hJ.has(r)?(eu(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hx}"`),null):r}function pJ(r,e){let t,n,a,o,i;if(lJ(r)){let s=r.getAttribute("action");n=s?bl(s,e):null,t=r.getAttribute("method")||Qx,a=wI(r.getAttribute("enctype"))||Hx,o=new FormData(r)}else if(uJ(r)||cJ(r)&&(r.type==="submit"||r.type==="image")){let s=r.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||s.getAttribute("action");if(n=u?bl(u,e):null,t=r.getAttribute("formmethod")||s.getAttribute("method")||Qx,a=wI(r.getAttribute("formenctype"))||wI(s.getAttribute("enctype"))||Hx,o=new FormData(s,r),!dJ()){let{name:l,type:c,value:A}=r;if(c==="image"){let d=l?`${l}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else l&&o.append(l,A)}}else{if(Wx(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qx,n=null,a=Hx,i=r}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:o,body:i}}var bCe=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mJ={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},gJ=/[&><\u2028\u2029]/g;function xN(r){return r.replace(gJ,e=>mJ[e])}function PI(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vJ(r,e,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&bl(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function yJ(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){if(console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&QJ.hot)throw t;return window.location.reload(),new Promise(()=>{})}}function xJ(r){return r!=null&&typeof r.page=="string"}function wJ(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bJ(r,e,t){let n=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let i=await yJ(o,t);return i.links?i.links():[]}return[]}));return IJ(n.flat(1).filter(wJ).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wN(r,e,t,n,a,o){let i=(u,l)=>t[l]?u.route.id!==t[l].route.id:!0,s=(u,l)=>t[l].pathname!==u.pathname||t[l].route.path?.endsWith("*")&&t[l].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,l)=>i(u,l)||s(u,l)):o==="data"?e.filter((u,l)=>{let c=n.routes[u.route.id];if(!c||!c.hasLoader)return!1;if(i(u,l)||s(u,l))return!0;if(u.route.shouldRevalidate){let A=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function CJ(r,e,{includeHydrateFallback:t}={}){return BJ(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function BJ(r){return[...new Set(r)]}function SJ(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function IJ(r,e){let t=new Set,n=new Set(e);return r.reduce((a,o)=>{if(e&&!xJ(o)&&o.as==="script"&&o.href&&n.has(o.href))return a;let s=JSON.stringify(SJ(o));return t.has(s)||(t.add(s),a.push({key:s,link:o})),a},[])}function qN(){let r=an.useContext(Xf);return PI(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function TJ(){let r=an.useContext(dp);return PI(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var l0=an.createContext(void 0);l0.displayName="FrameworkContext";function WN(){let r=an.useContext(l0);return PI(r,"You must render this element inside a <HydratedRouter> element"),r}function _J(r,e){let t=an.useContext(l0),[n,a]=an.useState(!1),[o,i]=an.useState(!1),{onFocus:s,onBlur:u,onMouseEnter:l,onMouseLeave:c,onTouchStart:A}=e,d=an.useRef(null);an.useEffect(()=>{if(r==="render"&&i(!0),r==="viewport"){let p=g=>{g.forEach(B=>{i(B.isIntersecting)})},v=new IntersectionObserver(p,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[r]),an.useEffect(()=>{if(n){let p=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(p)}}},[n]);let f=()=>{a(!0)},h=()=>{a(!1),i(!1)};return t?r!=="intent"?[o,d,{}]:[o,d,{onFocus:s0(s,f),onBlur:s0(u,h),onMouseEnter:s0(l,f),onMouseLeave:s0(c,h),onTouchStart:s0(A,f)}]:[!1,d,{}]}function s0(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function zN({page:r,...e}){let{router:t}=qN(),n=an.useMemo(()=>SI(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?an.createElement(NJ,{page:r,matches:n,...e}):null}function kJ(r){let{manifest:e,routeModules:t}=WN(),[n,a]=an.useState([]);return an.useEffect(()=>{let o=!1;return bJ(r,e,t).then(i=>{o||a(i)}),()=>{o=!0}},[r,e,t]),n}function NJ({page:r,matches:e,...t}){let n=Cl(),{future:a,manifest:o,routeModules:i}=WN(),{basename:s}=qN(),{loaderData:u,matches:l}=TJ(),c=an.useMemo(()=>wN(r,e,l,o,n,"data"),[r,e,l,o,n]),A=an.useMemo(()=>wN(r,e,l,o,n,"assets"),[r,e,l,o,n]),d=an.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let p=new Set,v=!1;if(e.forEach(B=>{let I=o.routes[B.route.id];!I||!I.hasLoader||(!c.some(S=>S.route.id===B.route.id)&&B.route.id in u&&i[B.route.id]?.shouldRevalidate||I.hasClientLoader?v=!0:p.add(B.route.id))}),p.size===0)return[];let g=vJ(r,s,a.unstable_trailingSlashAwareDataRequests,"data");return v&&p.size>0&&g.searchParams.set("_routes",e.filter(B=>p.has(B.route.id)).map(B=>B.route.id).join(",")),[g.pathname+g.search]},[s,a.unstable_trailingSlashAwareDataRequests,u,n,o,c,e,r,i]),f=an.useMemo(()=>CJ(A,o),[A,o]),h=kJ(A);return an.createElement(an.Fragment,null,d.map(p=>an.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...t})),f.map(p=>an.createElement("link",{key:p,rel:"modulepreload",href:p,...t})),h.map(({key:p,link:v})=>an.createElement("link",{key:p,nonce:t.nonce,...v,crossOrigin:v.crossOrigin??t.crossOrigin})))}function PJ(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DJ&&(window.__reactRouterVersion="7.13.0")}catch{}function jN({basename:r,children:e,history:t,unstable_useTransitions:n}){let[a,o]=cr.useState({action:t.action,location:t.location}),i=cr.useCallback(s=>{n===!1?o(s):cr.startTransition(()=>o(s))},[n]);return cr.useLayoutEffect(()=>t.listen(i),[t,i]),cr.createElement(HN,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:t,unstable_useTransitions:n})}jN.displayName="unstable_HistoryRouter";var GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gp=cr.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:s,target:u,to:l,preventScrollReset:c,viewTransition:A,unstable_defaultShouldRevalidate:d,...f},h){let{basename:p,unstable_useTransitions:v}=cr.useContext(Ii),g=typeof l=="string"&&GN.test(l),B=TN(l,p);l=B.to;let I=PN(l,{relative:a}),[S,E,T]=_J(n,f),U=JN(l,{replace:i,state:s,target:u,preventScrollReset:c,relative:a,viewTransition:A,unstable_defaultShouldRevalidate:d,unstable_useTransitions:v});function D(O){e&&e(O),O.defaultPrevented||U(O)}let k=cr.createElement("a",{...f,...T,href:B.absoluteURL||I,onClick:B.isExternal||o?e:D,ref:PJ(h,E),target:u,"data-discover":!g&&t==="render"?"true":void 0});return S&&!g?cr.createElement(cr.Fragment,null,k,cr.createElement(zN,{page:I})):k});gp.displayName="Link";var KN=cr.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:s,children:u,...l},c){let A=mp(i,{relative:l.relative}),d=Cl(),f=cr.useContext(dp),{navigator:h,basename:p}=cr.useContext(Ii),v=f!=null&&r3(A)&&s===!0,g=h.encodeLocation?h.encodeLocation(A).pathname:A.pathname,B=d.pathname,I=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(B=B.toLowerCase(),I=I?I.toLowerCase():null,g=g.toLowerCase()),I&&p&&(I=bl(I,p)||I);let S=g!=="/"&&g.endsWith("/")?g.length-1:g.length,E=B===g||!a&&B.startsWith(g)&&B.charAt(S)==="/",T=I!=null&&(I===g||!a&&I.startsWith(g)&&I.charAt(g.length)==="/"),U={isActive:E,isPending:T,isTransitioning:v},D=E?e:void 0,k;typeof n=="function"?k=n(U):k=[n,E?"active":null,T?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(U):o;return cr.createElement(gp,{...l,"aria-current":D,className:k,ref:c,style:O,to:i,viewTransition:s},typeof u=="function"?u(U):u)});KN.displayName="NavLink";var XN=cr.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:a,state:o,method:i=Qx,action:s,onSubmit:u,relative:l,preventScrollReset:c,viewTransition:A,unstable_defaultShouldRevalidate:d,...f},h)=>{let{unstable_useTransitions:p}=cr.useContext(Ii),v=ZN(),g=e3(s,{relative:l}),B=i.toLowerCase()==="get"?"get":"post",I=typeof s=="string"&&GN.test(s);return cr.createElement("form",{ref:h,method:B,action:g,onSubmit:n?u:E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,U=T?.getAttribute("formmethod")||i,D=()=>v(T||E.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:a,state:o,relative:l,preventScrollReset:c,viewTransition:A,unstable_defaultShouldRevalidate:d});p&&t!==!1?cr.startTransition(()=>D()):D()},...f,"data-discover":!I&&r==="render"?"true":void 0})});XN.displayName="Form";function YN({getKey:r,storageKey:e,...t}){let n=cr.useContext(l0),{basename:a}=cr.useContext(Ii),o=Cl(),i=kI();t3({getKey:r,storageKey:e});let s=cr.useMemo(()=>{if(!n||!r)return null;let l=BI(o,i,a,r);return l!==o.key?l:null},[]);if(!n||n.isSpaMode)return null;let u=((l,c)=>{if(!window.history.state||!window.history.state.key){let A=Math.random().toString(32).slice(2);window.history.replaceState({key:A},"")}try{let d=JSON.parse(sessionStorage.getItem(l)||"{}")[c||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(A){console.error(A),sessionStorage.removeItem(l)}}).toString();return cr.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${u})(${xN(JSON.stringify(e||CI))}, ${xN(JSON.stringify(s))})`}})}YN.displayName="ScrollRestoration";function $N(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DI(r){let e=cr.useContext(Xf);return Pa(e,$N(r)),e}function RJ(r){let e=cr.useContext(dp);return Pa(e,$N(r)),e}function JN(r,{target:e,replace:t,state:n,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:s,unstable_useTransitions:u}={}){let l=qx(),c=Cl(),A=mp(r,{relative:o});return cr.useCallback(d=>{if(fJ(d,e)){d.preventDefault();let f=t!==void 0?t:Vx(c)===Vx(A),h=()=>l(r,{replace:f,state:n,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:s});u?cr.startTransition(()=>h()):h()}},[c,l,A,t,n,e,r,a,o,i,s,u])}var MJ=0,UJ=()=>`__${String(++MJ)}__`;function ZN(){let{router:r}=DI("useSubmit"),{basename:e}=cr.useContext(Ii),t=aJ(),n=r.fetch,a=r.navigate;return cr.useCallback(async(o,i={})=>{let{action:s,method:u,encType:l,formData:c,body:A}=pJ(o,e);if(i.navigate===!1){let d=i.fetcherKey||UJ();await n(d,t,i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:c,body:A,formMethod:i.method||u,formEncType:i.encType||l,flushSync:i.flushSync})}else await a(i.action||s,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:c,body:A,formMethod:i.method||u,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,e,t])}function e3(r,{relative:e}={}){let{basename:t}=cr.useContext(Ii),n=cr.useContext(Uu);Pa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...mp(r||".",{relative:e})},i=Cl();if(r==null){o.search=i.search;let s=new URLSearchParams(o.search),u=s.getAll("index");if(u.some(c=>c==="")){s.delete("index"),u.filter(A=>A).forEach(A=>s.append("index",A));let c=s.toString();o.search=c?`?${c}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:hc([t,o.pathname])),Vx(o)}var CI="react-router-scroll-positions",Ox={};function BI(r,e,t,n){let a=null;return n&&(t!=="/"?a=n({...r,pathname:bl(r.pathname,t)||r.pathname},e):a=n(r,e)),a==null&&(a=r.key),a}function t3({getKey:r,storageKey:e}={}){let{router:t}=DI("useScrollRestoration"),{restoreScrollPosition:n,preventScrollReset:a}=RJ("useScrollRestoration"),{basename:o}=cr.useContext(Ii),i=Cl(),s=kI(),u=UN();cr.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),OJ(cr.useCallback(()=>{if(u.state==="idle"){let l=BI(i,s,o,r);Ox[l]=window.scrollY}try{sessionStorage.setItem(e||CI,JSON.stringify(Ox))}catch(l){eu(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${l}).`)}window.history.scrollRestoration="auto"},[u.state,r,o,i,s,e])),typeof document<"u"&&(cr.useLayoutEffect(()=>{try{let l=sessionStorage.getItem(e||CI);l&&(Ox=JSON.parse(l))}catch{}},[e]),cr.useLayoutEffect(()=>{let l=t?.enableScrollRestoration(Ox,()=>window.scrollY,r?(c,A)=>BI(c,A,o,r):void 0);return()=>l&&l()},[t,o,r]),cr.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}try{if(i.hash){let l=document.getElementById(decodeURIComponent(i.hash.slice(1)));if(l){l.scrollIntoView();return}}}catch{eu(!1,`"${i.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}a!==!0&&window.scrollTo(0,0)}},[i,n,a]))}function OJ(r,e){let{capture:t}=e||{};cr.useEffect(()=>{let n=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",r,n),()=>{window.removeEventListener("pagehide",r,n)}},[r,t])}function r3(r,{relative:e}={}){let t=cr.useContext(II);Pa(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DI("useViewTransitionState"),a=mp(r,{relative:e});if(!t.isTransitioning)return!1;let o=bl(t.currentLocation.pathname,n)||t.currentLocation.pathname,i=bl(t.nextLocation.pathname,n)||t.nextLocation.pathname;return u0(a.pathname,i)!=null||u0(a.pathname,o)!=null}var jJ={},EA=jJ.env.VITE_API_URL||"",$f=EA.endsWith("/api")||EA.endsWith("/api/")?EA.replace(/\/$/,""):`${EA.replace(/\/$/,"")}/api`,WJ=r=>{let t=`; ${document.cookie}`.split(`; ${r}=`);return t.length===2&&t.pop().split(";").shift()||""},zJ=(r=!1,e="GET")=>{let t={};r||(t["Content-Type"]="application/json");let n=e.toUpperCase();if(n!=="GET"&&n!=="HEAD"&&n!=="OPTIONS"){let a=WJ("csrf_token");a&&(t["X-CSRF-Token"]=a)}return t},jx=!1,RI=[],l3=(r,e=null)=>{RI.forEach(t=>{r?t.reject(r):t.resolve(e)}),RI=[]},Yf=async(r,e={})=>{let t=`${$f}${r}`,n=e.method||"GET",a={method:n,headers:zJ(e.body instanceof FormData,n),body:e.body instanceof FormData?e.body:e.body?JSON.stringify(e.body):void 0,credentials:"include"};try{let o=await fetch(t,a);if(o.status===401&&!r.includes("/auth/login")&&!r.includes("/auth/refresh")&&!r.includes("/auth/me")){if(jx)return new Promise((i,s)=>{RI.push({resolve:i,reject:s})}).then(()=>Yf(r,e)).catch(i=>{throw i});jx=!0;try{let i=await fetch(`${$f}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!i.ok)throw new Error("Refresh failed");let u=(await i.json()).data;return jx=!1,l3(null,null),Yf(r,e)}catch(i){jx=!1,l3(i,null);let s=window.location.pathname;throw s.startsWith("/login")||s.startsWith("/request-reset")||s.startsWith("/reset-password")||(window.location.href="/login"),i}}if(!o.ok){let i=o.statusText;try{let s=await o.text();try{let u=JSON.parse(s);u.message?i=u.message:i=s}catch{i=s}throw new Error(s)}catch(s){throw new Error(s.message||i)}}return e.responseType==="blob"?o.blob():o.json()}catch(o){throw o}},bt={get:(r,e={})=>Yf(r,{...e,method:"GET"}),post:(r,e,t={})=>Yf(r,{...t,method:"POST",body:e}),put:(r,e,t={})=>Yf(r,{...t,method:"PUT",body:e}),patch:(r,e,t={})=>Yf(r,{...t,method:"PATCH",body:e}),delete:r=>Yf(r,{method:"DELETE"})};var V0=At(vp(),1),El=At(jt(),1);var d3=At(jt(),1),yp=(0,d3.createContext)({});var h3=At(jt(),1);function xp(r){let e=(0,h3.useRef)(null);return e.current===null&&(e.current=r()),e.current}var Kx=At(jt(),1);var wp=typeof window<"u";var Xx=wp?Kx.useLayoutEffect:Kx.useEffect;var vE=At(vp(),1),CP=At(jt(),1),Q0=At(jt(),1);var p3=At(jt(),1),LA=(0,p3.createContext)(null);var wP=At(vp(),1);function Jf(r,e){r.indexOf(e)===-1&&r.push(e)}function Zf(r,e){let t=r.indexOf(e);t>-1&&r.splice(t,1)}var xo=(r,e,t)=>t>e?e:t<r?r:t;var pc=()=>{},tu=()=>{};var Zo={};var A0=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function f0(r){return typeof r=="object"&&r!==null}var d0=r=>/^0[^.\s]+$/u.test(r);function ed(r){let e;return()=>(e===void 0&&(e=r()),e)}var ua=r=>r;var XJ=(r,e)=>t=>e(r(t)),Ou=(...r)=>r.reduce(XJ);var Bl=(r,e,t)=>{let n=e-r;return n===0?1:(t-r)/n};var mc=class{constructor(){this.subscriptions=[]}add(e){return Jf(this.subscriptions,e),()=>Zf(this.subscriptions,e)}notify(e,t,n){let a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,n);else for(let o=0;o<a;o++){let i=this.subscriptions[o];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};var lo=r=>r*1e3,co=r=>r/1e3;function h0(r,e){return e?r*(1e3/e):0}var m3=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,YJ=1e-7,$J=12;function JJ(r,e,t,n,a){let o,i,s=0;do i=e+(t-e)/2,o=m3(i,n,a)-r,o>0?t=i:e=i;while(Math.abs(o)>YJ&&++s<$J);return i}function FA(r,e,t,n){if(r===e&&t===n)return ua;let a=o=>JJ(o,0,1,r,t);return o=>o===0||o===1?o:m3(a(o),e,n)}var Yx=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2;var $x=r=>e=>1-r(1-e);var Jx=FA(.33,1.53,.69,.99),bp=$x(Jx),p0=Yx(bp);var m0=r=>(r*=2)<1?.5*bp(r):.5*(2-Math.pow(2,-10*(r-1)));var g0=r=>1-Math.sin(Math.acos(r)),v0=$x(g0),y0=Yx(g0);var MI=FA(.42,0,1,1),UI=FA(0,0,.58,1),x0=FA(.42,0,.58,1);var OI=r=>Array.isArray(r)&&typeof r[0]!="number";var w0=r=>Array.isArray(r)&&typeof r[0]=="number";var g3={linear:ua,easeIn:MI,easeInOut:x0,easeOut:UI,circIn:g0,circInOut:y0,circOut:v0,backIn:bp,backInOut:p0,backOut:Jx,anticipate:m0},ZJ=r=>typeof r=="string",Zx=r=>{if(w0(r)){tu(r.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[e,t,n,a]=r;return FA(e,t,n,a)}else if(ZJ(r))return tu(g3[r]!==void 0,`Invalid easing type '${r}'`,"invalid-easing-type"),g3[r];return r};var b0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];var Ji={value:null,addProjectionMetrics:null};function v3(r,e){let t=new Set,n=new Set,a=!1,o=!1,i=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},u=0;function l(A){i.has(A)&&(c.schedule(A),r()),u++,A(s)}let c={schedule:(A,d=!1,f=!1)=>{let p=f&&a?t:n;return d&&i.add(A),p.has(A)||p.add(A),A},cancel:A=>{n.delete(A),i.delete(A)},process:A=>{if(s=A,a){o=!0;return}a=!0,[t,n]=[n,t],t.forEach(l),e&&Ji.value&&Ji.value.frameloop[e].push(u),u=0,t.clear(),a=!1,o&&(o=!1,c.process(A))}};return c}var eZ=40;function ew(r,e){let t=!1,n=!0,a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,i=b0.reduce((I,S)=>(I[S]=v3(o,e?S:void 0),I),{}),{setup:s,read:u,resolveKeyframes:l,preUpdate:c,update:A,preRender:d,render:f,postRender:h}=i,p=()=>{let I=Zo.useManualTiming?a.timestamp:performance.now();t=!1,Zo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(I-a.timestamp,eZ),1)),a.timestamp=I,a.isProcessing=!0,s.process(a),u.process(a),l.process(a),c.process(a),A.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,t&&e&&(n=!1,r(p))},v=()=>{t=!0,n=!0,a.isProcessing||r(p)};return{schedule:b0.reduce((I,S)=>{let E=i[S];return I[S]=(T,U=!1,D=!1)=>(t||v(),E.schedule(T,U,D)),I},{}),cancel:I=>{for(let S=0;S<b0.length;S++)i[b0[S]].cancel(I)},state:a,steps:i}}var{schedule:Pr,cancel:Zi,state:va,steps:C0}=ew(typeof requestAnimationFrame<"u"?requestAnimationFrame:ua,!0);var tw;function tZ(){tw=void 0}var ya={now:()=>(tw===void 0&&ya.set(va.isProcessing||Zo.useManualTiming?va.timestamp:performance.now()),tw),set:r=>{tw=r,queueMicrotask(tZ)}};var Qu={layout:0,mainThread:0,waapi:0};var y3=r=>e=>typeof e=="string"&&e.startsWith(r),B0=y3("--"),rZ=y3("var(--"),td=r=>rZ(r)?nZ.test(r.split("/*")[0].trim()):!1,nZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var Sl={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},gc={...Sl,transform:r=>xo(0,1,r)},S0={...Sl,default:1};var TA=r=>Math.round(r*1e5)/1e5;var Cp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x3(r){return r==null}var w3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var Bp=(r,e)=>t=>!!(typeof t=="string"&&w3.test(t)&&t.startsWith(r)||e&&!x3(t)&&Object.prototype.hasOwnProperty.call(t,e)),rw=(r,e,t)=>n=>{if(typeof n!="string")return n;let[a,o,i,s]=n.match(Cp);return{[r]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(i),alpha:s!==void 0?parseFloat(s):1}};var aZ=r=>xo(0,255,r),QI={...Sl,transform:r=>Math.round(aZ(r))},Il={test:Bp("rgb","red"),parse:rw("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+QI.transform(r)+", "+QI.transform(e)+", "+QI.transform(t)+", "+TA(gc.transform(n))+")"};function oZ(r){let e="",t="",n="",a="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),a=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),a=r.substring(4,5),e+=e,t+=t,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}var I0={test:Bp("#"),parse:oZ,transform:Il.transform};var E0=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Hu=E0("deg"),ei=E0("%"),rr=E0("px"),HI=E0("vh"),VI=E0("vw"),nw={...ei,parse:r=>ei.parse(r)/100,transform:r=>ei.transform(r*100)};var _A={test:Bp("hsl","hue"),parse:rw("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+ei.transform(TA(e))+", "+ei.transform(TA(t))+", "+TA(gc.transform(n))+")"};var ea={test:r=>Il.test(r)||I0.test(r)||_A.test(r),parse:r=>Il.test(r)?Il.parse(r):_A.test(r)?_A.parse(r):I0.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Il.transform(r):_A.transform(r),getAnimatableNone:r=>{let e=ea.parse(r);return e.alpha=0,ea.transform(e)}};var b3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iZ(r){return isNaN(r)&&typeof r=="string"&&(r.match(Cp)?.length||0)+(r.match(b3)?.length||0)>0}var B3="number",S3="color",sZ="var",uZ="var(",C3="${}",lZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kA(r){let e=r.toString(),t=[],n={color:[],number:[],var:[]},a=[],o=0,s=e.replace(lZ,u=>(ea.test(u)?(n.color.push(o),a.push(S3),t.push(ea.parse(u))):u.startsWith(uZ)?(n.var.push(o),a.push(sZ),t.push(u)):(n.number.push(o),a.push(B3),t.push(parseFloat(u))),++o,C3)).split(C3);return{values:t,split:s,indexes:n,types:a}}function I3(r){return kA(r).values}function E3(r){let{split:e,types:t}=kA(r),n=e.length;return a=>{let o="";for(let i=0;i<n;i++)if(o+=e[i],a[i]!==void 0){let s=t[i];s===B3?o+=TA(a[i]):s===S3?o+=ea.transform(a[i]):o+=a[i]}return o}}var cZ=r=>typeof r=="number"?0:ea.test(r)?ea.getAnimatableNone(r):r;function AZ(r){let e=I3(r);return E3(r)(e.map(cZ))}var ti={test:iZ,parse:I3,createTransformer:E3,getAnimatableNone:AZ};function qI(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function L3({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let a=0,o=0,i=0;if(!e)a=o=i=t;else{let s=t<.5?t*(1+e):t+e-t*e,u=2*t-s;a=qI(u,s,r+1/3),o=qI(u,s,r),i=qI(u,s,r-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function Sp(r,e){return t=>t>0?e:r}var qr=(r,e,t)=>r+(e-r)*t;var WI=(r,e,t)=>{let n=r*r,a=t*(e*e-n)+n;return a<0?0:Math.sqrt(a)},fZ=[I0,Il,_A],dZ=r=>fZ.find(e=>e.test(r));function F3(r){let e=dZ(r);if(pc(!!e,`'${r}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let t=e.parse(r);return e===_A&&(t=L3(t)),t}var zI=(r,e)=>{let t=F3(r),n=F3(e);if(!t||!n)return Sp(r,e);let a={...t};return o=>(a.red=WI(t.red,n.red,o),a.green=WI(t.green,n.green,o),a.blue=WI(t.blue,n.blue,o),a.alpha=qr(t.alpha,n.alpha,o),Il.transform(a))};var aw=new Set(["none","hidden"]);function T3(r,e){return aw.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function hZ(r,e){return t=>qr(r,e,t)}function ow(r){return typeof r=="number"?hZ:typeof r=="string"?td(r)?Sp:ea.test(r)?zI:gZ:Array.isArray(r)?_3:typeof r=="object"?ea.test(r)?zI:pZ:Sp}function _3(r,e){let t=[...r],n=t.length,a=r.map((o,i)=>ow(o)(o,e[i]));return o=>{for(let i=0;i<n;i++)t[i]=a[i](o);return t}}function pZ(r,e){let t={...r,...e},n={};for(let a in t)r[a]!==void 0&&e[a]!==void 0&&(n[a]=ow(r[a])(r[a],e[a]));return a=>{for(let o in n)t[o]=n[o](a);return t}}function mZ(r,e){let t=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){let o=e.types[a],i=r.indexes[o][n[o]],s=r.values[i]??0;t[a]=s,n[o]++}return t}var gZ=(r,e)=>{let t=ti.createTransformer(e),n=kA(r),a=kA(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?aw.has(r)&&!a.values.length||aw.has(e)&&!n.values.length?T3(r,e):Ou(_3(mZ(n,a),a.values),t):(pc(!0,`Complex values '${r}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),Sp(r,e))};function iw(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?qr(r,e,t):ow(r)(r,e)}var k3=r=>{let e=({timestamp:t})=>r(t);return{start:(t=!0)=>Pr.update(e,t),stop:()=>Zi(e),now:()=>va.isProcessing?va.timestamp:ya.now()}};var sw=(r,e,t=10)=>{let n="",a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)n+=Math.round(r(o/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`};function Ip(r){let e=0,t=50,n=r.next(e);for(;!n.done&&e<2e4;)e+=t,n=r.next(e);return e>=2e4?1/0:e}function N3(r,e=100,t){let n=t({...r,keyframes:[0,e]}),a=Math.min(Ip(n),2e4);return{type:"keyframes",ease:o=>n.next(a*o).value/e,duration:co(a)}}var vZ=5;function uw(r,e,t){let n=Math.max(e-vZ,0);return h0(t-r(n),e-n)}var qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};var GI=.001;function P3({duration:r=qn.duration,bounce:e=qn.bounce,velocity:t=qn.velocity,mass:n=qn.mass}){let a,o;pc(r<=lo(qn.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let i=1-e;i=xo(qn.minDamping,qn.maxDamping,i),r=xo(qn.minDuration,qn.maxDuration,co(r)),i<1?(a=l=>{let c=l*i,A=c*r,d=c-t,f=lw(l,i),h=Math.exp(-A);return GI-d/f*h},o=l=>{let A=l*i*r,d=A*t+t,f=Math.pow(i,2)*Math.pow(l,2)*r,h=Math.exp(-A),p=lw(Math.pow(l,2),i);return(-a(l)+GI>0?-1:1)*((d-f)*h)/p}):(a=l=>{let c=Math.exp(-l*r),A=(l-t)*r+1;return-GI+c*A},o=l=>{let c=Math.exp(-l*r),A=(t-l)*(r*r);return c*A});let s=5/r,u=xZ(a,o,s);if(r=lo(r),isNaN(u))return{stiffness:qn.stiffness,damping:qn.damping,duration:r};{let l=Math.pow(u,2)*n;return{stiffness:l,damping:i*2*Math.sqrt(n*l),duration:r}}}var yZ=12;function xZ(r,e,t){let n=t;for(let a=1;a<yZ;a++)n=n-r(n)/e(n);return n}function lw(r,e){return r*Math.sqrt(1-e*e)}var wZ=["duration","bounce"],bZ=["stiffness","damping","mass"];function D3(r,e){return e.some(t=>r[t]!==void 0)}function CZ(r){let e={velocity:qn.velocity,stiffness:qn.stiffness,damping:qn.damping,mass:qn.mass,isResolvedFromDuration:!1,...r};if(!D3(r,bZ)&&D3(r,wZ))if(r.visualDuration){let t=r.visualDuration,n=2*Math.PI/(t*1.2),a=n*n,o=2*xo(.05,1,1-(r.bounce||0))*Math.sqrt(a);e={...e,mass:qn.mass,stiffness:a,damping:o}}else{let t=P3(r);e={...e,...t,mass:qn.mass},e.isResolvedFromDuration=!0}return e}function Ep(r=qn.visualDuration,e=qn.bounce){let t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r,{restSpeed:n,restDelta:a}=t,o=t.keyframes[0],i=t.keyframes[t.keyframes.length-1],s={done:!1,value:o},{stiffness:u,damping:l,mass:c,duration:A,velocity:d,isResolvedFromDuration:f}=CZ({...t,velocity:-co(t.velocity||0)}),h=d||0,p=l/(2*Math.sqrt(u*c)),v=i-o,g=co(Math.sqrt(u/c)),B=Math.abs(v)<5;n||(n=B?qn.restSpeed.granular:qn.restSpeed.default),a||(a=B?qn.restDelta.granular:qn.restDelta.default);let I;if(p<1){let E=lw(g,p);I=T=>{let U=Math.exp(-p*g*T);return i-U*((h+p*g*v)/E*Math.sin(E*T)+v*Math.cos(E*T))}}else if(p===1)I=E=>i-Math.exp(-g*E)*(v+(h+g*v)*E);else{let E=g*Math.sqrt(p*p-1);I=T=>{let U=Math.exp(-p*g*T),D=Math.min(E*T,300);return i-U*((h+p*g*v)*Math.sinh(D)+E*v*Math.cosh(D))/E}}let S={calculatedDuration:f&&A||null,next:E=>{let T=I(E);if(f)s.done=E>=A;else{let U=E===0?h:0;p<1&&(U=E===0?lo(h):uw(I,E,T));let D=Math.abs(U)<=n,k=Math.abs(i-T)<=a;s.done=D&&k}return s.value=s.done?i:T,s},toString:()=>{let E=Math.min(Ip(S),2e4),T=sw(U=>S.next(E*U).value,E,30);return E+"ms "+T},toTransition:()=>{}};return S}Ep.applyToOptions=r=>{let e=N3(r,100,Ep);return r.ease=e.ease,r.duration=lo(e.duration),r.type="keyframes",r};function L0({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:s,max:u,restDelta:l=.5,restSpeed:c}){let A=r[0],d={done:!1,value:A},f=D=>s!==void 0&&D<s||u!==void 0&&D>u,h=D=>s===void 0?u:u===void 0||Math.abs(s-D)<Math.abs(u-D)?s:u,p=t*e,v=A+p,g=i===void 0?v:i(v);g!==v&&(p=g-A);let B=D=>-p*Math.exp(-D/n),I=D=>g+B(D),S=D=>{let k=B(D),O=I(D);d.done=Math.abs(k)<=l,d.value=d.done?g:O},E,T,U=D=>{f(d.value)&&(E=D,T=Ep({keyframes:[d.value,h(d.value)],velocity:uw(I,D,d.value),damping:a,stiffness:o,restDelta:l,restSpeed:c}))};return U(0),{calculatedDuration:null,next:D=>{let k=!1;return!T&&E===void 0&&(k=!0,S(D),U(D)),E!==void 0&&D>=E?T.next(D-E):(!k&&S(D),d)}}}function BZ(r,e,t){let n=[],a=t||Zo.mix||iw,o=r.length-1;for(let i=0;i<o;i++){let s=a(r[i],r[i+1]);if(e){let u=Array.isArray(e)?e[i]||ua:e;s=Ou(u,s)}n.push(s)}return n}function R3(r,e,{clamp:t=!0,ease:n,mixer:a}={}){let o=r.length;if(tu(o===e.length,"Both input and output ranges must be the same length","range-length"),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];let i=r[0]===r[1];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());let s=BZ(e,n,a),u=s.length,l=c=>{if(i&&c<r[0])return e[0];let A=0;if(u>1)for(;A<r.length-2&&!(c<r[A+1]);A++);let d=Bl(r[A],r[A+1],c);return s[A](d)};return t?c=>l(xo(r[0],r[o-1],c)):l}function M3(r,e){let t=r[r.length-1];for(let n=1;n<=e;n++){let a=Bl(0,e,n);r.push(qr(t,1,a))}}function U3(r){let e=[0];return M3(e,r.length-1),e}function O3(r,e){return r.map(t=>t*e)}function SZ(r,e){return r.map(()=>e||x0).splice(0,r.length-1)}function rd({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){let a=OI(n)?n.map(Zx):Zx(n),o={done:!1,value:e[0]},i=O3(t&&t.length===e.length?t:U3(e),r),s=R3(i,e,{ease:Array.isArray(a)?a:SZ(e,a)});return{calculatedDuration:r,next:u=>(o.value=s(u),o.done=u>=r,o)}}var IZ=r=>r!==null;function Lp(r,{repeat:e,repeatType:t="loop"},n,a=1){let o=r.filter(IZ),s=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!s||n===void 0?o[s]:n}var EZ={decay:L0,inertia:L0,tween:rd,keyframes:rd,spring:Ep};function cw(r){typeof r.type=="string"&&(r.type=EZ[r.type])}var NA=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}};var LZ=r=>r/100,vc=class extends NA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:t}=this.options;t&&t.updatedAt!==ya.now()&&this.tick(ya.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},Qu.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;cw(e);let{type:t=rd,repeat:n=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=e,{keyframes:s}=e,u=t||rd;u!==rd&&typeof s[0]!="number"&&(this.mixKeyframes=Ou(LZ,iw(s[0],s[1])),s=[0,100]);let l=u({...e,keyframes:s});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...s].reverse(),velocity:-i})),l.calculatedDuration===null&&(l.calculatedDuration=Ip(l));let{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:n,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);let{delay:l=0,keyframes:c,repeat:A,repeatType:d,repeatDelay:f,type:h,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?g<0:g>a;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let I=this.currentTime,S=n;if(A){let D=Math.min(this.currentTime,a)/s,k=Math.floor(D),O=D%1;!O&&D>=1&&(O=1),O===1&&k--,k=Math.min(k,A+1),k%2&&(d==="reverse"?(O=1-O,f&&(O-=f/s)):d==="mirror"&&(S=i)),I=xo(0,1,O)*s}let E=B?{done:!1,value:c[0]}:S.next(I);o&&(E.value=o(E.value));let{done:T}=E;!B&&u!==null&&(T=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);let U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return U&&h!==L0&&(E.value=Lp(c,this.options,v,this.speed)),p&&p(E.value),U&&this.finish(),E}then(e,t){return this.finished.then(e,t)}get duration(){return co(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+co(e)}get time(){return co(this.currentTime)}set time(e){e=lo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ya.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=co(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=k3,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();let n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ya.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Qu.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}};function Q3(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}var nd=r=>r*180/Math.PI,KI=r=>{let e=nd(Math.atan2(r[1],r[0]));return XI(e)},FZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:KI,rotateZ:KI,skewX:r=>nd(Math.atan(r[1])),skewY:r=>nd(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},XI=r=>(r=r%360,r<0&&(r+=360),r),H3=KI,V3=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),q3=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),TZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V3,scaleY:q3,scale:r=>(V3(r)+q3(r))/2,rotateX:r=>XI(nd(Math.atan2(r[6],r[5]))),rotateY:r=>XI(nd(Math.atan2(-r[2],r[0]))),rotateZ:H3,rotate:H3,skewX:r=>nd(Math.atan(r[4])),skewY:r=>nd(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function F0(r){return r.includes("scale")?1:0}function T0(r,e){if(!r||r==="none")return F0(e);let t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u),n,a;if(t)n=TZ,a=t;else{let s=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=FZ,a=s}if(!a)return F0(e);let o=n[e],i=a[1].split(",").map(_Z);return typeof o=="function"?o(i):i[o]}var YI=(r,e)=>{let{transform:t="none"}=getComputedStyle(r);return T0(t,e)};function _Z(r){return parseFloat(r.trim())}var Vu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fs=new Set(Vu);var $I=r=>r===Sl||r===rr,kZ=new Set(["x","y","z"]),NZ=Vu.filter(r=>!kZ.has(r));function W3(r){let e=[];return NZ.forEach(t=>{let n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}var PA={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>T0(e,"x"),y:(r,{transform:e})=>T0(e,"y")};PA.translateX=PA.x;PA.translateY=PA.y;var ad=new Set,JI=!1,ZI=!1,eE=!1;function z3(){if(ZI){let r=Array.from(ad).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{let a=W3(n);a.length&&(t.set(n,a),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();let a=t.get(n);a&&a.forEach(([o,i])=>{n.getValue(o)?.set(i)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ZI=!1,JI=!1,ad.forEach(r=>r.complete(eE)),ad.clear()}function j3(){ad.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(ZI=!0)})}function tE(){eE=!0,j3(),z3(),eE=!1}var yc=class{constructor(e,t,n,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ad.add(this),JI||(JI=!0,Pr.read(j3),Pr.resolveKeyframes(z3))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:a}=this;if(e[0]===null){let o=a?.get(),i=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&t){let s=n.readValue(t,i);s!=null&&(e[0]=s)}e[0]===void 0&&(e[0]=i),a&&o===void 0&&a.set(e[0])}Q3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ad.delete(this)}cancel(){this.state==="scheduled"&&(ad.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}};var G3=r=>r.startsWith("--");function K3(r,e,t){G3(e)?r.style.setProperty(e,t):r.style[e]=t}var X3=ed(()=>window.ScrollTimeline!==void 0);var Y3={};function $3(r,e){let t=ed(r);return()=>Y3[e]??t()}var Aw=$3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");var od=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`;var rE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:od([0,.65,.55,1]),circOut:od([.55,0,1,.45]),backIn:od([.31,.01,.66,-.59]),backOut:od([.33,1.53,.69,.99])};function nE(r,e){if(r)return typeof r=="function"?Aw()?sw(r,e):"ease-out":w0(r)?od(r):Array.isArray(r)?r.map(t=>nE(t,e)||rE.easeOut):rE[r]}function J3(r,e,t,{delay:n=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:s="easeOut",times:u}={},l=void 0){let c={[e]:t};u&&(c.offset=u);let A=nE(s,a);Array.isArray(A)&&(c.easing=A),Ji.value&&Qu.waapi++;let d={delay:n,duration:a,easing:Array.isArray(A)?"linear":A,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};l&&(d.pseudoElement=l);let f=r.animate(c,d);return Ji.value&&f.finished.finally(()=>{Qu.waapi--}),f}function fw(r){return typeof r=="function"&&"applyToOptions"in r}function Z3({type:r,...e}){return fw(r)&&Aw()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}var dw=class extends NA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:s,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=e,tu(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");let l=Z3(e);this.animation=J3(t,n,a,l,o),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){let c=Lp(a,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(c):K3(t,n,c),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){let e=this.animation.effect?.getComputedTiming?.().duration||0;return co(Number(e))}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+co(e)}get time(){return co(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&X3()?(this.animation.timeline=e,ua):t(this)}};var eP={anticipate:m0,backInOut:p0,circInOut:y0};function PZ(r){return r in eP}function tP(r){typeof r.ease=="string"&&PZ(r.ease)&&(r.ease=eP[r.ease])}var rP=10,hw=class extends dw{constructor(e){tP(e),cw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:n,onComplete:a,element:o,...i}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}let s=new vc({...i,autoplay:!1}),u=lo(this.finishedTime??this.time);t.setWithVelocity(s.sample(u-rP).value,s.sample(u).value,rP),s.stop()}};var aE=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ti.test(r)||r==="0")&&!r.startsWith("url("));function DZ(r){let e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function nP(r,e,t,n){let a=r[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;let o=r[r.length-1],i=aE(a,e),s=aE(o,e);return pc(i===s,`You are trying to animate ${e} from "${a}" to "${o}". "${i?o:a}" is not an animatable value.`,"value-not-animatable"),!i||!s?!1:DZ(r)||(t==="spring"||fw(t))&&n}function Fp(r){r.duration=0,r.type="keyframes"}var RZ=new Set(["opacity","clipPath","filter","transform"]),MZ=ed(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aP(r){let{motionValue:e,name:t,repeatDelay:n,repeatType:a,damping:o,type:i}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:u,transformTemplate:l}=e.owner.getProps();return MZ()&&t&&RZ.has(t)&&(t!=="transform"||!l)&&!u&&!n&&a!=="mirror"&&o!==0&&i!=="inertia"}var UZ=40,_0=class extends NA{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:s,name:u,motionValue:l,element:c,...A}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ya.now();let d={autoplay:e,delay:t,type:n,repeat:a,repeatDelay:o,repeatType:i,name:u,motionValue:l,element:c,...A},f=c?.KeyframeResolver||yc;this.keyframeResolver=new f(s,(h,p,v)=>this.onKeyframesResolved(h,p,d,!v),u,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,a){this.keyframeResolver=void 0;let{name:o,type:i,velocity:s,delay:u,isHandoff:l,onUpdate:c}=n;this.resolvedAt=ya.now(),nP(e,o,i,s)||((Zo.instantAnimations||!u)&&c?.(Lp(e,n,t)),e[0]=e[e.length-1],Fp(n),n.repeat=0);let d={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>UZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},f=!l&&aP(d)?new hw({...d,element:d.motionValue.owner.current}):new vc(d);f.finished.then(()=>this.notifyFinished()).catch(ua),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}};var OZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QZ(r){let e=OZ.exec(r);if(!e)return[,];let[,t,n,a]=e;return[`--${t??n}`,a]}var HZ=4;function oE(r,e,t=1){tu(t<=HZ,`Max CSS variable fallback depth detected in property "${r}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[n,a]=QZ(r);if(!n)return;let o=window.getComputedStyle(e).getPropertyValue(n);if(o){let i=o.trim();return A0(i)?parseFloat(i):i}return td(a)?oE(a,e,t+1):a}function id(r,e){return r?.[e]??r?.default??r}var k0=new Set(["width","height","top","left","right","bottom",...Vu]);var oP={test:r=>r==="auto",parse:r=>r};var pw=r=>e=>e.test(r);var iE=[Sl,rr,ei,Hu,VI,HI,oP],sE=r=>iE.find(pw(r));function iP(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||d0(r):!0}var VZ=new Set(["brightness","contrast","saturate","opacity"]);function qZ(r){let[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;let[n]=t.match(Cp)||[];if(!n)return r;let a=t.replace(n,""),o=VZ.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+a+")"}var WZ=/\b([a-z-]*)\(.*?\)/gu,N0={...ti,getAnimatableNone:r=>{let e=r.match(WZ);return e?e.map(qZ).join(" "):r}};var uE={...Sl,transform:Math.round};var sP={rotate:Hu,rotateX:Hu,rotateY:Hu,rotateZ:Hu,scale:S0,scaleX:S0,scaleY:S0,scaleZ:S0,skew:Hu,skewX:Hu,skewY:Hu,distance:rr,translateX:rr,translateY:rr,translateZ:rr,x:rr,y:rr,z:rr,perspective:rr,transformPerspective:rr,opacity:gc,originX:nw,originY:nw,originZ:rr};var sd={borderWidth:rr,borderTopWidth:rr,borderRightWidth:rr,borderBottomWidth:rr,borderLeftWidth:rr,borderRadius:rr,radius:rr,borderTopLeftRadius:rr,borderTopRightRadius:rr,borderBottomRightRadius:rr,borderBottomLeftRadius:rr,width:rr,maxWidth:rr,height:rr,maxHeight:rr,top:rr,right:rr,bottom:rr,left:rr,padding:rr,paddingTop:rr,paddingRight:rr,paddingBottom:rr,paddingLeft:rr,margin:rr,marginTop:rr,marginRight:rr,marginBottom:rr,marginLeft:rr,backgroundPositionX:rr,backgroundPositionY:rr,...sP,zIndex:uE,fillOpacity:gc,strokeOpacity:gc,numOctaves:uE};var uP={...sd,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:N0,WebkitFilter:N0},P0=r=>uP[r];function D0(r,e){let t=P0(r);return t!==N0&&(t=ti),t.getAnimatableNone?t.getAnimatableNone(e):void 0}var zZ=new Set(["auto","none","0"]);function lP(r,e,t){let n=0,a;for(;n<r.length&&!a;){let o=r[n];typeof o=="string"&&!zZ.has(o)&&kA(o).values.length&&(a=r[n]),n++}if(a&&t)for(let o of e)r[o]=D0(t,a)}var R0=class extends yc{constructor(e,t,n,a,o){super(e,t,n,a,o,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let l=e[u];if(typeof l=="string"&&(l=l.trim(),td(l))){let c=oE(l,t.current);c!==void 0&&(e[u]=c),u===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!k0.has(n)||e.length!==2)return;let[a,o]=e,i=sE(a),s=sE(o);if(i!==s)if($I(i)&&$I(s))for(let u=0;u<e.length;u++){let l=e[u];typeof l=="string"&&(e[u]=parseFloat(l))}else PA[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||iP(e[a]))&&n.push(a);n.length&&lP(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=PA[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let a=t[t.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;let a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);let o=n.length-1,i=n[o];n[o]=PA[t](e.measureViewportBox(),window.getComputedStyle(e.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([s,u])=>{e.getValue(s).set(u)}),this.resolveNoneKeyframes()}};function cP(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;e&&(n=e.current);let a=t?.[r]??n.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}var M0=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function U0(r){return f0(r)&&"offsetHeight"in r}var AP=30,jZ=r=>!isNaN(parseFloat(r)),lE={current:void 0},mw=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{let a=ya.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ya.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new mc);let n=this.events[e].add(t);return e==="change"?()=>{n(),Pr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return lE.current&&lE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=ya.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AP)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,AP);return h0(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function ru(r,e){return new mw(r,e)}var{schedule:ud,cancel:GZ}=ew(queueMicrotask,!1);var nu={x:!1,y:!1};function gw(){return nu.x||nu.y}function cE(r){return r==="x"||r==="y"?nu[r]?null:(nu[r]=!0,()=>{nu[r]=!1}):nu.x||nu.y?null:(nu.x=nu.y=!0,()=>{nu.x=nu.y=!1})}function vw(r,e){let t=cP(r),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[t,a,()=>n.abort()]}function fP(r){return!(r.pointerType==="touch"||gw())}function AE(r,e,t={}){let[n,a,o]=vw(r,t),i=s=>{if(!fP(s))return;let{target:u}=s,l=e(u,s);if(typeof l!="function"||!u)return;let c=A=>{fP(A)&&(l(A),u.removeEventListener("pointerleave",c))};u.addEventListener("pointerleave",c,a)};return n.forEach(s=>{s.addEventListener("pointerenter",i,a)}),o}var fE=(r,e)=>e?r===e?!0:fE(r,e.parentElement):!1;var ld=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;var KZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dP(r){return KZ.has(r.tagName)||r.tabIndex!==-1}var Tp=new WeakSet;function hP(r){return e=>{e.key==="Enter"&&r(e)}}function dE(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}var pP=(r,e)=>{let t=r.currentTarget;if(!t)return;let n=hP(()=>{if(Tp.has(t))return;dE(t,"down");let a=hP(()=>{dE(t,"up")}),o=()=>dE(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function mP(r){return ld(r)&&!gw()}function hE(r,e,t={}){let[n,a,o]=vw(r,t),i=s=>{let u=s.currentTarget;if(!mP(s))return;Tp.add(u);let l=e(u,s),c=(f,h)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",d),Tp.has(u)&&Tp.delete(u),mP(f)&&typeof l=="function"&&l(f,{success:h})},A=f=>{c(f,u===window||u===document||t.useGlobalTarget||fE(u,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",A,a),window.addEventListener("pointercancel",d,a)};return n.forEach(s=>{(t.useGlobalTarget?window:s).addEventListener("pointerdown",i,a),U0(s)&&(s.addEventListener("focus",l=>pP(l,a)),!dP(s)&&!s.hasAttribute("tabindex")&&(s.tabIndex=0))}),o}function O0(r){return f0(r)&&"ownerSVGElement"in r}function pE(r){return O0(r)&&r.tagName==="svg"}var _n=r=>!!(r&&r.getVelocity);var XZ=[...iE,ea,ti],mE=r=>XZ.find(pw(r));var yw=At(jt(),1),xc=At(jt(),1);var gP=At(jt(),1),_p=(0,gP.createContext)({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});var yP=At(jt(),1);function vP(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function YZ(...r){return e=>{let t=!1,n=r.map(a=>{let o=vP(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<n.length;a++){let o=n[a];typeof o=="function"?o():vP(r[a],null)}}}}function xP(...r){return yP.useCallback(YZ(...r),r)}var gE=class extends yw.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let n=t.offsetParent,a=U0(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}};function bP({children:r,isPresent:e,anchorX:t,root:n}){let a=(0,xc.useId)(),o=(0,xc.useRef)(null),i=(0,xc.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,xc.useContext)(_p),u=xP(o,r?.ref);return(0,xc.useInsertionEffect)(()=>{let{width:l,height:c,top:A,left:d,right:f}=i.current;if(e||!o.current||!l||!c)return;let h=t==="left"?`left: ${d}`:`right: ${f}`;o.current.dataset.motionPopId=a;let p=document.createElement("style");s&&(p.nonce=s);let v=n??document.head;return v.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${A}px !important;
          }
        `),()=>{v.contains(p)&&v.removeChild(p)}},[e]),(0,wP.jsx)(gE,{isPresent:e,childRef:o,sizeRef:i,children:yw.cloneElement(r,{ref:u})})}var BP=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:a,presenceAffectsLayout:o,mode:i,anchorX:s,root:u})=>{let l=xp($Z),c=(0,Q0.useId)(),A=!0,d=(0,Q0.useMemo)(()=>(A=!1,{id:c,initial:e,isPresent:t,custom:a,onExitComplete:f=>{l.set(f,!0);for(let h of l.values())if(!h)return;n&&n()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[t,l,n]);return o&&A&&(d={...d}),(0,Q0.useMemo)(()=>{l.forEach((f,h)=>l.set(h,!1))},[t]),CP.useEffect(()=>{!t&&!l.size&&n&&n()},[t]),i==="popLayout"&&(r=(0,vE.jsx)(bP,{isPresent:t,anchorX:s,root:u,children:r})),(0,vE.jsx)(LA.Provider,{value:d,children:r})};function $Z(){return new Map}var DA=At(jt(),1);function xw(r=!0){let e=(0,DA.useContext)(LA);if(e===null)return[!0,null];let{isPresent:t,onExitComplete:n,register:a}=e,o=(0,DA.useId)();(0,DA.useEffect)(()=>{if(r)return a(o)},[r]);let i=(0,DA.useCallback)(()=>r&&n&&n(o),[o,n,r]);return!t&&n?[!1,i]:[!0]}var ww=At(jt(),1),H0=r=>r.key||"";function yE(r){let e=[];return ww.Children.forEach(r,t=>{(0,ww.isValidElement)(t)&&e.push(t)}),e}var kp=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:o="sync",propagate:i=!1,anchorX:s="left",root:u})=>{let[l,c]=xw(i),A=(0,El.useMemo)(()=>yE(r),[r]),d=i&&!l?[]:A.map(H0),f=(0,El.useRef)(!0),h=(0,El.useRef)(A),p=xp(()=>new Map),[v,g]=(0,El.useState)(A),[B,I]=(0,El.useState)(A);Xx(()=>{f.current=!1,h.current=A;for(let T=0;T<B.length;T++){let U=H0(B[T]);d.includes(U)?p.delete(U):p.get(U)!==!0&&p.set(U,!1)}},[B,d.length,d.join("-")]);let S=[];if(A!==v){let T=[...A];for(let U=0;U<B.length;U++){let D=B[U],k=H0(D);d.includes(k)||(T.splice(U,0,D),S.push(D))}return o==="wait"&&S.length&&(T=S),I(yE(T)),g(A),null}let{forceRender:E}=(0,El.useContext)(yp);return(0,V0.jsx)(V0.Fragment,{children:B.map(T=>{let U=H0(T),D=i&&!l?!1:A===B||d.includes(U),k=()=>{if(p.has(U))p.set(U,!0);else return;let O=!0;p.forEach(N=>{N||(O=!1)}),O&&(E?.(),I(h.current),i&&c?.(),n&&n())};return(0,V0.jsx)(BP,{isPresent:D,initial:!f.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:u,onExitComplete:D?void 0:k,anchorX:s,children:T},U)})})};var SP=At(jt(),1),bw=(0,SP.createContext)({strict:!1});var IP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wc={};for(let r in IP)wc[r]={isEnabled:e=>IP[r].some(t=>!!e[t])};function EP(r){for(let e in r)wc[e]={...wc[e],...r[e]}}var JZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function q0(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||JZ.has(r)}var LP=r=>!q0(r);function ZZ(r){typeof r=="function"&&(LP=e=>e.startsWith("on")?!q0(e):r(e))}try{ZZ(Rx("@emotion/is-prop-valid").default)}catch{}function FP(r,e,t){let n={};for(let a in r)a==="values"&&typeof r.values=="object"||(LP(a)||t===!0&&q0(a)||!e&&!q0(a)||r.draggable&&a.startsWith("onDrag"))&&(n[a]=r[a]);return n}var Pw=At(vp(),1);var Vp=At(jt(),1);var TP=At(jt(),1),RA=(0,TP.createContext)({});var Sw=At(jt(),1);function MA(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function bc(r){return typeof r=="string"||Array.isArray(r)}var Cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W0=["initial",...Cw];function cd(r){return MA(r.animate)||W0.some(e=>bc(r[e]))}function Bw(r){return!!(cd(r)||r.variants)}function _P(r,e){if(cd(r)){let{initial:t,animate:n}=r;return{initial:t===!1||bc(t)?t:void 0,animate:bc(n)?n:void 0}}return r.inherit!==!1?e:{}}function NP(r){let{initial:e,animate:t}=_P(r,(0,Sw.useContext)(RA));return(0,Sw.useMemo)(()=>({initial:e,animate:t}),[kP(e),kP(t)])}function kP(r){return Array.isArray(r)?r.join(" "):r}var Mp=At(jt(),1);var MP=At(jt(),1);function PP(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}var Np={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(rr.test(r))r=parseFloat(r);else return r;let t=PP(r,e.target.x),n=PP(r,e.target.y);return`${t}% ${n}%`}};var DP={correct:(r,{treeScale:e,projectionDelta:t})=>{let n=r,a=ti.parse(r);if(a.length>5)return n;let o=ti.createTransformer(r),i=typeof a[0]!="number"?1:0,s=t.x.scale*e.x,u=t.y.scale*e.y;a[0+i]/=s,a[1+i]/=u;let l=qr(s,u,.5);return typeof a[2+i]=="number"&&(a[2+i]/=l),typeof a[3+i]=="number"&&(a[3+i]/=l),o(a)}};var z0={borderRadius:{...Np,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Np,borderTopRightRadius:Np,borderBottomLeftRadius:Np,borderBottomRightRadius:Np,boxShadow:DP};function Iw(r,{layout:e,layoutId:t}){return Fs.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!z0[r]||r==="opacity")}var eee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tee=Vu.length;function RP(r,e,t){let n="",a=!0;for(let o=0;o<tee;o++){let i=Vu[o],s=r[i];if(s===void 0)continue;let u=!0;if(typeof s=="number"?u=s===(i.startsWith("scale")?1:0):u=parseFloat(s)===0,!u||t){let l=M0(s,sd[i]);if(!u){a=!1;let c=eee[i]||i;n+=`${c}(${l}) `}t&&(e[i]=l)}}return n=n.trim(),t?n=t(e,a?"":n):a&&(n="none"),n}function Pp(r,e,t){let{style:n,vars:a,transformOrigin:o}=r,i=!1,s=!1;for(let u in e){let l=e[u];if(Fs.has(u)){i=!0;continue}else if(B0(u)){a[u]=l;continue}else{let c=M0(l,sd[u]);u.startsWith("origin")?(s=!0,o[u]=c):n[u]=c}}if(e.transform||(i||t?n.transform=RP(e,r.transform,t):n.transform&&(n.transform="none")),s){let{originX:u="50%",originY:l="50%",originZ:c=0}=o;n.transformOrigin=`${u} ${l} ${c}`}}var Dp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xE(r,e,t){for(let n in e)!_n(e[n])&&!Iw(n,t)&&(r[n]=e[n])}function ree({transformTemplate:r},e){return(0,MP.useMemo)(()=>{let t=Dp();return Pp(t,e,r),Object.assign({},t.vars,t.style)},[e])}function nee(r,e){let t=r.style||{},n={};return xE(n,t,r),Object.assign(n,ree(r,e)),n}function UP(r,e){let t={},n=nee(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}var QP=At(jt(),1);var aee={offset:"stroke-dashoffset",array:"stroke-dasharray"},oee={offset:"strokeDashoffset",array:"strokeDasharray"};function OP(r,e,t=1,n=0,a=!0){r.pathLength=1;let o=a?aee:oee;r[o.offset]=rr.transform(-n);let i=rr.transform(e),s=rr.transform(t);r[o.array]=`${i} ${s}`}function Ew(r,{attrX:e,attrY:t,attrScale:n,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...s},u,l,c){if(Pp(r,s,l),u){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};let{attrs:A,style:d}=r;A.transform&&(d.transform=A.transform,delete A.transform),(d.transform||A.transformOrigin)&&(d.transformOrigin=A.transformOrigin??"50% 50%",delete A.transformOrigin),d.transform&&(d.transformBox=c?.transformBox??"fill-box",delete A.transformBox),e!==void 0&&(A.x=e),t!==void 0&&(A.y=t),n!==void 0&&(A.scale=n),a!==void 0&&OP(A,a,o,i,!1)}var Lw=()=>({...Dp(),attrs:{}});var Fw=r=>typeof r=="string"&&r.toLowerCase()==="svg";function HP(r,e,t,n){let a=(0,QP.useMemo)(()=>{let o=Lw();return Ew(o,e,Fw(n),r.transformTemplate,r.style),{...o.attrs,style:{...o.style}}},[e]);if(r.style){let o={};xE(o,r.style,r),a.style={...o,...a.style}}return a}var VP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rp(r){return typeof r!="string"||r.includes("-")?!1:!!(VP.indexOf(r)>-1||/[A-Z]/u.test(r))}function qP(r,e,t,{latestValues:n},a,o=!1){let s=(Rp(r)?HP:UP)(e,n,a,r),u=FP(e,typeof r=="string",o),l=r!==Mp.Fragment?{...u,...s,ref:t}:{},{children:c}=e,A=(0,Mp.useMemo)(()=>_n(c)?c.get():c,[c]);return(0,Mp.createElement)(r,{...l,children:A})}var wE=At(jt(),1);function WP(r){let e=[{},{}];return r?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Up(r,e,t,n){if(typeof e=="function"){let[a,o]=WP(n);e=e(t!==void 0?t:r.custom,a,o)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){let[a,o]=WP(n);e=e(t!==void 0?t:r.custom,a,o)}return e}function Op(r){return _n(r)?r.get():r}function iee({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,a){return{latestValues:see(t,n,a,r),renderState:e()}}function see(r,e,t,n){let a={},o=n(r,{});for(let d in o)a[d]=Op(o[d]);let{initial:i,animate:s}=r,u=cd(r),l=Bw(r);e&&l&&!u&&r.inherit!==!1&&(i===void 0&&(i=e.initial),s===void 0&&(s=e.animate));let c=t?t.initial===!1:!1;c=c||i===!1;let A=c?s:i;if(A&&typeof A!="boolean"&&!MA(A)){let d=Array.isArray(A)?A:[A];for(let f=0;f<d.length;f++){let h=Up(r,d[f]);if(h){let{transitionEnd:p,transition:v,...g}=h;for(let B in g){let I=g[B];if(Array.isArray(I)){let S=c?I.length-1:0;I=I[S]}I!==null&&(a[B]=I)}for(let B in p)a[B]=p[B]}}}return a}var Tw=r=>(e,t)=>{let n=(0,wE.useContext)(RA),a=(0,wE.useContext)(LA),o=()=>iee(r,e,n,a);return t?o():xp(o)};function Qp(r,e,t){let{style:n}=r,a={};for(let o in n)(_n(n[o])||e.style&&_n(e.style[o])||Iw(o,r)||t?.getValue(o)?.liveStyle!==void 0)&&(a[o]=n[o]);return a}var zP=Tw({scrapeMotionValuesFromProps:Qp,createRenderState:Dp});function _w(r,e,t){let n=Qp(r,e,t);for(let a in r)if(_n(r[a])||_n(e[a])){let o=Vu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[o]=r[a]}return n}var jP=Tw({scrapeMotionValuesFromProps:_w,createRenderState:Lw});var GP=Symbol.for("motionComponentSymbol");var KP=At(jt(),1);function Cc(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function XP(r,e,t){return(0,KP.useCallback)(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Cc(t)&&(t.current=n))},[e])}var es=At(jt(),1);var Hp=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase();var uee="framerAppearId",kw="data-"+Hp(uee);var YP=At(jt(),1),Nw=(0,YP.createContext)({});function $P(r,e,t,n,a){let{visualElement:o}=(0,es.useContext)(RA),i=(0,es.useContext)(bw),s=(0,es.useContext)(LA),u=(0,es.useContext)(_p).reducedMotion,l=(0,es.useRef)(null);n=n||i.renderer,!l.current&&n&&(l.current=n(r,{visualState:e,parent:o,props:t,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:u}));let c=l.current,A=(0,es.useContext)(Nw);c&&!c.projection&&a&&(c.type==="html"||c.type==="svg")&&lee(l.current,t,a,A);let d=(0,es.useRef)(!1);(0,es.useInsertionEffect)(()=>{c&&d.current&&c.update(t,s)});let f=t[kw],h=(0,es.useRef)(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return Xx(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),h.current&&c.animationState&&c.animationState.animateChanges())}),(0,es.useEffect)(()=>{c&&(!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),h.current=!1),c.enteringChildren=void 0)}),c}function lee(r,e,t,n){let{layoutId:a,layout:o,drag:i,dragConstraints:s,layoutScroll:u,layoutRoot:l,layoutCrossfade:c}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:JP(r.parent)),r.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||s&&Cc(s),visualElement:r,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:u,layoutRoot:l})}function JP(r){if(r)return r.options.allowProjection!==!1?r.projection:JP(r.parent)}function Dw(r,{forwardMotionProps:e=!1}={},t,n){t&&EP(t);let a=Rp(r)?jP:zP;function o(s,u){let l,c={...(0,Vp.useContext)(_p),...s,layoutId:cee(s)},{isStatic:A}=c,d=NP(s),f=a(s,A);if(!A&&wp){Aee(c,t);let h=fee(c);l=h.MeasureLayout,d.visualElement=$P(r,f,c,n,h.ProjectionNode)}return(0,Pw.jsxs)(RA.Provider,{value:d,children:[l&&d.visualElement?(0,Pw.jsx)(l,{visualElement:d.visualElement,...c}):null,qP(r,s,XP(f,d.visualElement,u),f,A,e)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;let i=(0,Vp.forwardRef)(o);return i[GP]=r,i}function cee({layoutId:r}){let e=(0,Vp.useContext)(yp).id;return e&&r!==void 0?e+"-"+r:r}function Aee(r,e){let t=(0,Vp.useContext)(bw).strict}function fee(r){let{drag:e,layout:t}=wc;if(!e&&!t)return{};let n={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ZP(r,e){if(typeof Proxy>"u")return Dw;let t=new Map,n=(o,i)=>Dw(o,i,r,e),a=(o,i)=>n(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?n:(t.has(i)||t.set(i,Dw(i,void 0,r,e)),t.get(i))})}var mD=At(jt(),1);function Rw({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function eD({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function tD(r,e){if(!e)return r;let t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function bE(r){return r===void 0||r===1}function Mw({scale:r,scaleX:e,scaleY:t}){return!bE(r)||!bE(e)||!bE(t)}function Bc(r){return Mw(r)||CE(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function CE(r){return rD(r.x)||rD(r.y)}function rD(r){return r&&r!=="0%"}function j0(r,e,t){let n=r-t,a=e*n;return t+a}function nD(r,e,t,n,a){return a!==void 0&&(r=j0(r,a,n)),j0(r,t,n)+e}function BE(r,e=0,t=1,n,a){r.min=nD(r.min,e,t,n,a),r.max=nD(r.max,e,t,n,a)}function SE(r,{x:e,y:t}){BE(r.x,e.translate,e.scale,e.originPoint),BE(r.y,t.translate,t.scale,t.originPoint)}var aD=.999999999999,oD=1.0000000000001;function sD(r,e,t,n=!1){let a=t.length;if(!a)return;e.x=e.y=1;let o,i;for(let s=0;s<a;s++){o=t[s],i=o.projectionDelta;let{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ad(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,SE(r,i)),n&&Bc(o.latestValues)&&Ad(r,o.latestValues))}e.x<oD&&e.x>aD&&(e.x=1),e.y<oD&&e.y>aD&&(e.y=1)}function UA(r,e){r.min=r.min+e,r.max=r.max+e}function iD(r,e,t,n,a=.5){let o=qr(r.min,r.max,a);BE(r,e,t,o,n)}function Ad(r,e){iD(r.x,e.x,e.scaleX,e.scale,e.originX),iD(r.y,e.y,e.scaleY,e.scale,e.originY)}function IE(r,e){return Rw(tD(r.getBoundingClientRect(),e))}function uD(r,e,t){let n=IE(r,t),{scroll:a}=e;return a&&(UA(n.x,a.offset.x),UA(n.y,a.offset.y)),n}var lD=()=>({translate:0,scale:1,origin:0,originPoint:0}),fd=()=>({x:lD(),y:lD()}),cD=()=>({min:0,max:0}),la=()=>({x:cD(),y:cD()});var G0={current:null},Uw={current:!1};function AD(){if(Uw.current=!0,!!wp)if(window.matchMedia){let r=window.matchMedia("(prefers-reduced-motion)"),e=()=>G0.current=r.matches;r.addEventListener("change",e),e()}else G0.current=!1}var fD=new WeakMap;function dD(r,e,t){for(let n in e){let a=e[n],o=t[n];if(_n(a))r.addValue(n,a);else if(_n(o))r.addValue(n,ru(a,{owner:r}));else if(o!==a)if(r.hasValue(n)){let i=r.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{let i=r.getStaticValue(n);r.addValue(n,ru(i!==void 0?i:a,{owner:r}))}}for(let n in t)e[n]===void 0&&r.removeValue(n);return e}var hD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ow=class{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let d=ya.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Pr.render(this.render,!1,!0))};let{latestValues:u,renderState:l}=i;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=s,this.blockInitialAnimation=!!o,this.isControllingVariants=cd(t),this.isVariantNode=Bw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:c,...A}=this.scrapeMotionValuesFromProps(t,{},this);for(let d in A){let f=A[d];u[d]!==void 0&&_n(f)&&f.set(u[d])}}mount(e){this.current=e,fD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),Uw.current||AD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(let e in this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=Fs.has(e);n&&this.onBindTransform&&this.onBindTransform();let a=t.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Pr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}),o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wc){let t=wc[e];if(!t)continue;let{isEnabled:n,Feature:a}=t;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){let o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):la()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<hD.length;n++){let a=hD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);let o="on"+a,i=e[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=dD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=ru(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(A0(n)||d0(n))?n=parseFloat(n):!mE(n)&&ti.test(t)&&(n=D0(e,t)),this.setBaseTarget(e,_n(n)?n.get():n)),_n(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n;if(typeof t=="string"||typeof t=="object"){let o=Up(this.props,t,this.presenceContext?.custom);o&&(n=o[e])}if(t&&n!==void 0)return n;let a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!_n(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new mc),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ud.render(this.render)}};var qp=class extends Ow{constructor(){super(...arguments),this.KeyframeResolver=R0}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;_n(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}};function Qw(r,{style:e,vars:t},n,a){let o=r.style,i;for(i in e)o[i]=e[i];a?.applyProjectionStyles(o,n);for(i in t)o.setProperty(i,t[i])}function dee(r){return window.getComputedStyle(r)}var Hw=class extends qp{constructor(){super(...arguments),this.type="html",this.renderInstance=Qw}readValueFromInstance(e,t){if(Fs.has(t))return this.projection?.isProjecting?F0(t):YI(e,t);{let n=dee(e),a=(B0(t)?n.getPropertyValue(t):n[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return IE(e,t)}build(e,t,n){Pp(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Qp(e,t,n)}};var Vw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pD(r,e,t,n){Qw(r,e,void 0,n);for(let a in e.attrs)r.setAttribute(Vw.has(a)?a:Hp(a),e.attrs[a])}var qw=class extends qp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=la}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Fs.has(t)){let n=P0(t);return n&&n.default||0}return t=Vw.has(t)?t:Hp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return _w(e,t,n)}build(e,t,n){Ew(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,a){pD(e,t,n,a)}mount(e){this.isSVGTag=Fw(e.tagName),super.mount(e)}};var gD=(r,e)=>Rp(r)?new qw(e):new Hw(e,{allowProjection:r!==mD.Fragment});function Ll(r,e,t){let n=r.getProps();return Up(n,e,t!==void 0?t:n.custom,r)}var K0=r=>Array.isArray(r);function hee(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,ru(t))}function pee(r){return K0(r)?r[r.length-1]||0:r}function vD(r,e){let t=Ll(r,e),{transitionEnd:n={},transition:a={},...o}=t||{};o={...o,...n};for(let i in o){let s=pee(o[i]);hee(r,i,s)}}function yD(r){return!!(_n(r)&&r.add)}function X0(r,e){let t=r.getValue("willChange");if(yD(t))return t.add(e);if(!t&&Zo.WillChange){let n=new Zo.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function Ww(r){return r.props[kw]}var mee=r=>r!==null;function xD(r,{repeat:e,repeatType:t="loop"},n){let a=r.filter(mee),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}var gee={type:"spring",stiffness:500,damping:25,restSpeed:10},vee=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),yee={type:"keyframes",duration:.8},xee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wD=(r,{keyframes:e})=>e.length>2?yee:Fs.has(r)?r.startsWith("scale")?vee(e[1]):gee:xee;function bD({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:s,from:u,elapsed:l,...c}){return!!Object.keys(c).length}var Wp=(r,e,t,n={},a,o)=>i=>{let s=id(n,r)||{},u=s.delay||n.delay||0,{elapsed:l=0}=n;l=l-lo(u);let c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...s,delay:-l,onUpdate:d=>{e.set(d),s.onUpdate&&s.onUpdate(d)},onComplete:()=>{i(),s.onComplete&&s.onComplete()},name:r,motionValue:e,element:o?void 0:a};bD(s)||Object.assign(c,wD(r,c)),c.duration&&(c.duration=lo(c.duration)),c.repeatDelay&&(c.repeatDelay=lo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let A=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Fp(c),c.delay===0&&(A=!0)),(Zo.instantAnimations||Zo.skipAnimations)&&(A=!0,Fp(c),c.delay=0),c.allowFlatten=!s.type&&!s.ease,A&&!o&&e.get()!==void 0){let d=xD(c.keyframes,s);if(d!==void 0){Pr.update(()=>{c.onUpdate(d),c.onComplete()});return}}return s.isSync?new vc(c):new _0(c)};function wee({protectedKeys:r,needsAnimating:e},t){let n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function zw(r,e,{delay:t=0,transitionOverride:n,type:a}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:i,...s}=e;n&&(o=n);let u=[],l=a&&r.animationState&&r.animationState.getState()[a];for(let c in s){let A=r.getValue(c,r.latestValues[c]??null),d=s[c];if(d===void 0||l&&wee(l,c))continue;let f={delay:t,...id(o||{},c)},h=A.get();if(h!==void 0&&!A.isAnimating&&!Array.isArray(d)&&d===h&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){let g=Ww(r);if(g){let B=window.MotionHandoffAnimation(g,c,Pr);B!==null&&(f.startTime=B,p=!0)}}X0(r,c),A.start(Wp(c,A,d,r.shouldReduceMotion&&k0.has(c)?{type:!1}:f,r,p));let v=A.animation;v&&u.push(v)}return i&&Promise.all(u).then(()=>{Pr.update(()=>{i&&vD(r,i)})}),u}function jw(r,e,t,n=0,a=1){let o=Array.from(r).sort((l,c)=>l.sortNodePosition(c)).indexOf(e),i=r.size,s=(i-1)*n;return typeof t=="function"?t(o,i):a===1?o*n:s-o*n}function Gw(r,e,t={}){let n=Ll(r,e,t.type==="exit"?r.presenceContext?.custom:void 0),{transition:a=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(a=t.transitionOverride);let o=n?()=>Promise.all(zw(r,n,t)):()=>Promise.resolve(),i=r.variantChildren&&r.variantChildren.size?(u=0)=>{let{delayChildren:l=0,staggerChildren:c,staggerDirection:A}=a;return bee(r,e,u,l,c,A,t)}:()=>Promise.resolve(),{when:s}=a;if(s){let[u,l]=s==="beforeChildren"?[o,i]:[i,o];return u().then(()=>l())}else return Promise.all([o(),i(t.delay)])}function bee(r,e,t=0,n=0,a=0,o=1,i){let s=[];for(let u of r.variantChildren)u.notify("AnimationStart",e),s.push(Gw(u,e,{...i,delay:t+(typeof n=="function"?0:n)+jw(r.variantChildren,u,n,a,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(s)}function CD(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){let a=e.map(o=>Gw(r,o,t));n=Promise.all(a)}else if(typeof e=="string")n=Gw(r,e,t);else{let a=typeof e=="function"?Ll(r,e,t.custom):e;n=Promise.all(zw(r,a,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function EE(r,e){if(!Array.isArray(e))return!1;let t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}var Cee=W0.length;function LE(r){if(!r)return;if(!r.isControllingVariants){let t=r.parent?LE(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}let e={};for(let t=0;t<Cee;t++){let n=W0[t],a=r.props[n];(bc(a)||a===!1)&&(e[n]=a)}return e}var Bee=[...Cw].reverse(),See=Cw.length;function Iee(r){return e=>Promise.all(e.map(({animation:t,options:n})=>CD(r,t,n)))}function SD(r){let e=Iee(r),t=BD(),n=!0,a=u=>(l,c)=>{let A=Ll(r,c,u==="exit"?r.presenceContext?.custom:void 0);if(A){let{transition:d,transitionEnd:f,...h}=A;l={...l,...h,...f}}return l};function o(u){e=u(r)}function i(u){let{props:l}=r,c=LE(r.parent)||{},A=[],d=new Set,f={},h=1/0;for(let v=0;v<See;v++){let g=Bee[v],B=t[g],I=l[g]!==void 0?l[g]:c[g],S=bc(I),E=g===u?B.isActive:null;E===!1&&(h=v);let T=I===c[g]&&I!==l[g]&&S;if(T&&n&&r.manuallyAnimateOnMount&&(T=!1),B.protectedKeys={...f},!B.isActive&&E===null||!I&&!B.prevProp||MA(I)||typeof I=="boolean")continue;let U=Eee(B.prevProp,I),D=U||g===u&&B.isActive&&!T&&S||v>h&&S,k=!1,O=Array.isArray(I)?I:[I],N=O.reduce(a(g),{});E===!1&&(N={});let{prevResolvedValues:P={}}=B,j={...P,...N},z=Y=>{D=!0,d.has(Y)&&(k=!0,d.delete(Y)),B.needsAnimating[Y]=!0;let J=r.getValue(Y);J&&(J.liveStyle=!1)};for(let Y in j){let J=N[Y],G=P[Y];if(f.hasOwnProperty(Y))continue;let Z=!1;K0(J)&&K0(G)?Z=!EE(J,G):Z=J!==G,Z?J!=null?z(Y):d.add(Y):J!==void 0&&d.has(Y)?z(Y):B.protectedKeys[Y]=!0}B.prevProp=I,B.prevResolvedValues=N,B.isActive&&(f={...f,...N}),n&&r.blockInitialAnimation&&(D=!1);let ne=T&&U;D&&(!ne||k)&&A.push(...O.map(Y=>{let J={type:g};if(typeof Y=="string"&&n&&!ne&&r.manuallyAnimateOnMount&&r.parent){let{parent:G}=r,Z=Ll(G,Y);if(G.enteringChildren&&Z){let{delayChildren:he}=Z.transition||{};J.delay=jw(G.enteringChildren,r,he)}}return{animation:Y,options:J}}))}if(d.size){let v={};if(typeof l.initial!="boolean"){let g=Ll(r,Array.isArray(l.initial)?l.initial[0]:l.initial);g&&g.transition&&(v.transition=g.transition)}d.forEach(g=>{let B=r.getBaseTarget(g),I=r.getValue(g);I&&(I.liveStyle=!0),v[g]=B??null}),A.push({animation:v})}let p=!!A.length;return n&&(l.initial===!1||l.initial===l.animate)&&!r.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(A):Promise.resolve()}function s(u,l){if(t[u].isActive===l)return Promise.resolve();r.variantChildren?.forEach(A=>A.animationState?.setActive(u,l)),t[u].isActive=l;let c=i(u);for(let A in t)t[A].protectedKeys={};return c}return{animateChanges:i,setActive:s,setAnimateFunction:o,getState:()=>t,reset:()=>{t=BD()}}}function Eee(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!EE(e,r):!1}function dd(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BD(){return{animate:dd(!0),whileInView:dd(),whileHover:dd(),whileTap:dd(),whileDrag:dd(),whileFocus:dd(),exit:dd()}}var wo=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};var Kw=class extends wo{constructor(e){super(e),e.animationState||(e.animationState=SD(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();MA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}};var Lee=0,Xw=class extends wo{constructor(){super(...arguments),this.id=Lee++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}};var ID={animation:{Feature:Kw},exit:{Feature:Xw}};function Sc(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function Ic(r){return{point:{x:r.pageX,y:r.pageY}}}var ED=r=>e=>ld(e)&&r(e,Ic(e));function OA(r,e,t,n){return Sc(r,e,ED(t),n)}var _D=1e-4,Fee=1-_D,Tee=1+_D,kD=.01,_ee=0-kD,kee=0+kD;function Ao(r){return r.max-r.min}function ND(r,e,t){return Math.abs(r-e)<=t}function LD(r,e,t,n=.5){r.origin=n,r.originPoint=qr(e.min,e.max,r.origin),r.scale=Ao(t)/Ao(e),r.translate=qr(t.min,t.max,r.origin)-r.originPoint,(r.scale>=Fee&&r.scale<=Tee||isNaN(r.scale))&&(r.scale=1),(r.translate>=_ee&&r.translate<=kee||isNaN(r.translate))&&(r.translate=0)}function zp(r,e,t,n){LD(r.x,e.x,t.x,n?n.originX:void 0),LD(r.y,e.y,t.y,n?n.originY:void 0)}function FD(r,e,t){r.min=t.min+e.min,r.max=r.min+Ao(e)}function PD(r,e,t){FD(r.x,e.x,t.x),FD(r.y,e.y,t.y)}function TD(r,e,t){r.min=e.min-t.min,r.max=r.min+Ao(e)}function Y0(r,e,t){TD(r.x,e.x,t.x),TD(r.y,e.y,t.y)}function ts(r){return[r("x"),r("y")]}var Yw=({current:r})=>r?r.ownerDocument.defaultView:null;var DD=(r,e)=>Math.abs(r-e);function RD(r,e){let t=DD(r.x,e.x),n=DD(r.y,e.y);return Math.sqrt(t**2+n**2)}var jp=class{constructor(e,t,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let d=TE(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=RD(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!h)return;let{point:p}=d,{timestamp:v}=va;this.history.push({...p,timestamp:v});let{onStart:g,onMove:B}=this.handlers;f||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=FE(f,this.transformPagePoint),Pr.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();let{onEnd:h,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let g=TE(d.type==="pointercancel"?this.lastMoveEventInfo:FE(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,g),p&&p(d,g)},!ld(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;let s=Ic(e),u=FE(s,this.transformPagePoint),{point:l}=u,{timestamp:c}=va;this.history=[{...l,timestamp:c}];let{onSessionStart:A}=t;A&&A(e,TE(u,this.history)),this.removeListeners=Ou(OA(this.contextWindow,"pointermove",this.handlePointerMove),OA(this.contextWindow,"pointerup",this.handlePointerUp),OA(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}};function FE(r,e){return e?{point:e(r.point)}:r}function MD(r,e){return{x:r.x-e.x,y:r.y-e.y}}function TE({point:r},e){return{point:r,delta:MD(r,UD(e)),offset:MD(r,Nee(e)),velocity:Pee(e,.1)}}function Nee(r){return r[0]}function UD(r){return r[r.length-1]}function Pee(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null,a=UD(r);for(;t>=0&&(n=r[t],!(a.timestamp-n.timestamp>lo(e)));)t--;if(!n)return{x:0,y:0};let o=co(a.timestamp-n.timestamp);if(o===0)return{x:0,y:0};let i={x:(a.x-n.x)/o,y:(a.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function qD(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?qr(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?qr(t,r,n.max):Math.min(r,t)),r}function OD(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function WD(r,{top:e,left:t,bottom:n,right:a}){return{x:OD(r.x,t,a),y:OD(r.y,e,n)}}function QD(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function zD(r,e){return{x:QD(r.x,e.x),y:QD(r.y,e.y)}}function jD(r,e){let t=.5,n=Ao(r),a=Ao(e);return a>n?t=Bl(e.min,e.max-n,r.min):n>a&&(t=Bl(r.min,r.max-a,e.min)),xo(0,1,t)}function GD(r,e){let t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}var $w=.35;function KD(r=$w){return r===!1?r=0:r===!0&&(r=$w),{x:HD(r,"left","right"),y:HD(r,"top","bottom")}}function HD(r,e,t){return{min:VD(r,e),max:VD(r,t)}}function VD(r,e){return typeof r=="number"?r:r[e]||0}var Dee=new WeakMap,Zw=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=la(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){let{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;let o=A=>{let{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ic(A).point)},i=(A,d)=>{let{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cE(f),!this.openDragLock))return;this.latestPointerEvent=A,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(g=>{let B=this.getAxisMotionValue(g).get()||0;if(ei.test(B)){let{projection:I}=this.visualElement;if(I&&I.layout){let S=I.layout.layoutBox[g];S&&(B=Ao(S)*(parseFloat(B)/100))}}this.originPoint[g]=B}),p&&Pr.postRender(()=>p(A,d)),X0(this.visualElement,"transform");let{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d;let{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;let{offset:g}=d;if(h&&this.currentDirection===null){this.currentDirection=Ree(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),v&&v(A,d)},u=(A,d)=>{this.latestPointerEvent=A,this.latestPanInfo=d,this.stop(A,d),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>ts(A=>this.getAnimationState(A)==="paused"&&this.getAxisMotionValue(A).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jp(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:Yw(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!n)return;let{velocity:i}=a;this.startAnimation(i);let{onDragEnd:s}=this.getProps();s&&Pr.postRender(()=>s(n,a))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:a}=this.getProps();if(!n||!Jw(e,a,this.currentDirection))return;let o=this.getAxisMotionValue(e),i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=qD(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=WD(n.layoutBox,e):this.constraints=!1,this.elastic=KD(t),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ts(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GD(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Cc(e))return!1;let n=e.current;tu(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:a}=this.visualElement;if(!a||!a.layout)return!1;let o=uD(n,a.root,this.visualElement.getTransformPagePoint()),i=zD(a.layout.layoutBox,o);if(t){let s=t(eD(i));this.hasMutatedConstraints=!!s,s&&(i=Rw(s))}return i}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:s}=this.getProps(),u=this.constraints||{},l=ts(c=>{if(!Jw(c,t,this.currentDirection))return;let A=u&&u[c]||{};i&&(A={min:0,max:0});let d=a?200:1e6,f=a?40:1e7,h={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...A};return this.startAxisValueAnimation(c,h)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return X0(this.visualElement,e),n.start(Wp(e,n,0,t,this.visualElement,!1))}stopAnimation(){ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ts(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[t];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ts(t=>{let{drag:n}=this.getProps();if(!Jw(t,n,this.currentDirection))return;let{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){let{min:i,max:s}=a.layout.layoutBox[t];o.set(e[t]-qr(i,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Cc(t)||!n||!this.constraints)return;this.stopAnimation();let a={x:0,y:0};ts(i=>{let s=this.getAxisMotionValue(i);if(s&&this.constraints!==!1){let u=s.get();a[i]=jD({min:u,max:u},this.constraints[i])}});let{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ts(i=>{if(!Jw(i,e,null))return;let s=this.getAxisMotionValue(i),{min:u,max:l}=this.constraints[i];s.set(qr(u,l,a[i]))})}addListeners(){if(!this.visualElement.current)return;Dee.set(this.visualElement,this);let e=this.visualElement.current,t=OA(e,"pointerdown",u=>{let{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),n=()=>{let{dragConstraints:u}=this.getProps();Cc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pr.read(n);let i=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(ts(c=>{let A=this.getAxisMotionValue(c);A&&(this.originPoint[c]+=u[c].translate,A.set(A.get()+u[c].translate))}),this.visualElement.render())}));return()=>{i(),t(),o(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=$w,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:s}}};function Jw(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function Ree(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}var eb=class extends wo{constructor(e){super(e),this.removeGroupControls=ua,this.removeListeners=ua,this.controls=new Zw(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ua}unmount(){this.removeGroupControls(),this.removeListeners()}};var XD=r=>(e,t)=>{r&&Pr.postRender(()=>r(e,t))},tb=class extends wo{constructor(){super(...arguments),this.removePointerDownListener=ua}onPointerDown(e){this.session=new jp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yw(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:XD(e),onStart:XD(t),onMove:n,onEnd:(o,i)=>{delete this.session,a&&Pr.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=OA(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};var YD=At(vp(),1);var $0=At(jt(),1);var Gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var _E=!1,kE=class extends $0.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),n&&n.register&&a&&n.register(o),_E&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:a,isPresent:o}=this.props,{projection:i}=n;return i&&(i.isPresent=o,_E=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Pr.postRender(()=>{let s=i.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ud.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:a}=e;_E=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function rb(r){let[e,t]=xw(),n=(0,$0.useContext)(yp);return(0,YD.jsx)(kE,{...r,layoutGroup:n,switchLayoutGroup:(0,$0.useContext)(Nw),isPresent:e,safeToRemove:t})}function $D(r,e,t){let n=_n(r)?r:ru(r);return n.start(Wp("",n,e,t)),n.animation}var JD=(r,e)=>r.depth-e.depth;var nb=class{constructor(){this.children=[],this.isDirty=!1}add(e){Jf(this.children,e),this.isDirty=!0}remove(e){Zf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JD),this.isDirty=!1,this.children.forEach(e)}};function ZD(r,e){let t=ya.now(),n=({timestamp:a})=>{let o=a-t;o>=e&&(Zi(n),r(o-e))};return Pr.setup(n,!0),()=>Zi(n)}var nR=["TopLeft","TopRight","BottomLeft","BottomRight"],Mee=nR.length,eR=r=>typeof r=="string"?parseFloat(r):r,tR=r=>typeof r=="number"||rr.test(r);function aR(r,e,t,n,a,o){a?(r.opacity=qr(0,t.opacity??1,Uee(n)),r.opacityExit=qr(e.opacity??1,0,Oee(n))):o&&(r.opacity=qr(e.opacity??1,t.opacity??1,n));for(let i=0;i<Mee;i++){let s=`border${nR[i]}Radius`,u=rR(e,s),l=rR(t,s);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||tR(u)===tR(l)?(r[s]=Math.max(qr(eR(u),eR(l),n),0),(ei.test(l)||ei.test(u))&&(r[s]+="%")):r[s]=l}(e.rotate||t.rotate)&&(r.rotate=qr(e.rotate||0,t.rotate||0,n))}function rR(r,e){return r[e]!==void 0?r[e]:r.borderRadius}var Uee=oR(0,.5,v0),Oee=oR(.5,.95,ua);function oR(r,e,t){return n=>n<r?0:n>e?1:t(Bl(r,e,n))}function iR(r,e){r.min=e.min,r.max=e.max}function au(r,e){iR(r.x,e.x),iR(r.y,e.y)}function NE(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function sR(r,e,t,n,a){return r-=e,r=j0(r,1/t,n),a!==void 0&&(r=j0(r,1/a,n)),r}function Qee(r,e=0,t=1,n=.5,a,o=r,i=r){if(ei.test(e)&&(e=parseFloat(e),e=qr(i.min,i.max,e/100)-i.min),typeof e!="number")return;let s=qr(o.min,o.max,n);r===o&&(s-=e),r.min=sR(r.min,e,t,s,a),r.max=sR(r.max,e,t,s,a)}function uR(r,e,[t,n,a],o,i){Qee(r,e[t],e[n],e[a],e.scale,o,i)}var Hee=["x","scaleX","originX"],Vee=["y","scaleY","originY"];function PE(r,e,t,n){uR(r.x,e,Hee,t?t.x:void 0,n?n.x:void 0),uR(r.y,e,Vee,t?t.y:void 0,n?n.y:void 0)}function lR(r){return r.translate===0&&r.scale===1}function DE(r){return lR(r.x)&&lR(r.y)}function cR(r,e){return r.min===e.min&&r.max===e.max}function fR(r,e){return cR(r.x,e.x)&&cR(r.y,e.y)}function AR(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function RE(r,e){return AR(r.x,e.x)&&AR(r.y,e.y)}function ME(r){return Ao(r.x)/Ao(r.y)}function UE(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}var ab=class{constructor(){this.members=[]}add(e){Jf(this.members,e),e.scheduleRender()}remove(e){if(Zf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){let t=this.members.findIndex(a=>e===a);if(t===0)return!1;let n;for(let a=t;a>=0;a--){let o=this.members[a];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function dR(r,e,t){let n="",a=r.x.translate/e.x,o=r.y.translate/e.y,i=t?.z||0;if((a||o||i)&&(n=`translate3d(${a}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){let{transformPerspective:l,rotate:c,rotateX:A,rotateY:d,skewX:f,skewY:h}=t;l&&(n=`perspective(${l}px) ${n}`),c&&(n+=`rotate(${c}deg) `),A&&(n+=`rotateX(${A}deg) `),d&&(n+=`rotateY(${d}deg) `),f&&(n+=`skewX(${f}deg) `),h&&(n+=`skewY(${h}deg) `)}let s=r.x.scale*e.x,u=r.y.scale*e.y;return(s!==1||u!==1)&&(n+=`scale(${s}, ${u})`),n||"none"}var hd={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},OE=["","X","Y","Z"],qee=1e3,Wee=0;function QE(r,e,t,n){let{latestValues:a}=e;a[r]&&(t[r]=a[r],e.setStaticValue(r,0),n&&(n[r]=0))}function bR(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;let{visualElement:e}=r.options;if(!e)return;let t=Ww(e);if(window.MotionHasOptimisedAnimation(t,"transform")){let{layout:a,layoutId:o}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Pr,!(a||o))}let{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&bR(n)}function ob({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},s=e?.()){this.id=Wee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ji.value&&(hd.nodes=hd.calculatedTargetDeltas=hd.calculatedProjections=0),this.nodes.forEach(Gee),this.nodes.forEach($ee),this.nodes.forEach(Jee),this.nodes.forEach(Kee),Ji.addProjectionMetrics&&Ji.addProjectionMetrics(hd)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nb)}addEventListener(i,s){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new mc),this.eventHandlers.get(i).add(s)}notifyListeners(i,...s){let u=this.eventHandlers.get(i);u&&u.notify(...s)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=O0(i)&&!pE(i),this.instance=i;let{layoutId:s,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||s)&&(this.isLayoutDirty=!0),r){let c,A=0,d=()=>this.root.updateBlockedByResize=!1;Pr.read(()=>{A=window.innerWidth}),r(i,()=>{let f=window.innerWidth;f!==A&&(A=f,this.root.updateBlockedByResize=!0,c&&c(),c=ZD(d,250),Gp.hasAnimatedSinceResize&&(Gp.hasAnimatedSinceResize=!1,this.nodes.forEach(mR)))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&l&&(s||u)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:A,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let h=this.options.transition||l.getDefaultTransition()||nte,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=l.getProps(),g=!this.targetLayout||!RE(this.targetLayout,f),B=!A&&d;if(this.options.layoutRoot||this.resumeFrom||B||A&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let I={...id(h,"layout"),onPlay:p,onComplete:v};(l.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(c,B)}else A||mR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zee),this.animationId++)}getTransformTemplate(){let{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){let A=this.path[c];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}let{layoutId:s,layout:u}=this.options;if(s===void 0&&!u)return;let l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yee),this.nodes.forEach(zee),this.nodes.forEach(jee)):this.nodes.forEach(pR),this.clearAllSnapshots();let s=ya.now();va.delta=xo(0,1e3/60,s-va.timestamp),va.timestamp=s,va.isProcessing=!0,C0.update.process(va),C0.preRender.process(va),C0.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ud.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xee),this.sharedNodes.forEach(ete)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ao(this.snapshot.measuredBox.x)&&!Ao(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();let i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=la(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let s=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(s=!1),s&&this.instance){let u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;let i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,s=this.projectionDelta&&!DE(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&this.instance&&(s||Bc(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){let s=this.measurePageBox(),u=this.removeElementScroll(s);return i&&(u=this.removeTransform(u)),ate(u),{animationId:this.root.animationId,measuredBox:s,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:i}=this.options;if(!i)return la();let s=i.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ote))){let{scroll:l}=this.root;l&&(UA(s.x,l.offset.x),UA(s.y,l.offset.y))}return s}removeElementScroll(i){let s=la();if(au(s,i),this.scroll?.wasRoot)return s;for(let u=0;u<this.path.length;u++){let l=this.path[u],{scroll:c,options:A}=l;l!==this.root&&c&&A.layoutScroll&&(c.wasRoot&&au(s,i),UA(s.x,c.offset.x),UA(s.y,c.offset.y))}return s}applyTransform(i,s=!1){let u=la();au(u,i);for(let l=0;l<this.path.length;l++){let c=this.path[l];!s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ad(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Bc(c.latestValues)&&Ad(u,c.latestValues)}return Bc(this.latestValues)&&Ad(u,this.latestValues),u}removeTransform(i){let s=la();au(s,i);for(let u=0;u<this.path.length;u++){let l=this.path[u];if(!l.instance||!Bc(l.latestValues))continue;Mw(l.latestValues)&&l.updateSnapshot();let c=la(),A=l.measurePageBox();au(c,A),PE(s,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Bc(this.latestValues)&&PE(s,this.latestValues),s}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let u=!!this.resumingFrom||this!==s;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:c,layoutId:A}=this.options;if(!this.layout||!(c||A))return;this.resolvedRelativeTargetAt=va.timestamp;let d=this.getClosestProjectingParent();d&&this.linkedParentVersion!==d.layoutVersion&&!d.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(d&&d.layout?this.createRelativeTarget(d,this.layout.layoutBox,d.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=la(),this.targetWithTransforms=la()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):au(this.target,this.layout.layoutBox),SE(this.target,this.targetDelta)):au(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?this.createRelativeTarget(d,this.target,d.target):this.relativeParent=this.relativeTarget=void 0),Ji.value&&hd.calculatedTargetDeltas++)}getClosestProjectingParent(){if(!(!this.parent||Mw(this.parent.latestValues)||CE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,s,u){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=la(),this.relativeTargetOrigin=la(),Y0(this.relativeTargetOrigin,s,u),au(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let i=this.getLead(),s=!!this.resumingFrom||this!==i,u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===va.timestamp&&(u=!1),u)return;let{layout:l,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||c))return;au(this.layoutCorrected,this.layout.layoutBox);let A=this.treeScale.x,d=this.treeScale.y;sD(this.layoutCorrected,this.treeScale,this.path,s),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=la());let{target:f}=i;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NE(this.prevProjectionDelta.x,this.projectionDelta.x),NE(this.prevProjectionDelta.y,this.projectionDelta.y)),zp(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==A||this.treeScale.y!==d||!UE(this.projectionDelta.x,this.prevProjectionDelta.x)||!UE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Ji.value&&hd.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.visualElement?.scheduleRender(),i){let s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fd(),this.projectionDelta=fd(),this.projectionDeltaWithTransform=fd()}setAnimationOrigin(i,s=!1){let u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},A=fd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;let d=la(),f=u?u.source:void 0,h=this.layout?this.layout.source:void 0,p=f!==h,v=this.getStack(),g=!v||v.members.length<=1,B=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(rte));this.animationProgress=0;let I;this.mixTargetDelta=S=>{let E=S/1e3;gR(A.x,i.x,E),gR(A.y,i.y,E),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Y0(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tte(this.relativeTarget,this.relativeTargetOrigin,d,E),I&&fR(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=la()),au(I,this.relativeTarget)),p&&(this.animationValues=c,aR(c,l,this.latestValues,E,B,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pr.update(()=>{Gp.hasAnimatedSinceResize=!0,Qu.layout++,this.motionValue||(this.motionValue=ru(0)),this.currentAnimation=$D(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:s=>{this.mixTargetDelta(s),i.onUpdate&&i.onUpdate(s)},onStop:()=>{Qu.layout--},onComplete:()=>{Qu.layout--,i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let i=this.getLead(),{targetWithTransforms:s,target:u,layout:l,latestValues:c}=i;if(!(!s||!u||!l)){if(this!==i&&this.layout&&l&&CR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||la();let A=Ao(this.layout.layoutBox.x);u.x.min=i.target.x.min,u.x.max=u.x.min+A;let d=Ao(this.layout.layoutBox.y);u.y.min=i.target.y.min,u.y.max=u.y.min+d}au(s,u),Ad(s,c),zp(this.projectionDeltaWithTransform,this.layoutCorrected,s,c)}}registerSharedNode(i,s){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ab),this.sharedNodes.get(i).add(s);let l=s.options.initialPromotionConfig;s.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(s):void 0})}isLead(){let i=this.getStack();return i?i.lead===this:!0}getLead(){let{layoutId:i}=this.options;return i?this.getStack()?.lead||this:this}getPrevLead(){let{layoutId:i}=this.options;return i?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:s,preserveFollowOpacity:u}={}){let l=this.getStack();l&&l.promote(this,u),i&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){let i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){let{visualElement:i}=this.options;if(!i)return;let s=!1,{latestValues:u}=i;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(s=!0),!s)return;let l={};u.z&&QE("z",i,l,this.animationValues);for(let c=0;c<OE.length;c++)QE(`rotate${OE[c]}`,i,l,this.animationValues),QE(`skew${OE[c]}`,i,l,this.animationValues);i.render();for(let c in l)i.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);i.scheduleRender()}applyProjectionStyles(i,s){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}let u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Op(s?.pointerEvents)||"",i.transform=u?u(this.latestValues,""):"none";return}let l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Op(s?.pointerEvents)||""),this.hasProjected&&!Bc(this.latestValues)&&(i.transform=u?u({},""):"none",this.hasProjected=!1);return}i.visibility="";let c=l.animationValues||l.latestValues;this.applyTransformsToTarget();let A=dR(this.projectionDeltaWithTransform,this.treeScale,c);u&&(A=u(c,A)),i.transform=A;let{x:d,y:f}=this.projectionDelta;i.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,l.animationValues?i.opacity=l===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:i.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(let h in z0){if(c[h]===void 0)continue;let{correct:p,applyTo:v,isCSSVariable:g}=z0[h],B=A==="none"?c[h]:p(c[h],l);if(v){let I=v.length;for(let S=0;S<I;S++)i[v[S]]=B}else g?this.options.visualElement.renderState.vars[h]=B:i[h]=B}this.options.layoutId&&(i.pointerEvents=l===this?Op(s?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>i.currentAnimation?.stop()),this.root.nodes.forEach(hR),this.root.sharedNodes.clear()}}}function zee(r){r.updateLayout()}function jee(r){let e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:n}=r.layout,{animationType:a}=r.options,o=e.source!==r.layout.source;a==="size"?ts(c=>{let A=o?e.measuredBox[c]:e.layoutBox[c],d=Ao(A);A.min=t[c].min,A.max=A.min+d}):CR(a,e.layoutBox,t)&&ts(c=>{let A=o?e.measuredBox[c]:e.layoutBox[c],d=Ao(t[c]);A.max=A.min+d,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[c].max=r.relativeTarget[c].min+d)});let i=fd();zp(i,t,e.layoutBox);let s=fd();o?zp(s,r.applyTransform(n,!0),e.measuredBox):zp(s,t,e.layoutBox);let u=!DE(i),l=!1;if(!r.resumeFrom){let c=r.getClosestProjectingParent();if(c&&!c.resumeFrom){let{snapshot:A,layout:d}=c;if(A&&d){let f=la();Y0(f,e.layoutBox,A.layoutBox);let h=la();Y0(h,t,d.layoutBox),RE(f,h)||(l=!0),c.options.layoutRoot&&(r.relativeTarget=h,r.relativeTargetOrigin=f,r.relativeParent=c)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:s,layoutDelta:i,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(r.isLead()){let{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function Gee(r){Ji.value&&hd.nodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function Kee(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function Xee(r){r.clearSnapshot()}function hR(r){r.clearMeasurements()}function pR(r){r.isLayoutDirty=!1}function Yee(r){let{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function mR(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function $ee(r){r.resolveTargetDelta()}function Jee(r){r.calcProjection()}function Zee(r){r.resetSkewAndRotation()}function ete(r){r.removeLeadSnapshot()}function gR(r,e,t){r.translate=qr(e.translate,0,t),r.scale=qr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function vR(r,e,t,n){r.min=qr(e.min,t.min,n),r.max=qr(e.max,t.max,n)}function tte(r,e,t,n){vR(r.x,e.x,t.x,n),vR(r.y,e.y,t.y,n)}function rte(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}var nte={duration:.45,ease:[.4,0,.1,1]},yR=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),xR=yR("applewebkit/")&&!yR("chrome/")?Math.round:ua;function wR(r){r.min=xR(r.min),r.max=xR(r.max)}function ate(r){wR(r.x),wR(r.y)}function CR(r,e,t){return r==="position"||r==="preserve-aspect"&&!ND(ME(e),ME(t),.2)}function ote(r){return r!==r.root&&r.scroll?.wasRoot}var BR=ob({attachResizeListener:(r,e)=>Sc(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0});var HE={current:void 0},ib=ob({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!HE.current){let r=new BR({});r.mount(window),r.setOptions({layoutScroll:!0}),HE.current=r}return HE.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"});var SR={pan:{Feature:tb},drag:{Feature:eb,ProjectionNode:ib,MeasureLayout:rb}};function IR(r,e,t){let{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");let a="onHover"+t,o=n[a];o&&Pr.postRender(()=>o(e,Ic(e)))}var sb=class extends wo{mount(){let{current:e}=this.node;e&&(this.unmount=AE(e,(t,n)=>(IR(this.node,n,"Start"),a=>IR(this.node,a,"End"))))}unmount(){}};var ub=class extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ou(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function ER(r,e,t){let{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");let a="onTap"+(t==="End"?"":t),o=n[a];o&&Pr.postRender(()=>o(e,Ic(e)))}var lb=class extends wo{mount(){let{current:e}=this.node;e&&(this.unmount=hE(e,(t,n)=>(ER(this.node,n,"Start"),(a,{success:o})=>ER(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};var qE=new WeakMap,VE=new WeakMap,ite=r=>{let e=qE.get(r.target);e&&e(r)},ste=r=>{r.forEach(ite)};function ute({root:r,...e}){let t=r||document;VE.has(t)||VE.set(t,{});let n=VE.get(t),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(ste,{root:r,...e})),n[a]}function LR(r,e,t){let n=ute(e);return qE.set(r,t),n.observe(r),()=>{qE.delete(r),n.unobserve(r)}}var lte={some:0,all:1},cb=class extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:a="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:lte[a]},s=u=>{let{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);let{onViewportEnter:c,onViewportLeave:A}=this.node.getProps(),d=l?c:A;d&&d(u)};return LR(this.node.current,i,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(cte(e,t))&&this.startObserver()}unmount(){}};function cte({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}var FR={inView:{Feature:cb},tap:{Feature:lb},focus:{Feature:ub},hover:{Feature:sb}};var TR={layout:{ProjectionNode:ib,MeasureLayout:rb}};var _R={...ID,...FR,...SR,...TR};var Ab=ZP(_R,gD);var Kp=At(jt(),1),fte=At(u3(),1);function Ate(r){if(!r||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}var iMe=Array(12).fill(0);var WE=1,zE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...a}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:WE++,i=this.toasts.find(u=>u.id===o),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...e,id:o,title:n}),{...u,...e,id:o,dismissible:s,title:n}):u):this.addToast({title:n,...a,dismissible:s,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=Promise.resolve(e instanceof Function?e():e),o=n!==void 0,i,s=a.then(async l=>{if(i=["resolve",l],Kp.default.isValidElement(l))o=!1,this.create({id:n,type:"default",message:l});else if(hte(l)&&!l.ok){o=!1;let A=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description,h=typeof A=="object"&&!Kp.default.isValidElement(A)?A:{message:A};this.create({id:n,type:"error",description:d,...h})}else if(l instanceof Error){o=!1;let A=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description,h=typeof A=="object"&&!Kp.default.isValidElement(A)?A:{message:A};this.create({id:n,type:"error",description:d,...h})}else if(t.success!==void 0){o=!1;let A=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description,h=typeof A=="object"&&!Kp.default.isValidElement(A)?A:{message:A};this.create({id:n,type:"success",description:d,...h})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){o=!1;let c=typeof t.error=="function"?await t.error(l):t.error,A=typeof t.description=="function"?await t.description(l):t.description,f=typeof c=="object"&&!Kp.default.isValidElement(c)?c:{message:c};this.create({id:n,type:"error",description:A,...f})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),u=()=>new Promise((l,c)=>s.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=t?.id||WE++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ou=new zE,dte=(r,e)=>{let t=e?.id||WE++;return ou.addToast({title:r,...e,id:t}),t},hte=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",pte=dte,mte=()=>ou.toasts,gte=()=>ou.getActiveToasts(),nt=Object.assign(pte,{success:ou.success,info:ou.info,warning:ou.warning,error:ou.error,custom:ou.custom,message:ou.message,promise:ou.promise,dismiss:ou.dismiss,loading:ou.loading},{getHistory:mte,getToasts:gte});Ate("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var db=At(jt());var kR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vte=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),jE=r=>{let e=vte(r);return e.charAt(0).toUpperCase()+e.slice(1)},fb=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),NR=r=>{for(let e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var J0=At(jt());var PR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var DR=(0,J0.forwardRef)(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...s},u)=>(0,J0.createElement)("svg",{ref:u,...PR,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:fb("lucide",a),...!o&&!NR(s)&&{"aria-hidden":"true"},...s},[...i.map(([l,c])=>(0,J0.createElement)(l,c)),...Array.isArray(o)?o:[o]]));var Ge=(r,e)=>{let t=(0,db.forwardRef)(({className:n,...a},o)=>(0,db.createElement)(DR,{ref:o,iconNode:e,className:fb(`lucide-${kR(jE(r))}`,`lucide-${r}`,n),...a}));return t.displayName=jE(r),t};var yte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xp=Ge("arrow-left",yte);var xte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Z0=Ge("arrow-right",xte);var wte=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],ev=Ge("baby",wte);var bte=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],tv=Ge("building",bte);var Cte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Po=Ge("calendar",Cte);var Bte=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rv=Ge("camera",Bte);var Ste=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ec=Ge("check",Ste);var Ite=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pd=Ge("chevron-left",Ite);var Ete=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],md=Ge("chevron-right",Ete);var Lte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QA=Ge("circle-alert",Lte);var Fte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qu=Ge("circle-check",Fte);var Tte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],HA=Ge("circle-x",Tte);var _te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gd=Ge("circle",_te);var kte=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nv=Ge("clipboard-list",kte);var Nte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ri=Ge("clock",Nte);var Pte=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Yp=Ge("coffee",Pte);var Dte=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],av=Ge("credit-card",Dte);var Rte=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ov=Ge("dollar-sign",Rte);var Mte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vd=Ge("download",Mte);var Ute=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VA=Ge("ellipsis",Ute);var Ote=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],$p=Ge("euro",Ote);var Qte=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],iv=Ge("external-link",Qte);var Hte=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sv=Ge("eye",Hte);var Vte=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rs=Ge("file-text",Vte);var qte=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qA=Ge("funnel",qte);var Wte=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],uv=Ge("gift",Wte);var zte=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],yd=Ge("graduation-cap",zte);var jte=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],lv=Ge("hard-hat",jte);var Gte=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],cv=Ge("heart-pulse",Gte);var Kte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Av=Ge("history",Kte);var Xte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xd=Ge("info",Xte);var Yte=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fv=Ge("key",Yte);var $te=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kn=Ge("loader-circle",$te);var Jte=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dv=Ge("lock",Jte);var Zte=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hv=Ge("log-in",Zte);var ere=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pv=Ge("log-out",ere);var tre=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mv=Ge("map-pin",tre);var rre=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],wd=Ge("message-circle",rre);var nre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gv=Ge("package",nre);var are=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vv=Ge("phone",are);var ore=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],yv=Ge("plane",ore);var ire=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ta=Ge("plus",ire);var sre=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],WA=Ge("receipt",sre);var ure=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bd=Ge("save",ure);var lre=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],xv=Ge("scale",lre);var cre=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 9h.01",key:"x1ddxp"}]],wv=Ge("scan-face",cre);var Are=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],bv=Ge("shield-alert",Are);var fre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cv=Ge("shield-check",fre);var dre=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Cd=Ge("stethoscope",dre);var hre=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Bv=Ge("tag",hre);var pre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dn=Ge("trash-2",pre);var mre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zA=Ge("triangle-alert",mre);var gre=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lc=Ge("upload",gre);var vre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Sv=Ge("user-minus",vre);var yre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Iv=Ge("user-plus",yre);var xre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iu=Ge("x",xre);var wre=["2024-01-01","2024-03-01","2024-03-28","2024-03-29","2024-04-01","2024-05-01","2024-06-24","2024-08-15","2024-10-12","2024-11-01","2024-12-06","2024-12-25","2024-12-26","2025-01-01","2025-01-06","2025-01-17","2025-04-17","2025-04-18","2025-12-25","2025-12-26","2026-01-01","2026-01-06","2026-03-01","2026-04-02","2026-04-03","2026-04-06","2026-05-01","2026-06-24","2026-08-15","2026-10-12","2026-11-01","2026-12-06","2026-12-08","2026-12-25","2026-12-26"],bre=r=>{let e=r.getDate(),t=r.getMonth()+1,n=`${String(t).padStart(2,"0")}-${String(e).padStart(2,"0")}`;if(["01-01","01-06","05-01","08-15","10-12","11-01","12-06","12-08","12-25"].includes(n))return!0;let o=r.getFullYear(),i=o%19,s=Math.floor(o/100),u=o%100,l=Math.floor(s/4),c=s%4,A=Math.floor((s+8)/25),d=Math.floor((s-A+1)/3),f=(19*i+s-l-d+15)%30,h=Math.floor(u/4),p=u%4,v=(32+2*c+2*h-f-p)%7,g=Math.floor((i+11*f+22*v)/451),B=Math.floor((f+v-7*g+114)/31),I=(f+v-7*g+114)%31+1,S=new Date(o,B-1,I),E=new Date(S);E.setDate(S.getDate()-3);let T=new Date(S);T.setDate(S.getDate()-2);let U=(D,k)=>D.getDate()===k.getDate()&&D.getMonth()===k.getMonth();return!!(U(r,T)||U(r,E))},Jp=r=>{let e=r.getFullYear(),t=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0"),a=`${e}-${t}-${n}`;return wre.includes(a)?!0:bre(r)},GE=(r,e)=>{let t=0,n=new Date(r);n.setHours(12,0,0,0);let a=new Date(e);for(a.setHours(12,0,0,0);n<=a;){let o=n.getDay();o!==0&&o!==6&&!Jp(n)&&t++,n.setDate(n.getDate()+1)}return t};var Gr=At(jt(),1),vQ=At(RR(),1);var CM=function(r,e){return(CM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])})(r,e)};function Gu(r,e){function t(){this.constructor=r}CM(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Pt(r,e,t,n){return new(t||(t=Promise))((function(a,o){function i(l){try{u(n.next(l))}catch(c){o(c)}}function s(l){try{u(n.throw(l))}catch(c){o(c)}}function u(l){l.done?a(l.value):new t((function(c){c(l.value)})).then(i,s)}u((n=n.apply(r,e||[])).next())}))}function Dt(r,e){var t,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(l){return(function(c){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(a=2&c[0]?n.return:c[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,c[1])).done)return a;switch(n=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){i=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(c[0]===6&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(r,i)}catch(A){c=[6,A],n=0}finally{t=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}})([u,l])}}}var Cre=(function(){function r(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return r.prototype.setPlatform=function(e,t){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},r.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},this.urlFlags[e]!=null){var a=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+a+"."),this.set(e,a)}},r.prototype.get=function(e){return e in this.flags?this.flags[e]:(this.flags[e]=this.evaluateFlag(e),this.flags[e])},r.prototype.getNumber=function(e){return this.get(e)},r.prototype.getBool=function(e){return this.get(e)},r.prototype.getFlags=function(){return this.flags},Object.defineProperty(r.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),r.prototype.set=function(e,t){if(this.flagRegistry[e]==null)throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(t)},r.prototype.evaluateFlag=function(e){if(this.flagRegistry[e]==null)throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},r.prototype.setFlags=function(e){this.flags=Object.assign({},e)},r.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},r.prototype.populateURLFlags=function(){var e=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var t,n,a=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return Bre(n,i[0],i[1]),i.join("=")})),n);"tfjsflags"in a&&a.tfjsflags.split(",").forEach((function(o){var i=o.split(":"),s=i[0],u=i[1];e.urlFlags[s]=(function(l,c){if((c=c.toLowerCase())==="true"||c==="false")return c==="true";if(""+ +c===c)return+c;throw new Error("Could not parse value flag value "+c+" for flag "+l+".")})(s,u)}))}},r})();function Bre(r,e,t){r[decodeURIComponent(e)]=decodeURIComponent(t||"")}function Qe(){return BM}var BM=null,Tb=new Map,mL=new Map;function SM(r,e){var t=EM(r,e);return Tb.get(t)}function Sre(r){return mL.get(r)}function QR(r){for(var e=Tb.entries(),t=[];;){var n=e.next(),a=n.done,o=n.value;if(a)break;var i=o[0],s=o[1];i.split("_")[0]===r&&t.push(s)}return t}function IM(r){var e=r.kernelName,t=r.backendName,n=EM(e,t);if(Tb.has(n))throw new Error("The kernel '"+e+"' for backend '"+t+"' is already registered");Tb.set(n,r)}function Ire(r){var e=r.kernelName;mL.has(e)&&console.warn("Overriding the gradient for '"+e+"'"),mL.set(e,r)}function EM(r,e){return e+"_"+r}function HR(r){for(var e=r.length,t=0,n=0;e>0;)n=Math.random()*e|0,t=r[--e],r[e]=r[n],r[n]=t}function _b(r,e,t){return Math.max(r,Math.min(e,t))}function ML(r){return r%2==0?r:r+1}function LM(r){for(var e=0,t=0;t<r.length;t++)e+=r[t];return e}function ce(r,e){if(!r)throw new Error(typeof e=="string"?e:e())}function on(r,e,t){t===void 0&&(t=""),ce(za(r,e),(function(){return t+" Shapes "+r+" and "+e+" must match"}))}function Rd(r){ce(r!=null,(function(){return"The input to the tensor constructor must be a non-null value."}))}function Nc(r,e,t){if(e===void 0&&(e=[]),t===void 0&&(t=!1),e==null&&(e=[]),Array.isArray(r)||Mo(r)&&!t)for(var n=0;n<r.length;++n)Nc(r[n],e,t);else e.push(r);return e}function Ot(r){if(r.length===0)return 1;for(var e=r[0],t=1;t<r.length;t++)e*=r[t];return e}function za(r,e){if(r===e)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Aa(r){return r%1==0}function FM(r){if(Math.tanh!=null)return Math.tanh(r);if(r===1/0)return 1;if(r===-1/0)return-1;var e=Math.exp(2*r);return(e-1)/(e+1)}function kb(r){var e=Math.ceil(Math.sqrt(r));return[e,Math.ceil(r/e)]}function Td(r,e){return e<=r.length?r:r+" ".repeat(e-r.length)}function gL(r,e,t){return e===void 0&&(e=function(n){return 0}),new Promise((function(n,a){var o=0,i=function(){if(r())n();else{o++;var s=e(o);t!=null&&o>=t?a():setTimeout(i,s)}};i()}))}function TM(r,e){for(var t=1,n=-1,a=0;a<r.length;++a)if(r[a]>=0)t*=r[a];else if(r[a]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+n+" and dim "+a);n=a}else if(r[a]<0)throw Error("Shapes can not be < 0. Found "+r[a]+" at dim "+a);if(n===-1){if(e>0&&e!==t)throw Error("Size("+e+") must match the product of shape "+r);return r}if(t===0)throw Error("Cannot infer the missing size in ["+r+"] when there are 0 elements");if(e%t!=0)throw Error("The implicit shape can't be a fractional number. Got "+e+" / "+t);var o=r.slice();return o[n]=e/t,o}function Ga(r,e){var t=e.length;return ce((r=r==null?e.map((function(n,a){return a})):[].concat(r)).every((function(n){return n>=-t&&n<t})),(function(){return"All values in axis param must be in range [-"+t+", "+t+") but got axis "+r})),ce(r.every((function(n){return Aa(n)})),(function(){return"All values in axis param must be integers but got axis "+r})),r.map((function(n){return n<0?t+n:n}))}function jA(r,e){for(var t=[],n=[],a=e!=null&&Array.isArray(e)&&e.length===0,o=e==null||a?null:Ga(e,r).sort(),i=0,s=0;s<r.length;++s){if(o!=null){if(o[i]===s&&r[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+r[s]+"' is not 1");(o[i]==null||o[i]>s)&&r[s]===1&&(t.push(r[s]),n.push(s)),o[i]<=s&&i++}r[s]!==1&&(t.push(r[s]),n.push(s))}return{newShape:t,keptDims:n}}function cm(r,e){var t=null;if(r==null||r==="float32")t=new Float32Array(e);else if(r==="int32")t=new Int32Array(e);else{if(r!=="bool")throw new Error("Unknown data type "+r);t=new Uint8Array(e)}return t}function Mv(r,e){var t=null;if(r==null||r==="float32")t=new Float32Array(e);else if(r==="int32")t=new Int32Array(e);else if(r==="bool")t=new Uint8Array(e);else{if(r!=="string")throw new Error("Unknown data type "+r);t=new Array(e)}return t}function _M(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+e+" being uploaded contains "+n+".")}}function kM(r){return r==="bool"||r==="complex64"||r==="float32"||r==="int32"||r==="string"}function NM(r,e){return e!=="complex64"&&(e!=="float32"||r==="complex64")&&(e!=="int32"||r==="float32"||r==="complex64")&&(e!=="bool"||r!=="bool")}function Mo(r){return r instanceof Float32Array||r instanceof Int32Array||r instanceof Uint8Array}function UL(r){if(r==="float32"||r==="int32")return 4;if(r==="complex64")return 8;if(r==="bool")return 1;throw new Error("Unknown dtype "+r)}function PM(r){if(r==null)return 0;var e=0;return r.forEach((function(t){return e+=t.length})),e}function GA(r){return typeof r=="string"||r instanceof String}function DM(r){return typeof r=="boolean"}function RM(r){return typeof r=="number"}function fm(r){return Array.isArray(r)?fm(r[0]):r instanceof Float32Array?"float32":r instanceof Int32Array||r instanceof Uint8Array?"int32":RM(r)?"float32":GA(r)?"string":DM(r)?"bool":"float32"}function Nb(r){return!!(r&&r.constructor&&r.call&&r.apply)}function Pb(r,e){for(var t=e;t<r;++t)if(r%t==0)return t;return r}function zu(r){var e=r.length;if(e<2)return[];var t=new Array(e-1);t[e-2]=r[e-1];for(var n=e-3;n>=0;--n)t[n]=t[n+1]*r[n+1];return t}function OL(r,e,t){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(r)&&(r=Nc(r)),t&&_M(r,e),(function(o,i){return o instanceof Float32Array&&i==="float32"||o instanceof Int32Array&&i==="int32"||o instanceof Uint8Array&&i==="bool"})(r,e))return r;if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool"){for(var n=new Uint8Array(r.length),a=0;a<n.length;++a)Math.round(r[a])!==0&&(n[a]=1);return n}throw new Error("Unknown data type "+e)}function vL(r,e){if(r.length===0)return e[0];var t=r.reduce((function(n,a){return n*a}));if(t===0)return[];if(t!==e.length)throw new Error("["+r+"] does not match the input size.");return(function n(a,o,i){var s=new Array;if(o.length===1)for(var u=o[0],l=0;l<u;l++)s[l]=i[a+l];else{u=o[0];var c=o.slice(1),A=c.reduce((function(d,f){return d*f}));for(l=0;l<u;l++)s[l]=n(a+l*A,c,i)}return s})(0,r,e)}function QL(r,e){for(var t=dm(r,e),n=0;n<t.length;n++)t[n]=1;return t}function dm(r,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(r);if(e==="int32")return new Int32Array(r);if(e==="bool")return new Uint8Array(r);throw new Error("Unknown data type "+e)}function Wu(){return Qe().platform.now()}function HL(r){r.forEach((function(e){ce(Number.isInteger(e)&&e>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+r+"]."}))}))}function MM(r,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Qe().platform.encode(r,e)}function Uv(r,e){return e===void 0&&(e="utf-8"),e=e||"utf-8",Qe().platform.decode(r,e)}function yL(r,e,t){if(e===0)return 0;if(e===1)return r[0];for(var n=r[r.length-1],a=0;a<r.length-1;++a)n+=t[a]*r[a];return n}function UM(r,e,t){if(e===0)return[];if(e===1)return[r];for(var n=new Array(e),a=0;a<n.length-1;++a)n[a]=Math.floor(r/t[a]),r-=n[a]*t[a];return n[n.length-1]=r,n}var T6e=Object.freeze({shuffle:HR,clamp:_b,nearestLargerEven:ML,sum:LM,randUniform:function(r,e){var t=Math.random();return e*t+(1-t)*r},distSquared:function(r,e){for(var t=0,n=0;n<r.length;n++){var a=Number(r[n])-Number(e[n]);t+=a*a}return t},assert:ce,assertShapesMatch:on,assertNonNull:Rd,flatten:Nc,sizeFromShape:Ot,isScalarShape:function(r){return r.length===0},arraysEqual:za,isInt:Aa,tanh:FM,sizeToSquarishShape:kb,createShuffledIndices:function(r){for(var e=new Uint32Array(r),t=0;t<r;++t)e[t]=t;return HR(e),e},rightPad:Td,repeatedTry:gL,inferFromImplicitShape:TM,parseAxisParam:Ga,squeezeShape:jA,getTypedArrayFromDType:cm,getArrayFromDType:Mv,checkConversionForErrors:_M,isValidDtype:kM,hasEncodingLoss:NM,isTypedArray:Mo,bytesPerElement:UL,bytesFromStringArray:PM,isString:GA,isBoolean:DM,isNumber:RM,inferDtype:fm,isFunction:Nb,nearestDivisor:Pb,computeStrides:zu,toTypedArray:OL,toNestedArray:vL,makeOnesTypedArray:QL,makeZerosTypedArray:dm,now:Wu,assertNonNegativeIntegerDimensions:HL,fetch:function(r,e){return Qe().platform.fetch(r,e)},encodeString:MM,decodeString:Uv,locToIndex:yL,indexToLoc:UM}),Ere=(function(){function r(e,t){this.backendTimer=e,this.logger=t,t==null&&(this.logger=new Lre)}return r.prototype.profileKernel=function(e,t,n){var a,o=this,i=this.backendTimer.time((function(){a=n()}));return a.forEach((function(s){s.data().then((function(u){(function(l,c,A){if(c!=="float32")return!1;for(var d=0;d<l.length;d++){var f=l[d];if(isNaN(f)||!isFinite(f))return console.warn("Found "+f+" in the result of '"+A+"'"),!0}})(u,s.dtype,e),i.then((function(l){var c="";l.getExtraProfileInfo!=null&&(c=l.getExtraProfileInfo()),o.logger.logKernelProfile(e,s,u,l.kernelMs,t,c)}))}))})),a},r})(),Lre=(function(){function r(){}return r.prototype.logKernelProfile=function(e,t,n,a,o,i){var s=typeof a=="number"?Td(a+"ms",9):a.error,u=Td(e,25),l=t.rank,c=t.size,A=Td(t.shape.toString(),14),d="";for(var f in o){var h=o[f].shape||t.shape,p=h.length;d+=f+": "+p+"D "+(p>0?h:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+l+"D "+A+"	%c"+c+"	%c"+d+"	%c"+i,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},r})(),VR=20,Lv=3,XE=7;function Fre(r,e,t,n){var a=zu(e),o=(function(l,c,A,d){var f=Ot(c),h=d[d.length-1],p=new Array(h).fill(0),v=c.length,g=A==="complex64"?Tv(l):l;if(v>1)for(var B=0;B<f/h;B++)for(var I=B*h,S=0;S<h;S++)p[S]=Math.max(p[S],Fv(g[I+S],0,A).length);return p})(r,e,t,a),i=e.length,s=(function l(c,A,d,f,h,p){p===void 0&&(p=!0);var v=d==="complex64"?2:1,g=A[0],B=A.length;if(B===0)return d==="complex64"?[Fv(Tv(c)[0],0,d)]:d==="bool"?[OM(c[0])]:[c[0].toString()];if(B===1){if(g>VR){var I=Lv*v,S=Array.from(c.slice(0,I)),E=Array.from(c.slice((g-Lv)*v,g*v));return d==="complex64"&&(S=Tv(S),E=Tv(E)),["["+S.map((function(ne,re){return Fv(ne,h[re],d)})).join(", ")+", ..., "+E.map((function(ne,re){return Fv(ne,h[g-Lv+re],d)})).join(", ")+"]"]}return["["+(d==="complex64"?Tv(c):Array.from(c)).map((function(ne,re){return Fv(ne,h[re],d)})).join(", ")+"]"]}var T=A.slice(1),U=f.slice(1),D=f[0]*v,k=[];if(g>VR){for(var O=0;O<Lv;O++){var N=(P=O*D)+D;k.push.apply(k,l(c.slice(P,N),T,d,U,h,!1))}for(k.push("..."),O=g-Lv;O<g;O++)N=(P=O*D)+D,k.push.apply(k,l(c.slice(P,N),T,d,U,h,O===g-1))}else for(O=0;O<g;O++){var P;N=(P=O*D)+D,k.push.apply(k,l(c.slice(P,N),T,d,U,h,O===g-1))}var j=B===2?",":"";for(k[0]="["+k[0]+j,O=1;O<k.length-1;O++)k[O]=" "+k[O]+j;var z=`,
`;for(O=2;O<B;O++)z+=`
`;return k[k.length-1]=" "+k[k.length-1]+"]"+(p?"":z),k})(r,e,t,a,o),u=["Tensor"];return n&&(u.push("  dtype: "+t),u.push("  rank: "+i),u.push("  shape: ["+e+"]"),u.push("  values:")),u.push(s.map((function(l){return"    "+l})).join(`
`)),u.join(`
`)}function Fv(r,e,t){return Td(Array.isArray(r)?parseFloat(r[0].toFixed(XE))+" + "+parseFloat(r[1].toFixed(XE))+"j":GA(r)?"'"+r+"'":t==="bool"?OM(r):parseFloat(r.toFixed(XE)).toString(),e)}function OM(r){return r===0?"false":"true"}function Tv(r){for(var e=[],t=0;t<r.length;t+=2)e.push([r[t],r[t+1]]);return e}var Ov=(function(){function r(e,t,n){var a=this;if(this.dtype=t,this.shape=e.slice(),this.size=Ot(e),n!=null){var o=n.length;ce(o===this.size,(function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+a.size+"'."}))}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Mv(t,this.size),this.strides=zu(e)}return r.prototype.set=function(e){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),ce(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"}));var o=this.locToIndex(n);this.values[o]=e},r.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.length===0&&(e=[0]);for(var n=0,a=0,o=e;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[n]){var s="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(s)}n++}for(var u=e[e.length-1],l=0;l<e.length-1;++l)u+=this.strides[l]*e[l];return this.values[u]},r.prototype.locToIndex=function(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},r.prototype.indexToLoc=function(e){if(this.rank===0)return[];if(this.rank===1)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(r.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),r.prototype.toTensor=function(){return Fl().makeTensor(this.values,this.shape,this.dtype)},r})(),Fl=null,Me=null,QM=null,Ln=(function(){function r(e,t,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=Ot(e),this.strides=zu(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return r.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},r.prototype.asScalar=function(){return this.throwIfDisposed(),ce(this.size===1,(function(){return"The array must have only 1 element."})),this.reshape([])},r.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},r.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},r.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},r.prototype.as4D=function(e,t,n,a){return this.throwIfDisposed(),this.reshape([e,t,n,a])},r.prototype.as5D=function(e,t,n,a,o){return this.throwIfDisposed(),this.reshape([e,t,n,a,o])},r.prototype.asType=function(e){return this.throwIfDisposed(),Me.cast(this,e)},Object.defineProperty(r.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),r.prototype.buffer=function(){return Pt(this,void 0,void 0,(function(){var e;return Dt(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,Me.buffer(this.shape,this.dtype,e)]}}))}))},r.prototype.bufferSync=function(){return Me.buffer(this.shape,this.dtype,this.dataSync())},r.prototype.array=function(){return Pt(this,void 0,void 0,(function(){var e;return Dt(this,(function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,vL(this.shape,e)]}}))}))},r.prototype.arraySync=function(){return vL(this.shape,this.dataSync())},r.prototype.data=function(){return Pt(this,void 0,void 0,(function(){var e,t;return Dt(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=Fl().read(this.dataId),this.dtype!=="string"?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map((function(a){return Uv(a)}))]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,e]}}))}))},r.prototype.dataSync=function(){this.throwIfDisposed();var e=Fl().readSync(this.dataId);if(this.dtype==="string")try{return e.map((function(t){return Uv(t)}))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},r.prototype.bytes=function(){return Pt(this,void 0,void 0,(function(){var e;return Dt(this,(function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Fl().read(this.dataId)];case 1:return e=t.sent(),this.dtype==="string"?[2,e]:[2,new Uint8Array(e.buffer)]}}))}))},r.prototype.dispose=function(){this.isDisposed||(Fl().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(r.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),r.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},r.prototype.toFloat=function(){return this.asType("float32")},r.prototype.toInt=function(){return this.asType("int32")},r.prototype.toBool=function(){return this.asType("bool")},r.prototype.print=function(e){return e===void 0&&(e=!1),Me.print(this,e)},r.prototype.reshape=function(e){return this.throwIfDisposed(),Me.reshape(this,e)},r.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},r.prototype.expandDims=function(e){return e===void 0&&(e=0),Me.expandDims(this,e)},r.prototype.cumsum=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=!1),n===void 0&&(n=!1),Me.cumsum(this,e,t,n)},r.prototype.squeeze=function(e){return this.throwIfDisposed(),Me.squeeze(this,e)},r.prototype.clone=function(){return this.throwIfDisposed(),Me.clone(this)},r.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),Me.oneHot(this,e,t,n)},r.prototype.toString=function(e){return e===void 0&&(e=!1),Fre(this.dataSync(),this.shape,this.dtype,e)},r.prototype.tile=function(e){return this.throwIfDisposed(),Me.tile(this,e)},r.prototype.gather=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),Me.gather(this,e,t)},r.prototype.matMul=function(e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),this.throwIfDisposed(),Me.matMul(this,e,t,n)},r.prototype.dot=function(e){return this.throwIfDisposed(),Me.dot(this,e)},r.prototype.norm=function(e,t,n){return e===void 0&&(e="euclidean"),t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Me.norm(this,e,t,n)},r.prototype.slice=function(e,t){return this.throwIfDisposed(),Me.slice(this,e,t)},r.prototype.reverse=function(e){return this.throwIfDisposed(),Me.reverse(this,e)},r.prototype.concat=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),e instanceof r&&(e=[e]),Me.concat([this].concat(e),t)},r.prototype.split=function(e,t){return t===void 0&&(t=0),this.throwIfDisposed(),Me.split(this,e,t)},r.prototype.stack=function(e,t){return t===void 0&&(t=0),Me.stack([this,e],t)},r.prototype.unstack=function(e){return e===void 0&&(e=0),Me.unstack(this,e)},r.prototype.pad=function(e,t){return t===void 0&&(t=0),Me.pad(this,e,t)},r.prototype.batchNormalization=function(e,t,n,a,o){return n===void 0&&(n=.001),QM("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,a,n)},r.prototype.batchNorm=function(e,t,n,a,o){return o===void 0&&(o=.001),this.throwIfDisposed(),Me.batchNorm(this,e,t,n,a,o)},r.prototype.all=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.all(this,e,t)},r.prototype.any=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.any(this,e,t)},r.prototype.logSumExp=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.logSumExp(this,e,t)},r.prototype.sum=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.sum(this,e,t)},r.prototype.prod=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.prod(this,e,t)},r.prototype.mean=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.mean(this,e,t)},r.prototype.min=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.min(this,e,t)},r.prototype.max=function(e,t){return e===void 0&&(e=null),t===void 0&&(t=!1),this.throwIfDisposed(),Me.max(this,e,t)},r.prototype.argMin=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),Me.argMin(this,e)},r.prototype.argMax=function(e){return e===void 0&&(e=null),this.throwIfDisposed(),Me.argMax(this,e)},r.prototype.cast=function(e){return this.throwIfDisposed(),Me.cast(this,e)},r.prototype.add=function(e){return this.throwIfDisposed(),Me.add(this,e)},r.prototype.addStrict=function(e){return this.throwIfDisposed(),Me.addStrict(this,e)},r.prototype.atan2=function(e){return this.throwIfDisposed(),Me.atan2(this,e)},r.prototype.sub=function(e){return this.throwIfDisposed(),Me.sub(this,e)},r.prototype.subStrict=function(e){return this.throwIfDisposed(),Me.subStrict(this,e)},r.prototype.pow=function(e){return this.throwIfDisposed(),Me.pow(this,e)},r.prototype.powStrict=function(e){return this.throwIfDisposed(),Me.powStrict(this,e)},r.prototype.mul=function(e){return this.throwIfDisposed(),Me.mul(this,e)},r.prototype.mulStrict=function(e){return this.throwIfDisposed(),Me.mulStrict(this,e)},r.prototype.div=function(e){return this.throwIfDisposed(),Me.div(this,e)},r.prototype.divNoNan=function(e){return this.throwIfDisposed(),Me.divNoNan(this,e)},r.prototype.floorDiv=function(e){return this.throwIfDisposed(),Me.floorDiv(this,e)},r.prototype.divStrict=function(e){return this.throwIfDisposed(),Me.divStrict(this,e)},r.prototype.minimum=function(e){return this.throwIfDisposed(),Me.minimum(this,e)},r.prototype.minimumStrict=function(e){return this.throwIfDisposed(),Me.minimumStrict(this,e)},r.prototype.maximum=function(e){return this.throwIfDisposed(),Me.maximum(this,e)},r.prototype.maximumStrict=function(e){return this.throwIfDisposed(),Me.maximumStrict(this,e)},r.prototype.mod=function(e){return this.throwIfDisposed(),Me.mod(this,e)},r.prototype.modStrict=function(e){return this.throwIfDisposed(),Me.modStrict(this,e)},r.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),Me.squaredDifferenceStrict(this,e)},r.prototype.transpose=function(e){return this.throwIfDisposed(),Me.transpose(this,e)},r.prototype.notEqual=function(e){return this.throwIfDisposed(),Me.notEqual(this,e)},r.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),Me.notEqualStrict(this,e)},r.prototype.less=function(e){return this.throwIfDisposed(),Me.less(this,e)},r.prototype.lessStrict=function(e){return this.throwIfDisposed(),Me.lessStrict(this,e)},r.prototype.equal=function(e){return this.throwIfDisposed(),Me.equal(this,e)},r.prototype.equalStrict=function(e){return this.throwIfDisposed(),Me.equalStrict(this,e)},r.prototype.lessEqual=function(e){return this.throwIfDisposed(),Me.lessEqual(this,e)},r.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),Me.lessEqualStrict(this,e)},r.prototype.greater=function(e){return this.throwIfDisposed(),Me.greater(this,e)},r.prototype.greaterStrict=function(e){return this.throwIfDisposed(),Me.greaterStrict(this,e)},r.prototype.greaterEqual=function(e){return this.throwIfDisposed(),Me.greaterEqual(this,e)},r.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),Me.greaterEqualStrict(this,e)},r.prototype.logicalAnd=function(e){return this.throwIfDisposed(),Me.logicalAnd(this,e)},r.prototype.logicalOr=function(e){return this.throwIfDisposed(),Me.logicalOr(this,e)},r.prototype.logicalNot=function(){return this.throwIfDisposed(),Me.logicalNot(this)},r.prototype.logicalXor=function(e){return this.throwIfDisposed(),Me.logicalXor(this,e)},r.prototype.where=function(e,t){return this.throwIfDisposed(),Me.where(e,this,t)},r.prototype.neg=function(){return this.throwIfDisposed(),Me.neg(this)},r.prototype.ceil=function(){return this.throwIfDisposed(),Me.ceil(this)},r.prototype.floor=function(){return this.throwIfDisposed(),Me.floor(this)},r.prototype.sign=function(){return this.throwIfDisposed(),Me.sign(this)},r.prototype.isNaN=function(){return this.throwIfDisposed(),Me.isNaN(this)},r.prototype.isInf=function(){return this.throwIfDisposed(),Me.isInf(this)},r.prototype.isFinite=function(){return this.throwIfDisposed(),Me.isFinite(this)},r.prototype.exp=function(){return this.throwIfDisposed(),Me.exp(this)},r.prototype.expm1=function(){return this.throwIfDisposed(),Me.expm1(this)},r.prototype.log=function(){return this.throwIfDisposed(),Me.log(this)},r.prototype.log1p=function(){return this.throwIfDisposed(),Me.log1p(this)},r.prototype.sqrt=function(){return this.throwIfDisposed(),Me.sqrt(this)},r.prototype.rsqrt=function(){return this.throwIfDisposed(),Me.rsqrt(this)},r.prototype.square=function(){return this.throwIfDisposed(),Me.square(this)},r.prototype.reciprocal=function(){return this.throwIfDisposed(),Me.reciprocal(this)},r.prototype.abs=function(){return this.throwIfDisposed(),Me.abs(this)},r.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),Me.clipByValue(this,e,t)},r.prototype.relu=function(){return this.throwIfDisposed(),Me.relu(this)},r.prototype.relu6=function(){return this.throwIfDisposed(),Me.relu6(this)},r.prototype.elu=function(){return this.throwIfDisposed(),Me.elu(this)},r.prototype.selu=function(){return this.throwIfDisposed(),Me.selu(this)},r.prototype.leakyRelu=function(e){return e===void 0&&(e=.2),this.throwIfDisposed(),Me.leakyRelu(this,e)},r.prototype.prelu=function(e){return this.throwIfDisposed(),Me.prelu(this,e)},r.prototype.sigmoid=function(){return this.throwIfDisposed(),Me.sigmoid(this)},r.prototype.logSigmoid=function(){return this.throwIfDisposed(),Me.logSigmoid(this)},r.prototype.softplus=function(){return this.throwIfDisposed(),Me.softplus(this)},r.prototype.zerosLike=function(){return this.throwIfDisposed(),Me.zerosLike(this)},r.prototype.onesLike=function(){return this.throwIfDisposed(),Me.onesLike(this)},r.prototype.sin=function(){return this.throwIfDisposed(),Me.sin(this)},r.prototype.cos=function(){return this.throwIfDisposed(),Me.cos(this)},r.prototype.tan=function(){return this.throwIfDisposed(),Me.tan(this)},r.prototype.asin=function(){return this.throwIfDisposed(),Me.asin(this)},r.prototype.acos=function(){return this.throwIfDisposed(),Me.acos(this)},r.prototype.atan=function(){return this.throwIfDisposed(),Me.atan(this)},r.prototype.sinh=function(){return this.throwIfDisposed(),Me.sinh(this)},r.prototype.cosh=function(){return this.throwIfDisposed(),Me.cosh(this)},r.prototype.tanh=function(){return this.throwIfDisposed(),Me.tanh(this)},r.prototype.asinh=function(){return this.throwIfDisposed(),Me.asinh(this)},r.prototype.acosh=function(){return this.throwIfDisposed(),Me.acosh(this)},r.prototype.atanh=function(){return this.throwIfDisposed(),Me.atanh(this)},r.prototype.erf=function(){return this.throwIfDisposed(),Me.erf(this)},r.prototype.round=function(){return this.throwIfDisposed(),Me.round(this)},r.prototype.step=function(e){return e===void 0&&(e=0),this.throwIfDisposed(),Me.step(this,e)},r.prototype.softmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),Me.softmax(this,e)},r.prototype.logSoftmax=function(e){return e===void 0&&(e=-1),this.throwIfDisposed(),Me.logSoftmax(this,e)},r.prototype.resizeBilinear=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),Me.image.resizeBilinear(this,e,t)},r.prototype.resizeNearestNeighbor=function(e,t){return t===void 0&&(t=!1),this.throwIfDisposed(),Me.image.resizeNearestNeighbor(this,e,t)},r.prototype.conv1d=function(e,t,n,a,o,i){return a===void 0&&(a="NWC"),o===void 0&&(o=1),this.throwIfDisposed(),Me.conv1d(this,e,t,n,a,o,i)},r.prototype.conv2d=function(e,t,n,a,o,i){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),Me.conv2d(this,e,t,n,a,o,i)},r.prototype.conv2dTranspose=function(e,t,n,a,o){return this.throwIfDisposed(),Me.conv2dTranspose(this,e,t,n,a,o)},r.prototype.depthwiseConv2D=function(e,t,n,a,o,i){return a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]),this.throwIfDisposed(),Me.depthwiseConv2d(this,e,t,n,a,o,i)},r.prototype.separableConv2d=function(e,t,n,a,o,i){return o===void 0&&(o=[1,1]),i===void 0&&(i="NHWC"),this.throwIfDisposed(),Me.separableConv2d(this,e,t,n,a,o,i)},r.prototype.avgPool=function(e,t,n,a){return this.throwIfDisposed(),Me.avgPool(this,e,t,n,a)},r.prototype.maxPool=function(e,t,n,a){return this.throwIfDisposed(),Me.maxPool(this,e,t,n,a)},r.prototype.localResponseNormalization=function(e,t,n,a){return e===void 0&&(e=5),t===void 0&&(t=1),n===void 0&&(n=1),a===void 0&&(a=.5),Me.localResponseNormalization(this,e,t,n,a)},r.prototype.pool=function(e,t,n,a,o){return this.throwIfDisposed(),Me.pool(this,e,t,n,a,o)},r.prototype.variable=function(e,t,n){return e===void 0&&(e=!0),this.throwIfDisposed(),Fl().makeVariable(this,e,t,n)},r.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Me.unsortedSegmentSum(this,e,t)},r.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),Me.batchToSpaceND(this,e,t)},r.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Me.spaceToBatchND(this,e,t)},r.prototype.topk=function(e,t){return e===void 0&&(e=1),t===void 0&&(t=!0),this.throwIfDisposed(),Me.topk(this,e,t)},r.prototype.stridedSlice=function(e,t,n,a,o,i,s,u){return a===void 0&&(a=0),o===void 0&&(o=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),Me.stridedSlice(this,e,t,n,a,o,i,s,u)},r.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),Me.depthToSpace(this,e,t)},r.prototype.fft=function(){return this.throwIfDisposed(),Me.spectral.fft(this)},r.prototype.ifft=function(){return this.throwIfDisposed(),Me.spectral.ifft(this)},r.prototype.rfft=function(){return this.throwIfDisposed(),Me.spectral.rfft(this)},r.prototype.irfft=function(){return this.throwIfDisposed(),Me.spectral.irfft(this)},r})();Object.defineProperty(Ln,Symbol.hasInstance,{value:function(r){return!!r&&r.dataId!=null&&r.shape!=null&&r.dtype!=null}});var qR,xL,wL,bL,CL,kd=(function(r){function e(t,n,a,o){var i=r.call(this,t.shape,t.dtype,t.dataId,o)||this;return i.trainable=n,i.name=a,i}return Gu(e,r),e.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!za(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Fl().disposeTensor(this),this.dataId=t.dataId,Fl().incRef(this,null)},e.prototype.dispose=function(){Fl().disposeVariable(this),this.isDisposedInternal=!0},e})(Ln);Object.defineProperty(kd,Symbol.hasInstance,{value:function(r){return r instanceof Ln&&r.assign!=null&&r.assign instanceof Function}}),(function(r){r.R0="R0",r.R1="R1",r.R2="R2",r.R3="R3",r.R4="R4",r.R5="R5",r.R6="R6"})(qR||(qR={})),(function(r){r.float32="float32",r.int32="int32",r.bool="int32",r.complex64="complex64"})(xL||(xL={})),(function(r){r.float32="float32",r.int32="int32",r.bool="bool",r.complex64="complex64"})(wL||(wL={})),(function(r){r.float32="float32",r.int32="float32",r.bool="float32",r.complex64="complex64"})(bL||(bL={})),(function(r){r.float32="complex64",r.int32="complex64",r.bool="complex64",r.complex64="complex64"})(CL||(CL={}));var Tre={float32:bL,int32:xL,bool:wL,complex64:CL};function bo(r,e){if(r==="string"||e==="string"){if(r==="string"&&e==="string")return"string";throw new Error("Can not upcast "+r+" with "+e)}return Tre[r][e]}function YE(r){return bo(r,"int32")}function ra(r,e){if(r.dtype===e.dtype)return[r,e];var t=bo(r.dtype,e.dtype);return[r.cast(t),e.cast(t)]}function HM(r,e){ce(r.dtype===e.dtype,(function(){return"The dtypes of the first("+r.dtype+") and second("+e.dtype+") input must match"}))}function VL(r){var e=[];return(function t(n,a,o){if(n!=null){if(n instanceof Ln)return void a.push(n);if(i=n,!(!Array.isArray(i)&&typeof i!="object")){var i,s=n;for(var u in s){var l=s[u];o.has(l)||(o.add(l),t(l,a,o))}}}})(r,e,new Set),e}var $E,_6e=Object.freeze({makeTypesMatch:ra,assertTypesMatch:HM,isTensorInList:function(r,e){return e.some((function(t){return t.id===r.id}))},getTensorsInContainer:VL}),WR=(function(){function r(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return r.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},r})(),_re=(function(){function r(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new WR}return r.prototype.ready=function(){return Pt(this,void 0,void 0,(function(){var e,t,n;return Dt(this,(function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then((function(){}))];if(this.backendInstance!=null)return[2];e=this.getSortedBackends(),t=0,a.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(n)]:[3,4];case 3:return a.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(r.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),r.prototype.backendNames=function(){return Object.keys(this.registryFactory)},r.prototype.findBackend=function(e){return!(e in this.registry)&&(!(e in this.registryFactory)||this.initializeBackend(e).asyncInit)?null:this.registry[e]},r.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},r.prototype.registerBackend=function(e,t,n){return n===void 0&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},r.prototype.setBackend=function(e){return Pt(this,void 0,void 0,(function(){var t,n,a;return Dt(this,(function(o){switch(o.label){case 0:if(this.registryFactory[e]==null)throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,this.registry[e]!=null?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return a=o.sent(),[3,3];case 2:a=n,o.label=3;case 3:if(!a)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ere(this.backendInstance),[2,!0]}}))}))},r.prototype.setupRegisteredKernels=function(){var e=this;QR(this.backendName).forEach((function(t){t.setupFunc!=null&&t.setupFunc(e.backendInstance)}))},r.prototype.disposeRegisteredKernels=function(e){var t=this;QR(e).forEach((function(n){n.disposeFunc!=null&&n.disposeFunc(t.registry[e])}))},r.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(n==null)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var a=n.factory();if(Promise.resolve(a)===a){var o=++this.pendingBackendInitId,i=a.then((function(s){return!(o<t.pendingBackendInitId)&&(t.registry[e]=s,t.pendingBackendInit=null,!0)})).catch((function(s){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),!1)}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[e]=a,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+e+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},r.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},r.prototype.getSortedBackends=function(){var e=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))},r.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],a=this.initializeBackend(n),o=a.success,i=a.asyncInit;if(i||o)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")},r.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),a=n.backend,o=this.readSync(t);a.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},r.prototype.tidy=function(e,t){var n,a=this,o=null;if(t==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");t=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun((function(){return a.startScope(o)}),(function(){return a.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},r.prototype.scopedRun=function(e,t,n){e();try{var a=n();return t(),a}catch(o){throw t(),o}},r.prototype.nextTensorId=function(){return r.nextTensorId++},r.prototype.nextVariableId=function(){return r.nextVariableId++},r.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(a){return{x:function(){return a.toFloat()}}}),[]),t},r.prototype.runKernel=function(e,t,n,a,o){return this.runKernelFunc(null,t,null,e,n,a,o)},r.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},r.prototype.checkKernelForMemLeak=function(e,t,n){var a=this.backend.numDataIds(),o=0;n.forEach((function(u){o+=u.dtype==="complex64"?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-t-o-i;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+e+"'")},r.prototype.runKernelFunc=function(e,t,n,a,o,i,s){var u,l=this;i===void 0&&(i=[]),s===void 0&&(s=[]);var c=[],A=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var d,f=function(B){A&&(c=B.map((function(I){return l.keep(l.clone(I))})))},h=this.state.numBytes,p=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,g=SM(a,this.backendName);return d=g!=null?function(){var B=l.backend.numDataIds();v=g.kernelFunc({inputs:t,attrs:o,backend:l.backend});var I=Array.isArray(v)?v:[v];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,B,I);var S=I.map((function(T){var U=T.dataId,D=T.shape,k=T.dtype;return l.makeTensorFromDataId(U,D,k)})),E=S.filter((function(T,U){return s[U]}));return f((i||[]).slice().concat(E)),S}:function(){var B=l.backend.numDataIds();v=l.tidy((function(){return e(l.backend,f)}));var I=Array.isArray(v)?v:[v];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(a,B,I),I},this.scopedRun((function(){return l.state.kernelDepth++}),(function(){return l.state.kernelDepth--}),(function(){u=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(a,t,(function(){return d()})):d()})),A&&this.addTapeNode(a,t,u,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-p,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map((function(B){return t[B].shape})),outputShapes:u.map((function(B){return B.shape}))}),Array.isArray(v)?u:u[0]},r.prototype.makeTensor=function(e,t,n,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var o=e;n==="string"&&GA(e[0])&&(o=e.map((function(c){return MM(c)})));var i=a.write(o,t,n),s=new Ln(t,n,i,this.nextTensorId());if(this.incRef(s,a),n==="string"){var u=this.state.tensorInfo.get(i),l=PM(o);this.state.numBytes+=l-u.bytes,u.bytes=l}return s},r.prototype.makeTensorFromDataId=function(e,t,n,a){var o=new Ln(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,a),o},r.prototype.makeVariable=function(e,t,n,a){t===void 0&&(t=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.asType(a));var o=new kd(e,t,n,this.nextTensorId());if(this.state.registeredVariables[o.name]!=null)throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},r.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++,n===0){this.state.numDataBuffers++;var a=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(a=e.size*UL(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof kd||this.track(e)},r.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,e.dtype==="string"&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?(e.dtype!=="complex64"&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},r.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},r.prototype.disposeVariable=function(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]},r.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},r.prototype.profile=function(e){return Pt(this,void 0,void 0,(function(){var t,n;return Dt(this,(function(a){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(o){return o.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},r.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},r.prototype.addTapeNode=function(e,t,n,a,o){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},u=Sre(e);u!=null&&(a=u.gradFunc),a!=null&&(s.gradient=function(l){return l=l.map((function(c,A){if(c==null){var d=n[A],f=dm(d.size,d.dtype);return i.makeTensor(f,d.shape,d.dtype)}return c})),a(l.length>1?l:l[0],o)}),this.state.activeTape.push(s)},r.prototype.keep=function(e){return e.kept=!0,e},r.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},r.prototype.endTape=function(){this.state.gradientDepth--},r.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},r.prototype.endScope=function(e){for(var t=this,n=VL(e),a=new Set(n.map((function(u){return u.id}))),o=0;o<this.state.activeScope.track.length;o++){var i=this.state.activeScope.track[o];i.kept||a.has(i.id)||i.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(u){u.kept||u.scopeId!==s.id||t.track(u)}))},r.prototype.gradients=function(e,t,n,a){var o=this;if(a===void 0&&(a=!1),ce(t.length>0,(function(){return"gradients() received an empty list of xs."})),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var i=this.scopedRun((function(){return o.startTape()}),(function(){return o.endTape()}),(function(){return o.tidy("forward",e)}));ce(i instanceof Ln,(function(){return"The result y returned by f() must be a tensor."}));var s=(function(u,l,c){for(var A={},d={},f=0;f<l.length;f++)A[l[f].id]=!0;for(f=0;f<u.length;f++){var h=(T=u[f]).inputs;for(var p in h){for(var v=h[p],g=!1,B=0;B<l.length;B++)if(A[v.id]){T.outputs.forEach((function(O){return A[O.id]=!0})),g=!0,d[T.id]=!0;break}if(g)break}}var I={};I[c.id]=!0;var S={};for(f=u.length-1;f>=0;f--)for(h=(T=u[f]).inputs,B=0;B<T.outputs.length;B++)if(I[T.outputs[B].id]){for(var p in h)I[h[p].id]=!0,S[T.id]=!0;break}var E=[];for(f=0;f<u.length;f++){var T;if(d[(T=u[f]).id]&&S[T.id]){var U={};for(var p in T.inputs){var D=T.inputs[p];A[D.id]&&(U[p]=D)}var k=Object.assign({},T);k.inputs=U,k.outputs=T.outputs,E.push(k)}}return E})(this.state.activeTape,t,i);if(!a&&s.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var u,l,c={};c[i.id]=n??(u=i.shape,l=QL(Ot(u),"float32"),Be.makeTensor(l,u,"float32")),(function(d,f,h){for(var p=function(g){var B=f[g],I=[];if(B.outputs.forEach((function(U){var D=d[U.id];D!=null?I.push(D):I.push(null)})),B.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+B.kernelName+".");var S=B.gradient(I),E=function(U){if(!(U in S))throw new Error("Cannot backprop through input "+U+". Available gradients found: "+Object.keys(S)+".");var D=h((function(){return S[U]()}));if(D.dtype!=="float32")throw new Error("Error in gradient for op "+B.kernelName+". The gradient of input "+U+" must have 'float32' dtype, but has '"+D.dtype+"'");var k=B.inputs[U];if(!za(D.shape,k.shape))throw new Error("Error in gradient for op "+B.kernelName+". The gradient of input '"+U+"' has shape '"+D.shape+"', which does not match the shape of the input '"+k.shape+"'");if(d[k.id]==null)d[k.id]=D;else{var O=d[k.id];d[k.id]=O.add(D),O.dispose()}};for(var T in B.inputs)E(T)},v=f.length-1;v>=0;v--)p(v)})(c,s,(function(d){return o.tidy(d)}));var A=t.map((function(d){return c[d.id]}));return o.state.gradientDepth===0&&(o.state.activeTape.forEach((function(d){for(var f=0,h=d.saved;f<h.length;f++)h[f].dispose()})),o.state.activeTape=null),{value:i,grads:A}}))},r.prototype.customGrad=function(e){var t=this;return ce(Nb(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];ce(a.every((function(s){return s instanceof Ln})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};return a.forEach((function(s,u){i[u]=s})),t.runKernelFunc((function(s,u){return ce((n=e.apply(void 0,a.concat([u]))).value instanceof Ln,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),ce(Nb(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),i,(function(s,u){var l=n.gradFunc(s,u),c=Array.isArray(l)?l:[l];ce(c.length===a.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),ce(c.every((function(d){return d instanceof Ln})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var A={};return c.forEach((function(d,f){A[f]=function(){return d}})),A}))}},r.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},r.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},r.prototype.time=function(e){return Pt(this,void 0,void 0,(function(){var t,n;return Dt(this,(function(a){switch(a.label){case 0:return t=Wu(),[4,this.backend.time(e)];case 1:return(n=a.sent()).wallMs=Wu()-t,[2,n]}}))}))},r.prototype.track=function(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(r.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),r.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new WR,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},r.nextTensorId=0,r.nextVariableId=0,r})(),Be=(function(){var r=(function(){if($E==null){var t=void 0;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else{if(typeof self>"u")throw new Error("Could not find a global object");t=self}$E=t}return $E})();if(r._tfengine==null){var e=new Cre(r);r._tfengine=new _re(e)}return(function(t){BM=t})(r._tfengine.ENV),Fl=function(){return r._tfengine},r._tfengine})();function VM(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Fc=Qe();Fc.registerFlag("DEBUG",(function(){return!1}),(function(r){r&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Fc.registerFlag("IS_BROWSER",(function(){return VM()})),Fc.registerFlag("IS_NODE",(function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0})),Fc.registerFlag("IS_CHROME",(function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),Fc.registerFlag("PROD",(function(){return!1})),Fc.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return Fc.getBool("DEBUG")})),Fc.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),Fc.registerFlag("IS_TEST",(function(){return!1}));var Qv,_s,Ts,Id={},JE={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function qM(r,e){Id[r]=e}function Nl(r){r in Id||(Id[r]=(function(t){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=(function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")})(t);return n.addEventListener("webglcontextlost",(function(a){a.preventDefault(),delete Id[t]}),!1),t===1?n.getContext("webgl",JE)||n.getContext("experimental-webgl",JE):n.getContext("webgl2",JE)})(r));var e=Id[r];return e.isContextLost()?(delete Id[r],Nl(r)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),Id[r])}function jb(r,e){return[e,r]}function Dv(r){var e=Ot(r);return kb(Math.ceil(e/4))}function Gv(r,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(r/2))]}function qL(r,e){var t,n,a,o,i,s,u,l,c,A=r;return Qe().getNumber("WEBGL_VERSION")===2?(t=A.R32F,n=A.R16F,a=A.RGBA16F,o=A.RGBA32F,i=A.RED,s=4,u=1,l=A.HALF_FLOAT,c=A.FLOAT):(t=r.RGBA,n=r.RGBA,a=r.RGBA,o=A.RGBA,i=r.RGBA,s=4,u=4,l=e!=null?e.HALF_FLOAT_OES:null,c=r.FLOAT),{internalFormatFloat:t,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:r.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function Et(r,e,t){var n=t();return e&&(function(a){var o=a.getError();if(o!==a.NO_ERROR)throw new Error("WebGL Error: "+zM(a,o))})(r),n}(function(r){r[r.DENSE=0]="DENSE",r[r.SHARED_BATCH=1]="SHARED_BATCH"})(Qv||(Qv={})),(function(r){r[r.RENDER=0]="RENDER",r[r.UPLOAD=1]="UPLOAD",r[r.PIXELS=2]="PIXELS",r[r.DOWNLOAD=3]="DOWNLOAD"})(_s||(_s={})),(function(r){r[r.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",r[r.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",r[r.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",r[r.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",r[r.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Ts||(Ts={}));var kre=596e-10,Nre=65504;function WM(r){return!!(Qe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||r===0||kre<Math.abs(r)&&Math.abs(r)<Nre)}function zM(r,e){switch(e){case r.NO_ERROR:return"NO_ERROR";case r.INVALID_ENUM:return"INVALID_ENUM";case r.INVALID_VALUE:return"INVALID_VALUE";case r.INVALID_OPERATION:return"INVALID_OPERATION";case r.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case r.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case r.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+e}}function kv(r,e,t){return Pc(r,e,(function(){return r.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function jM(r,e,t){var n=Pc(r,e,(function(){return r.createShader(r.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Et(r,e,(function(){return r.shaderSource(n,t)})),Et(r,e,(function(){return r.compileShader(n)})),r.getShaderParameter(n,r.COMPILE_STATUS)===!1)throw console.log(r.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function GM(r,e,t){var n=Pc(r,e,(function(){return r.createShader(r.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Et(r,e,(function(){return r.shaderSource(n,t)})),Et(r,e,(function(){return r.compileShader(n)})),r.getShaderParameter(n,r.COMPILE_STATUS)===!1)throw(function(a,o){var i=Pre.exec(o);if(i==null)return console.log("Couldn't parse line number in error: "+o),void console.log(a);for(var s=+i[1],u=a.split(`
`),l=u.length.toString().length+2,c=u.map((function(v,g){return Td((g+1).toString(),l)+v})),A=0,d=0;d<c.length;d++)A=Math.max(c[d].length,A);var f=c.slice(0,s-1),h=c.slice(s-1,s),p=c.slice(s);console.log(f.join(`
`)),console.log(o.split(`
`)[0]),console.log("%c "+Td(h[0],A),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join(`
`))})(t,r.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var Cb,Bb,Pre=/ERROR: [0-9]+:([0-9]+):/g;function KM(r,e){return Pc(r,e,(function(){return r.createProgram()}),"Unable to create WebGLProgram.")}function XM(r,e,t){if(Et(r,e,(function(){return r.linkProgram(t)})),r.getProgramParameter(t,r.LINK_STATUS)===!1)throw console.log(r.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function Sb(r,e,t){if(Et(r,e,(function(){return r.validateProgram(t)})),r.getProgramParameter(t,r.VALIDATE_STATUS)===!1)throw console.log(r.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function YM(r,e,t){var n=Pc(r,e,(function(){return r.createBuffer()}),"Unable to create WebGLBuffer");return Et(r,e,(function(){return r.bindBuffer(r.ARRAY_BUFFER,n)})),Et(r,e,(function(){return r.bufferData(r.ARRAY_BUFFER,t,r.STATIC_DRAW)})),n}function $M(r,e,t){var n=Pc(r,e,(function(){return r.createBuffer()}),"Unable to create WebGLBuffer");return Et(r,e,(function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n)})),Et(r,e,(function(){return r.bufferData(r.ELEMENT_ARRAY_BUFFER,t,r.STATIC_DRAW)})),n}function JM(r,e){return Pc(r,e,(function(){return r.createTexture()}),"Unable to create WebGLTexture.")}function ZM(r,e){var t=Qe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(r<=0||e<=0){var n="["+r+"x"+e+"]";throw new Error("Requested texture size "+n+" is invalid.")}if(r>t||e>t)throw n="["+r+"x"+e+"]",new Error("Requested texture size "+n+" greater than WebGL maximum on this browser / GPU "+("["+t+"x"+t+"]")+".")}function eU(r,e){return Pc(r,e,(function(){return r.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function BL(r,e,t,n,a,o,i,s){var u=r.getAttribLocation(t,n);return u!==-1&&(Et(r,e,(function(){return r.bindBuffer(r.ARRAY_BUFFER,a)})),Et(r,e,(function(){return r.vertexAttribPointer(u,o,r.FLOAT,!1,i,s)})),Et(r,e,(function(){return r.enableVertexAttribArray(u)})),!0)}function tU(r,e,t,n){iU(r,n),Et(r,e,(function(){return r.activeTexture(r.TEXTURE0+n)})),Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,t)}))}function rU(r,e,t,n){return Pc(r,e,(function(){return r.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function nU(r,e,t){return r.getUniformLocation(e,t)}function aU(r,e,t,n,a,o){Et(r,e,(function(){return tU(r,e,n,o)})),Et(r,e,(function(){return r.uniform1i(a,o)}))}function Ib(r,e,t,n){Et(r,e,(function(){return r.bindFramebuffer(r.FRAMEBUFFER,n)})),Et(r,e,(function(){return r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0)}))}function SL(r,e,t){Et(r,e,(function(){return r.bindFramebuffer(r.FRAMEBUFFER,t)})),Et(r,e,(function(){return r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0)}))}function Nv(r){var e=r.checkFramebufferStatus(r.FRAMEBUFFER);if(e!==r.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+oU(r,e))}function oU(r,e){switch(e){case r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case r.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+e}}function Pc(r,e,t,n){var a=Et(r,e,(function(){return t()}));if(a==null)throw new Error(n);return a}function iU(r,e){var t=r.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=e+r.TEXTURE0;if(n<r.TEXTURE0||n>t)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+t+"]")+".")}function Hv(r,e){return e===void 0&&(e=2),Ot(r.slice(0,r.length-e))}function Vv(r){if(r.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[r.length>1?r[r.length-2]:1,r[r.length-1]]}function Eb(r){var e=[1,1,1];return r.length===0||r.length===1&&r[0]===1||(e=[Hv(r)].concat(Vv(r))),e}function sU(r,e){var t;e===void 0&&(e=!1);var n=Qe().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(n*=2,(r=r.map((function(l,c){return c>=r.length-2?ML(r[c]):r[c]}))).length===1&&(r=[2,r[0]])),r.length!==2){var a=jA(r);r=a.newShape}var o=Ot(r);if(r.length<=1&&o<=n)return[1,o];if(r.length===2&&r[0]<=n&&r[1]<=n)return r;if(r.length===3&&r[0]*r[1]<=n&&r[2]<=n)return[r[0]*r[1],r[2]];if(r.length===3&&r[0]<=n&&r[1]*r[2]<=n)return[r[0],r[1]*r[2]];if(r.length===4&&r[0]*r[1]*r[2]<=n&&r[3]<=n)return[r[0]*r[1]*r[2],r[3]];if(r.length===4&&r[0]<=n&&r[1]*r[2]*r[3]<=n)return[r[0],r[1]*r[2]*r[3]];if(e){var i=Hv(r),s=2,u=2;return r.length&&(s=(t=Vv(r))[0],u=t[1]),kb(o=i*(s/2)*(u/2)).map((function(l){return 2*l}))}return kb(o)}function hb(r){return r%2==0}function Pv(r,e){if(za(r=r.slice(-2),e=e.slice(-2))||!r.length||!e.length||r[0]===0||r[1]===0||e[0]===0||e[1]===0)return!0;if(r.length!==e.length){var t=r.slice(-1)[0],n=e.slice(-1)[0];if(t===n||hb(t)&&hb(n)&&(r[0]===1||e[0]===1))return!0}return r[1]===e[1]&&hb(r[0])&&hb(e[0])}function uU(r){if(Cb==null){var e=Nl(r);Cb=e.getParameter(e.MAX_TEXTURE_SIZE)}return Cb}function lU(r){if(Bb==null){var e=Nl(r);Bb=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Bb)}function cU(r){if(r===0)return 0;var e=Nl(r);return ks(e,"EXT_disjoint_timer_query_webgl2")&&r===2?2:ks(e,"EXT_disjoint_timer_query")?1:0}function ks(r,e){return r.getExtension(e)!=null}function IL(r){try{if(Nl(r)!=null)return!0}catch{return!1}return!1}function AU(r){if(r===0)return!1;var e=Nl(r);if(r===1){if(!ks(e,"OES_texture_float"))return!1}else if(!ks(e,"EXT_color_buffer_float"))return!1;return EL(e)}function fU(r){if(r===0)return!1;var e=Nl(r);if(r!==1){if(ks(e,"EXT_color_buffer_float"))return EL(e);if(ks(e,"EXT_color_buffer_half_float")){var t=e.getExtension("EXT_color_buffer_half_float");return(function(n,a){var o=qL(n,a),i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texImage2D(n.TEXTURE_2D,0,o.internalFormatHalfFloat,1,1,0,o.textureFormatFloat,o.textureTypeHalfFloat,null);var s=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,i,0);var u=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(i),n.deleteFramebuffer(s),u})(e,t)}return!1}return!!ks(e,"OES_texture_float")&&!!ks(e,"WEBGL_color_buffer_float")&&EL(e)}function EL(r){var e=qL(r),t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0);var a=r.checkFramebufferStatus(r.FRAMEBUFFER)===r.FRAMEBUFFER_COMPLETE;return r.bindTexture(r.TEXTURE_2D,null),r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteTexture(t),r.deleteFramebuffer(n),a}function dU(r){return r===2&&Nl(r).fenceSync!=null}var Dre=Object.freeze({callAndCheck:Et,canBeRepresented:WM,getWebGLErrorMessage:zM,getExtensionOrThrow:kv,createVertexShader:jM,createFragmentShader:GM,createProgram:KM,linkProgram:XM,validateProgram:Sb,createStaticVertexBuffer:YM,createStaticIndexBuffer:$M,getNumChannels:function(){return Qe().getNumber("WEBGL_VERSION")===2?1:4},createTexture:JM,validateTextureSize:ZM,createFramebuffer:eU,bindVertexBufferToProgramAttribute:BL,bindTextureUnit:tU,unbindTextureUnit:function(r,e,t){iU(r,t),Et(r,e,(function(){return r.activeTexture(r.TEXTURE0+t)})),Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,null)}))},getProgramUniformLocationOrThrow:rU,getProgramUniformLocation:nU,bindTextureToProgramUniformSampler:aU,bindCanvasToFramebuffer:function(r,e){Et(r,e,(function(){return r.bindFramebuffer(r.FRAMEBUFFER,null)})),Et(r,e,(function(){return r.viewport(0,0,r.canvas.width,r.canvas.height)})),Et(r,e,(function(){return r.scissor(0,0,r.canvas.width,r.canvas.height)}))},bindColorTextureToFramebuffer:Ib,unbindColorTextureFromFramebuffer:SL,validateFramebuffer:Nv,getFramebufferErrorMessage:oU,getBatchDim:Hv,getRowsCols:Vv,getShapeAs3D:Eb,getTextureShapeFromLogicalShape:sU,isReshapeFree:Pv,getWebGLMaxTextureSize:uU,resetMaxTextureSize:function(){Cb=null},resetMaxTexturesInShader:function(){Bb=null},getMaxTexturesInShader:lU,getWebGLDisjointQueryTimerVersion:cU,hasExtension:ks,isWebGLVersionEnabled:IL,isCapableOfRenderingToFloatTexture:AU,isDownloadFloatTextureEnabled:fU,isWebGLFenceEnabled:dU}),hr=Qe();function hU(r){Qe().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(r+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function $e(r,e){return Be.tidy(r,e)}function os(r){VL(r).forEach((function(e){return e.dispose()}))}function Rre(r){return Be.keep(r)}function Db(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];Qe().getBool("IS_TEST")||console.warn.apply(console,r)}function kl(r,e){var t=r;if(Mo(r))return e==="string"?[]:[r.length];if(!Array.isArray(r))return[];for(var n=[];Array.isArray(t)||Mo(t)&&e!=="string";)n.push(t.length),t=t[0];return Array.isArray(r)&&Qe().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&(function a(o,i,s){if(s=s||[],!Array.isArray(o)&&!Mo(o))return void ce(i.length===0,(function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+i[0]+" elements"}));ce(i.length>0,(function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+o.length+" elements"})),ce(o.length===i[0],(function(){return"Element arr["+s.join("][")+"] should have "+i[0]+" elements, but has "+o.length+" elements"}));for(var u=i.slice(1),l=0;l<o.length;++l)a(o[l],u,s.concat(l))})(r,n,[]),n}function zR(r,e,t,n){if(r!=null&&(r!=="numeric"&&r!==e||r==="numeric"&&e==="string"))throw new Error("Argument '"+t+"' passed to '"+n+"' must be "+r+" tensor, but got "+e+" tensor")}function oe(r,e,t,n){if(n===void 0&&(n="numeric"),r instanceof Ln)return zR(n,r.dtype,e,t),r;var a=fm(r);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),zR(n,a,e,t),r==null||!Mo(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string"){var o=r==null?"null":r.constructor.name;throw new Error("Argument '"+e+"' passed to '"+t+"' must be a Tensor or TensorLike, but got '"+o+"'")}var i=kl(r,a);Mo(r)||Array.isArray(r)||(r=[r]);var s=a!=="string"?OL(r,a,Qe().getBool("DEBUG")):Nc(r,[],!0);return Be.makeTensor(s,i,a)}function Rb(r,e,t,n){if(n===void 0&&(n="numeric"),!Array.isArray(r))throw new Error("Argument "+e+" passed to "+t+" must be a `Tensor[]` or `TensorLike[]`");return r.map((function(a,o){return oe(a,e+"["+o+"]",t)}),n)}function WL(r,e){for(var t=0;t<r.length;++t)if(r[r.length-t-1]!==e-1-t)return!1;return!0}function pU(r,e,t){for(var n=r.length+e.length,a=[],o=0,i=0,s=0;s<n;s++)t.indexOf(s)===-1?a.push(r[o++]):a.push(e[i++]);return a}function Ro(r,e){for(var t=[],n=r.length,a=0;a<n;a++)e.indexOf(a)===-1&&t.push(r[a]);return[t,e.map((function(o){return r[o]}))]}function Fi(r,e){return pU(r,e.map((function(t){return 1})),e)}function ns(r,e,t){ce(WL(e,t),(function(){return r+" supports only inner-most axes for now. Got axes "+e+" and rank-"+t+" input."}))}function Ku(r,e){if(WL(r,e))return null;for(var t=[],n=0;n<e;++n)r.indexOf(n)===-1&&t.push(n);return r.forEach((function(a){return t.push(a)})),t}function Gb(r){return r.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function Xu(r,e){for(var t=[],n=e-r;n<e;++n)t.push(n);return t}function mU(r,e){var t=r[0].length;r.forEach((function(a,o){ce(a.length===t,(function(){return"Error in concat"+t+"D: rank of tensors["+o+"] must be the same as the rank of the rest ("+t+")"}))})),ce(e>=0&&e<t,(function(){return"Error in concat"+t+"D: axis must be between 0 and "+(t-1)+"."}));var n=r[0];r.forEach((function(a,o){for(var i=0;i<t;i++)ce(i===e||a[i]===n[i],(function(){return"Error in concat"+t+"D: Shape of tensors["+o+"] ("+a+") does not match the shape of the rest ("+n+") along the non-concatenated axis "+o+"."}))}))}function Nd(r,e){for(var t=r[0].slice(),n=1;n<r.length;n++)t[e]+=r[n][e];return t}function ye(r){var e=Object.keys(r);if(e.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+e.length+" keys.");var t=e[0],n=r[t];t.endsWith("_")&&(t=t.substring(0,t.length-1));var a=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];Be.startScope(t);try{var s=n.apply(void 0,o);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Be.endScope(s),s}catch(u){throw Be.endScope(null),u}};return Object.defineProperty(a,"name",{value:t,configurable:!0}),a}hr.registerFlag("HAS_WEBGL",(function(){return hr.getNumber("WEBGL_VERSION")>0})),hr.registerFlag("WEBGL_VERSION",(function(){return IL(2)?2:IL(1)?1:0})),hr.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return hr.get("WEBGL_VERSION")===2})),hr.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),hr.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),hr.registerFlag("WEBGL_PACK",(function(){return hr.getBool("HAS_WEBGL")})),hr.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_CLIP",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),hr.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_PACK_REDUCE",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_CONV_IM2COL",(function(){return hr.getBool("WEBGL_PACK")})),hr.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return uU(hr.getNumber("WEBGL_VERSION"))})),hr.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return lU(hr.getNumber("WEBGL_VERSION"))})),hr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var r=hr.getNumber("WEBGL_VERSION");return r===0?0:cU(r)})),hr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return hr.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(r=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))));var r})),hr.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return AU(hr.getNumber("WEBGL_VERSION"))})),hr.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!hr.getBool("WEBGL_FORCE_F16_TEXTURES")&&hr.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),hr.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return fU(hr.getNumber("WEBGL_VERSION"))})),hr.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return dU(hr.getNumber("WEBGL_VERSION"))})),hr.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return hr.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),QM=hU;var Do=ye({complex_:function(r,e){var t=oe(r,"real","complex"),n=oe(e,"imag","complex");return on(t.shape,n.shape,"real and imag shapes, "+t.shape+" and "+n.shape+", must match in call to tf.complex()."),Be.runKernelFunc((function(a){return a.complex(t,n)}),{$real:t,$imag:n})}}),su=ye({real_:function(r){var e=oe(r,"input","real");return Be.runKernelFunc((function(t){return t.real(e)}),{$input:e})}}),Tl=ye({imag_:function(r){var e=oe(r,"input","imag");return Be.runKernelFunc((function(t){return t.imag(e)}),{$input:e})}});function Co(r,e,t){return YA(r,e,kl(r,t),t)}function YA(r,e,t,n){if(n==null&&(n=fm(r)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Mo(r)&&!Array.isArray(r)&&typeof r!="number"&&typeof r!="boolean"&&typeof r!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){HL(e);var a=Ot(e),o=Ot(t);ce(a===o,(function(){return"Based on the provided shape, ["+e+"], the tensor should have "+a+" values but has "+o}));for(var i=0;i<t.length;++i){var s=t[i],u=i!==t.length-1||s!==Ot(e.slice(i));ce(t[i]===e[i]||!u,(function(){return"Error creating a new Tensor. Inferred shape ("+t+") does not match the provided shape ("+e+"). "}))}}return Mo(r)||Array.isArray(r)||(r=[r]),e=e||t,r=n!=="string"?OL(r,n,Qe().getBool("DEBUG")):Nc(r,[],!0),Be.makeTensor(r,e,n)}function lt(r,e){if((Mo(r)&&e!=="string"||Array.isArray(r))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Mo(r)&&!(r instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return YA(r,[],[],e)}function Nn(r,e){Rd(r);var t=kl(r,e);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return YA(r,null,t,e)}function _l(r,e,t){if(Rd(r),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=kl(r,t);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return YA(r,e,n,t)}function Kb(r,e,t){if(Rd(r),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=kl(r,t);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return YA(r,e,n,t)}function fo(r,e,t){if(Rd(r),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=kl(r,t);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return YA(r,e,n,t)}function Mre(r,e,t){if(Rd(r),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=kl(r,t);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return YA(r,e,n,t)}function Ure(r,e,t){if(Rd(r),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=kl(r,t);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return YA(r,e=e||n,n,t)}function Ore(r,e,t,n){return e===void 0&&(e=!0),Be.makeVariable(r,e,t,n)}function hm(r,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=hm(r,"float32"),n=Rn(r,"float32");return Do(t,n)}var a=QL(Ot(r),e);return Be.makeTensor(a,r,e)}function Rn(r,e){if(e===void 0&&(e="float32"),e==="complex64"){var t=Rn(r,"float32"),n=Rn(r,"float32");return Do(t,n)}var a=dm(Ot(r),e);return Be.makeTensor(a,r,e)}function Ps(r,e,t){return Be.runKernelFunc((function(n){return n.fill(r,e,t)}),{})}function Qre(r,e,t){if(t<=0)throw new Error("The number of values should be positive.");return Be.runKernelFunc((function(n){return n.linspace(r,e,t)}),{})}function Mb(r,e,t,n){if(t===void 0&&(t=1),n===void 0&&(n="float32"),t===0)throw new Error("Cannot have a step of zero");if(r===e||r<e&&t<0||e<r&&t>1)return Rn([0],n);var a=dm(Math.abs(Math.ceil((e-r)/t)),n);e<r&&t===1&&(t=-1),a[0]=r;for(var o=1;o<a.length;o++)a[o]=a[o-1]+t;return Nn(a,n)}var gU=ye({onesLike_:function(r){var e=oe(r,"x","onesLike");if(e.dtype==="complex64"){var t=gU(su(e)),n=Jr(Tl(e));return Do(t,n)}return Be.runKernelFunc((function(a){return a.onesLike(e)}),{$x:e},(function(a,o){return{$x:function(){return Jr(a)}}}))}}),Jr=ye({zerosLike_:function(r){var e=oe(r,"x","zerosLike");return Be.runKernelFunc((function(t){return t.zerosLike(e)}),{$x:e},(function(t,n){return{$x:function(){return Jr(t)}}}))}}),Wn=ye({concat_:function(r,e){e===void 0&&(e=0),ce(r.length>=1,(function(){return"Pass at least one tensor to concat"}));var t=Rb(r,"tensors","concat");t[0].dtype==="complex64"&&t.forEach((function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")})),e=Ga(e,t[0].shape)[0];var n=Nd(t.map((function(s){return s.shape})),e);if(Ot(n)===0)return Co([],n);if((t=t.filter((function(s){return s.size>0}))).length===1)return t[0];var a=t.map((function(s){return s.shape}));mU(a,e);var o=t,i={axis:e};return Be.runKernelFunc((function(s){return s.concat(t,e)}),o,(function(s){var u=a.map((function(l){return l[e]}));return zL(s,u,e).map((function(l){return function(){return l}}))}),"Concat",i)}}),Hre=ye({concat1d_:function(r){return Wn(r,0)}}),Vre=ye({concat2d_:function(r,e){return Wn(r,e)}}),qre=ye({concat3d_:function(r,e){return Wn(r,e)}}),Wre=ye({concat4d_:function(r,e){return Wn(r,e)}}),zL=ye({split_:function(r,e,t){t===void 0&&(t=0);var n,a=oe(r,"x","split");return t=Ga(t,a.shape)[0],typeof e=="number"?(ce(a.shape[t]%e==0,(function(){return"Number of splits must evenly divide the axis."})),n=new Array(e).fill(a.shape[t]/e)):(ce(a.shape[t]===e.reduce((function(o,i){return o+i})),(function(){return"The sum of sizes must match the size of the axis dimension."})),n=e),Be.runKernelFunc((function(o){return o.split(a,n,t)}),{$x:a},(function(o){return{$x:function(){return Wn(o,t)}}}))}});function Md(r,e){return r(e={exports:{}},e.exports),e.exports}var zre=Md((function(r){(function(e,t,n){function a(s){var u,l=this,c=(u=4022871197,function(A){A=A.toString();for(var d=0;d<A.length;d++){var f=.02519603282416938*(u+=A.charCodeAt(d));f-=u=f>>>0,u=(f*=u)>>>0,u+=4294967296*(f-=u)}return 23283064365386963e-26*(u>>>0)});l.next=function(){var A=2091639*l.s0+23283064365386963e-26*l.c;return l.s0=l.s1,l.s1=l.s2,l.s2=A-(l.c=0|A)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(s),l.s0<0&&(l.s0+=1),l.s1-=c(s),l.s1<0&&(l.s1+=1),l.s2-=c(s),l.s2<0&&(l.s2+=1),c=null}function o(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function i(s,u){var l=new a(s),c=u&&u.state,A=l.next;return A.int32=function(){return 4294967296*l.next()|0},A.double=function(){return A()+11102230246251565e-32*(2097152*A()|0)},A.quick=A,c&&(typeof c=="object"&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.alea=i})(0,r,!1)})),jre=Md((function(r){(function(e,t,n){function a(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var A=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^A^A>>>8},s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function i(s,u){var l=new a(s),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i})(0,r,!1)})),Gre=Md((function(r){(function(e,t,n){function a(s){var u=this,l="";u.next=function(){var A=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^A^A<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function o(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function i(s,u){var l=new a(s),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i})(0,r,!1)})),Kre=Md((function(r){(function(e,t,n){function a(s){var u=this;u.next=function(){var l,c,A=u.x,d=u.i;return l=A[d],c=(l^=l>>>7)^l<<24,c^=(l=A[d+1&7])^l>>>10,c^=(l=A[d+3&7])^l>>>3,c^=(l=A[d+4&7])^l<<7,l=A[d+7&7],c^=(l^=l<<13)^l<<9,A[d]=c,u.i=d+1&7,c},(function(l,c){var A,d=[];if(c===(0|c))d[0]=c;else for(c=""+c,A=0;A<c.length;++A)d[7&A]=d[7&A]<<15^c.charCodeAt(A)+d[A+1&7]<<13;for(;d.length<8;)d.push(0);for(A=0;A<8&&d[A]===0;++A);for(A==8?d[7]=-1:d[A],l.x=d,l.i=0,A=256;A>0;--A)l.next()})(u,s)}function o(s,u){return u.x=s.x.slice(),u.i=s.i,u}function i(s,u){s==null&&(s=+new Date);var l=new a(s),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=l.next,A.quick=A,c&&(c.x&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i})(0,r,!1)})),Xre=Md((function(r){(function(e,t,n){function a(s){var u=this;u.next=function(){var l,c,A=u.w,d=u.X,f=u.i;return u.w=A=A+1640531527|0,c=d[f+34&127],l=d[f=f+1&127],c^=c<<13,l^=l<<17,c^=c>>>15,l^=l>>>12,c=d[f]=c^l,u.i=f,c+(A^A>>>16)|0},(function(l,c){var A,d,f,h,p,v=[],g=128;for(c===(0|c)?(d=c,c=null):(c+="\0",d=0,g=Math.max(g,c.length)),f=0,h=-32;h<g;++h)c&&(d^=c.charCodeAt((h+32)%c.length)),h===0&&(p=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,h>=0&&(p=p+1640531527|0,f=(A=v[127&h]^=d+p)==0?f+1:0);for(f>=128&&(v[127&(c&&c.length||0)]=-1),f=127,h=512;h>0;--h)d=v[f+34&127],A=v[f=f+1&127],d^=d<<13,A^=A<<17,d^=d>>>15,A^=A>>>12,v[f]=d^A;l.w=p,l.X=v,l.i=f})(u,s)}function o(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function i(s,u){s==null&&(s=+new Date);var l=new a(s),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=l.next,A.quick=A,c&&(c.X&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i})(0,r,!1)})),Yre=Md((function(r){(function(e,t,n){function a(s){var u=this,l="";u.next=function(){var A=u.b,d=u.c,f=u.d,h=u.a;return A=A<<25^A>>>7^d,d=d-f|0,f=f<<24^f>>>8^h,h=h-A|0,u.b=A=A<<20^A>>>12^d,u.c=d=d-f|0,u.d=f<<16^d>>>16^h,u.a=h-A|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):l+=s;for(var c=0;c<l.length+20;c++)u.b^=0|l.charCodeAt(c),u.next()}function o(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function i(s,u){var l=new a(s),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&o(c,l),A.state=function(){return o(l,{})}),A}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i})(0,r,!1)})),Ed=Md((function(r){(function(e,t){var n,a=this,o=256,i=6,s="random",u=t.pow(o,i),l=t.pow(2,52),c=2*l,A=o-1;function d(g,B,I){var S=[],E=p((function D(k,O){var N,P=[],j=typeof k;if(O&&j=="object")for(N in k)try{P.push(D(k[N],O-1))}catch{}return P.length?P:j=="string"?k:k+"\0"})((B=B==1?{entropy:!0}:B||{}).entropy?[g,v(e)]:g??(function(){try{var D;return n&&(D=n.randomBytes)?D=D(o):(D=new Uint8Array(o),(a.crypto||a.msCrypto).getRandomValues(D)),v(D)}catch{var k=a.navigator,O=k&&k.plugins;return[+new Date,a,O,a.screen,v(e)]}})(),3),S),T=new f(S),U=function(){for(var D=T.g(i),k=u,O=0;D<l;)D=(D+O)*o,k*=o,O=T.g(1);for(;D>=c;)D/=2,k/=2,O>>>=1;return(D+O)/k};return U.int32=function(){return 0|T.g(4)},U.quick=function(){return T.g(4)/4294967296},U.double=U,p(v(T.S),e),(B.pass||I||function(D,k,O,N){return N&&(N.S&&h(N,T),D.state=function(){return h(T,{})}),O?(t[s]=D,k):D})(U,E,"global"in B?B.global:this==t,B.state)}function f(g){var B,I=g.length,S=this,E=0,T=S.i=S.j=0,U=S.S=[];for(I||(g=[I++]);E<o;)U[E]=E++;for(E=0;E<o;E++)U[E]=U[T=A&T+g[E%I]+(B=U[E])],U[T]=B;(S.g=function(D){for(var k,O=0,N=S.i,P=S.j,j=S.S;D--;)k=j[N=A&N+1],O=O*o+j[A&(j[N]=j[P=A&P+k])+(j[P]=k)];return S.i=N,S.j=P,O})(o)}function h(g,B){return B.i=g.i,B.j=g.j,B.S=g.S.slice(),B}function p(g,B){for(var I,S=g+"",E=0;E<S.length;)B[A&E]=A&(I^=19*B[A&E])+S.charCodeAt(E++);return v(B)}function v(g){return String.fromCharCode.apply(0,g)}if(t["seed"+s]=d,p(t.random(),e),r.exports){r.exports=d;try{n=MR()}catch{}}})([],Math)}));Ed.alea=zre,Ed.xor128=jre,Ed.xorwow=Gre,Ed.xorshift7=Kre,Ed.xor4096=Xre,Ed.tychei=Yre;var Xb=Ed.alea,jL=(function(){function r(e,t,n,a,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=o||Math.random();this.random=Xb(i.toString())}return r.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,a=!1;!a;){var o=void 0,i=void 0,s=void 0;do s=(o=2*this.random()-1)*o+(i=2*this.random()-1)*i;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*o*u,n=this.mean+this.stdDev*i*u,this.truncated&&!this.isValidTruncated(t)||(a=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},r.prototype.convertValue=function(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)},r.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},r})(),$re=(function(){function r(e,t,n,a){this.alpha=e,this.beta=1/t,this.dtype=n;var o=a||Math.random();this.randu=Xb(o.toString()),this.randn=new jL(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return r.prototype.nextValue=function(){for(var e,t,n,a,o,i;;){do a=this.randn.nextValue(),i=1+this.c*a;while(i<=0);if(i*=i*i,t=1-.331*(e=a*a)*e,n=.5*e+this.d*(1-i+Math.log(i)),(o=this.randu())<t||Math.log(o)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)},r.prototype.convertValue=function(e){return this.dtype==="float32"?e:Math.round(e)},r})(),Jre=(function(){function r(e,t,n,a){var o=this;if(e===void 0&&(e=0),t===void 0&&(t=1),this.canReturnFloat=function(){return o.dtype==null||o.dtype==="float32"},this.min=e,this.range=t-e,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=Xb(a)}return r.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},r.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},r})();function xr(r,e,t){return e===void 0&&(e="float32"),e=e||"float32",HL(r),new Ov(r,e,t)}function Zre(r,e){e===void 0&&(e=!1),console.log(r.toString(e))}var vU=ye({batchToSpaceND_:function(r,e,t){var n=oe(r,"x","batchToSpaceND"),a=e.reduce((function(o,i){return o*i}));return ce(n.rank>=1+e.length,(function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+e.length})),ce(t.length===e.length,(function(){return"crops.length is "+t.length+" but should be equal to blockShape.length  "+e.length})),ce(n.shape[0]%a==0,(function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of the elements of blockShape "+e.join(" * ")+" === "+a})),Be.runKernelFunc((function(o){return o.batchToSpaceND(n,e,t)}),{$x:n},(function(o){return{$x:function(){return o.spaceToBatchND(e,t)}}}))}}),ene=ye({broadcastTo_:function(r,e){var t=oe(r,"broadcastTo","x"),n=t.shape;if(e.some((function(u){return!(u>0)||u%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+e+"].");if(e.length<t.rank)throw new Error("broadcastTo(): shape.length="+e.length+" < input.rank="+t.rank+".");if(e.length>t.rank){for(var a=t.shape.slice();a.length<e.length;)a.unshift(1);t=t.reshape(a)}for(var o=Array.from(e),i=e.length-1;i>=0;i--)if(t.shape[i]===e[i])o[i]=1;else if(t.shape[i]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+e+"].");var s=o.map((function(u,l){return u>1?l:-1})).filter((function(u){return u>=0}));return s.length===0?t.clone():Be.runKernelFunc((function(u){return u.tile(t,o)}),{input:t},(function(u){return{input:function(){return u.sum(s,!0)}}}))}}),tne=ye({cast_:function(r,e){var t=oe(r,"x","cast");if(!kM(e))throw new Error("Failed to cast to unknown dtype "+e);if(e==="string"&&t.dtype!=="string"||e!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");var n={dtype:e};return Be.runKernelFunc((function(a){return a.cast(t,e)}),{x:t},(function(a){return{x:function(){return a.clone()}}}),"Cast",n)}}),rne=ye({clone_:function(r){var e=oe(r,"x","clone",null);return Be.runKernelFunc((function(){return Be.makeTensorFromDataId(e.dataId,e.shape,e.dtype)}),{$x:e},(function(t){return{$x:function(){return t.toFloat()}}}))}}),nne=ye({cumsum_:function(r,e,t,n){e===void 0&&(e=0),t===void 0&&(t=!1),n===void 0&&(n=!1);var a=oe(r,"x","cumsum"),o=Ku([e|=0],a.rank),i=a;o!=null&&(i=a.transpose(o));var s=Xu(1,a.rank)[0],u=Be.runKernelFunc((function(l){return l.cumsum(i,s,t,n)}),{permutedX:i},(function(l){return{permutedX:function(){return l.cumsum(e,t,!n)}}}));return o!=null&&(u=u.transpose(o)),u}}),ane=ye({depthToSpace_:function(r,e,t){t===void 0&&(t="NHWC");var n=oe(r,"x","depthToSpace"),a=t==="NHWC"?n.shape[1]:n.shape[2],o=t==="NHWC"?n.shape[2]:n.shape[3],i=t==="NHWC"?n.shape[3]:n.shape[1];return ce(a*e>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+e+`  for depthToSpace with input shape
      `+n.shape})),ce(o*e>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+e+` for depthToSpace with input shape
          `+n.shape})),ce(i%(e*e)==0,(function(){return"Dimension size must be evenly divisible by "+e*e+" but is "+i+" for depthToSpace with input shape "+n.shape})),Be.runKernelFunc((function(s){return s.depthToSpace(n,e,t)}),{$x:n})}}),ni=ye({expandDims_:function(r,e){e===void 0&&(e=0);var t=oe(r,"x","expandDims",null);ce(e<=t.rank,(function(){return"Axis must be <= rank of the tensor"}));var n=t.shape.slice();return e<0&&(ce(-(t.rank+1)<=e,(function(){return"Axis must be in the interval ["+-(t.rank+1)+", "+t.rank+"]"})),e=t.rank+e+1),n.splice(e,0,1),_i(t,n)}}),yU=ye({eye_:function(r,e,t,n){n===void 0&&(n="float32"),e==null&&(e=r);for(var a=xr([r,e],n),o=r<=e?r:e,i=0;i<o;++i)a.set(1,i,i);var s=a.toTensor().as2D(r,e);if(t==null)return s;if(t.length===1)return _d(ni(s,0),[t[0],1,1]);if(t.length===2)return _d(ni(ni(s,0),0),[t[0],t[1],1,1]);if(t.length===3)return _d(ni(ni(ni(s,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+t.length+"D.")}}),one=ye({multinomial_:function(r,e,t,n){n===void 0&&(n=!1);var a=oe(r,"logits","multinomial"),o=a.size,i=a.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+o+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);t=t||Math.random();var s=i===1?a.as2D(1,-1):a,u=Be.runKernelFunc((function(l){return l.multinomial(s,n,e,t)}),{logits2D:s});return i===1?u.as1D():u}}),LL=ye({oneHot_:function(r,e,t,n){if(t===void 0&&(t=1),n===void 0&&(n=0),e<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+e);var a=oe(r,"indices","oneHot","int32"),o=a.shape.concat([e]);return a=a.flatten(),Be.runKernelFunc((function(i){return i.oneHot(a,e,t,n)}),{$indices:a},(function(i){return{$indices:function(){return Rn(a.shape,"float32")}}})).reshape(o)}}),Dc=ye({pad_:function(r,e,t){t===void 0&&(t=0);var n=oe(r,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:e,constantValue:t};return Be.runKernelFunc((function(o){return o.pad(n,e,t)}),{x:n},(function(o){var i=e.map((function(s){return s[0]}));return{x:function(){return o.slice(i,n.shape)}}}),"PadV2",a)}}),ine=ye({pad1d_:function(r,e,t){return t===void 0&&(t=0),ce(e.length===2,(function(){return"Invalid number of paddings. Must be length of 2."})),Dc(r,[e],t)}}),sne=ye({pad2d_:function(r,e,t){return t===void 0&&(t=0),ce(e.length===2&&e[0].length===2&&e[1].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Dc(r,e,t)}}),une=ye({pad3d_:function(r,e,t){return t===void 0&&(t=0),ce(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Dc(r,e,t)}}),lne=ye({pad4d_:function(r,e,t){return t===void 0&&(t=0),ce(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Dc(r,e,t)}}),cne=ye({rand_:function(r,e,t){var n=Ot(r),a=null;if(t==null||t==="float32")a=new Float32Array(n);else if(t==="int32")a=new Int32Array(n);else{if(t!=="bool")throw new Error("Unknown data type "+t);a=new Uint8Array(n)}for(var o=0;o<n;o++)a[o]=e();return Be.makeTensor(a,r,t)}}),Ane=ye({randomNormal_:function(r,e,t,n,a){if(e===void 0&&(e=0),t===void 0&&(t=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var o=new jL(e,t,n,!1,a),i=xr(r,n),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),fne=ye({randomGamma_:function(r,e,t,n,a){if(t===void 0&&(t=1),n===void 0&&(n="float32"),t==null&&(t=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var o=new $re(e,t,n,a),i=xr(r,n),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),xU=ye({randomUniform_:function(r,e,t,n,a){e===void 0&&(e=0),t===void 0&&(t=1),n===void 0&&(n="float32");for(var o=xr(r,n),i=new Jre(e,t,null,a),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),_i=ye({reshape_:function(r,e){var t=oe(r,"x","reshape",null);e=TM(e,t.size),ce(t.size===Ot(e),(function(){return"new shape and old shape must have the same number of elements."}));var n={shape:e};return Be.runKernelFunc((function(a){return a.reshape(t,e)}),{x:t},(function(a){return{x:function(){return a.reshape(t.shape)}}}),"Reshape",n)}}),wU=ye({spaceToBatchND_:function(r,e,t){var n=oe(r,"x","spaceToBatchND");return ce(n.rank>=1+e.length,(function(){return"input rank "+n.rank+" should be > than [blockShape] "+e.length})),ce(t.length===e.length,(function(){return"paddings.shape[0] "+t.length+" must be equal to [blockShape] "+e.length})),ce(n.shape.reduce((function(a,o,i){return i>0&&i<=e.length?a&&(o+t[i-1][0]+t[i-1][1])%e[i-1]==0:a}),!0),(function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+t.toString()+" must be divisible by blockShapes "+e.toString()})),Be.runKernelFunc((function(a){return a.spaceToBatchND(n,e,t)}),{$x:n},(function(a){return{$x:function(){return a.batchToSpaceND(e,t)}}}))}}),bU=ye({squeeze_:function(r,e){var t=oe(r,"x","squeeze");return _i(t,jA(t.shape,e).newShape)}}),Uo=ye({stack_:function(r,e){e===void 0&&(e=0);var t=Rb(r,"tensors","stack");if(ce(t.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),t.length===1)return t[0].expandDims(e);var n=t[0].rank,a=t[0].shape,o=t[0].dtype;ce(e<=n,(function(){return"Axis must be <= rank of the tensor"})),t.forEach((function(s){on(a,s.shape,"All tensors passed to stack must have matching shapes")})),t.forEach((function(s){ce(o===s.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=t.map((function(s){return s.expandDims(e)}));return Wn(i,e)}}),_d=ye({tile_:function(r,e){var t=oe(r,"x","tile",null);ce(t.rank===e.length,(function(){return"Error in transpose: rank of input "+t.rank+" must match length of reps "+e+"."}));var n=[t],a={reps:e};return Be.runKernelFunc((function(o,i){var s=o.tile(t,e);return i([t]),s}),{x:t},(function(o,i){var s=i[0];return{x:function(){var u=Jr(s);if(s.rank===1)for(var l=0;l<e[0];++l)u=u.add(o.slice([l*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(l=0;l<e[0];++l)for(var c=0;c<e[1];++c)u=u.add(o.slice([l*s.shape[0],c*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(l=0;l<e[0];++l)for(c=0;c<e[1];++c)for(var A=0;A<e[2];++A)u=u.add(o.slice([l*s.shape[0],c*s.shape[1],A*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(l=0;l<e[0];++l)for(c=0;c<e[1];++c)for(A=0;A<e[2];++A)for(var d=0;d<e[3];++d)u=u.add(o.slice([l*s.shape[0],c*s.shape[1],A*s.shape[2],d*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}}),"Tile",a,n)}}),dne=ye({truncatedNormal_:function(r,e,t,n,a){if(e===void 0&&(e=0),t===void 0&&(t=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var o=new jL(e,t,n,!0,a),i=xr(r,n),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),wn=ye({unstack_:function(r,e){e===void 0&&(e=0),e=e||0;var t=oe(r,"x","unstack");ce(e>=-t.shape.length&&e<t.shape.length,(function(){return"Axis = "+e+" is not in [-"+t.shape.length+", "+t.shape.length+")"})),e<0&&(e+=t.shape.length);var n={axis:e};return Be.runKernelFunc((function(a){return a.unstack(t,e)}),{x:t},(function(a){return{x:function(){return Uo(a,e)}}}),"Unpack",n)}}),hne=function(r,e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s,u,l,c,A;return Dt(this,(function(d){switch(d.label){case 0:return t=oe(r,"x","setdiff1d"),n=oe(e,"y","setdiff1d"),ce(t.dtype===n.dtype,(function(){return"x and y should have the same dtype, but got x ("+t.dtype+") and y ("+n.dtype+")."})),ce(t.rank===1,(function(){return"x should be 1D tensor, but got x ("+t.shape+")."})),ce(n.rank===1,(function(){return"y should be 1D tensor, but got y ("+n.shape+")."})),[4,t.data()];case 1:return a=d.sent(),[4,n.data()];case 2:for(o=d.sent(),i=new Set(o),s=0,c=0;c<a.length;c++)i.has(a[c])||s++;for(u=new Ov([s],t.dtype),l=new Ov([s],"int32"),c=0,A=0;c<a.length;c++)i.has(a[c])||(u.values[A]=a[c],l.values[A]=c,A++);return[2,[u.toTensor(),l.toTensor()]]}}))}))};function Ub(r,e,t,n){n===void 0&&(n=!0);var a=[];if(n)(a=a.concat(e.slice(0))).push(r[0]/t),a=a.concat(r.slice(1));else{a=a.concat(r[0]);for(var o=e.length,i=0;i<o;++i)a=a.concat([r[i+1]/e[i],e[i]]);a=a.concat(r.slice(o+1))}return a}function Ob(r,e,t){t===void 0&&(t=!0);var n=[];if(t){n.push(e);for(var a=e+1;a<r;++a)a<=2*e?(n.push(a),n.push(a-(e+1))):n.push(a)}else{var o=[],i=[];for(a=1;a<r;++a)a>=2*e+1||a%2==1?i.push(a):o.push(a);n.push.apply(n,o),n.push(0),n.push.apply(n,i)}return n}function Qb(r,e,t,n){n===void 0&&(n=!0);var a=[];n?a.push(r[0]/t):a.push(r[0]*t);for(var o=1;o<r.length;++o)o<=e.length?n?a.push(e[o-1]*r[o]):a.push(r[o]/e[o-1]):a.push(r[o]);return a}function CU(r,e){for(var t=[0],n=0;n<e;++n)t.push(r[n][0]);return t}function BU(r,e,t){for(var n=r.slice(0,1),a=0;a<t;++a)n.push(r[a+1]-e[a][0]-e[a][1]);return n}function GL(r,e){if(r.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+r.rank+".");if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(e.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.shape[e.rank-1]>r.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+e.shape[e.rank-1]+" vs. "+r.rank);if(r.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+r.shape+".");for(var t=e.shape,n=t[t.length-1],a=1,o=0;o<t.length-1;++o)a*=t[o];var i=r.shape,s=t.slice();s.pop();var u=1;for(o=n;o<r.rank;++o)u*=i[o],s.push(i[o]);var l=zu(r.shape).map((function(c){return c/u})).concat([1]).slice(0,n);return[s,a,u,l]}var k6e=Object.freeze({prepareAndValidate:GL}),KL=30;function Lb(r){return r<=KL?r:Pb(r,Math.floor(Math.sqrt(r)))}function SU(r,e,t){var n=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+t.shape+", indices.shape: "+e.shape+", shape: "+r+", sliceDim: "+n+", and batchDim: "+a+".";if(t.rank<a)throw new Error(o+" update.rank < "+a+". ");if(r.length<n+(t.rank-a))throw new Error(o+" Output shape length < "+(n+(t.rank-a)));if(t.rank!==a+r.length-n)throw new Error(o+" update.rank != "+(a+r.length-n));for(var i=0;i<a;++i)if(t.shape[i]!==e.shape[i])throw new Error(o+" updates.shape["+i+"] ("+t.shape[i]+") != indices.shape["+i+"] ("+e.shape[i]+").");for(i=0;i<t.rank-a;++i)if(t.shape[i+a]!==r[i+n])throw new Error(o+" updates.shape["+(i+a)+"] ("+t.shape[i+a]+") != shape["+(i+a)+"] ("+r[i+a]+")")}function IU(r,e,t){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+e.rank+".");if(r.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+r.rank+".");if(e.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+e.dtype);if(t.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+t);if(t.length===0){if(e.size===0)throw new Error("Indices specified for empty output. indices shape: "+e.shape);if(r.size===0)throw new Error("Updates specified for empty output. updates shape: "+r.shape)}SU(t,e,r)}function qv(r,e,t){for(var n=e.shape.length,a=n>1?e.shape[n-1]:1,o=t.length,i=1,s=a;s<o;++s)i*=t[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:Ot(e.shape)/u,sliceSize:i,strides:zu(t.slice(0,a)).concat([1]),outputSize:Ot(t)}}var N6e=Object.freeze({validateUpdateShape:SU,validateInput:IU,calculateShapes:qv});function EU(r,e,t){ce(r.rank===e.length,(function(){return"Error in slice"+r.rank+"D: Length of begin "+e+" must match the rank of the array ("+r.rank+")."})),ce(r.rank===t.length,(function(){return"Error in slice"+r.rank+"D: Length of size "+t+" must match the rank of the array ("+r.rank+")."}));for(var n=function(o){ce(e[o]+t[o]<=r.shape[o],(function(){return"Error in slice"+r.rank+"D: begin["+o+"] + size["+o+"] ("+(e[o]+t[o])+") would overflow input.shape["+o+"] ("+r.shape[o]+")"}))},a=0;a<r.rank;++a)n(a)}function FL(r){for(var e=[],t=0;r>0;)1&r&&e.push(t),r/=2,t++;return e}function Yb(r,e,t){for(var n=[],a=0;a<r.length;a++)n[a]=Math.ceil((e[a]-r[a])/t[a]);return n}function LU(r,e,t,n,a){var o=e[a],i=t[a]||1;(r&1<<a||o==null)&&(o=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=n[a];return o<0&&(o+=s),o=_b(0,o,s-1)}function FU(r,e,t,n,a){var o=e[a],i=t[a]||1;(r&1<<a||o==null)&&(o=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=n[a];return o<0&&(o+=s),o=i>0?_b(0,o,s):_b(-1,o,s-1)}function XL(r,e,t){for(var n=t.length,a=0;a<t.length;a++)if(t[a]>1){n=a;break}for(a=n+1;a<t.length;a++)if(e[a]>0||t[a]!==r[a])return!1;return!0}function YL(r,e){for(var t=r.length>0?r[r.length-1]:1,n=0;n<r.length-1;n++)t+=r[n]*e[n];return t}var P6e=Object.freeze({assertParamsValid:EU,maskToAxes:FL,computeOutShape:Yb,startForAxis:LU,stopForAxis:FU,isSliceContinous:XL,computeFlatOffset:YL});function pne(r,e){ce(Nb(r),(function(){return"The f passed in variableGrads(f) must be a function"})),ce(e==null||Array.isArray(e)&&e.every((function(c){return c instanceof kd})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var t=e!=null;if(!t)for(var n in e=[],Be.registeredVariables)e.push(Be.registeredVariables[n]);var a=t?e.filter((function(c){return!c.trainable})):null,o=e.length;ce((e=e.filter((function(c){return c.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+o+" variables is trainable."}));var i=Be.gradients(r,e,null,!0),s=i.value,u=i.grads;ce(u.some((function(c){return c!=null})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),ce(s.rank===0,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"}));var l={};return e.forEach((function(c,A){u[A]!=null&&(l[c.name]=u[A])})),a?.forEach((function(c){return l[c.name]=null})),{value:s,grads:l}}function $b(r){return Be.customGrad(r)}var ki=ye({softmax_:function(r,e){e===void 0&&(e=-1);var t=oe(r,"logits","softmax","float32");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+e);return Be.runKernelFunc((function(n,a){var o=n.softmax(t,e);return a([o]),o}),{logits:t},(function(n,a){var o=a[0],i=n.mul(o);return{logits:function(){return i.sub(i.sum([e],!0).mul(o))}}}),"Softmax",{dim:e},[],[!0])}}),mne=ye({logSoftmax_:function(r,e){e===void 0&&(e=-1);var t=oe(r,"logits","logSoftmax");if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and axis was "+e);return $b((function(n,a){var o=n.max(e,!0),i=n.sub(o),s=i.toFloat().sub(i.exp().sum(e,!0).log());return a([s]),{value:s,gradFunc:function(u,l){var c=l[0].exp();return u.sub(u.sum(e,!0).mul(c))}}}))(t)}}),TU=(function(){function r(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return r.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},r.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},r.prototype.has=function(e){return this.data.has(e)},r.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},r.prototype.numDataIds=function(){return this.dataIdsCount},r})(),_U=(function(){function r(){}return r.prototype.time=function(e){return Pe("time")},r.prototype.read=function(e){return Pe("read")},r.prototype.readSync=function(e){return Pe("readSync")},r.prototype.numDataIds=function(){return Pe("numDataIds")},r.prototype.disposeData=function(e){return Pe("disposeData")},r.prototype.write=function(e,t,n){return Pe("write")},r.prototype.move=function(e,t,n,a){return Pe("move")},r.prototype.memory=function(){return Pe("memory")},r.prototype.floatPrecision=function(){return Pe("floatPrecision")},r.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},r.prototype.batchMatMul=function(e,t,n,a){return Pe("batchMatMul")},r.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,Pe("fusedBatchMatMul")},r.prototype.slice=function(e,t,n){return Pe("slice")},r.prototype.stridedSlice=function(e,t,n,a){return Pe("stridedSlice")},r.prototype.unstack=function(e,t){return Pe("unstack")},r.prototype.reverse=function(e,t){return Pe("reverse")},r.prototype.concat=function(e,t){return Pe("concat")},r.prototype.neg=function(e){return Pe("neg")},r.prototype.add=function(e,t){return Pe("add")},r.prototype.addN=function(e){return Pe("addN")},r.prototype.subtract=function(e,t){return Pe("subtract")},r.prototype.multiply=function(e,t){return Pe("multiply")},r.prototype.realDivide=function(e,t){return Pe("realDivide")},r.prototype.floorDiv=function(e,t){return Pe("floorDiv")},r.prototype.sum=function(e,t){return Pe("sum")},r.prototype.prod=function(e,t){return Pe("prod")},r.prototype.unsortedSegmentSum=function(e,t,n){return Pe("unsortedSegmentSum")},r.prototype.argMin=function(e,t){return Pe("argMin")},r.prototype.argMax=function(e,t){return Pe("argMax")},r.prototype.equal=function(e,t){return Pe("equal")},r.prototype.notEqual=function(e,t){return Pe("notEqual")},r.prototype.less=function(e,t){return Pe("less")},r.prototype.lessEqual=function(e,t){return Pe("lessEqual")},r.prototype.greater=function(e,t){return Pe("greater")},r.prototype.greaterEqual=function(e,t){return Pe("greaterEqual")},r.prototype.logicalNot=function(e){return Pe("logicalNot")},r.prototype.logicalAnd=function(e,t){return Pe("logicalAnd")},r.prototype.logicalOr=function(e,t){return Pe("logicalOr")},r.prototype.where=function(e){return Pe("where")},r.prototype.select=function(e,t,n){return Pe("select")},r.prototype.topk=function(e,t,n){return Pe("topk")},r.prototype.min=function(e,t){return Pe("min")},r.prototype.minimum=function(e,t){return Pe("minimum")},r.prototype.mod=function(e,t){return Pe("mod")},r.prototype.max=function(e,t){return Pe("max")},r.prototype.maximum=function(e,t){return Pe("maximum")},r.prototype.all=function(e,t){return Pe("all")},r.prototype.any=function(e,t){return Pe("any")},r.prototype.squaredDifference=function(e,t){return Pe("squaredDifference")},r.prototype.ceil=function(e){return Pe("ceil")},r.prototype.floor=function(e){return Pe("floor")},r.prototype.round=function(e){return Pe("round")},r.prototype.sign=function(e){return Pe("sign")},r.prototype.isNaN=function(e){return Pe("isNaN")},r.prototype.isInf=function(e){return Pe("isInf")},r.prototype.isFinite=function(e){return Pe("isFinite")},r.prototype.pow=function(e,t){return Pe("pow")},r.prototype.exp=function(e){return Pe("exp")},r.prototype.expm1=function(e){return Pe("expm1")},r.prototype.softmax=function(e,t){return Pe("softmax")},r.prototype.log=function(e){return Pe("log")},r.prototype.log1p=function(e){return Pe("log1p")},r.prototype.sqrt=function(e){return Pe("sqrt")},r.prototype.rsqrt=function(e){return Pe("rsqrt")},r.prototype.square=function(e){return Pe("square")},r.prototype.reciprocal=function(e){return Pe("reciprocal")},r.prototype.relu=function(e){return Pe("relu")},r.prototype.relu6=function(e){return Pe("relu6")},r.prototype.prelu=function(e,t){return Pe("prelu")},r.prototype.elu=function(e){return Pe("elu")},r.prototype.eluDer=function(e,t){return Pe("eluDer")},r.prototype.selu=function(e){return Pe("selu")},r.prototype.int=function(e){return Pe("int")},r.prototype.clip=function(e,t,n){return Pe("clip")},r.prototype.abs=function(e){return Pe("abs")},r.prototype.complexAbs=function(e){return Pe("complexAbs")},r.prototype.sigmoid=function(e){return Pe("sigmoid")},r.prototype.softplus=function(e){return Pe("softplus")},r.prototype.sin=function(e){return Pe("sin")},r.prototype.cos=function(e){return Pe("cos")},r.prototype.tan=function(e){return Pe("tan")},r.prototype.asin=function(e){return Pe("asin")},r.prototype.acos=function(e){return Pe("acos")},r.prototype.atan=function(e){return Pe("atan")},r.prototype.atan2=function(e,t){return Pe("atan2")},r.prototype.sinh=function(e){return Pe("sinh")},r.prototype.cosh=function(e){return Pe("cosh")},r.prototype.tanh=function(e){return Pe("tanh")},r.prototype.asinh=function(e){return Pe("asinh")},r.prototype.acosh=function(e){return Pe("acosh")},r.prototype.atanh=function(e){return Pe("atanh")},r.prototype.erf=function(e){return Pe("erf")},r.prototype.step=function(e,t){return Pe("step")},r.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Pe("fusedConv2d")},r.prototype.conv2d=function(e,t,n){return Pe("conv2d")},r.prototype.conv2dDerInput=function(e,t,n){return Pe("conv2dDerInput")},r.prototype.conv2dDerFilter=function(e,t,n){return Pe("conv2dDerFilter")},r.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,Pe("fusedDepthwiseConv2D")},r.prototype.depthwiseConv2D=function(e,t,n){return Pe("depthwiseConv2D")},r.prototype.depthwiseConv2DDerInput=function(e,t,n){return Pe("depthwiseConv2DDerInput")},r.prototype.depthwiseConv2DDerFilter=function(e,t,n){return Pe("depthwiseConv2DDerFilter")},r.prototype.conv3d=function(e,t,n){return Pe("conv3d")},r.prototype.conv3dDerInput=function(e,t,n){return Pe("conv3dDerInput")},r.prototype.conv3dDerFilter=function(e,t,n){return Pe("conv3dDerFilter")},r.prototype.maxPool=function(e,t){return Pe("maxPool")},r.prototype.maxPoolBackprop=function(e,t,n,a){return Pe("maxPoolBackprop")},r.prototype.avgPool=function(e,t){return Pe("avgPool")},r.prototype.avgPoolBackprop=function(e,t,n){return Pe("avgPoolBackprop")},r.prototype.avgPool3d=function(e,t){return Pe("avgPool3d")},r.prototype.avgPool3dBackprop=function(e,t,n){return Pe("avgPool3dBackprop")},r.prototype.maxPool3d=function(e,t){return Pe("maxPool3d")},r.prototype.maxPool3dBackprop=function(e,t,n,a){return Pe("maxPool3dBackprop")},r.prototype.reshape=function(e,t){return Pe("reshape")},r.prototype.cast=function(e,t){return Pe("cast")},r.prototype.tile=function(e,t){return Pe("tile")},r.prototype.pad=function(e,t,n){return Pe("pad")},r.prototype.transpose=function(e,t){return Pe("transpose")},r.prototype.gather=function(e,t,n){return Pe("gather")},r.prototype.gatherND=function(e,t){return Pe("gatherND")},r.prototype.scatterND=function(e,t,n){return Pe("scatterND")},r.prototype.batchToSpaceND=function(e,t,n){return Pe("batchToSpaceND")},r.prototype.spaceToBatchND=function(e,t,n){return Pe("spaceToBatchND")},r.prototype.resizeBilinear=function(e,t,n,a){return Pe("resizeBilinear")},r.prototype.resizeBilinearBackprop=function(e,t,n){return Pe("resizeBilinearBackprop")},r.prototype.resizeNearestNeighbor=function(e,t,n,a){return Pe("resizeNearestNeighbor")},r.prototype.resizeNearestNeighborBackprop=function(e,t,n){return Pe("resizeNearestNeighborBackprop")},r.prototype.batchNormalization=function(e,t,n,a,o,i){return Pe("batchNormalization")},r.prototype.localResponseNormalization4D=function(e,t,n,a,o){return Pe("localResponseNormalization4D")},r.prototype.LRNGrad=function(e,t,n,a,o,i,s){return Pe("LRNGrad")},r.prototype.multinomial=function(e,t,n,a){return Pe("multinomial")},r.prototype.oneHot=function(e,t,n,a){return Pe("oneHot")},r.prototype.cumsum=function(e,t,n,a){return Pe("cumsum")},r.prototype.nonMaxSuppression=function(e,t,n,a,o){return Pe("nonMaxSuppression")},r.prototype.fft=function(e){return Pe("fft")},r.prototype.ifft=function(e){return Pe("ifft")},r.prototype.complex=function(e,t){return Pe("complex")},r.prototype.real=function(e){return Pe("real")},r.prototype.imag=function(e){return Pe("imag")},r.prototype.cropAndResize=function(e,t,n,a,o,i){return Pe("cropAndResize")},r.prototype.depthToSpace=function(e,t,n){return Pe("depthToSpace")},r.prototype.split=function(e,t,n){return Pe("split")},r.prototype.sparseToDense=function(e,t,n,a){return Pe("sparseToDense")},r.prototype.diag=function(e){return Pe("diag")},r.prototype.fill=function(e,t,n){return Pe("fill")},r.prototype.onesLike=function(e){return Pe("onesLike")},r.prototype.zerosLike=function(e){return Pe("zerosLike")},r.prototype.linspace=function(e,t,n){return Pe("linspace")},r.prototype.dispose=function(){return Pe("dispose")},r})();function Pe(r){throw new Error("'"+r+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function kc(r,e){for(var t=r.length,n=[],a=0;a<t;a++){var o=t-1-a,i=r[o]||1;(e[e.length-1-a]||1)>1&&i===1&&n.unshift(o)}return n}function ja(r,e){for(var t=[],n=0;n<e.length;n++){var a=r[r.length-n-1],o=e.length-n-1,i=e[o];(a==null||a===1&&i>1)&&t.unshift(o)}return t}function Dr(r,e){for(var t=[],n=Math.max(r.length,e.length),a=0;a<n;a++){var o=r[r.length-a-1];o==null&&(o=1);var i=e[e.length-a-1];if(i==null&&(i=1),o===1)t.unshift(i);else if(i===1)t.unshift(o);else{if(o!==i)throw Error("Operands could not be broadcast together with shapes "+r+" and "+e+".");t.unshift(o)}}return t}function Am(r,e,t,n,a,o,i){i===void 0&&(i="channelsLast");var s,u=Hb(e),l=u[0],c=u[1];if(i==="channelsLast")s=[l,c,r[3],r[3]];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);s=[l,c,r[1],r[1]]}return $A(r,s,t,n,a,o,!1,i)}function Wv(r,e,t,n,a,o,i){i===void 0&&(i="NDHWC");var s,u,l=TL(e),c=l[0],A=l[1],d=l[2];if(i==="NDHWC")u="channelsLast",s=[c,A,d,r[4],r[4]];else{if(i!=="NCDHW")throw new Error("Unknown dataFormat "+i);u="channelsFirst",s=[c,A,d,r[1],r[1]]}return zv(r,s,t,n,a,!1,u,o)}function $A(r,e,t,n,a,o,i,s){i===void 0&&(i=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],A=u[2],d=u[3];if(s==="channelsLast")l=r[0],c=r[1],A=r[2],d=r[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);l=r[0],d=r[1],c=r[2],A=r[3]}var f,h=e[0],p=e[1],v=e[3],g=Hb(t),B=g[0],I=g[1],S=Hb(n),E=S[0],T=S[1],U=im(h,E),D=im(p,T),k=(function(z,ne,re,Y,J,G,Z,he){var R,H,ae;if(typeof z=="number"){R={top:z,bottom:z,left:z,right:z,type:z===0?"VALID":"NUMBER"};var le=(function(Re,De,ze,et,te){et==null&&(et=$L(Re,De,ze));var je=Re[0],Ct=Re[1],ft=Rv((je-De+2*et)/ze+1,te);ce(Aa(ft),(function(){return"The output # of rows ("+ft+") must be an integer. Change the stride and/or zero pad parameters"}));var He=Rv((Ct-De+2*et)/ze+1,te);return ce(Aa(He),(function(){return"The output # of columns ("+He+") must be an integer. Change the stride and/or zero pad parameters"})),[ft,He]})([ne,re],G,Y,z,he);H=le[0],ae=le[1]}else if(z==="same"){H=Math.ceil(ne/Y),ae=Math.ceil(re/J);var pe=Math.max(0,(H-1)*Y+G-ne),ve=Math.max(0,(ae-1)*J+Z-re),Se=Math.floor(pe/2),me=pe-Se,ke=Math.floor(ve/2);R={top:Se,bottom:me,left:ke,right:ve-ke,type:"SAME"}}else{if(z!=="valid")throw Error("Unknown padding parameter: "+z);R={top:0,bottom:0,left:0,right:0,type:"VALID"},H=Math.ceil((ne-G+1)/Y),ae=Math.ceil((re-Z+1)/J)}return{padInfo:R,outHeight:H,outWidth:ae}})(a,c,A,B,I,U,D,o),O=k.padInfo,N=k.outHeight,P=k.outWidth,j=i?v*d:v;return s==="channelsFirst"?f=[l,j,N,P]:s==="channelsLast"&&(f=[l,N,P,j]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:A,inChannels:d,outHeight:N,outWidth:P,outChannels:j,padInfo:O,strideHeight:B,strideWidth:I,filterHeight:h,filterWidth:p,effectiveFilterHeight:U,effectiveFilterWidth:D,dilationHeight:E,dilationWidth:T,inShape:r,outShape:f,filterShape:e}}function zv(r,e,t,n,a,o,i,s){o===void 0&&(o=!1),i===void 0&&(i="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],A=u[2],d=u[3],f=u[4];if(i==="channelsLast")l=r[0],c=r[1],A=r[2],d=r[3],f=r[4];else{if(i!=="channelsFirst")throw new Error("Unknown dataFormat "+i);l=r[0],f=r[1],c=r[2],A=r[3],d=r[4]}var h,p=e[0],v=e[1],g=e[2],B=e[4],I=TL(t),S=I[0],E=I[1],T=I[2],U=TL(n),D=U[0],k=U[1],O=U[2],N=im(p,D),P=im(v,k),j=im(g,O),z=(function(Z,he,R,H,ae,le,pe,ve,Se,me,ke){var Re,De,ze,et;if(typeof Z=="number"){Re={top:Z,bottom:Z,left:Z,right:Z,front:Z,back:Z,type:Z===0?"VALID":"NUMBER"};var te=(function(Mt,Jt,Qt,Ht,Vt,mt){Vt==null&&(Vt=$L(Mt,Jt,Ht));var Kt=Mt[0],ct=Mt[1],Mr=Mt[2],lr=Rv((Kt-Jt+2*Vt)/Ht+1,mt);ce(Aa(lr),(function(){return"The output # of depths ("+lr+") must be an integer. Change the stride and/or zero pad parameters"}));var Zt=Rv((ct-Jt+2*Vt)/Ht+1,mt);ce(Aa(Zt),(function(){return"The output # of rows ("+Zt+") must be an integer. Change the stride and/or zero pad parameters"}));var Xt=Rv((Mr-Jt+2*Vt)/Ht+1,mt);return ce(Aa(Xt),(function(){return"The output # of columns ("+Xt+") must be an integer. Change the stride and/or zero pad parameters"})),[lr,Zt,Xt,Qt]})([he,R,H,1],ve,1,ae,Z,ke);De=te[0],ze=te[1],et=te[2]}else if(Z==="same"){De=Math.ceil(he/ae),ze=Math.ceil(R/le),et=Math.ceil(H/pe);var je=(De-1)*ae+ve-he,Ct=(ze-1)*le+Se-R,ft=(et-1)*pe+me-H,He=Math.floor(je/2),vt=je-He,at=Math.floor(Ct/2),ht=Ct-at,dt=Math.floor(ft/2);Re={top:at,bottom:ht,left:dt,right:ft-dt,front:He,back:vt,type:"SAME"}}else{if(Z!=="valid")throw Error("Unknown padding parameter: "+Z);Re={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},De=Math.ceil((he-ve+1)/ae),ze=Math.ceil((R-Se+1)/le),et=Math.ceil((H-me+1)/pe)}return{padInfo:Re,outDepth:De,outHeight:ze,outWidth:et}})(a,c,A,d,S,E,T,N,P,j,s),ne=z.padInfo,re=z.outDepth,Y=z.outHeight,J=z.outWidth,G=o?B*f:B;return i==="channelsFirst"?h=[l,G,re,Y,J]:i==="channelsLast"&&(h=[l,re,Y,J,G]),{batchSize:l,dataFormat:i,inDepth:c,inHeight:A,inWidth:d,inChannels:f,outDepth:re,outHeight:Y,outWidth:J,outChannels:G,padInfo:ne,strideDepth:S,strideHeight:E,strideWidth:T,filterDepth:p,filterHeight:v,filterWidth:g,effectiveFilterDepth:N,effectiveFilterHeight:P,effectiveFilterWidth:j,dilationDepth:D,dilationHeight:k,dilationWidth:O,inShape:r,outShape:h,filterShape:e}}function $L(r,e,t,n){n===void 0&&(n=1);var a=im(e,n);return Math.floor((r[0]*(t-1)-t+a)/2)}function Hb(r){return typeof r=="number"?[r,r,r]:r.length===2?[r[0],r[1],1]:r}function TL(r){return typeof r=="number"?[r,r,r]:r}function im(r,e){return e<=1?r:r+(r-1)*(e-1)}function Rv(r,e){if(!e)return r;switch(e){case"round":return Math.round(r);case"ceil":return Math.ceil(r);case"floor":return Math.floor(r);default:throw new Error("Unknown roundingMode "+e)}}function Pd(r){var e=Hb(r),t=e[0],n=e[1],a=e[2];return t===1&&n===1&&a===1}function Ti(r,e){return Pd(r)||Pd(e)}function Jb(r){if(r==="NHWC")return"channelsLast";if(r==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+r)}function JL(r,e,t){if(e==="complex64"){if(r.dtype==="complex64")return r.clone();var n=Rn(r.shape),a=r.toFloat(),o=t.complex(a,n);return n.dispose(),a.dispose(),o}if(!NM(r.dtype,e))return Be.makeTensorFromDataId(r.dataId,r.shape,e);if(r.dtype==="complex64"){var i=t.real(r);return o=i.cast(e),i.dispose(),o}if(e==="int32")return t.int(r);if(e==="bool"){var s=lt(0,r.dtype);return o=t.notEqual(r,s),s.dispose(),o}throw new Error("Error in Cast: failed to cast "+r.dtype+" to "+e)}function Vb(r,e){return Be.makeTensorFromDataId(r.dataId,e,r.dtype)}function ZL(r,e,t){var n=(e-r)/(t-1),a=dm(t,"float32");a[0]=r;for(var o=1;o<a.length;o++)a[o]=a[o-1]+n;return Nn(a,"float32")}var D6e=Object.freeze({castTensor:JL,reshapeTensor:Vb,linspaceImpl:ZL,upcastType:bo,axesAreInnerMostDims:WL,combineLocations:pU,computeOutAndReduceShapes:Ro,expandShapeToKeepDim:Fi,assertAxesAreInnerMostDims:ns,getAxesPermutation:Ku,getUndoAxesPermutation:Gb,getInnerMostAxes:Xu,getBroadcastDims:kc,getReductionAxes:ja,assertAndGetBroadcastShape:Dr,assertParamsConsistent:mU,computeOutShape:Nd,computePool2DInfo:Am,computePool3DInfo:Wv,computeConv2DInfo:$A,computeConv3DInfo:zv,computeDefaultPad:$L,tupleValuesAreOne:Pd,eitherStridesOrDilationsAreOne:Ti,convertConv2DDataFormat:Jb,PARALLELIZE_THRESHOLD:KL,computeOptimalWindowSize:Lb});function _L(r,e){if(r.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+r.length+", imag: "+e.length+".");for(var t=new Float32Array(2*r.length),n=0;n<t.length;n+=2)t[n]=r[n/2],t[n+1]=e[n/2];return t}function jR(r,e){return{real:r[2*e],imag:r[2*e+1]}}function gne(r,e,t,n){r[2*n]=e,r[2*n+1]=t}function vne(r,e,t){var n=(t?2:-2)*Math.PI*(r/e);return{real:Math.cos(n),imag:Math.sin(n)}}function yne(r,e,t){var n=(function(o,i,s){return(function(u,l,c){for(var A=0,d=u.length,f=0,h=!1;A<d;){var p=c(l,u[f=A+(d-A>>>1)]);p>0?A=f+1:(d=f,h=!p)}return h?A:-A-1})(o,i,s||xne)})(r,e,t),a=n<0?-(n+1):n;r.splice(a,0,e)}function xne(r,e){return r>e?1:r<e?-1:0}function e5(r,e,t,n,a){return kU(r,e,t,n,a,0).selectedIndices}function t5(r,e,t,n,a,o){var i=kU(r,e,t,n,a,o,!0);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function kU(r,e,t,n,a,o,i,s){i===void 0&&(i=!1),s===void 0&&(s=!1);for(var u=Array.from(e).map((function(S,E){return{score:S,boxIndex:E,suppressBeginIndex:0}})).filter((function(S){return S.score>a})).sort(GR),l=o>0?-.5/o:0,c=[],A=[];c.length<t&&u.length>0;){var d=u.pop(),f=d.score,h=d.boxIndex,p=d.suppressBeginIndex;if(f<a)break;for(var v=!1,g=c.length-1;g>=p;--g){var B=wne(r,h,c[g]);if(B>=n){v=!0;break}if(d.score=d.score*bne(n,l,B),d.score<=a)break}d.suppressBeginIndex=c.length,v||(d.score===f?(c.push(h),A.push(d.score)):d.score>a&&yne(u,d,GR))}var I=c.length;return s&&(c.fill(0,I),A.fill(0,I)),{selectedIndices:Nn(c,"int32"),selectedScores:Nn(A,"float32"),numValidOutputs:lt(I,"int32")}}function wne(r,e,t){var n=r.subarray(4*e,4*e+4),a=r.subarray(4*t,4*t+4),o=Math.min(n[0],n[2]),i=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),u=Math.max(n[1],n[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),A=Math.max(a[0],a[2]),d=Math.max(a[1],a[3]),f=(s-o)*(u-i),h=(A-l)*(d-c);if(f<=0||h<=0)return 0;var p=Math.max(o,l),v=Math.max(i,c),g=Math.min(s,A),B=Math.min(u,d),I=Math.max(g-p,0)*Math.max(B-v,0);return I/(f+h-I)}function bne(r,e,t){var n=Math.exp(e*t*t);return t<=r?n:0}function GR(r,e){return r.score-e.score||r.score===e.score&&e.boxIndex-r.boxIndex}function NU(r,e,t){var n=new Array(r.rank).fill(0),a=r.shape.slice();return e.map((function(o){a[t]=o;var i=r.slice(n,a);return n[t]+=o,i}))}function PU(r,e){for(var t=new Array(r.rank),n=0;n<t.length;n++)t[n]=r.shape[n]*e[n];var a=xr(t,r.dtype);for(n=0;n<a.values.length;++n){for(var o=a.indexToLoc(n),i=new Array(r.rank),s=0;s<i.length;s++)i[s]=o[s]%r.shape[s];var u=r.locToIndex(i);a.values[n]=r.values[u]}return a.toTensor()}function DU(r,e,t,n,a){for(var o=e[e.length-1],i=[r.length/o,o],s=i[0],u=i[1],l=cm(t,s*n),c=cm("int32",s*n),A=0;A<s;A++){for(var d=A*u,f=r.subarray(d,d+u),h=[],p=0;p<f.length;p++)h.push({value:f[p],index:p});h.sort((function(S,E){return E.value-S.value}));var v=A*n,g=l.subarray(v,v+n),B=c.subarray(v,v+n);for(p=0;p<n;p++)g[p]=h[p].value,B[p]=h[p].index}var I=e.slice();return I[I.length-1]=n,[Co(l,I,t),Co(c,I,"int32")]}function r5(r,e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(n);var a=xr(r,"int32"),o=xr([t.length,r.length],"int32");for(n=0;n<t.length;n++){var i=a.indexToLoc(t[n]),s=n*r.length;o.values.set(i,s)}return o.toTensor()}var Cne=function(r,e){this.outputShape=[],this.outputShape=r,this.variableNames=e.map((function(a,o){return"T"+o}));var t=[];this.variableNames.forEach((function(a){t.push("float v"+a+" = get"+a+"AtOutCoords();")}));var n=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        float result = `+n+`;
        setOutput(result);
      }
    `},Bne=function(r,e){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.variableNames=e.map((function(a,o){return"T"+o}));var t=[];this.variableNames.forEach((function(a){t.push("vec4 v"+a+" = get"+a+"AtOutCoords();")}));var n=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        vec4 result = `+n+`;
        setOutput(result);
      }
    `},Sne=function(r,e,t){this.variableNames=["A"];var n=r.windowSize,a=r.batchSize,o=r.inSize,i=Math.ceil(o/n);t||this.variableNames.push("bestIndicesA"),this.outputShape=[a,i];var s=e==="max"?">":"<",u=t?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+n+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function RU(r,e){return["x","y","z","w","u","v"].slice(0,e).map((function(t){return r+"."+t}))}function as(r,e){return e===1?[r]:RU(r,e)}function ai(){var r,e,t,n,a,o,i,s,u,l;return Qe().getNumber("WEBGL_VERSION")===2?(r="#version 300 es",e="in",t="out",n="in",a="texture",o="outputColor",i="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(r="",e="attribute",t="varying",n="varying",a="texture2D",o="gl_FragColor",i="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:r,attribute:e,varyingVs:t,varyingFs:n,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function Ld(r,e,t){t===void 0&&(t="index");var n=zu(e);return n.map((function(a,o){return"int "+r[o]+" = "+t+" / "+a+"; "+(o===n.length-1?"int "+r[o+1]+" = "+t+" - "+r[o]+" * "+a:"index -= "+r[o]+" * "+a)+";"})).join("")}function n5(r){var e=zu(r).map((function(t){return t.toString()}));return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+e[0]+" + coords.y * "+e[1]+` + coords.z;
  }
`}var MU=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function Ine(r,e,t,n){var a=[];r.forEach((function(f){var h=Ot(f.shapeInfo.logicalShape);f.shapeInfo.isUniform?a.push("uniform float "+f.name+(h>1?"["+h+"]":"")+";"):(a.push("uniform sampler2D "+f.name+";"),a.push("uniform int offset"+f.name+";"))}));var o,i,s=a.join(`
`),u=r.map((function(f){return(function(h,p,v){v===void 0&&(v=!1);var g="";g+=v?UU(h):rm(h);var B=h.shapeInfo.logicalShape,I=p.logicalShape;return B.length<=I.length&&(g+=v?(function(S,E){var T,U=S.name,D=U.charAt(0).toUpperCase()+U.slice(1),k="get"+D+"AtOutCoords",O=S.shapeInfo.logicalShape.length,N=E.logicalShape.length,P=kc(S.shapeInfo.logicalShape,E.logicalShape),j=Mn(N),z=N-O,ne=["x","y","z","w","u","v"];T=O===0?"":N<2&&P.length>=1?"coords = 0;":P.map((function(R){return"coords."+ne[R+z]+" = 0;"})).join(`
`);var re="";re=N<2&&O>0?"coords":S.shapeInfo.logicalShape.map((function(R,H){return"coords."+ne[H+z]})).join(", ");var Y="return outputValue;",J=Ot(S.shapeInfo.logicalShape)===1,G=Ot(E.logicalShape)===1;if(O!==1||J||G){if(J&&!G)Y=N===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(P.length){var Z=O-2,he=O-1;P.indexOf(Z)>-1&&P.indexOf(he)>-1?Y="return vec4(outputValue.x);":P.indexOf(Z)>-1?Y="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":P.indexOf(he)>-1&&(Y="return vec4(outputValue.xx, outputValue.zz);")}}else Y=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+k+`() {
      `+j+` coords = getOutputCoords();
      `+T+`
      vec4 outputValue = get`+D+"("+re+`);
      `+Y+`
    }
  `})(h,p):(function(S,E){var T=S.name,U=T.charAt(0).toUpperCase()+T.slice(1),D="get"+U+"AtOutCoords",k=E.texShape,O=S.shapeInfo.texShape,N=S.shapeInfo.logicalShape.length,P=E.logicalShape.length;if(!S.shapeInfo.isUniform&&N===P&&S.shapeInfo.flatOffset==null&&za(O,k))return`
      float `+D+`() {
        return sampleTexture(`+T+`, resultUV);
      }
    `;var j,z=Mn(P),ne=kc(S.shapeInfo.logicalShape,E.logicalShape),re=P-N,Y=["x","y","z","w","u","v"];j=N===0?"":P<2&&ne.length>=1?"coords = 0;":ne.map((function(G){return"coords."+Y[G+re]+" = 0;"})).join(`
`);var J="";return J=P<2&&N>0?"coords":S.shapeInfo.logicalShape.map((function(G,Z){return"coords."+Y[Z+re]})).join(", "),`
    float `+D+`() {
      `+z+` coords = getOutputCoords();
      `+j+`
      return get`+U+"("+J+`);
    }
  `})(h,p)),g})(f,e,n)})).join(`
`),l=e.texShape,c=ai(),A=(function(f){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+f.texture2D+`(textureSampler, uv).r;
    }
  `})(c),d=(function(f){return f.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+f.varyingFs+` vec2 resultUV;
    `+f.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+f.defineSpecialNaN+`
    `+f.defineSpecialInf+`
    `+f.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+Ene+`
    `+Lne+`
    `+Fne+`
  `})(c);return e.isPacked?(o=(function(f,h){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(S,E){var T=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)];return T[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+T[1]+`.0);
      }
    `:T[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+T[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+T[0]+", "+T[1]+`));
      return 2 * (resTexRC.x * `+T[1]+` + resTexRC.y);
    }
  `})(0,h);case 2:return(function(S,E){var T=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)];if(za(S,E))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+T[0]+", "+T[1]+`));
      }
    `;var U=Math.ceil(S[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+T[0]+", "+T[1]+`));

      int index = resTexRC.x * `+T[1]+` + resTexRC.y;
      int r = 2 * (index / `+U+`);
      int c = imod(index, `+U+`) * 2;

      return ivec2(r, c);
    }
  `})(f,h);case 3:return p=f,v=h,g=[Math.ceil(v[0]/2),Math.ceil(v[1]/2)],B=Math.ceil(p[2]/2),I=B*Math.ceil(p[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;

      int b = index / `+I+`;
      index -= b * `+I+`;

      int r = 2 * (index / `+B+`);
      int c = imod(index, `+B+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return(function(S,E){for(var T=[Math.ceil(E[0]/2),Math.ceil(E[1]/2)],U=Math.ceil(S[S.length-1]/2),D=U*Math.ceil(S[S.length-2]/2),k=D,O="",N="b, r, c",P=2;P<S.length-1;P++)k*=S[S.length-P-1],O=`
      int b`+P+" = index / "+k+`;
      index -= b`+P+" * "+k+`;
    `+O,N="b"+P+", "+N;return`
    ivec`+S.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+T[0]+", "+T[1]+`));
      int index = resTexRC.x * `+T[1]+` + resTexRC.y;

      `+O+`

      int b = index / `+D+`;
      index -= b * `+D+`;

      int r = 2 * (index / `+U+`);
      int c = imod(index, `+U+`) * 2;

      return ivec`+S.length+"("+N+`);
    }
  `})(f,h)}var p,v,g,B,I})(e.logicalShape,l),i=(function(f){return`
    void setOutput(vec4 val) {
      `+f.output+` = val;
    }
  `})(c)):(o=(function(f,h){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(g,B){return B[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+B[1]+`.0);
      }
    `:B[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+B[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+B[0]+", "+B[1]+`));
      return resTexRC.x * `+B[1]+` + resTexRC.y;
    }
  `})(0,h);case 2:return(function(g,B){return za(g,B)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+B[0]+", "+B[1]+`));
      }
    `:g[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+B[0]+", "+B[1]+`));
        int index = resTexRC.x * `+B[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:g[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+B[0]+", "+B[1]+`));
        int index = resTexRC.x * `+B[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+B[0]+", "+B[1]+`));
      int index = resTexRC.x * `+B[1]+` + resTexRC.y;
      int r = index / `+g[1]+`;
      int c = index - r * `+g[1]+`;
      return ivec2(r, c);
    }
  `})(f,h);case 3:return p=h,v=Ld(["r","c","d"],f),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+p[0]+", "+p[1]+`));
      int index = resTexRC.x * `+p[1]+` + resTexRC.y;
      `+v+`
      return ivec3(r, c, d);
    }
  `;case 4:return(function(g,B){var I=Ld(["r","c","d","d2"],g);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+B[0]+", "+B[1]+`));
      int index = resTexRC.x * `+B[1]+` + resTexRC.y;
      `+I+`
      return ivec4(r, c, d, d2);
    }
  `})(f,h);case 5:return(function(g,B){var I=Ld(["r","c","d","d2","d3"],g);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+B[0]+`,
                             `+B[1]+`));

      int index = resTexRC.x * `+B[1]+` + resTexRC.y;

      `+I+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `})(f,h);case 6:return(function(g,B){var I=Ld(["r","c","d","d2","d3","d4"],g);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+B[0]+", "+B[1]+`));
      int index = resTexRC.x * `+B[1]+` + resTexRC.y;

      `+I+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `})(f,h);default:throw new Error(f.length+"-D output sampling is not yet supported")}var p,v})(e.logicalShape,l),i=(function(f){return`
    void setOutput(float val) {
      `+f.output+` = vec4(val, 0, 0, 0);
    }
  `})(c)),n&&(d+=Tne),[d,A,i,s,o,u,t].join(`
`)}function rm(r){var e=r.shapeInfo.logicalShape;switch(e.length){case 0:return(function(t){var n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"float "+a+"() {return "+n+";}";var o=t.shapeInfo.texShape,i=o[0],s=o[1];if(i===1&&s===1)return`
      float `+a+`() {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var u=t.shapeInfo.texShape,l=u[0],c=u[1],A=Bd(n);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+l+", "+c+", "+A+`);
      return sampleTexture(`+n+`, uv);
    }
  `})(r);case 1:return(function(t){var n=t.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+Zp(t)+`
      }
    `;var o=t.shapeInfo.texShape,i=o[0],s=o[1];if(s===1&&i===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var u=Bd(n);return s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+i+`.0);
        return sampleTexture(`+n+`, uv);
      }
    `:i===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+n+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+i+", "+s+", index + "+u+`);
      return sampleTexture(`+n+`, uv);
    }
  `})(r);case 2:return(function(t){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=t.shapeInfo.texShape;if(i!=null&&za(n,i)){var s=i[0],u=i[1];return`
    float `+o+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var l=jA(n),c=l.newShape,A=l.keptDims,d=c;if(d.length<n.length){var f=nm(t,d);return`
      `+rm(f)+`
      float `+o+`(int row, int col) {
        return `+o+"("+am(["row","col"],A)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+o+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+n[1]+`, 1)));
        `+Zp(t)+`
      }
    `;var h=i[0],p=i[1],v=Bd(a);return p===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+h+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:h===1?`
    float `+o+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+p+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+o+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+n[1]+" + col + "+v+`;
    vec2 uv = uvFromFlat(`+h+", "+p+`, index);
    return sampleTexture(`+a+`, uv);
  }
`})(r);case 3:return(function(t){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[1]*n[2],s=n[2],u=jA(n),l=u.newShape,c=u.keptDims,A=l;if(A.length<n.length){var d=nm(t,A);return`
        `+rm(d)+`
        float `+o+`(int row, int col, int depth) {
          return `+o+"("+am(["row","col","depth"],c)+`);
        }
      `}if(t.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+i+", "+s+`, 1)));
        `+Zp(t)+`
      }
    `;var f=t.shapeInfo.texShape,h=f[0],p=f[1],v=t.shapeInfo.flatOffset;if(p===i&&v==null)return`
        float `+o+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+p+".0, "+h+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(p===s&&v==null)return`
    float `+o+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+n[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+p+".0, "+h+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var g=Bd(a);return`
      float `+o+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+i+" + col * "+s+" + depth + "+g+`;
        vec2 uv = uvFromFlat(`+h+", "+p+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `})(r);case 4:return(function(t){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[3],s=n[2]*i,u=n[1]*s,l=jA(n),c=l.newShape,A=l.keptDims;if(c.length<n.length){var d=nm(t,c);return`
      `+rm(d)+`
      float `+o+`(int row, int col, int depth, int depth2) {
        return `+o+"("+am(["row","col","depth","depth2"],A)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+i+`, 1)));
        `+Zp(t)+`
      }
    `;var f=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,p=h[0],v=h[1];if(v===u&&f==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+v+".0, "+p+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(v===i&&f==null)return`
      float `+o+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+n[1]*n[2]+", "+n[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+v+".0, "+p+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var g=Bd(a);return`
    float `+o+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+i+` + depth2;
      vec2 uv = uvFromFlat(`+p+", "+v+", index + "+g+`);
      return sampleTexture(`+a+`, uv);
    }
  `})(r);case 5:return(function(t){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=n[4],s=n[3]*i,u=n[2]*s,l=n[1]*u,c=jA(n),A=c.newShape,d=c.keptDims;if(A.length<n.length){var f=nm(t,A);return`
      `+rm(f)+`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        return `+o+"("+am(["row","col","depth","depth2","depth3"],d)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+l+", "+u+", "+s+", "+i+`)) +
          depth3;
        `+Zp(t)+`
      }
    `;var h=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,v=p[0],g=p[1];if(g===l&&h==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+i+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(g===i&&h==null)return`
      float `+o+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]+`,
               `+n[2]*n[3]+", "+n[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var B=Bd(a);return`
    float `+o+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+u+" + depth * "+s+` +
          depth2 * `+i+" + depth3 + "+B+`;
      vec2 uv = uvFromFlat(`+v+", "+g+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(r);case 6:return(function(t){var n=t.shapeInfo.logicalShape,a=t.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=jA(n),s=i.newShape,u=i.keptDims;if(s.length<n.length){var l=nm(t,s);return`
      `+rm(l)+`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+o+"("+am(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var c=n[5],A=n[4]*c,d=n[3]*A,f=n[2]*d,h=n[1]*f;if(t.shapeInfo.isUniform)return`
      float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+h+", "+f+", "+d+", "+A+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+c+`, 1)));
        `+Zp(t)+`
      }
    `;var p=t.shapeInfo.flatOffset,v=t.shapeInfo.texShape,g=v[0],B=v[1];if(B===h&&p==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+f+", "+d+", "+A+", "+c+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+B+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(B===c&&p==null)return`
      float `+o+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]*n[4]+`,
               `+n[2]*n[3]*n[4]+`,
               `+n[3]*n[4]+`,
               `+n[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+B+".0, "+g+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var I=Bd(a);return`
    float `+o+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+h+" + col * "+f+" + depth * "+d+` +
          depth2 * `+A+" + depth3 * "+c+" + depth4 + "+I+`;
      vec2 uv = uvFromFlat(`+g+", "+B+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(r);default:throw new Error(e.length+"-D input sampling is not yet supported")}}function UU(r){var e,t,n;switch(r.shapeInfo.logicalShape.length){case 0:return e=r.name,t="get"+e.charAt(0).toUpperCase()+e.slice(1),n=ai(),`
    vec4 `+t+`() {
      return `+n.texture2D+"("+e+`, halfCR);
    }
  `;case 1:return(function(a){var o=a.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),s=a.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=ai();return`
    vec4 `+i+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+l.texture2D+"("+o+`, uv);
    }
  `})(r);case 2:return(function(a){var o=a.shapeInfo.logicalShape,i=a.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=a.shapeInfo.texShape,l=u[0],c=u[1],A=ai();if(u!=null&&za(o,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+l+`.0);

        return `+A.texture2D+"("+i+`, uv);
      }
    `;var d=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],f=Math.ceil(o[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+f+", "+d[0]+", "+d[1]+`, row, col);
      return `+A.texture2D+"("+i+`, uv);
    }
  `})(r);case 3:return(function(a){var o=a.shapeInfo.logicalShape,i=a.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),u=a.shapeInfo.texShape,l=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(o[0]===1){var c=o.slice(1),A=nm(a,c);return`
        `+UU(A)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+am(["b","row","col"],[1,2])+`);
        }
      `}var d=l[0],f=l[1],h=Math.ceil(o[2]/2),p=h*Math.ceil(o[1]/2),v=ai();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+d+", "+f+", "+p+", "+h+`, b, row, col);
      return `+v.texture2D+"("+i+`, uv);
    }
  `})(r);default:return(function(a){for(var o=a.shapeInfo.logicalShape,i=o.length,s=a.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),l=a.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],A=c[0],d=c[1],f=Math.ceil(o[i-1]/2),h=f*Math.ceil(o[i-2]/2),p="int b, int row, int col",v="b * "+h+" + (row / 2) * "+f+" + (col / 2)",g=2;g<i-1;g++)p="int b"+g+", "+p,h*=o[i-g-1],v="b"+g+" * "+h+" + "+v;var B=ai();return`
    vec4 `+u+"("+p+`) {
      int index = `+v+`;
      int texR = index / `+d+`;
      int texC = index - texR * `+d+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+d+", "+A+`);
      return `+B.texture2D+"("+s+`, uv);
    }
  `})(r)}}var Ene=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Lne=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Fne=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Tne=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Bd(r){return"offset"+r}function Zp(r){var e=r.name,t=Ot(r.shapeInfo.logicalShape);return t<2?"return "+e+";":`
    for (int i = 0; i < `+t+`; i++) {
      if (i == index) {
        return `+e+`[i];
      }
    }
  `}function Mn(r){if(r<=1)return"int";if(r===2)return"ivec2";if(r===3)return"ivec3";if(r===4)return"ivec4";if(r===5)return"ivec5";if(r===6)return"ivec6";throw Error("GPU for rank "+r+" is not yet supported")}function nm(r,e){var t=JSON.parse(JSON.stringify(r));return t.shapeInfo.logicalShape=e,t}function am(r,e){return e.map((function(t){return r[t]})).join(", ")}var _ne=function(r,e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ce(r.length>2,(function(){return"Packed arg"+(t.charAt(0).toUpperCase()+t.slice(1))+" supports only inputs with rank above 2."}));var a=r[r.length-1],o=Math.ceil(a/e);this.outputShape=r.slice(0,-1),o>1&&this.outputShape.push(o),n||this.variableNames.push("bestIndicesA");var i,s,u=this.outputShape,l=u.length,c=Mn(l),A=as("coords",l);if(o===1){var d=Mn(s=l+1);i=`
        `+d+" sourceLocR = "+d+"("+A.join()+`, 0);
        ++`+A[l-1]+`;
        `+d+" sourceLocG = "+d+"("+A.join()+`, 0);
        ++`+A[l-2]+`;
        `+d+" sourceLocA = "+d+"("+A.join()+`, 0);
        --`+A[l-1]+`;
        `+d+" sourceLocB = "+d+"("+A.join()+`, 0);
        --`+A[l-2]+";"}else s=l,i=`
        `+c+` sourceLocR = coords;
        ++`+A[l-1]+`;
        `+c+` sourceLocG = coords;
        ++`+A[l-2]+`;
        `+c+` sourceLocA = coords;
        --`+A[l-1]+`;
        `+c+` sourceLocB = coords;
        --`+A[l-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),h="."+f[s-1],p=f.map((function(D){return"int "+D})),v=as("sourceLocR",s-1).concat("inIdx.r"),g=as("sourceLocG",s-1).concat("inIdx.g"),B=as("sourceLocB",s-1).concat("inIdx.b"),I=as("sourceLocA",s-1).concat("inIdx.a"),S=t==="max"?"greaterThan":"lessThan",E=n?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+v.join()+`),
                             getBestIndicesAChannel(`+g.join()+`),
                             getBestIndicesAChannel(`+B.join()+`),
                             getBestIndicesAChannel(`+I.join()+")));",T=`vec4(
            getAChannel(`+v.join()+`),
            hasNextCol ? getAChannel(`+g.join()+`) : 0.,
            hasNextRow ? getAChannel(`+B.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+I.join()+") : 0.)",U=n?"":`
      float getBestIndicesAChannel(`+p.join()+`) {
        return getChannel(getBestIndicesA(`+f.join()+`),
                                          vec2(`+f.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+p.join()+`) {
        return getChannel(getA(`+f.join()+`),
                               vec2(`+f.slice(-2).join()+`));
      }
      `+U+`
      void main() {
        `+c+` coords = getOutputCoords();
        bool hasNextCol = `+A[l-1]+" < "+(u[l-1]-1)+`;
        bool hasNextRow = `+A[l-2]+" < "+(u[l-2]-1)+`;
        `+i+`
        ivec4 srcIdx = ivec4(sourceLocR`+h+", sourceLocG"+h+`,
          sourceLocB`+h+", sourceLocA"+h+") * "+e+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+T+`;

        for (int i = 0; i < `+e+`; i++) {
          inIdx = srcIdx;
          `+E+`
          vec4 candidate = `+T+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+S+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},kne=function(r){this.variableNames=["dy"],this.outputShape=r.inShape;var e=r.filterHeight,t=r.filterWidth,n=r.strideHeight,a=r.strideWidth,o=r.dilationHeight,i=r.dilationWidth,s=r.effectiveFilterHeight,u=r.effectiveFilterWidth,l=s-1-r.padInfo.top,c=u-1-r.padInfo.left,A=1/(e*t);this.userCode=`
      const ivec2 pads = ivec2(`+l+", "+c+`);
      const float avgMultiplier = float(`+A+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+o+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+i+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},Nne=function(r){this.variableNames=["dy"],this.outputShape=r.inShape;var e=r.filterDepth,t=r.filterHeight,n=r.filterWidth,a=r.strideDepth,o=r.strideHeight,i=r.strideWidth,s=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterDepth,A=r.effectiveFilterHeight,d=r.effectiveFilterWidth,f=c-1-r.padInfo.front,h=A-1-r.padInfo.top,p=d-1-r.padInfo.left,v=1/(e*t*n);this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);
      const float avgMultiplier = float(`+v+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+r.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+A+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+l+`) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},Pne=function(r,e,t,n,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],Dr(r,e),Dr(r,t);var i="0.0";n!=null&&(Dr(r,n),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";a!=null&&(Dr(r,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=r,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+i+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+o+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},Dne=function(r,e,t,n,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Dr(r,e),Dr(r,t);var i="vec4(0.0)";n!=null&&(Dr(r,n),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";a!=null&&(Dr(r,a),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=r,this.userCode=`
      void main() {
        vec4 offset = `+i+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+o+`));

        setOutput((x - mean) * inv + offset);
      }
    `},Rne="return areal * breal - aimag * bimag;",Mne="return areal * bimag + aimag * breal;",KR=function(r,e,t){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Dr(e,t),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+r+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},ZE="return a + b;",eL="return a - b;",XR="return a * b;",OU="return (a < 0.) ? b * a : a;",xa=function(r,e,t){this.variableNames=["A","B"],this.outputShape=Dr(e,t),this.userCode=`
      float binaryOperation(float a, float b) {
        `+r+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},QU=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,Tc=function(r,e,t,n){n===void 0&&(n=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Dr(e,t);var a=this.outputShape.length,o="";if(n)if(a===0||Ot(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          `+Mn(a)+` coords = getOutputCoords();
        `,a===1)o+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var i=as("coords",a);o+=`
            bool nextRowOutOfBounds =
              (`+i[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+i[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+r+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+o+`

        setOutput(result);
      }
    `},Une=(function(){function r(e){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return r.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(a,o){n.minLoc==null&&(n.minLoc=a.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(n.minLoc,e),a.gl.uniform1f(n.maxLoc,t)}},r})(),One=(function(){function r(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return r.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(a,o){n.minLoc==null&&(n.minLoc=a.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=a.getUniformLocationNoThrow(o,"maxVal")),a.gl.uniform1f(n.minLoc,e),a.gl.uniform1f(n.maxLoc,t)}},r})(),Qne=function(r){this.variableNames=["real","imag"],this.outputShape=r,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},Hne=function(r){this.outputShape=[],this.outputShape=Nd(r,1),this.variableNames=r.map((function(s,u){return"T"+u}));var e=new Array(r.length-1);e[0]=r[0][1];for(var t=1;t<e.length;t++)e[t]=e[t-1]+r[t][1];var n=["if (yC < "+e[0]+") setOutput(getT0(yR, yC));"];for(t=1;t<e.length;t++){var a=e[t-1];n.push("else if (yC < "+e[t]+") setOutput(getT"+t+"(yR, yC-"+a+"));")}var o=e.length,i=e[e.length-1];n.push("else setOutput(getT"+o+"(yR, yC-"+i+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+n.join(`
        `)+`
      }
    `},Vne=function(r,e){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Nd(r,e);var t=this.outputShape,n=t.length,a=Mn(n),o=as("coords",n),i=["x","y","z","w","u","v"].slice(0,n);this.variableNames=r.map((function(v,g){return"T"+g}));var s=new Array(r.length-1);s[0]=r[0][e];for(var u=1;u<s.length;u++)s[u]=s[u-1]+r[u][e];var l=i[e],c=i.slice(-2),A=i.join(),d="if ("+l+" < "+s[0]+`) {
        return getChannel(
            getT0(`+A+"), vec2("+c.join()+`));
        }`;for(u=1;u<s.length;u++){var f=s[u-1];d+=`
        if (`+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+pb(i,l,f)+`),
            vec2(`+pb(c,l,f)+`));
        }`}var h=s.length,p=s[s.length-1];d+=`
        return getChannel(
          getT`+h+"("+pb(i,l,p)+`),
          vec2(`+pb(c,l,p)+"));",this.userCode=`
      float getValue(`+i.map((function(v){return"int "+v}))+`) {
        `+d+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+o+`), 0., 0., 0.);

        `+o[n-1]+" = "+o[n-1]+` + 1;
        if (`+o[n-1]+" < "+t[n-1]+`) {
          result.g = getValue(`+o+`);
        }

        `+o[n-2]+" = "+o[n-2]+` + 1;
        if (`+o[n-2]+" < "+t[n-2]+`) {
          result.a = getValue(`+o+`);
        }

        `+o[n-1]+" = "+o[n-1]+` - 1;
        if (`+o[n-2]+" < "+t[n-2]+` &&
            `+o[n-1]+" < "+t[n-1]+`) {
          result.b = getValue(`+o+`);
        }
        setOutput(result);
      }
    `};function pb(r,e,t){var n=r.indexOf(e);return r.map((function(a,o){return o===n?a+" - "+t:a})).join()}var qne=function(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape;var e=r.strideHeight,t=r.strideWidth,n=r.padInfo.top,a=r.padInfo.left,o=r.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+r.batchSize+`; b++) {
          for (int yR = 0; yR < `+r.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+n+`;

            if (xR < 0 || xR >= `+r.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+r.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+a+`;

              if (xC < 0 || xC >= `+r.inWidth+`) {
                continue;
              }

              if (`+o+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},Wne=function(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;var e=r.filterHeight,t=r.filterWidth,n=r.strideHeight,a=r.strideWidth,o=r.dataFormat==="channelsLast",i=e-1-r.padInfo.top,s=t-1-r.padInfo.left,u=o?1:2,l=o?2:3,c=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+c+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+l+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            for (int d2 = 0; d2 < `+r.outChannels+`; d2++) {

              if (`+o+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},zne=function(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape;var e=r.strideDepth,t=r.strideHeight,n=r.strideWidth,a=r.padInfo.front,o=r.padInfo.top,i=r.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+r.batchSize+`; b++) {
          for (int yF = 0; yF < `+r.outDepth+`; yF++) {
            int xF = wF + yF * `+e+" - "+a+`;

            if (xF < 0 || xF >= `+r.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+r.outHeight+`; yR++) {
              int xR = wR + yR * `+t+" - "+o+`;

              if (xR < 0 || xR >= `+r.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+r.outWidth+`; yC++) {
                int xC = wC + yC * `+n+" - "+i+`;

                if (xC < 0 || xC >= `+r.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},jne=function(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;var e=r.filterDepth,t=r.filterHeight,n=r.filterWidth,a=r.strideDepth,o=r.strideHeight,i=r.strideWidth,s=e-1-r.padInfo.front,u=t-1-r.padInfo.top,l=n-1-r.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+l+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+e+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+r.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+e+` - 1 - wF;

          for (int wR = 0; wR < `+t+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+o+`.0;

            if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+t+` - 1 - wR;

            for (int wC = 0; wC < `+n+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+i+`.0;

              if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+n+` - 1 - wC;

              for (int d2 = 0; d2 < `+r.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},Gne=function(r){this.variableNames=["x","dy"],this.outputShape=r.filterShape;var e=r.strideHeight,t=r.strideWidth,n=r.padInfo.top,a=r.padInfo.left,o=r.outChannels/r.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+o+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+r.batchSize+`; b++) {
          for (int yR = 0; yR < `+r.outHeight+`; yR++) {
            int xR = wR + yR * `+e+" - "+n+`;

            if (xR < 0 || xR >= `+r.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+r.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+a+`;

              if (xC < 0 || xC >= `+r.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},Kne=function(r){this.variableNames=["dy","W"],this.outputShape=r.inShape;var e=r.filterHeight,t=r.filterWidth,n=r.strideHeight,a=r.strideWidth,o=e-1-r.padInfo.top,i=t-1-r.padInfo.left,s=r.outChannels/r.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+e+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+e+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},YR=function(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=r.outShape;var a=r.padInfo.top,o=r.padInfo.left,i=r.strideHeight,s=r.strideWidth,u=r.dilationHeight,l=r.dilationWidth,c=r.filterHeight,A=r.filterWidth,d=4*Math.floor(r.inChannels/4),f=r.inChannels%4,h=r.dataFormat==="channelsLast",p=h?1:2,v=h?2:3,g=h?3:1,B="",I="";t&&(B=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,I="result = activation(result);");var S=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+B+`

      const ivec2 strides = ivec2(`+i+", "+s+`);
      const ivec2 pads = ivec2(`+a+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+g+`];

        ivec2 xRCCorner =
            ivec2(coords[`+p+"], coords["+v+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+c+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+r.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+A+`; wC++) {
            int xC = xCCorner + wC * `+l+`;

            if (xC < 0 || xC >= `+r.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+d+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+h+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(f===1)+`) {

              if (`+h+`) {
                dotProd +=
                    getX(batch, xR, xC, `+d+`) *
                    getW(wR, wC, `+d+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+d+`, xR, xC) *
                    getW(wR, wC, `+d+`, d2);
              }

            } else if (`+(f===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2)
              );

              if (`+h+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(f===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2),
                getW(wR, wC, `+d+` + 2, d2)
              );

              if (`+h+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1),
                  getX(batch, xR, xC, `+d+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC),
                  getX(batch, `+d+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+S+`
        `+I+`
        setOutput(result);
      }
    `},Xne=function(r){this.variableNames=["x","W"],this.outputShape=r.outShape;var e=r.padInfo.front,t=r.padInfo.top,n=r.padInfo.left,a=r.strideDepth,o=r.strideHeight,i=r.strideWidth,s=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.filterDepth,A=r.filterHeight,d=r.filterWidth,f=4*Math.floor(r.inChannels/4),h=r.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+o+", "+i+`);
      const ivec3 pads = ivec3(`+e+", "+t+", "+n+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+c+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+r.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+A+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+r.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`; wC++) {
              int xC = xCCorner + wC * `+l+`;

              if (xC < 0 || xC >= `+r.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+f+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(h===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+f+`) *
                  getW(wF, wR, wC, `+f+`, d2);
              } else if (`+(h===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(h===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1),
                  getX(batch, xF, xR, xC, `+f+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2),
                  getW(wF, wR, wC, `+f+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},$R=function(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=r.outShape;var a=r.inHeight,o=r.inWidth,i=r.padInfo.top,s=r.padInfo.left,u=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,A=r.dilationWidth,d=r.filterHeight,f=r.filterWidth,h=r.outChannels/r.inChannels,p="",v="";t&&(p=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,v="result = activation(result);");var g=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+p+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+h+`;
        int q = d2 - d1 * `+h+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+A+`;

            if (xC < 0 || xC >= `+o+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+g+`
        `+v+`
        setOutput(result);
      }
    `},JR=function(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r.outShape;for(var a=r.inHeight,o=r.inWidth,i=r.padInfo.top,s=r.padInfo.left,u=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,A=r.dilationWidth,d=r.filterHeight,f=r.filterWidth,h=f,p="int xR; int xC; int xCOffset;",v=0;v<d;v++)for(var g=0;g<f;g++)p+=`
          vec4 xTexelR`+v+"C"+2*g+` = vec4(0.);
          vec4 wR`+v+"C"+g+` = vec4(0.);
          vec4 xR`+v+"C"+g+" = vec4(0.);";for(v=0;v<d;v++)for(var B=0;B<h;B++){if(p+=`
          xR = xRCorner + `+v*c+`;
          xC = xCCorner + `+(g=2*B)*A+`;
        `,l===1){if(g<f&&(p+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    xTexelR`+v+"C"+g+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+o+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+o+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+`.xy);
                } else {
                  xR`+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+o+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xR`+v+"C"+g+" = xTexelR"+v+"C"+g+`;
              `,g+1<f)){var I=s%2==0?ML(A):A;A%2==0&&s%2==1||A%2!=0&&s%2!=1?(p+=`
                  xCOffset = xC + `+s%2+" + "+I+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,A>1&&(p+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+o+`) {
                      xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+v+"C"+g+` = vec4(0.);
                    }
                  `),p+=`
                  xR`+v+"C"+(g+1)+` = vec4(
                    xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.xy);
                `):p+=`
                  xCOffset = xC + `+I+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+o+`) {
                    xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+`;
                `}}else g<f&&(p+=`
              if(xR >= 0 && xR < `+a+`) {
            `,s%2==1?(p+=`
                xCOffset = xC + 1 - `+l+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+o+`) {
                  xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+v+"C"+(g+2)+` = vec4(0.);
                }

                xR`+v+"C"+g+` = vec4(
                  xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.zw);
              `,g+1<f&&(p+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+l+`;
                  if(xCOffset >= 0 && xCOffset < `+o+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+`.xy, final.xy);
                `)):(p+=`
                if(xC >= 0 && xC < `+o+`) {
                  xTexelR`+v+"C"+g+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+g+` = vec4(0.);
                }

                xCOffset = xC + `+l+`;
                if(xCOffset >= 0 && xCOffset < `+o+`) {
                  xTexelR`+v+"C"+(g+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+(g+2)+` = vec4(0.);
                }

                xR`+v+"C"+g+` = vec4(
                  xTexelR`+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+`.xy);
              `,g+1<f&&(p+=`
                  xR`+v+"C"+(g+1)+` = vec4(
                    xTexelR`+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+`.zw);
                `)),p+="}");g<f&&(p+=`
            vec4 wTexelR`+v+"C"+g+" = getW("+v+", "+g+`, d1, q);
            wR`+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+`.xz);
          `,g+1<f&&(p+=`
              vec4 wTexelR`+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+`, d1, q);
              wR`+v+"C"+(g+1)+` =
                vec4(wTexelR`+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<d;v++)for(g=0;g<f;g++)p+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var S="",E="";t&&(S=n?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`vec4 activation(vec4 x) {
          `+t+`
        }`,E="result = activation(result);");var T=e?"result += getBiasAtOutCoords();":"";e&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+S+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+p+`

        vec4 result = dotProd;
        `+T+`
        `+E+`
        setOutput(result);
      }
    `},Yne=function(r,e,t,n,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=r[0],i=r[1],s=r[2],u=r[3],l=e[0],c=t[0],A=t[1];this.outputShape=[l,c,A,u];var d=n==="bilinear"?1:0,f=[i-1+".0",s-1+".0"],h=f[0],p=f[1],v=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=v[0],B=v[1],I=v[2],S=A>1?[""+(s-1)/(A-1),"(x2-x1) * width_ratio","x1*"+p+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+p],E=S[0],T=S[1],U=S[2];this.userCode=`
      const float height_ratio = float(`+g+`);
      const float width_ratio = float(`+E+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+o+`) {
          return;
        }

        float height_scale = `+B+`;
        float width_scale = `+T+`;

        float in_y = `+I+`;
        if( in_y < 0.0 || in_y > `+h+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+U+`;
        if( in_x < 0.0 || in_x > `+p+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+d+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},$ne=function(r,e,t){this.variableNames=["x"],this.outputShape=r;var n=r.length,a=r[r.length-1],o=t?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(t?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Mn(n)+` coords = getOutputCoords();
        int end = `+ZR(n,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+o+` end) {
            continue;
          }
          if (idx == end && `+e+`) {
            continue;
          }
          `+ZR(n,"coords")+` = idx;
          val += getX(`+(function(i,s){if(i===1)return""+s;if(i===2)return s+".x, "+s+".y";if(i===3)return s+".x, "+s+".y, "+s+".z";if(i===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+i+" is not yet supported")})(n,"coords")+`);
        }
        setOutput(val);
      }
    `};function ZR(r,e){if(r===1)return""+e;if(r===2)return e+".y";if(r===3)return e+".z";if(r===4)return e+".w";throw Error("Cumulative sum for rank "+r+" is not yet supported")}var Jne=function(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Qv.DENSE;var e=Dv(r),t=ai();this.outputShape=r,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Ld(["r","c","d"],r)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+t.output+` = result;
      }
    `},Zne=function(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Qv.DENSE;var e=Dv(r),t=ai();this.outputShape=r,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Ld(["r","c","d"],r)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+e[0]+", "+e[1]+`));
        int index = 4 * (resTexRC.x * `+e[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+t.output+` = result;
      }
    `},eae=(function(){function r(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+t+`;
      int offset_h = imod(h, `+t+`);
      int in_w = w / `+t+`;
      int offset_w = imod(w, `+t+`);
      int offset_d = (offset_h * `+t+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return r.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},r.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},r.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},r.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},r.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},r})(),tae=function(r){this.variableNames=["X"],this.outputShape=[r,r],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},rae=function(r){this.variableNames=["A"],this.outTexUsage=_s.DOWNLOAD;var e=ai();this.outputShape=r,this.userCode=`
      `+MU+`

      void main() {
        float x = getAAtOutCoords();
        `+e.output+` = encode_float(x);
      }
    `},nae=function(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=_s.DOWNLOAD;var e=ai();this.outputShape=r,this.userCode=`
      `+MU+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+e.output+` = encode_float(x);
      }
    `},aae=function(r,e,t){t===void 0&&(t=!1),this.variableNames=["A"];var n=ai(),a=e[0],o=e[1];this.outputShape=r;var i="result";t&&(i="floor(result * 255. + 0.5)"),this.userCode=`
      `+n5(r)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+o+`;
        int c = imod(flatIndex, `+o+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
        vec4 values = `+n.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+n.output+" = vec4("+i+`, 0., 0., 0.);
      }
    `},oae=function(r,e,t){t===void 0&&(t=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=ai(),a=e[0],o=e[1];this.outputShape=r;var i="",s="result";t&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;i+=`
          localCoords = coords;
          if(localCoords[2] + `+l+" < "+r[2]+`) {
            localCoords[2] += `+l+`;
            if(localCoords[1] + `+u+" < "+r[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+o+`;
              c = imod(flatIndex, `+o+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+o+".0, "+a+`.0);
              values = `+n.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+c+`] = values[0];
              } else if(offset == 1) {
                result[`+c+`] = values[1];
              } else if(offset == 2) {
                result[`+c+`] = values[2];
              } else {
                result[`+c+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+n5(r)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+i+`

        `+n.output+" = "+s+`;
      }
    `},iae="return real * expR - imag * expI;",sae="return real * expI + imag * expR;",eM=function(r,e,t){this.variableNames=["real","imag"];var n=e[1];this.outputShape=e;var a=t?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,o=t?n+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+r+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+n+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+n+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+o+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},uae=(function(){function r(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return r.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,a){t.valueLoc==null&&(t.valueLoc=n.getUniformLocationNoThrow(a,"value")),n.gl.uniform1f(t.valueLoc,e)}},r})(),lae=function(r,e,t){this.variableNames=["A","indices"];var n=r.slice();n[t]=e,this.outputShape=n,this.rank=n.length;var a=Mn(this.rank),o=(function(i,s){var u=i.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],A=0;A<i.length;A++)A===s?c.push("int(getIndices("+l[A]+"))"):c.push(""+l[A]);return c.join()})(r,t);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},cae=function(r,e,t){this.sliceDim=r,this.strides=e,this.variableNames=["x","indices"],this.outputShape=t;var n=Mn(e.length),a=Mn(t.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+n+" strides = "+n+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+o+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function HU(r,e){var t=ai();return jM(r,e,t.version+`
    precision highp float;
    `+t.attribute+` vec3 clipSpacePos;
    `+t.attribute+` vec2 uv;
    `+t.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function VU(r,e){return YM(r,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function qU(r,e){return $M(r,e,new Uint16Array([0,1,2,2,1,3]))}function Kv(r,e,t,n,a,o,i){ZM(t,n);var s=JM(r,e),u=r.TEXTURE_2D;return Et(r,e,(function(){return r.bindTexture(u,s)})),Et(r,e,(function(){return r.texParameteri(u,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE)})),Et(r,e,(function(){return r.texParameteri(u,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE)})),Et(r,e,(function(){return r.texParameteri(u,r.TEXTURE_MIN_FILTER,r.NEAREST)})),Et(r,e,(function(){return r.texParameteri(u,r.TEXTURE_MAG_FILTER,r.NEAREST)})),Et(r,e,(function(){return r.texImage2D(u,0,a,t,n,0,o,i,null)})),Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,null)})),s}function WU(r,e,t,n,a){var o=jb(t,n);return Kv(r,e,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,r.FLOAT)}function zU(r,e,t,n,a){var o=jb(t,n);return Kv(r,e,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function jU(r,e,t,n,a){var o=jb(t,n);return Kv(r,e,o[0],o[1],r.RGBA,r.RGBA,r.UNSIGNED_BYTE)}function GU(r,e,t,n,a){var o=Gv(t,n);return Kv(r,e,o[0],o[1],a.internalFormatPackedFloat,r.RGBA,r.FLOAT)}function KU(r,e,t,n,a){var o=Gv(t,n);return Kv(r,e,o[0],o[1],a.internalFormatPackedHalfFloat,r.RGBA,a.textureTypeHalfFloat)}function XU(r,e,t,n){return Et(r,e,(function(){return r.bindBuffer(r.ARRAY_BUFFER,n)})),BL(r,e,t,"clipSpacePos",n,3,20,0)&&BL(r,e,t,"uv",n,2,20,12)}function YU(r,e,t,n,a,o,i){var s,u,l;Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,t)})),o instanceof Uint8Array?(s=new Uint8Array(n*a*4),u=r.UNSIGNED_BYTE,l=r.RGBA):(s=new Float32Array(n*a*4),u=r.FLOAT,l=i.internalFormatPackedFloat),s.set(o),Et(r,e,(function(){return r.texImage2D(r.TEXTURE_2D,0,l,n,a,0,r.RGBA,u,s)})),Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,null)}))}function $U(r,e,t,n){Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,t)})),n.data instanceof Uint8Array?Et(r,e,(function(){return r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n.width,n.height,0,r.RGBA,r.UNSIGNED_BYTE,n.data)})):Et(r,e,(function(){return r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n)})),Et(r,e,(function(){return r.bindTexture(r.TEXTURE_2D,null)}))}function JU(r,e,t,n,a){var o=r.createBuffer();Et(r,e,(function(){return r.bindBuffer(r.PIXEL_PACK_BUFFER,o)}));var i=16*t*n;return Et(r,e,(function(){return r.bufferData(r.PIXEL_PACK_BUFFER,i,r.STREAM_READ)})),Et(r,e,(function(){return r.readPixels(0,0,n,t,r.RGBA,r.FLOAT,0)})),Et(r,e,(function(){return r.bindBuffer(r.PIXEL_PACK_BUFFER,null)})),o}function ZU(r,e,t){var n=r,a=new Float32Array(t);return n.bindBuffer(n.PIXEL_PACK_BUFFER,e),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,a),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),a}function eO(r,e,t,n,a){var o=jb(t,n),i=o[0],s=o[1],u=new Uint8Array(t*n*4);return Et(r,e,(function(){return r.readPixels(0,0,i,s,a.downloadTextureFormat,r.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function tO(r,e,t,n,a,o,i,s){var u=r,l=new Float32Array((function(c,A){var d=Gv(c,A);return d[0]*d[1]*4})(o,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function rO(r,e,t,n){var a=new Float32Array(t*n*4);return Et(r,e,(function(){return r.readPixels(0,0,n,t,r.RGBA,r.FLOAT,a)})),a}var Aae=Object.freeze({createVertexShader:HU,createVertexBuffer:VU,createIndexBuffer:qU,createFloat32MatrixTexture:WU,createFloat16MatrixTexture:zU,createUnsignedBytesMatrixTexture:jU,createPackedMatrixTexture:GU,createFloat16PackedMatrixTexture:KU,bindVertexProgramAttributeStreams:XU,uploadDenseMatrixToTexture:YU,uploadPixelDataToTexture:$U,createBufferFromOutputTexture:JU,downloadFloat32MatrixFromBuffer:ZU,downloadByteEncodedFloatMatrixFromOutputTexture:eO,downloadPackedMatrixFromBuffer:tO,downloadMatrixFromPackedOutputTexture:rO}),nO=(function(){function r(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=Qe().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,qM(t,e)):this.gl=Nl(t);var n="WEBGL_color_buffer_float";if(Qe().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=kv(this.gl,this.debug,"OES_texture_float"),ks(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=kv(this.gl,this.debug,"OES_texture_half_float");else if(Qe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),ks(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=kv(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Qe().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",ks(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!ks(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=VU(this.gl,this.debug),this.indexBuffer=qU(this.gl,this.debug),this.framebuffer=eU(this.gl,this.debug),this.textureConfig=qL(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(r.prototype,"debug",{get:function(){return Qe().getBool("DEBUG")},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){var e=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Et(t,this.debug,(function(){return t.finish()})),Et(t,this.debug,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Et(t,this.debug,(function(){return t.deleteFramebuffer(e.framebuffer)})),Et(t,this.debug,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Et(t,this.debug,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Et(t,this.debug,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}},r.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),WU(this.gl,this.debug,e,t,this.textureConfig)},r.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),zU(this.gl,this.debug,e,t,this.textureConfig)},r.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),jU(this.gl,this.debug,e,t,this.textureConfig)},r.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),$U(this.gl,this.debug,e,t)},r.prototype.uploadDenseMatrixToTexture=function(e,t,n,a){this.throwIfDisposed(),YU(this.gl,this.debug,e,t,n,a,this.textureConfig)},r.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),KU(this.gl,this.debug,e,t,this.textureConfig)},r.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),GU(this.gl,this.debug,e,t,this.textureConfig)},r.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(SL(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Et(this.gl,this.debug,(function(){return t.gl.deleteTexture(e)}))},r.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var a=this;return this.downloadMatrixDriver(e,(function(){return eO(a.gl,a.debug,t,n,a.textureConfig)}))},r.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,a,o,i){return tO(this.gl,e,0,0,0,o,i,this.textureConfig)},r.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return ZU(this.gl,e,t)},r.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var a=JU(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},r.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},r.prototype.createFence=function(e){var t,n,a=this;if(Qe().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,i=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var s=o.clientWaitSync(i,0,0);return s===o.ALREADY_SIGNALED||s===o.CONDITION_SATISFIED},t=i}else Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return a.isQueryAvailable(t,Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},r.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var a=this;return this.downloadMatrixDriver(e,(function(){return rO(a.gl,a.debug,t,n)}))},r.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=GM(t,this.debug,e),a=HU(t,this.debug),o=KM(t,this.debug);return Et(t,this.debug,(function(){return t.attachShader(o,a)})),Et(t,this.debug,(function(){return t.attachShader(o,n)})),XM(t,this.debug,o),this.debug&&Sb(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=XU(t,this.debug,this.program,this.vertexBuffer)),o},r.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&Et(this.gl,this.debug,(function(){return t.gl.deleteProgram(e)}))},r.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Sb(this.gl,this.debug,this.program),Et(this.gl,this.debug,(function(){return t.gl.useProgram(e)}))},r.prototype.getUniformLocation=function(e,t,n){return n===void 0&&(n=!0),this.throwIfDisposed(),n?rU(this.gl,this.debug,e,t):nU(this.gl,e,t)},r.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),Et(this.gl,this.debug,(function(){return n.gl.getAttribLocation(e,t)}))},r.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},r.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),aU(this.gl,this.debug,this.program,e,t,n)},r.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},r.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var a=Gv(t,n),o=a[0],i=a[1];this.setOutputMatrixTextureDriver(e,o,i)},r.prototype.setOutputMatrixWriteRegion=function(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)},r.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},r.prototype.debugValidate=function(){this.program!=null&&Sb(this.gl,this.debug,this.program),Nv(this.gl)},r.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Et(e,this.debug,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))},r.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),Et(this.gl,this.debug,(function(){return e.gl.finish()}))},r.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=kv(this.gl,this.debug,Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},r.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},r.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},r.prototype.beginQuery=function(){if(Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var a=this.getQueryTimerExtensionWebGL1(),o=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,o),o},r.prototype.endQuery=function(){if(Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},r.prototype.waitForQueryAndGetTime=function(e){return Pt(this,void 0,void 0,(function(){var t=this;return Dt(this,(function(n){switch(n.label){case 0:return[4,gL((function(){return t.disposed||t.isQueryAvailable(e,Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(e,Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},r.prototype.getQueryTime=function(e,t){if(t===0)return null;if(t===2){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(e,a.QUERY_RESULT_EXT)/1e6},r.prototype.isQueryAvailable=function(e,t){if(t===0)return!0;if(t===2){var n=this.gl,a=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),o&&!this.disjoint},r.prototype.pollFence=function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))},r.prototype.pollItems=function(){for(var e=(function(n){for(var a=0;a<n.length&&n[a]();++a);return a-1})(this.itemsToPoll.map((function(n){return n.isDoneFn}))),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},r.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||gL((function(){return n.pollItems(),n.itemsToPoll.length===0}))},r.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),Ib(this.gl,this.debug,e,this.framebuffer),this.debug&&Nv(this.gl)},r.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(Ib(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&Nv(this.gl)):SL(this.gl,this.debug,this.framebuffer)},r.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},r.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var a=this.gl;Ib(a,this.debug,e,this.framebuffer),this.debug&&Nv(a),this.outputTexture=e,Et(a,this.debug,(function(){return a.viewport(0,0,t,n)})),Et(a,this.debug,(function(){return a.scissor(0,0,t,n)}))},r.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,a){var o=this;this.throwIfDisposed(),Et(this.gl,this.debug,(function(){return o.gl.scissor(e,t,n,a)}))},r.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},r.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},r})();function tM(r,e){if(r.length!==e.length)throw Error("Binary was compiled with "+r.length+" inputs, but was executed with "+e.length+" inputs");r.forEach((function(t,n){var a=t.logicalShape,o=e[n],i=o.shape;if(!za(a,i))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+i+" must match");if(!t.isUniform||!o.isUniform){var s=t.texShape,u=o.isUniform?null:o.texData.texShape;if(!za(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}}))}var fae=function(r,e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;for(var n=t.filterWidth,a=t.inChannels,o=t.strideWidth,i=t.strideHeight,s=t.padInfo,u=t.outWidth,l=t.dilationWidth,c=t.dilationHeight,A=t.dataFormat,d=s.left,f=s.top,h=a*n,p=ai(),v=A==="channelsLast",g=v?0:1,B=v?1:2,I="",S=0;S<=1;S++)for(var E=0;E<=1;E++)I+=`
          blockIndex = rc.y + `+E+`;
          pos = rc.x + `+S+`;

          if(blockIndex < `+r[1]+" && pos < "+r[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+i+" - "+f+`;
            d0 = offsetY + `+c+" * (pos / "+h+`);

            if(d0 < `+e[g]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+o+". - "+d+`.);
              d1 = offsetX + `+l+" * (int(mod(float(pos), "+h+".) / "+a+`.));

              if(d1 < `+e[B]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+v+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*S+E)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*S+E)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+I+`

        `+p.output+` = result;
      }
    `},dae=function(r,e,t,n,a){this.variableNames=["x"],this.outputShape=[];var o,i=e,s=r[3]-1;this.outputShape=r;var u="float("+t+") + float("+n+") * sum";o=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+i+"; j <= "+i+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+o+`;
        setOutput(val);
      }
    `},hae=function(r,e,t,n,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=r,this.depth=r[3],this.depthRadius=e,this.bias=t,this.alpha=n,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+e+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+e+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+n+") * norm + float("+t+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+n+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},pae=function(r,e,t,n,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,i=e,s=r[3]-1;this.outputShape=r;var u="float("+t+") + float("+n+") * sum";o=a===.5?"inversesqrt("+u+")":a===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+i+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+i+"; j <= "+i+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+o+`;
        setOutput(result);
      }
    `},mae=function(r){this.variableNames=["dy","maxPos"],this.outputShape=r.inShape;var e=r.strideHeight,t=r.strideWidth,n=r.dilationHeight,a=r.effectiveFilterHeight,o=r.effectiveFilterWidth,i=a-1-r.padInfo.top,s=o-1-r.padInfo.left,u=a*o-1;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+n+`) {
          float dyR = float(dyRCorner + wR) / `+e+`.0;

          if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+o+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+t+`.0;

            if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+o+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},gae=function(r){this.variableNames=["dy","maxPos"],this.outputShape=r.inShape;var e=r.strideDepth,t=r.strideHeight,n=r.strideWidth,a=r.dilationDepth,o=r.dilationHeight,i=r.dilationWidth,s=r.effectiveFilterDepth,u=r.effectiveFilterHeight,l=r.effectiveFilterWidth,c=s-1-r.padInfo.front,A=u-1-r.padInfo.top,d=l-1-r.padInfo.left,f=s*u*l-1;this.userCode=`
      const ivec3 pads = ivec3(`+c+", "+A+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+e+`.0;

          if (dyD < 0.0 || dyD >= `+r.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+o+`) {
            float dyR = float(dyRCorner + wR) / `+t+`.0;

            if (dyR < 0.0 || dyR >= `+r.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+l+`;
                wC += `+i+`) {
              float dyC = float(dyCCorner + wC) / `+n+`.0;

              if (dyC < 0.0 || dyC >= `+r.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+f+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+l+` +
                  wR * `+l+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},tL=function(r,e,t,n,a,o,i){t===void 0&&(t=!1),n===void 0&&(n=!1),a===void 0&&(a=!1),o===void 0&&(o=null),i===void 0&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;var s=t?r[1]:r[2],u=Math.ceil(s/2),l=t?"i * 2, rc.y":"rc.y, i * 2",c=n?"rc.z, i * 2":"i * 2, rc.z",A=t?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",h="";o&&(f=i?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+o+`
        }`:`vec4 activation(vec4 x) {
          `+o+`
        }`,h="result = activation(result);");var p=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+f+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+l+`);
          vec4 b = getMatrixB(rc.x, `+c+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+A[0]+" * "+d[0]+`);
          result += (`+A[1]+" * "+d[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+p+`

        `+h+`

        setOutput(result);
      }
    `},vae=(function(){function r(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(t-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(t-1)+`));
      }
    `}return r.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,a){t.seedLoc==null&&(t.seedLoc=n.getUniformLocation(a,"seed")),n.gl.uniform1f(t.seedLoc,e)}},r})(),yae=function(r,e,t,n){this.variableNames=["indices"],this.outputShape=[r,e],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+n+"), float("+t+`),
                      float(index == coords.y)));
      }
    `},xae=function(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=r;var e=r.length;if(e===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var t=as("rc",e),n=Mn(e),a=(function(s,u,l){if(s===1)return"rc > "+u[0];for(var c="",A=s-2;A<s;A++)c+=l[A]+" >= "+u[A],A<s-1&&(c+="||");return c})(e,r,t),o=(function(s,u,l,c){if(s===1)return"";var A=c.slice(-2);return`
    int r = `+A[0]+`;
    int c = `+A[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+l+`;
  `})(e,r[r.length-1],r[r.length-2],t),i=(function(s,u){var l=s.length,c=(function(A,d){for(var f=[],h=0;h<=1;h++)for(var p=0;p<=1;p++){for(var v=(h===0?"r":"rp1")+", "+(p===0?"c":"cp1"),g=2;g<A;g++)v=d[d.length-1-g]+","+v;f.push(v)}return f})(l,u);return l===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+c[0]+`),
          cEdge ? 0. : getA(`+c[1]+`),
          rEdge ? 0. : getA(`+c[2]+`),
          rEdge || cEdge ? 0. : getA(`+c[3]+")"})(r,t);this.userCode=`
        void main() {
          `+n+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+o+`

            setOutput(vec4(`+i+`));
          }
        }
      `}},wae=function(r,e,t){this.variableNames=["x"],this.outputShape=e.map((function(u,l){return u[0]+r[l]+u[1]}));var n=r.length,a=Mn(n),o=e.map((function(u){return u[0]})).join(","),i=e.map((function(u,l){return u[0]+r[l]})).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);this.userCode=n!==1?`
      `+a+" start = "+a+"("+o+`);
      `+a+" end = "+a+"("+i+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+t+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+o+`;
        int end = `+i+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+t+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},bae=function(r,e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.map((function(v,g){return v[0]+r[g]+v[1]}));for(var n=r.length,a=Mn(n),o=e.map((function(v){return v[0]})).join(","),i=e.map((function(v,g){return v[0]+r[g]})).join(","),s=as("rc",n),u=as("source",n),l=s[n-1]+" < "+this.outputShape[n-1],c=n===1?"source":"vec2("+u.slice(-2).join()+")",A=[a+" rc = outputLoc;",s[n-1]+` += 1;
       if(`+l+`) {
      `,n===1?"":`}
       rc = outputLoc;
       `+s[n-2]+` += 1;
       if(`+s[n-2]+" < "+this.outputShape[n-2]+") {",n===1?"":"  "+s[n-1]+` += 1;
         if(`+l+") {"],d=n===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",h=0,p=n===1?2:4;h<p;h++)f+=`
        `+A[h]+`
        if (`+d+`) {
          result[`+h+"] = float("+t+`);
        } else {
          `+a+` source = rc - start;
          result[`+h+"] = getChannel(getX("+u.join()+"), "+c+`);
        }
      `;f+=n===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+o+`);
      const `+a+" end = "+a+"("+i+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+f+`
        setOutput(result);
      }
    `},rL=function(r,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var n=r.filterWidth,a=r.strideHeight,o=r.strideWidth,i=r.dilationHeight,s=r.dilationWidth,u=r.effectiveFilterHeight,l=r.effectiveFilterWidth,c=r.padInfo.top,A=r.padInfo.left;this.outputShape=r.outShape;var d=e==="avg",f="0.0";if(d||(f="-1.0 / 1e-20"),t)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+o+`);
        const ivec2 pads = ivec2(`+c+", "+A+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+r.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+l+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+r.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+l+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var h=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(h="avgValue / count");var p=4*Math.floor(n/4),v=n%4,g=`
      if (`+d+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+o+`);
      const ivec2 pads = ivec2(`+c+", "+A+`);
      const float initializationValue = `+f+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+r.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+f+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+i+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+r.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+g+`
          }

          int xC = xCCorner + `+p+`;
          if (`+(v===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(v===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+g+`
          } else if (`+(v===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+g+`
          }
        }
        setOutput(`+h+`);
      }
    `}},nL=function(r,e,t){if(this.variableNames=["x"],e==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var n=r.filterWidth,a=r.strideDepth,o=r.strideHeight,i=r.strideWidth,s=r.dilationDepth,u=r.dilationHeight,l=r.dilationWidth,c=r.effectiveFilterDepth,A=r.effectiveFilterHeight,d=r.effectiveFilterWidth,f=r.padInfo.front,h=r.padInfo.top,p=r.padInfo.left;this.outputShape=r.outShape;var v=e==="avg",g="0.0";if(v||(g="-1.0 / 1e-20"),t)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+o+", "+i+`);
        const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+c+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+r.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+A+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+r.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+d+`;
                  wC += `+l+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+r.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+A+" * "+d+` +
                      wR * `+d+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var B=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="avg"&&(B="avgValue / count");var I=4*Math.floor(n/4),S=n%4,E=`
      if (`+v+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+o+", "+i+`);
      const ivec3 pads = ivec3(`+f+", "+h+", "+p+`);
      const float initializationValue = `+g+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+r.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+g+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+r.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+A+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+r.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+I+`; wC += 4) {
              int xC = xCCorner + wC * `+l+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+l+`, ch)
              );

              `+E+`
            }

            int xC = xCCorner + `+I+`;
            if (`+(S===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+E+`
            } else if (`+(S===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                initializationValue,
                initializationValue
              );

              `+E+`
            } else if (`+(S===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                initializationValue
              );

              `+E+`
            }
          }
          setOutput(`+B+`);
        }
      }
    `}},Cae=function(r,e){this.variableNames=["x"];var t=r.windowSize,n=r.batchSize,a=r.inSize,o=Math.ceil(a/t);this.outputShape=[n,o];var i="0.0",s="";e==="prod"?i="1.0":e==="min"?(i="1.0 / 1e-20",s="min"):e==="max"&&(i="-1.0 / 1e-20",s="max");var u=e+"("+e+"("+e+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";e==="sum"?u="sumValue":e==="prod"?u="prodValue":e==="all"?u="allValue":e==="any"&&(u="anyValue");var l=4*Math.floor(t/4),c=t%4,A=`
      if (`+(e==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(e==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,d="vec4";e==="all"?(i="1.0",A=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):e==="any"&&(i="0.0",A=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");var f="";a%t>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+i+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+t+`;

        vec4 minMaxValue = vec4(`+i+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+A+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(c===1)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+A+`
        } else if (`+(c===2)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+A+`
        } else if (`+(c===3)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+A+`
        }
        setOutput(`+u+`);
      }
    `},Bae=function(r,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;for(var t="",n=0;n<4;n++){var a="thisRC = rc;";n%2==1&&(a+="thisRC.z += 1;"),n>1&&(a+="thisRC.y += 1;"),t+=`
        `+a+`
        `+(n>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+n+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(n>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Ld(["r","c","d"],e)+`
      return ivec3(r, c, d);
    }
  
      `+n5(r)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+r[1]+`;
        int cols = `+r[2]+`;

        `+t+`

        setOutput(result);
      }
    `},Sae=function(r,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var n=e.shape,a=n[1],o=n[2],i=r.shape,s=i[1],u=i[2],l=[t&&s>1?a-1:a,t&&u>1?o-1:o],c=[t&&s>1?s-1:s,t&&u>1?u-1:u],A=l[0]/c[0],d=l[1]/c[1],f=1/A,h=1/d,p=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+A+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(o-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},Iae=function(r,e,t,n){this.variableNames=["A"],this.outputShape=[];var a=r[0],o=r[1],i=r[2],s=r[3];this.outputShape=[a,e,t,s];var u=[n&&e>1?o-1:o,n&&t>1?i-1:i],l=[n&&e>1?e-1:e,n&&t>1?t-1:t];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},Eae=function(r,e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=r[0],o=r[1],i=r[2],s=r[3];this.outputShape=[a,e,t,s];var u=[n&&e>1?o-1:o,n&&t>1?i-1:i],l=[n&&e>1?e-1:e,n&&t>1?t-1:t];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`,
          `+u[1]/l[1]+`);
      const vec3 inputShapeRC = vec3(`+o+".0, "+i+`.0,
                                     `+i+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(t-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},Lae=function(r,e,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=e.shape;var n=e.shape,a=n[1],o=n[2],i=r.shape,s=i[1],u=i[2],l=[t&&s>1?a-1:a,t&&u>1?o-1:o],c=[t&&s>1?s-1:s,t&&u>1?u-1:u],A=l[0]/c[0],d=l[1]/c[1],f=1/A,h=1/d,p=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+A+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+p+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+l[0]+`) *
                (float(dyR) / float(`+c[0]+`));

            float sourceFracCol =
                float(`+l[1]+`) *
                  (float(dyC) / float(`+c[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+t+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+o+`) - 1),
                `+t+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},Fae=function(r,e,t,n){this.variableNames=["A"],this.outputShape=[];var a=r[0],o=r[1],i=r[2],s=r[3];this.outputShape=[a,e,t,s];var u=[n&&e>1?o-1:o,n&&t>1?i-1:i],l=[n&&e>1?e-1:e,n&&t>1?t-1:t],c=n?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+o+".0, "+i+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+c+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},Tae=function(r,e){this.variableNames=["x"];var t=r.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");if(this.outputShape=r,t!==1){var n=r.map((function(o,i){return(function(s){return e.indexOf(s)!==-1&&r[s]!==1?r[s]+" - coords["+s+"] - 1":"coords["+s+"]"})(i)})).join(","),a=Mn(t);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+n+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+r[0]+` - coord - 1));
        }
      `},_ae=function(r,e){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var t=r.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");this.outputShape=r;var n=as("rc",t),a=n[t-1]+" + 1 < "+this.outputShape[t-1],o=n[t-2]+" + 1 < "+this.outputShape[t-2],i=Mn(t);function s(u){var l=r.map((function(c,A){return(function(d,f){return e.indexOf(d)!==-1&&r[d]!==1?r[d]+" - "+f[d]+" - 1":""+f[d]})(A,u)}));return"getChannel(getX("+l.join(",")+"), vec2("+l.slice(-2).join(",")+"))"}this.userCode=t===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+r[0]+` - rc - 1),
            `+r[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+r[0]+` - (rc  + 1) - 1),
                `+r[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+i+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+(function(u){return s(u)})(n.slice())+`;
          if(`+a+`){
            result.g = `+(function(u){return u[t-1]="("+u[t-1]+" + 1)",s(u)})(n.slice())+`;
          }
          if(`+o+`) {
            result.b = `+(function(u){return u[t-2]="("+u[t-2]+" + 1)",s(u)})(n.slice())+`;
            if(`+a+`) {
              result.a = `+(function(u){return u[t-1]="("+u[t-1]+" + 1)",u[t-2]="("+u[t-2]+" + 1)",s(u)})(n.slice())+`;
            }
          }
          setOutput(result);
        }
    `},rM=function(r,e,t,n,a,o,i){i===void 0&&(i=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Mn(a.length),u=Mn(o.length),l="";t===1?l="i":t===2&&(l="i, j");var c="getIndices("+l+")",A="";n===1?A="i":n===2&&(A="i, coords[1]");var d="getUpdates("+A+")",f=e>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+a+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+r+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+e+`; j++) {
              int index = round(`+c+`);
              flattenedIndex += index * `+f+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+d+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},kae=function(r,e){this.variableNames=["x","segmentIds"];var t=r.windowSize,n=r.batchSize,a=r.inSize,o=r.numSegments,i=o*Math.ceil(a/t);this.outputShape=[n,i];var s=4*Math.floor(t/4),u=t%4,l=`
        sumValue += dot(values, segFilter);
    `,c="";a%t>0&&(c=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var A="";a%t>0&&(A=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+c+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+A+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+o+")) * float("+t+`));
        int currentSeg = int(mod(float(outIdx), float(`+o+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+l+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+l+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+l+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+l+`
        }
        setOutput(sumValue);
      }
    `},Nae=function(r,e,t){var n,a;if(this.variableNames=["c","a","b"],this.outputShape=e,t>4)throw Error("Where for rank "+t+" is not yet supported");if(t===1)a="resRC",n="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],u=0;u<e.length;u++)s.push(""+o[u]),u<r&&i.push(""+o[u]);n=i.join(),a=s.join()}var l=Mn(t);this.userCode=`
      void main() {
        `+l+` resRC = getOutputCoords();
        float cVal = getC(`+n+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},Pae=(function(){function r(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=Mn(this.rank),a="uniform int start["+this.rank+"];",o=(function(i){if(i===1)return"sourceLoc";if(i<=6)return aL.slice(0,i).map((function(s){return"sourceLoc."+s})).join(",");throw Error("Slicing for rank "+i+" is not yet supported")})(this.rank);t=`
        `+n+` sourceLoc;
        `+n+` coords = getOutputCoords();
        `+e.map((function(i,s){return"sourceLoc."+aL[s]+" = start["+s+"] + coords."+aL[s]+";"})).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+t+`
        setOutput(getSource(`+o+`));
      }
    `}return r.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,a){t.startLoc==null&&(t.startLoc=n.getUniformLocationNoThrow(a,"start"),t.startLoc==null)||n.gl.uniform1iv(t.startLoc,e)}},r})(),aL=["x","y","z","w","u","v"],Dae=(function(){function r(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=Mn(this.rank),n=as("coords",this.rank),a=as("sourceLoc",this.rank),o=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",i="getChannel(getSource("+a.join()+"), "+o+")",s=`
      result.x = `+i+`;
      if (++`+n[this.rank-1]+" < "+e[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+i+`;
        --`+a[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+n[this.rank-1]+`;
      if (++`+n[this.rank-2]+" < "+e[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+i+`;
        if (++`+n[this.rank-1]+" < "+e[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+i+`;
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            `+t+"("+e.map((function(c,A){return"start["+A+"]"})).join()+");":e.map((function(c,A){return a[A]+" = "+n[A]+" + start["+A+"];"})).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+t+` coords = getOutputCoords();
        `+t+` sourceLoc;
        `+l+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return r.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,a){t.startLoc==null&&(t.startLoc=n.getUniformLocationNoThrow(a,"start"),t.startLoc==null)||n.gl.uniform1iv(t.startLoc,e)}},r})(),Rae=function(r,e,t){this.variableNames=["x"],this.outputShape=t;var n=t.length,a=Mn(t.length),o=Mn(t.length),i="";if(n===1)i="coords * strides + begin";else{var s=0;i=t.map((function(u,l){return s++,t.length===1?"coords * strides["+l+"] + begin["+l+"]":"coords["+(s-1)+"] * strides["+l+"] + begin["+l+"]"})).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+r+`);
      `+a+" strides = "+a+"("+e+`);

      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+i+`));
      }
    `},Mae=(function(){function r(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return r.prototype.acquireTexture=function(e,t,n){var a,o=nM(t,n),i=aM(e,o,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[i].shift();return this.usedTextures[i].push(s),s}return this.numUsedTextures++,this.log(),o===Ts.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===Ts.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===Ts.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===Ts.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===Ts.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),a},r.prototype.releaseTexture=function(e,t,n,a){if(this.freeTextures!=null){var o=aM(t,nM(n,a),a);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[o],s=i.indexOf(e);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(s,1),this.log()}},r.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},r.prototype.getNumUsedTextures=function(){return this.numUsedTextures},r.prototype.getNumFreeTextures=function(){return this.numFreeTextures},r.prototype.dispose=function(){var e=this;if(this.freeTextures!=null){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(n){e.gpgpu.deleteMatrixTexture(n)}));for(var t in this.usedTextures)this.usedTextures[t].forEach((function(a){e.gpgpu.deleteMatrixTexture(a)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},r})();function nM(r,e){if(r===_s.UPLOAD)return Ts.PACKED_2X2_FLOAT32;if(r===_s.RENDER||r==null)return(function(t){return Qe().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ts.PACKED_2X2_FLOAT32:Ts.UNPACKED_FLOAT32:t?Ts.PACKED_2X2_FLOAT16:Ts.UNPACKED_FLOAT16})(e);if(r===_s.DOWNLOAD||r===_s.PIXELS)return Ts.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+r)}function aM(r,e,t){return r[0]+"_"+r[1]+"_"+e+"_"+t}var Uae=function(r,e){this.variableNames=["A"];for(var t=new Array(r.length),n=0;n<t.length;n++)t[n]=r[n]*e[n];this.outputShape=t,this.rank=t.length;var a=Mn(this.rank),o=(function(i){var s=i.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+i[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],l=[],c=0;c<i.length;c++)l.push("imod("+u[c]+", "+i[c]+")");return l.join()})(r);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+o+`));
      }
    `},Oae=function(r,e){this.variableNames=["A"];for(var t=new Array(r.length),n=0;n<t.length;n++)t[n]=r[e[n]];this.outputShape=t,this.rank=t.length;var a=Mn(this.rank),o=(function(i){var s=i.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],l=new Array(s),c=0;c<i.length;c++)l[i[c]]=u[c];return l.join()})(e);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+o+`));
    }
    `},Qae=function(r,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var t=new Array(r.length),n=0;n<t.length;n++)t[n]=r[e[n]];if(this.outputShape=t,this.rank=t.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=Mn(this.rank),o=RU("rc",this.rank),i=new Array(this.rank);for(n=0;n<e.length;n++)i[e[n]]=o[n];var s="vec2("+i.slice(-2).join()+")",u="++"+o[this.rank-1]+" < "+t[this.rank-1],l="getChannel(getA("+i.join()+"), "+s+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+l+`;
      if(`+u+`) {
        result[1] = `+l+`;
      }
      --`+o[this.rank-1]+`;
      if(++`+o[this.rank-2]+" < "+t[this.rank-2]+`) {
        result[2] = `+l+`;
        if(`+u+`) {
          result[3] = `+l+`;
        }
      }
      setOutput(result);
    }
    `},a5=1.7580993408473768,o5=1.0507009873554805,Lr=function(r,e){this.variableNames=["A"],this.outputShape=r,this.userCode=`
      float unaryOperation(float x) {
        `+e+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Yu="if (isnan(x)) return x;",Hae="return x;",oM="return abs(x);",aO=Yu+`
  return (x < 0.0) ? 0.0 : x;
`,oO=Yu+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,iO="return (x >= 0.0) ? x : (exp(x) - 1.0);",Vae=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+a5+`;
  float scale = `+o5+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,iM="return -x;",sM="return ceil(x);",uM="return floor(x);",lM="return exp(x);",cM="return exp(x) - 1.0;",qae=Yu+`
  return sin(x);
`,Wae=Yu+`
  return cos(x);
`,zae=Yu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,jae=Yu+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Gae=Yu+`
  return atan(x);
`,Kae=Yu+"return log(x + sqrt(x * x + 1.0));",Xae=Yu+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,Yae=Yu+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,mb="return x;",$ae="return x;",sO=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,uO=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,lO=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,_v=function(r,e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+e+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Jae=function(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=r;var e=r.length,t=as("rc",e),n=Mn(e),a=(function(s,u){if(s===1)return"rc";for(var l="",c=0;c<s;c++)l+=u[c],c<s-1&&(l+=",");return l})(e,t),o=t.slice(-2),i=e<=1?"rc":"vec2("+o.join(",")+")";this.userCode=`
      void main() {
        `+n+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+i+`));
      }
    `},gb={};function vb(r,e){if(e===void 0&&(e=!1),r==="linear")return e?$ae:Hae;if(r==="relu")return e?sO:aO;if(r==="elu")return e?lO:iO;if(r==="relu6")return e?uO:oO;if(r==="prelu")return e?QU:OU;throw new Error("Activation "+r+" has not been implemented for the WebGL backend.")}var Zae=600,cO=(function(r){function e(t){var n,a=r.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!Qe().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(t==null){var o=Nl(Qe().getNumber("WEBGL_VERSION"));a.binaryCache=((n=Qe().getNumber("WEBGL_VERSION"))in gb||(gb[n]={}),gb[n]),a.gpgpu=new nO(o),a.canvas=o.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=t,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=t.gl.canvas;return a.textureManager=new Mae(a.gpgpu),a.numMBBeforeWarning=Qe().global.screen==null?1024:Qe().global.screen.height*Qe().global.screen.width*window.devicePixelRatio*Zae/1024/1024,a.texData=new TU(a,Be),a}return Gu(e,r),e.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},e.prototype.write=function(t,n,a){if(Qe().getBool("DEBUG")&&this.checkNumericalProblems(t),a==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var o={};return this.texData.set(o,{shape:n,dtype:a,values:t,usage:_s.UPLOAD}),o},e.prototype.move=function(t,n,a,o){if(Qe().getBool("DEBUG")&&this.checkNumericalProblems(n),o==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:a,dtype:o,values:n,usage:_s.UPLOAD})},e.prototype.readSync=function(t){var n=this.texData.get(t),a=n.values,o=n.dtype,i=n.complexTensors,s=n.slice,u=n.shape,l=n.isPacked;if(s!=null){var c=void 0;c=l?new _v(u,mb):new Lr(u,mb);var A=this.runWebGLProgram(c,[{dataId:t,shape:u,dtype:o}],o),d=this.readSync(A.dataId);return this.disposeData(A.dataId),d}if(a!=null)return this.convertAndCacheOnCPU(t);if(o==="string")return a;var f,h,p=this.activeTimers!=null;return p&&(f=Wu()),o==="complex64"?h=_L(i.real.dataSync(),i.imag.dataSync()):h=this.getValuesFromTexture(t),p&&(this.downloadWaitMs+=Wu()-f),this.convertAndCacheOnCPU(t,h)},e.prototype.read=function(t){return Pt(this,void 0,void 0,(function(){var n,a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D;return Dt(this,(function(k){switch(k.label){case 0:if(this.pendingRead.has(t))return n=this.pendingRead.get(t),[2,new Promise((function(O){return n.push(O)}))];if(a=this.texData.get(t),o=a.values,i=a.shape,s=a.slice,u=a.dtype,l=a.complexTensors,c=a.isPacked,s!=null)return A=void 0,A=c?new _v(i,mb):new Lr(i,mb),d=this.runWebGLProgram(A,[{dataId:t,shape:i,dtype:u}],u),f=this.read(d.dataId),this.disposeData(d.dataId),[2,f];if(o!=null)return[2,this.convertAndCacheOnCPU(t)];if(!Qe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Qe().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,u!=="complex64"&&Qe().get("WEBGL_BUFFER_SUPPORTED")&&(p=this.decode(t),v=this.texData.get(p.dataId),h=(D=this.gpgpu).createBufferFromTexture.apply(D,[v.texture].concat(Dv(i)))),this.pendingRead.set(t,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:k.sent(),k.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return B=k.sent(),I=B[0],S=B[1],g=_L(I,S),[3,5];case 4:h==null?g=this.getValuesFromTexture(t):(E=Ot(i),g=this.gpgpu.downloadFloat32MatrixFromBuffer(h,E)),k.label=5;case 5:return p!=null&&this.disposeData(p.dataId),T=this.convertAndCacheOnCPU(t,g),U=this.pendingRead.get(t),this.pendingRead.delete(t),U.forEach((function(O){return O(T)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,T]}}))}))},e.prototype.checkNumericalProblems=function(t){if(t!=null)for(var n=0;n<t.length;n++){var a=t[n];if(!WM(a))throw Qe().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},e.prototype.getValuesFromTexture=function(t){var n,a=this.texData.get(t),o=a.shape,i=a.dtype,s=a.isPacked,u=Ot(o);if(Qe().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var l=this.decode(t),c=this.texData.get(l.dataId),A=(n=this.gpgpu).downloadMatrixFromPackedTexture.apply(n,[c.texture].concat(Dv(o))).subarray(0,u);return this.disposeData(l.dataId),A}var d=Qe().getBool("WEBGL_PACK")&&s===!0,f=d?Eb(o):o,h=d?new nae(f):new rae(f),p=this.runWebGLProgram(h,[{shape:f,dtype:i,dataId:t}],"float32"),v=this.texData.get(p.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,u);return this.disposeData(p.dataId),g},e.prototype.time=function(t){return Pt(this,void 0,void 0,(function(){var n,a,o,i,s,u,l;return Dt(this,(function(c){switch(c.label){case 0:return n=this.activeTimers,a=[],o=!1,this.programTimersStack==null?(this.programTimersStack=a,o=!0):this.activeTimers.push(a),this.activeTimers=a,t(),i=Nc(this.activeTimers.map((function(A){return A.query}))).filter((function(A){return A!=null})),s=Nc(this.activeTimers.map((function(A){return A.name}))).filter((function(A){return A!=null})),this.activeTimers=n,o&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(i)]:[3,2];case 1:return l=c.sent(),u.kernelMs=LM(l),u.getExtraProfileInfo=function(){return l.map((function(A,d){return{name:s[d],ms:A}})).map((function(A){return A.name+": "+A.ms})).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},c.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}}))}))},e.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},e.prototype.startTimer=function(){return Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Wu(),endMs:null}},e.prototype.endTimer=function(t){return Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Wu(),t)},e.prototype.getQueryTime=function(t){return Pt(this,void 0,void 0,(function(){var n;return Dt(this,(function(a){return Qe().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(n=t).endMs-n.startMs]}))}))},e.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var n=this.texData.get(t).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.texData.delete(t)}}},e.prototype.releaseGPUData=function(t){var n=this.texData.get(t),a=n.texture,o=n.dtype,i=n.texShape,s=n.usage,u=n.isPacked,l=n.slice,c=l&&l.origDataId||t,A=this.dataRefCount.get(c);A>1?this.dataRefCount.set(c,A-1):(this.dataRefCount.delete(c),a!=null&&(this.numBytesInGPU-=this.computeBytes(i,o),this.textureManager.releaseTexture(a,i,s,u)));var d=this.texData.get(t);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null},e.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},e.prototype.getDataInfo=function(t){return this.texData.get(t)},e.prototype.getCPUBackend=function(){return Qe().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=Be.findBackend("cpu")),this.cpuBackend):null},e.prototype.shouldExecuteOnCPU=function(t,n){var a=this;return n===void 0&&(n=128),this.getCPUBackend()!=null&&t.every((function(o){return a.texData.get(o.dataId).texture==null&&o.size<n}))},e.prototype.getGPGPUContext=function(){return this.gpgpu},e.prototype.complex=function(t,n){var a=this.makeOutput(t.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:Be.keep(t.clone()),imag:Be.keep(n.clone())},a},e.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,n,a){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,n,a);if(Ot(a)===0)return Co([],a,t.dtype);var o=this.texData.get(t.dataId).isPacked,i=XL(t.shape,n,a);if(o||!i){var s=Qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Dae(a):new Pae(a),u=s.getCustomSetupFunc(n);return this.compileAndRun(s,[t],null,u)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,n,a)},e.prototype.shallowSlice=function(t,n,a){var o=this.texData.get(t.dataId),i=this.makeOutput(a,t.dtype),s=this.texData.get(i.dataId);Object.assign(s,o),s.shape=a,s.dtype=t.dtype;var u=YL(n,t.strides);o.slice&&(u+=o.slice.flatOffset),s.slice={flatOffset:u,origDataId:o.slice&&o.slice.origDataId||t.dataId};var l=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,l+1),i},e.prototype.stridedSlice=function(t,n,a,o){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,n,a,o);var i=Yb(n,a,o);if(i.some((function(u){return u===0})))return Co([],i);var s=new Rae(n,o,i);return this.compileAndRun(s,[t])},e.prototype.reverse=function(t,n){var a=Qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _ae(t.shape,n):new Tae(t.shape,n);return this.compileAndRun(a,[t])},e.prototype.concat=function(t,n){if(t[0].dtype==="complex64"){var a=t.map((function(f){return su(f)})),o=t.map((function(f){return Tl(f)}));return Do(this.concat(a,n),this.concat(o,n))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,n);if(t.length===1)return t[0];if(t.length>Qe().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(t.length/2),s=this.concat(t.slice(0,i),n),u=this.concat(t.slice(i),n);return this.concat([s,u],n)}if(Qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var l=new Vne(t.map((function(f){return f.shape})),n);return this.compileAndRun(l,t)}var c=Nd(t.map((function(f){return f.shape})),n),A=t.map((function(f){return f.as2D(-1,Ot(f.shape.slice(n)))})),d=new Hne(A.map((function(f){return f.shape})));return this.compileAndRun(d,A).reshape(c)},e.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,iM,t.dtype);var n=new Lr(t.shape,iM);return this.compileAndRun(n,[t])},e.prototype.batchMatMul=function(t,n,a,o){var i=a?t.shape[2]:t.shape[1],s=o?n.shape[1]:n.shape[2],u=a?t.shape[1]:t.shape[2],l=t.shape[0];if((i===1||s===1)&&u>1e3){a&&(t=t.transpose([0,2,1])),o&&(n=n.transpose([0,2,1]));var c=s===1?t:t.as3D(l,u,1),A=s===1?2:1,d=s===1?n.as3D(l,1,u):n;return this.multiply(c,d).sum(A,!0)}var f=bo(t.dtype,n.dtype),h=new tL(t.shape,[l,i,s],a,o);return this.compileAndRun(h,[t,n],f)},e.prototype.fusedBatchMatMul=function(t){var n=t.a,a=t.b,o=t.transposeA,i=t.transposeB,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=o?n.shape[2]:n.shape[1],A=i?a.shape[1]:a.shape[2],d=n.shape[0],f=bo(n.dtype,a.dtype),h=s!=null,p=l!=null,v=u?vb(u,!0):null,g=new tL(n.shape,[d,c,A],o,i,h,v,p),B=[n,a];return s&&B.push(s),l&&B.push(l),this.compileAndRun(g,B,f)},e.prototype.multiply=function(t,n){if(t.dtype==="complex64"){var a=this.texData.get(t.dataId),o=this.texData.get(n.dataId),i=new KR(Rne,t.shape,n.shape),s=new KR(Mne,t.shape,n.shape),u=[this.makeComplexComponentTensorInfo(t,a.complexTensors.real),this.makeComplexComponentTensorInfo(t,a.complexTensors.imag),this.makeComplexComponentTensorInfo(n,o.complexTensors.real),this.makeComplexComponentTensorInfo(n,o.complexTensors.imag)],l=this.compileAndRun(i,u),c=this.compileAndRun(s,u),A=this.complex(l,c);return l.dispose(),c.dispose(),A}if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.multiply(t,n);if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,XR,t.dtype);var d=new xa(XR,t.shape,n.shape);return this.compileAndRun(d,[t,n],t.dtype)},e.prototype.batchNormalization=function(t,n,a,o,i,s){var u=[t,n,a],l=null;s!=null&&(l=s.shape,u.push(s));var c=null;if(i!=null&&(c=i.shape,u.push(i)),Qe().getBool("WEBGL_PACK_NORMALIZATION")){var A=new Dne(t.shape,n.shape,a.shape,l,c,o);return this.compileAndRun(A,u)}var d=new Pne(t.shape,n.shape,a.shape,l,c,o);return this.compileAndRun(d,u)},e.prototype.localResponseNormalization4D=function(t,n,a,o,i){var s=Qe().getBool("WEBGL_PACK_NORMALIZATION")?new pae(t.shape,n,a,o,i):new dae(t.shape,n,a,o,i);return this.compileAndRun(s,[t])},e.prototype.LRNGrad=function(t,n,a,o,i,s,u){var l=new hae(n.shape,o,i,s,u);return this.compileAndRun(l,[n,a,t])},e.prototype.tile=function(t,n){if(t.dtype==="string"){var a=this.readSync(t.dataId).map((function(i){return Uv(i)}));return PU(xr(t.shape,t.dtype,a),n)}var o=new Uae(t.shape,n);return this.compileAndRun(o,[t])},e.prototype.pad=function(t,n,a){var o=Qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new bae(t.shape,n,a):new wae(t.shape,n,a);return this.compileAndRun(o,[t])},e.prototype.transpose=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,n);var a=Qe().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Qae(t.shape,n):new Oae(t.shape,n);return this.compileAndRun(a,[t])},e.prototype.gather=function(t,n,a){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.gather(t,n,a);var o=new lae(t.shape,n.size,a);return this.compileAndRun(o,[t,n])},e.prototype.batchToSpaceND=function(t,n,a){ce(t.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var o=n.reduce((function(A,d){return A*d})),i=Ub(t.shape,n,o),s=Ob(i.length,n.length),u=Qb(t.shape,n,o),l=CU(a,n.length),c=BU(u,a,n.length);return t.reshape(i).transpose(s).reshape(u).slice(l,c)},e.prototype.spaceToBatchND=function(t,n,a){ce(t.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var o=n.reduce((function(d,f){return d*f})),i=[[0,0]];i.push.apply(i,a);for(var s=1+n.length;s<t.shape.length;++s)i.push([0,0]);var u=t.pad(i),l=Ub(u.shape,n,o,!1),c=Ob(l.length,n.length,!1),A=Qb(u.shape,n,o,!1);return u.reshape(l).transpose(c).reshape(A)},e.prototype.reduce=function(t,n,a){var o=t.shape[0],i=t.shape[1],s=Lb(i),u=new Cae({windowSize:s,inSize:i,batchSize:o},n),l=this.compileAndRun(u,[t],a);return l.shape[1]===1?l:this.reduce(l,n,a)},e.prototype.argReduce=function(t,n,a){a===void 0&&(a=null);var o=t.shape[0],i=t.shape[1];a!=null&&(o=a.shape[0],i=a.shape[1]);var s=Lb(i),u=new Sne({windowSize:s,inSize:i,batchSize:o},n,a==null),l=[t];a!=null&&l.push(a);var c=this.compileAndRun(u,l,"int32");return c.shape[1]===1?c:this.argReduce(t,n,c)},e.prototype.argReducePacked=function(t,n,a){a===void 0&&(a=null);var o=a!=null?a.shape:t.shape,i=Lb(o[o.length-1]),s=new _ne(o,i,n,a==null),u=a==null?[t]:[t,a],l=this.compileAndRun(s,u,"int32");return l.rank===t.rank?this.argReducePacked(t,n,l):l},e.prototype.sum=function(t,n){ns("sum",n,t.rank);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i),u=YE(t.dtype);return this.reduce(s,"sum",u).reshape(o)},e.prototype.prod=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,n);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i),u=YE(t.dtype);return this.reduce(s,"prod",u).reshape(o)},e.prototype.unsortedSegmentSum=function(t,n,a){var o=0,i=Ku([o],t.rank),s=t;i!=null&&(s=t.transpose(i),o=Xu(1,t.rank)[0]);var u=(function(f,h,p){for(var v=[],g=f.length,B=0;B<g;B++)B!==h?v.push(f[B]):v.push(p);return v})(s.shape,o,a),l=Ot([s.shape[o]]),c=s.as2D(-1,l),A=YE(t.dtype),d=this.segOpCompute(c,"unsortedSegmentSum",n,A,a).reshape(u);return i!=null&&(d=d.transpose(Gb(i))),d},e.prototype.segOpCompute=function(t,n,a,o,i){var s=t.shape[0],u=t.shape[1],l=(function(d,f){var h,p=!1;for(d<=KL?(h=d,p=!0):h=Pb(d,Math.floor(Math.sqrt(d)));!p;)h>f||h===d?p=!0:h=Pb(d,h+1);return h})(u,i),c=new kae({windowSize:l,inSize:u,batchSize:s,numSegments:i},n),A=this.compileAndRun(c,[t,a],o);return A.shape[1]===i?A:(a=Mb(0,i).tile([u/l]),this.segOpCompute(A,n,a,o,i))},e.prototype.argMinMaxReduce=function(t,n,a){var o=[n];if(ns("arg"+a.charAt(0).toUpperCase()+a.slice(1),o,t.rank),!Qe().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var i=Ro(t.shape,o),s=i[0],u=Ot(i[1]),l=t.as2D(-1,u);return this.argReduce(l,a).reshape(s)}return this.argReducePacked(t,a)},e.prototype.argMin=function(t,n){return this.argMinMaxReduce(t,n,"min")},e.prototype.argMax=function(t,n){return this.argMinMaxReduce(t,n,"max")},e.prototype.cumsum=function(t,n,a,o){if(n!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+n);var i=new $ne(t.shape,a,o);return this.compileAndRun(i,[t])},e.prototype.equal=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(equal(a, b));
`,"bool");var a=new xa("return float(a == b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.notEqual=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(notEqual(a, b));
`,"bool");var a=new xa("return float(a != b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.less=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.less(t,n);if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(lessThan(a, b));
`,"bool");var a=new xa("return float(a < b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.lessEqual=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new xa("return float(a <= b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.greater=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.greater(t,n);if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new xa("return float(a > b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.greaterEqual=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new xa("return float(a >= b);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.logicalNot=function(t){var n=new Lr(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(n,[t])},e.prototype.logicalAnd=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new xa("return float(a >= 1.0 && b >= 1.0);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.logicalOr=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new xa("return float(a >= 1.0 || b >= 1.0);",t.shape,n.shape);return this.compileAndRun(a,[t,n],"bool")},e.prototype.select=function(t,n,a){var o=new Nae(t.rank,n.shape,n.rank);return this.compileAndRun(o,[t,n,a],bo(n.dtype,a.dtype))},e.prototype.where=function(t){Db("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var n=t.dataSync();return r5(t.shape,n)},e.prototype.topk=function(t,n,a){return DU(t.dataSync(),t.shape,t.dtype,n)},e.prototype.min=function(t,n){ns("min",n,t.rank);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i);return this.reduce(s,"min",s.dtype).reshape(o)},e.prototype.minimum=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.minimum(t,n);var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new xa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.mod=function(t,n){var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new xa(`if (b == 0.0) return NAN;
  return mod(a, b);`,t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.max=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,n);ns("max",n,t.rank);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i);return this.reduce(s,"max",s.dtype).reshape(o)},e.prototype.maximum=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.maximum(t,n);var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new xa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.all=function(t,n){ns("all",n,t.rank);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i);return this.reduce(s,"all",s.dtype).reshape(o)},e.prototype.any=function(t,n){ns("any",n,t.rank);var a=Ro(t.shape,n),o=a[0],i=Ot(a[1]),s=t.as2D(-1,i);return this.reduce(s,"any",s.dtype).reshape(o)},e.prototype.realDivide=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new xa(`
if (a == b) {
  return 1.0;
};
return a / b;`,t.shape,n.shape);return this.compileAndRun(a,[t,n],"float32")},e.prototype.floorDiv=function(t,n){if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new xa(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,t.shape,n.shape);return this.compileAndRun(a,[t,n],"int32")},e.prototype.add=function(t,n){if(t.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(t,n,ZE);if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.add(t,n);var a=bo(t.dtype,n.dtype);if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,ZE,a);var o=new xa(ZE,t.shape,n.shape);return this.compileAndRun(o,[t,n],a)},e.prototype.packedUnaryOp=function(t,n,a){var o=new _v(t.shape,n);return this.compileAndRun(o,[t],a)},e.prototype.packedBinaryOp=function(t,n,a,o,i){i===void 0&&(i=!1);var s=new Tc(a,t.shape,n.shape,i);return this.compileAndRun(s,[t,n],o)},e.prototype.complexSeparableBinaryOp=function(t,n,a){var o=this,i=this.texData.get(t.dataId),s=this.texData.get(n.dataId),u=[[i.complexTensors.real,s.complexTensors.real],[i.complexTensors.imag,s.complexTensors.imag]].map((function(d){var f=d[0],h=d[1],p=o.makeComplexComponentTensorInfo(t,f),v=o.makeComplexComponentTensorInfo(n,h),g=new xa(a,t.shape,n.shape);return o.compileAndRun(g,[p,v],bo(f.dtype,h.dtype))})),l=u[0],c=u[1],A=this.complex(l,c);return l.dispose(),c.dispose(),A},e.prototype.makeComplexComponentTensorInfo=function(t,n){return{dataId:n.dataId,dtype:n.dtype,shape:t.shape}},e.prototype.addN=function(t){if(t.length===1)return t[0];if(t.length>Qe().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(t.length/2),a=this.addN(t.slice(0,n)),o=this.addN(t.slice(n));return this.addN([a,o])}var i=t.map((function(l){return l.dtype})).reduce((function(l,c){return bo(l,c)})),s=t.map((function(l){return l.shape})),u=Qe().getBool("WEBGL_PACK")?new Bne(t[0].shape,s):new Cne(t[0].shape,s);return this.compileAndRun(u,t,i)},e.prototype.subtract=function(t,n){if(t.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(t,n,eL);if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.subtract(t,n);var a=bo(t.dtype,n.dtype);if(Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,eL,t.dtype);var o=new xa(eL,t.shape,n.shape);return this.compileAndRun(o,[t,n],a)},e.prototype.pow=function(t,n){var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new xa(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,t.shape,n.shape),o=bo(t.dtype,n.dtype);return this.compileAndRun(a,[t,n],o)},e.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,sM,t.dtype);var n=new Lr(t.shape,sM);return this.compileAndRun(n,[t])},e.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,uM,t.dtype);var n=new Lr(t.shape,uM);return this.compileAndRun(n,[t])},e.prototype.sign=function(t){var n=new Lr(t.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(n,[t])},e.prototype.isNaN=function(t){var n=new Lr(t.shape,"return float(isnan(x));");return this.compileAndRun(n,[t],"bool")},e.prototype.isInf=function(t){var n=new Lr(t.shape,"return float(isinf(x));");return this.compileAndRun(n,[t],"bool")},e.prototype.isFinite=function(t){var n=new Lr(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(n,[t],"bool")},e.prototype.round=function(t){var n=new Lr(t.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(n,[t])},e.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,lM,t.dtype);var n=new Lr(t.shape,lM);return this.compileAndRun(n,[t])},e.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,cM,t.dtype);var n=new Lr(t.shape,cM);return this.compileAndRun(n,[t])},e.prototype.softmax=function(t,n){var a=Ga([n],t.shape),o=this.max(t,a),i=Fi(o.shape,a),s=this.subtract(t,o.reshape(i)),u=this.exp(s),l=this.sum(u,a).reshape(i);return this.realDivide(u,l)},e.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,t.dtype);var n=new Lr(t.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(n,[t])},e.prototype.log1p=function(t){var n=new Lr(t.shape,"return log(1.0 + x);");return this.compileAndRun(n,[t])},e.prototype.sqrt=function(t){var n=new Lr(t.shape,"return sqrt(x);");return this.compileAndRun(n,[t])},e.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var n=new Lr(t.shape,"return inversesqrt(x);");return this.compileAndRun(n,[t])},e.prototype.reciprocal=function(t){var n=new Lr(t.shape,"return 1.0 / x;");return this.compileAndRun(n,[t])},e.prototype.relu=function(t){var n;return n=Qe().getBool("WEBGL_PACK")?new _v(t.shape,sO):new Lr(t.shape,aO),this.compileAndRun(n,[t])},e.prototype.relu6=function(t){var n;return n=Qe().getBool("WEBGL_PACK")?new _v(t.shape,uO):new Lr(t.shape,oO),this.compileAndRun(n,[t])},e.prototype.prelu=function(t,n){var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(QU,t.shape,n.shape):new xa(OU,t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.elu=function(t){if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,lO,t.dtype);var n=new Lr(t.shape,iO);return this.compileAndRun(n,[t])},e.prototype.eluDer=function(t,n){var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,t.shape,n.shape):new xa("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.selu=function(t){var n=new Lr(t.shape,Vae);return this.compileAndRun(n,[t])},e.prototype.int=function(t){var n=new Lr(t.shape,"return float(int(x));");return this.compileAndRun(n,[t],"int32")},e.prototype.clip=function(t,n,a){var o,i=(o=Qe().getBool("WEBGL_PACK_CLIP")?new One(t.shape):new Une(t.shape)).getCustomSetupFunc(n,a);return this.compileAndRun(o,[t],null,i)},e.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(Qe().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,oM,t.dtype);var n=new Lr(t.shape,oM);return this.compileAndRun(n,[t])},e.prototype.complexAbs=function(t){var n=this.texData.get(t.dataId),a=new Qne(t.shape),o=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)];return this.compileAndRun(a,o)},e.prototype.sigmoid=function(t){var n=new Lr(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(n,[t])},e.prototype.softplus=function(t){var n=new Lr(t.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(n,[t])},e.prototype.sin=function(t){var n=new Lr(t.shape,qae);return this.compileAndRun(n,[t])},e.prototype.cos=function(t){var n=new Lr(t.shape,Wae);return this.compileAndRun(n,[t])},e.prototype.tan=function(t){var n=new Lr(t.shape,"return tan(x);");return this.compileAndRun(n,[t])},e.prototype.asin=function(t){var n=new Lr(t.shape,zae);return this.compileAndRun(n,[t])},e.prototype.acos=function(t){var n=new Lr(t.shape,jae);return this.compileAndRun(n,[t])},e.prototype.atan=function(t){var n=new Lr(t.shape,Gae);return this.compileAndRun(n,[t])},e.prototype.atan2=function(t,n){var a=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new xa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,t.shape,n.shape);return this.compileAndRun(a,[t,n])},e.prototype.sinh=function(t){var n=new Lr(t.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[t])},e.prototype.cosh=function(t){var n=new Lr(t.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[t])},e.prototype.tanh=function(t){var n=new Lr(t.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(n,[t])},e.prototype.asinh=function(t){var n=new Lr(t.shape,Kae);return this.compileAndRun(n,[t])},e.prototype.acosh=function(t){var n=new Lr(t.shape,Xae);return this.compileAndRun(n,[t])},e.prototype.atanh=function(t){var n=new Lr(t.shape,Yae);return this.compileAndRun(n,[t])},e.prototype.erf=function(t){var n=new Lr(t.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(n,[t])},e.prototype.step=function(t,n){var a=new Lr(t.shape,(function(o){return o===void 0&&(o=0),Yu+`
    return x > 0.0 ? 1.0 : float(`+o+`);
  `})(n));return this.compileAndRun(a,[t])},e.prototype.conv2dByMatMul=function(t,n,a,o,i,s){var u=t.shape,l=this.texData.get(t.dataId),c=a.inChannels,A=u[0]*u[1]*u[2],d=a.outChannels,f=a.dataFormat==="channelsLast",h=(A===1||d===1)&&c>1e3,p=u[2]%2!=0&&!!l.isPacked;if(h||!Qe().getBool("WEBGL_LAZILY_UNPACK")||!Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!p){var v=f?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],g=this.reshape(t,[1,v,a.inChannels]),B=this.reshape(n,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:g,b:B,transposeA:!1,transposeB:!1,bias:o,activation:i,preluActivationWeights:s}),a.outShape)}var I=f?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),S={dataId:t.dataId,shape:[1,I,a.inChannels],dtype:t.dtype},E=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,ce(Pv(l.shape,S.shape),(function(){return"packed reshape "+l.shape+" to "+S.shape+" isn't free"}));var T=this.reshape(n,[1,a.inChannels,a.outChannels]),U=this.fusedBatchMatMul({a:S,b:T,transposeA:!1,transposeB:!1,bias:o,activation:i,preluActivationWeights:s}),D=this.texData.get(U.dataId);return ce(D.isPacked,(function(){return"batchMatMul result is expected to be packed"})),l.shape=E,D.shape=a.outShape,Be.makeTensorFromDataId(U.dataId,a.outShape,U.dtype)},e.prototype.conv2dWithIm2Row=function(t,n,a,o,i,s){var u=a.filterWidth,l=a.filterHeight,c=a.inChannels,A=a.outWidth,d=a.outHeight,f=a.dataFormat==="channelsLast",h=u*l*c,p=d*A,v=[h,p],g=t.squeeze([0]),B=n.reshape([1,h,-1]),I=new fae(v,g.shape,a),S=this.compileAndRun(I,[g]).reshape([1,v[0],v[1]]),E=o!=null,T=s!=null,U=i?vb(i,!0):null,D=new tL(S.shape,[1,p,a.outChannels],!0,!1,E,U,T),k=[S,B];o&&k.push(o),T&&k.push(s);var O=this.compileAndRun(D,k);return f?O.reshape([1,d,A,a.outChannels]):O.reshape([1,a.outChannels,d,A])},e.prototype.fusedConv2d=function(t){var n=t.input,a=t.filter,o=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights;if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(n,a,o,i,s,u);if(Qe().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,a,o,i,s,u);var l=i!=null,c=u!=null,A=s?vb(s,!1):null,d=new YR(o,l,A,c),f=[n,a];return i&&f.push(i),u&&f.push(u),this.compileAndRun(d,f)},e.prototype.conv2d=function(t,n,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(t,n,a);if(Qe().getBool("WEBGL_CONV_IM2COL")&&t.shape[0]===1)return this.conv2dWithIm2Row(t,n,a);var o=new YR(a);return this.compileAndRun(o,[t,n])},e.prototype.conv2dDerInput=function(t,n,a){var o=new Wne(a);return this.compileAndRun(o,[t,n])},e.prototype.conv2dDerFilter=function(t,n,a){var o=new qne(a);return this.compileAndRun(o,[t,n])},e.prototype.fusedDepthwiseConv2D=function(t){var n,a=t.input,o=t.filter,i=t.convInfo,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=Qe().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1,A=u?vb(u,c):null,d=[a,o],f=s!=null,h=l!=null;return f&&d.push(s),h&&d.push(l),c?(n=new JR(i,f,A,h),this.compileAndRun(n,d)):(n=new $R(i,f,A,h),this.compileAndRun(n,d))},e.prototype.depthwiseConv2D=function(t,n,a){var o;return Qe().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(o=new JR(a),this.compileAndRun(o,[t,n])):(o=new $R(a),this.compileAndRun(o,[t,n]))},e.prototype.depthwiseConv2DDerInput=function(t,n,a){var o=new Kne(a);return this.compileAndRun(o,[t,n])},e.prototype.depthwiseConv2DDerFilter=function(t,n,a){var o=new Gne(a);return this.compileAndRun(o,[t,n])},e.prototype.conv3d=function(t,n,a){var o=new Xne(a);return this.compileAndRun(o,[t,n])},e.prototype.conv3dDerInput=function(t,n,a){var o=new jne(a);return this.compileAndRun(o,[t,n])},e.prototype.conv3dDerFilter=function(t,n,a){var o=new zne(a);return this.compileAndRun(o,[t,n])},e.prototype.maxPool=function(t,n){var a=new rL(n,"max",!1);return this.compileAndRun(a,[t])},e.prototype.avgPool=function(t,n){var a=new rL(n,"avg",!1);return this.compileAndRun(a,[t],"float32")},e.prototype.maxPoolBackprop=function(t,n,a,o){var i=new rL(o,"max",!0),s=this.compileAndRun(i,[n]),u=new mae(o),l=this.compileAndRun(u,[t,s],n.dtype);return s.dispose(),l},e.prototype.avgPoolBackprop=function(t,n,a){var o=new kne(a);return this.compileAndRun(o,[t],n.dtype)},e.prototype.cast=function(t,n){return JL(t,n,this)},e.prototype.unstack=function(t,n){for(var a=t.shape[n],o=new Array(t.rank-1),i=0,s=0;s<t.rank;s++)s!==n&&(o[i++]=t.shape[s]);var u=new Array(t.rank).fill(0),l=t.shape.slice();l[n]=1;var c=new Array(a);for(s=0;s<c.length;s++)u[n]=s,c[s]=this.slice(t,u,l).reshape(o);return c},e.prototype.avgPool3d=function(t,n){var a=new nL(n,"avg",!1);return this.compileAndRun(a,[t],"float32")},e.prototype.avgPool3dBackprop=function(t,n,a){var o=new Nne(a);return this.compileAndRun(o,[t],n.dtype)},e.prototype.maxPool3d=function(t,n){var a=new nL(n,"max",!1);return this.compileAndRun(a,[t],"float32")},e.prototype.maxPool3dBackprop=function(t,n,a,o){var i=new nL(o,"max",!0),s=this.compileAndRun(i,[n]),u=new gae(o),l=this.compileAndRun(u,[t,s],n.dtype);return s.dispose(),l},e.prototype.reshape=function(t,n){var a=this.texData.get(t.dataId);if(a.isPacked&&!Pv(t.shape,n)&&(a.texture===null||!Pv(a.shape,n))){var o=this.packedReshape(t,n);return Be.makeTensorFromDataId(o.dataId,o.shape,o.dtype)}return Vb(t,n)},e.prototype.resizeBilinear=function(t,n,a,o){var i=Qe().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Eae(t.shape,n,a,o):new Iae(t.shape,n,a,o);return this.compileAndRun(i,[t],"float32")},e.prototype.resizeBilinearBackprop=function(t,n,a){var o=new Sae(t,n,a);return this.compileAndRun(o,[t])},e.prototype.resizeNearestNeighbor=function(t,n,a,o){var i=new Fae(t.shape,n,a,o);return this.compileAndRun(i,[t])},e.prototype.resizeNearestNeighborBackprop=function(t,n,a){var o=new Lae(t,n,a);return this.compileAndRun(o,[t])},e.prototype.multinomial=function(t,n,a,o){var i=n?t:ki(t),s=i.shape[0],u=i.shape[1],l=new vae(s,u,a),c=l.getCustomSetupFunc(o);return this.compileAndRun(l,[i],"int32",c)},e.prototype.oneHot=function(t,n,a,o){var i=new yae(t.size,n,a,o);return this.compileAndRun(i,[t])},e.prototype.diag=function(t){var n=new tae(t.size);return this.compileAndRun(n,[t])},e.prototype.nonMaxSuppression=function(t,n,a,o,i){return Db("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),e5(t.dataSync(),n.dataSync(),a,o,i)},e.prototype.cropAndResize=function(t,n,a,o,i,s){var u=new Yne(t.shape,n.shape,o,i,s);return this.compileAndRun(u,[t,n,a],"float32")},e.prototype.depthToSpace=function(t,n,a){ce(n>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+n}));var o=t.shape[0],i=a==="NHWC"?t.shape[1]:t.shape[2],s=a==="NHWC"?t.shape[2]:t.shape[3],u=a==="NHWC"?t.shape[3]:t.shape[1],l=i*n,c=s*n,A=u/(n*n),d=new eae(a==="NHWC"?[o,l,c,A]:[o,A,l,c],n,a);return this.compileAndRun(d,[t])},e.prototype.split=function(t,n,a){return NU(t,n,a)},e.prototype.scatterND=function(t,n,a){var o=qv(0,t,a),i=o.sliceRank,s=o.numUpdates,u=o.sliceSize,l=o.strides,c=o.outputSize,A=[c/u,u],d=t.reshape([s,i]),f=n.reshape([s,u]);if(c===0)return Vb(Co([]),a);var h=lt(0),p=new rM(s,i,d.rank,f.rank,l,A);return this.compileAndRun(p,[f,d,h]).reshape(a)},e.prototype.sparseToDense=function(t,n,a,o){var i=qv(0,t,a),s=i.sliceRank,u=i.numUpdates,l=i.strides,c=i.outputSize,A=new rM(u,s,t.rank,n.rank,l,[c,1],!1);return this.compileAndRun(A,[n,t,o]).reshape(a)},e.prototype.fft=function(t){return this.fftImpl(t,!1)},e.prototype.ifft=function(t){return this.fftImpl(t,!0)},e.prototype.fftImpl=function(t,n){var a=this.texData.get(t.dataId),o=new eM(iae,t.shape,n),i=new eM(sae,t.shape,n),s=[this.makeComplexComponentTensorInfo(t,a.complexTensors.real),this.makeComplexComponentTensorInfo(t,a.complexTensors.imag)],u=this.compileAndRun(o,s),l=this.compileAndRun(i,s),c=this.complex(u,l).as2D(t.shape[0],t.shape[1]);return u.dispose(),l.dispose(),c},e.prototype.gatherND=function(t,n){var a=n.shape,o=a[a.length-1],i=GL(t,n),s=i[0],u=i[1],l=i[2],c=i[3],A=n.reshape([u,o]),d=t.reshape([t.size/l,l]),f=new cae(o,c,[u,l]);return this.compileAndRun(f,[d,A]).reshape(s)},e.prototype.fill=function(t,n,a){if((a=a||fm(n))==="string"){var o=Mv(a,Ot(t));return o.fill(n),Be.makeTensor(o,t,a,this)}var i=new uae(t,n),s=i.getCustomSetupFunc(n);return this.compileAndRun(i,[],a,s)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){return this.fill(t.shape,t.dtype==="string"?"":0,t.dtype)},e.prototype.linspace=function(t,n,a){return ZL(t,n,a)},e.prototype.makeTensorInfo=function(t,n){var a=this.write(null,t,n);return this.texData.get(a).usage=null,{dataId:a,shape:t,dtype:n}},e.prototype.makeOutput=function(t,n){var a=this.makeTensorInfo(t,n).dataId;return Be.makeTensorFromDataId(a,t,n,this)},e.prototype.unpackTensor=function(t){var n=new Jae(t.shape);return this.runWebGLProgram(n,[t],t.dtype)},e.prototype.packTensor=function(t){var n=new xae(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)},e.prototype.packedReshape=function(t,n){var a=[Hv(t.shape)].concat(Vv(t.shape)),o={dtype:t.dtype,shape:a,dataId:t.dataId},i=[Hv(n)].concat(Vv(n)),s=new Bae(i,a),u=this.runWebGLProgram(s,[o],t.dtype,null,!0);return{dataId:u.dataId,shape:n,dtype:u.dtype}},e.prototype.decode=function(t){var n,a=this.texData.get(t),o=a.isPacked,i=a.shape,s=a.dtype,u=Eb(i);return n=o?new Zne(u):new Jne(u),{dtype:s,shape:i,dataId:this.runWebGLProgram(n,[{shape:u,dtype:s,dataId:t}],s,null,!0).dataId}},e.prototype.runWebGLProgram=function(t,n,a,o,i){var s=this;i===void 0&&(i=!1);var u=this.makeTensorInfo(t.outputShape,a),l=this.texData.get(u.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===Qv.DENSE){var c=Dv(t.outputShape);l.texShape=c.map((function(I){return 2*I}))}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),Ot(u.shape)===0)return l.values=cm(u.dtype,0),u;var A=[],d=n.map((function(I){if(I.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var S=s.texData.get(I.dataId);if(S.texture==null){if(!t.packedInputs&&Ot(I.shape)<=Qe().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:I.shape,texData:null,isUniform:!0,uniformValues:S.values};t.packedInputs&&(S.isPacked=!0,S.shape=I.shape)}else if(!!S.isPacked!=!!t.packedInputs)I=S.isPacked?s.unpackTensor(I):s.packTensor(I),A.push(I),S=s.texData.get(I.dataId);else if(S.isPacked&&!Pv(S.shape,I.shape)){var E=I,T=I.shape;I.shape=S.shape,I=s.packedReshape(I,T),A.push(I),S=s.texData.get(I.dataId),E.shape=T}return s.uploadToGPU(I.dataId),{shape:I.shape,texData:S,isUniform:!1}}));this.uploadToGPU(u.dataId);var f,h={shape:u.shape,texData:l,isUniform:!1},p=(function(I,S,E){var T="";S.concat(E).forEach((function(k){var O=k.texData!=null&&k.texData.slice!=null&&k.texData.slice.flatOffset>0,N=k.isUniform?"uniform":k.texData.texShape;T+=k.shape+"_"+N+"_"+O}));var U=I.userCode,D=I.constructor.name;return D+="_"+T+"_"+U})(t,d,h),v=this.getAndSaveBinary(p,(function(){return(function(I,S,E,T){var U=S.userCode,D=E.map((function(J,G){var Z={logicalShape:J.shape,texShape:J.isUniform?null:J.texData.texShape,isUniform:J.isUniform,isPacked:!J.isUniform&&J.texData.isPacked,flatOffset:null};return J.texData!=null&&J.texData.slice!=null&&J.texData.slice.flatOffset>0&&(Z.flatOffset=J.texData.slice.flatOffset),{name:S.variableNames[G],shapeInfo:Z}})),k=D.map((function(J){return J.shapeInfo})),O={logicalShape:T.shape,texShape:T.texData.texShape,isUniform:!1,isPacked:T.texData.isPacked,flatOffset:null},N=Ine(D,O,U,S.packedInputs),P=I.createProgram(N),j=null,z=I.getUniformLocation(P,"NAN",!1);Qe().getNumber("WEBGL_VERSION")===1&&(j=I.getUniformLocation(P,"INFINITY",!1));for(var ne={},re=0;re<S.variableNames.length;re++){var Y=S.variableNames[re];ne[Y]=I.getUniformLocation(P,Y,!1),ne["offset"+Y]=I.getUniformLocation(P,"offset"+Y,!1)}return{program:S,source:N,webGLProgram:P,uniformLocations:ne,inShapeInfos:k,outShapeInfo:O,infLoc:j,nanLoc:z}})(s.gpgpu,t,d,h)})),g=this.activeTimers!=null;if(g&&(f=this.startTimer()),(function(I,S,E,T,U){tM(S.inShapeInfos,E),tM([S.outShapeInfo],[T]);var D=T.texData.texture,k=T.texData.texShape;T.texData.isPacked?I.setOutputPackedMatrixTexture(D,k[0],k[1]):I.setOutputMatrixTexture(D,k[0],k[1]),I.setProgram(S.webGLProgram),Qe().getNumber("WEBGL_VERSION")===1&&S.infLoc!==null&&I.gl.uniform1f(S.infLoc,1/0),S.nanLoc!==null&&I.gl.uniform1f(S.nanLoc,NaN),E.forEach((function(O,N){var P=S.program.variableNames[N],j=S.uniformLocations[P],z=S.uniformLocations["offset"+P];if(j!=null)if(O.isUniform)if(Ot(O.shape)<2)I.gl.uniform1f(j,O.uniformValues[0]);else{var ne=O.uniformValues;ne instanceof Float32Array||(ne=new Float32Array(ne)),I.gl.uniform1fv(j,ne)}else O.texData.slice!=null&&z!=null&&I.gl.uniform1i(z,O.texData.slice.flatOffset),I.setInputMatrixTexture(O.texData.texture,j,N)})),U?.(I,S.webGLProgram),I.executeProgram()})(this.gpgpu,v,d,h,o),A.forEach((function(I){return s.disposeData(I.dataId)})),g&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!Qe().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){var B=this.unpackTensor(u);return this.disposeData(u.dataId),B}return u},e.prototype.compileAndRun=function(t,n,a,o,i){i===void 0&&(i=!1),a=a||n[0].dtype;var s=this.runWebGLProgram(t,n,a,o,i);return Be.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},e.prototype.getAndSaveBinary=function(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]},e.prototype.getTextureManager=function(){return this.textureManager},e.prototype.dispose=function(){var t=this;this.disposed||(Qe().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(n){t.gpgpu.deleteProgram(t.binaryCache[n].webGLProgram),delete t.binaryCache[n]})),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},e.prototype.floatPrecision=function(){var t=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=$e((function(){if(!Qe().get("WEBGL_RENDER_FLOAT32_ENABLED")){var n=Qe().getBool("DEBUG");Qe().set("DEBUG",!1);var a=t.abs(lt(1e-8)).dataSync()[0];if(Qe().set("DEBUG",n),a>0)return 32}return 16}))),this.floatPrecisionValue},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.uploadToGPU=function(t){var n,a=this.texData.get(t),o=a.shape,i=a.dtype,s=a.values,u=a.texture,l=a.usage,c=a.isPacked;if(u==null){var A,d=this.activeTimers!=null;d&&(A=Wu());var f=a.texShape;if(f==null&&(f=sU(o,c),a.texShape=f),s!=null){var h=Eb(o),p=void 0,v=f[1],g=f[0],B=s instanceof Uint8Array;c?(v=(n=Gv(f[0],f[1]))[0],g=n[1],p=new oae(h,[g,v],B)):p=new aae(h,[g,v],B);var I=this.makeTensorInfo([g,v],i);this.texData.get(I.dataId).usage=B?_s.PIXELS:_s.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(I.dataId),v,g,s);var S=this.runWebGLProgram(p,[I],i,null,!0),E=this.texData.get(S.dataId);a.texture=E.texture,a.texShape=E.texShape,a.isPacked=E.isPacked,a.usage=E.usage,this.disposeData(I.dataId),this.texData.delete(S.dataId),a.values=null,d&&(this.uploadWaitMs+=Wu()-A)}else{var T=this.acquireTexture(f,l,i,c);a.texture=T}}},e.prototype.convertAndCacheOnCPU=function(t,n){var a=this.texData.get(t),o=a.dtype;return this.releaseGPUData(t),n!=null&&(a.values=(function(i,s){if(s==="float32"||s==="complex64")return i;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(i.length):new Uint8Array(i.length),l=0;l<u.length;++l)u[l]=Math.round(i[l]);return u}throw new Error("Unknown dtype "+s)})(n,o)),a.values},e.prototype.acquireTexture=function(t,n,a,o){if(this.numBytesInGPU+=this.computeBytes(t,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+i+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,n,o)},e.prototype.computeBytes=function(t,n){return t[0]*t[1]*UL(n)},e})(_U);VM()&&Be.registerBackend("webgl",(function(){return new cO}),2);var eoe=ye({square_:function(r){var e=oe(r,"x","square"),t=[e];return Be.runKernelFunc((function(n,a){return a([e]),n.square(e)}),{x:e},null,"Square",{},t,[])}}),jv="SquaredDifference",AO=ye({squaredDifference_:function(r,e){var t,n=oe(r,"a","squaredDifference"),a=oe(e,"b","squaredDifference");t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape);var o={a:n,b:a},i=[n,a];return Be.runKernelFunc((function(s,u){var l=s.squaredDifference(n,a);return u([n,a]),l}),o,(function(s,u){var l=u[0],c=u[1],A=lt(2);return{a:function(){return s.mul(l.sub(c).mul(A))},b:function(){return s.mul(c.sub(l).mul(A))}}}),jv,{},i,[])}}),toe=ye({abs_:function(r){var e=oe(r,"x","abs");return e.dtype==="complex64"?Be.runKernelFunc((function(t){return t.complexAbs(e)}),{$x:e}):Be.runKernelFunc((function(t,n){var a=t.abs(e);return n([e]),a}),{x:e},(function(t,n){var a=n[0];return{x:function(){return t.mul(a.toFloat().step(-1))}}}),"Abs")}}),roe=ye({acos_:function(r){var e=oe(r,"x","acos");return Be.runKernelFunc((function(t,n){var a=t.acos(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.divStrict(lt(1).sub(a.toFloat().square()).sqrt()).neg()}}}))}}),noe=ye({acosh_:function(r){var e=oe(r,"x","acosh");return Be.runKernelFunc((function(t,n){var a=t.acosh(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.divStrict(a.toFloat().square().sub(1).sqrt())}}}))}}),aoe=ye({asin_:function(r){var e=oe(r,"x","asin");return Be.runKernelFunc((function(t,n){var a=t.asin(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.divStrict(lt(1).sub(a.toFloat().square()).sqrt())}}}))}}),ooe=ye({asinh_:function(r){var e=oe(r,"x","asinh");return Be.runKernelFunc((function(t,n){var a=t.asinh(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.divStrict(lt(1).add(a.toFloat().square()).sqrt())}}}))}}),ioe=ye({atan_:function(r){var e=oe(r,"x","atan");return Be.runKernelFunc((function(t,n){var a=t.atan(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(a.toFloat().square().add(1))}}}))}}),soe=ye({atanh_:function(r){var e=oe(r,"x","atanh");return Be.runKernelFunc((function(t,n){var a=t.atanh(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(lt(1).sub(a.toFloat().square()))}}}))}}),uoe=ye({ceil_:function(r){var e=oe(r,"x","ceil");return Be.runKernelFunc((function(t){return t.ceil(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),Xv=ye({clipByValue_:function(r,e,t){var n=oe(r,"x","clipByValue");ce(e<=t,(function(){return"Error in clip: min ("+e+") must be less than or equal to max ("+t+")."}));var a=[n],o={min:e,max:t};return Be.runKernelFunc((function(i,s){var u=i.clip(n,e,t);return s([n]),u}),{x:n},(function(i,s){var u=s[0];return{x:function(){return i.where(u.greaterEqual(e).logicalAnd(u.lessEqual(t)),Jr(i))}}}),"ClipByValue",o,a)}}),loe=ye({cos_:function(r){var e=oe(r,"x","cos"),t=[e];return Be.runKernelFunc((function(n,a){var o=n.cos(e);return a([e]),o}),{x:e},(function(n,a){var o=a[0];return{x:function(){return o.toFloat().sin().neg().mul(n)}}}),"Cos",{},t)}}),coe=ye({cosh_:function(r){var e=oe(r,"x","cosh");return Be.runKernelFunc((function(t,n){var a=t.cosh(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return a.toFloat().sinh().mulStrict(t)}}}))}}),Aoe=ye({erf_:function(r){var e=oe(r,"x","erf");return ce(e.dtype==="int32"||e.dtype==="float32",(function(){return"Input dtype must be `int32` or `float32`."})),e.dtype==="int32"&&(e=e.toFloat()),Be.runKernelFunc((function(t,n){var a=t.erf(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Zb=ye({exp_:function(r){var e=oe(r,"x","exp");return Be.runKernelFunc((function(t,n){var a=t.exp(e);return n([a]),a}),{x:e},(function(t,n){return{x:function(){return t.mulStrict(n[0])}}}),"Exp",{},[],[!0])}}),foe=ye({expm1_:function(r){var e=oe(r,"x","expm1");return Be.runKernelFunc((function(t,n){var a=t.expm1(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.mul(a.exp())}}}))}}),doe=ye({floor_:function(r){var e=oe(r,"x","floor");return Be.runKernelFunc((function(t){return t.floor(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),hoe=ye({log_:function(r){var e=oe(r,"x","log"),t=[e];return Be.runKernelFunc((function(n,a){var o=n.log(e);return a([e]),o}),{x:e},(function(n,a){var o=a[0];return{x:function(){return n.div(o.toFloat())}}}),"Log",{},t)}}),poe=ye({log1p_:function(r){var e=oe(r,"x","log1p");return Be.runKernelFunc((function(t,n){var a=t.log1p(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(a.add(1))}}}))}}),moe=ye({logSigmoid_:function(r){var e=oe(r,"x","logSigmoid");return Be.runKernelFunc((function(t,n){var a=t.softplus(e.neg()).neg();return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.mul(a.neg().sigmoid())}}}))}}),Yv=ye({neg_:function(r){var e=oe(r,"x","neg"),t=[e];return Be.runKernelFunc((function(n){return n.neg(e)}),{x:e},(function(n){return{x:function(){return n.neg()}}}),"Neg",{},t)}}),goe=ye({reciprocal_:function(r){var e=oe(r,"x","reciprocal");return Be.runKernelFunc((function(t,n){var a=t.reciprocal(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(a.square().neg())}}}))}}),voe=ye({round_:function(r){var e=oe(r,"x","round");return Be.runKernelFunc((function(t){return t.round(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),fO=ye({rsqrt_:function(r){var e=oe(r,"x","rsqrt"),t=[e];return Be.runKernelFunc((function(n,a){var o=n.rsqrt(e);return a([e]),o}),{x:e},(function(n,a){var o=a[0];return{x:function(){return n.div(o.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},t)}}),i5=ye({sigmoid_:function(r){var e=oe(r,"x","sigmoid");return Be.runKernelFunc((function(t,n){var a=t.sigmoid(e);return n([a]),a}),{x:e},(function(t,n){var a=n[0];return{x:function(){return t.mul(a.mul(lt(1).sub(a)))}}}),"Sigmoid")}}),yoe=ye({sign_:function(r){var e=oe(r,"x","sign");return Be.runKernelFunc((function(t){return t.sign(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),xoe=ye({isNaN_:function(r){var e=oe(r,"x","isNaN");return Be.runKernelFunc((function(t){return t.isNaN(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),woe=ye({isInf_:function(r){var e=oe(r,"x","isInf");return Be.runKernelFunc((function(t){return t.isInf(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),boe=ye({isFinite_:function(r){var e=oe(r,"x","isFinite");return Be.runKernelFunc((function(t){return t.isFinite(e)}),{$x:e},(function(t){return{$x:function(){return Jr(t)}}}))}}),Coe=ye({sin_:function(r){var e=oe(r,"x","sin"),t=[e];return Be.runKernelFunc((function(n,a){var o=n.sin(e);return a([e]),o}),{x:e},(function(n,a){var o=a[0];return{x:function(){return o.toFloat().cos().mul(n)}}}),"Sin",{},t)}}),Boe=ye({sinh_:function(r){var e=oe(r,"x","sinh");return Be.runKernelFunc((function(t,n){var a=t.sinh(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return a.toFloat().cosh().mulStrict(t)}}}))}}),Soe=ye({softplus_:function(r){var e=oe(r,"x","softplus");return Be.runKernelFunc((function(t,n){var a=t.softplus(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.mul(a.sigmoid())}}}))}}),Ioe=ye({sqrt_:function(r){var e=oe(r,"x","sqrt");return Be.runKernelFunc((function(t,n){var a=t.sqrt(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(a.toFloat().sqrt().mul(2))}}}))}}),Eoe=ye({step_:function(r,e){e===void 0&&(e=0);var t=oe(r,"x","step");return Be.runKernelFunc((function(n){return n.step(t,e)}),{$x:t},(function(n){return{$x:function(){return Jr(n)}}}))}}),Loe=ye({tan_:function(r){var e=oe(r,"x","tan");return Be.runKernelFunc((function(t,n){var a=t.tan(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return t.div(a.cos().square())}}}))}}),Foe=ye({tanh_:function(r){var e=oe(r,"x","tanh");return Be.runKernelFunc((function(t,n){var a=t.tanh(e);return n([a]),a}),{x:e},(function(t,n){var a=n[0];return{x:function(){return lt(1).sub(a.square()).mulStrict(t)}}}),"Tanh",{},null,[!0])}});function dO(r,e,t,n,a,o){var i,s,u=oe(r,"x","batchNorm"),l=oe(e,"mean","batchNorm"),c=oe(t,"variance","batchNorm");return a!=null&&(i=oe(a,"scale","batchNorm")),n!=null&&(s=oe(n,"offset","batchNorm")),ce(u.rank===2,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),ce(l.rank===2||l.rank===1,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."})),ce(c.rank===2||c.rank===1,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."})),i!=null&&ce(i.rank===2||i.rank===1,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."})),s!=null&&ce(s.rank===2||s.rank===1,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."})),$v(u,l,c,s,i,o)}function hO(r,e,t,n,a,o){var i,s,u=oe(r,"x","batchNorm"),l=oe(e,"mean","batchNorm"),c=oe(t,"variance","batchNorm");return a!=null&&(i=oe(a,"scale","batchNorm")),n!=null&&(s=oe(n,"offset","batchNorm")),ce(u.rank===3,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."})),ce(l.rank===3||l.rank===1,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."})),ce(c.rank===3||c.rank===1,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."})),i!=null&&ce(i.rank===3||i.rank===1,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."})),s!=null&&ce(s.rank===3||s.rank===1,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."})),$v(u,l,c,s,i,o)}function pO(r,e,t,n,a,o){var i,s,u=oe(r,"x","batchNorm"),l=oe(e,"mean","batchNorm"),c=oe(t,"variance","batchNorm");return a!=null&&(i=oe(a,"scale","batchNorm")),n!=null&&(s=oe(n,"offset","batchNorm")),ce(u.rank===4,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."})),ce(l.rank===4||l.rank===1,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."})),ce(c.rank===4||c.rank===1,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."})),i!=null&&ce(i.rank===4||i.rank===1,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."})),s!=null&&ce(s.rank===4||s.rank===1,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."})),$v(u,l,c,s,i,o)}function $v(r,e,t,n,a,o){o==null&&(o=.001);var i,s,u,l=oe(r,"x","batchNorm"),c=oe(e,"mean","batchNorm"),A=oe(t,"variance","batchNorm");a!=null&&(i=oe(a,"scale","batchNorm")),n!=null&&(s=oe(n,"offset","batchNorm")),ce(c.rank===A.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ce(s==null||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ce(i==null||c.rank===i.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),u=l.rank===0||l.rank===1?l.as4D(1,1,1,l.size):l.rank===2?l.as4D(1,1,l.shape[0],l.shape[1]):l.rank===3?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var d=[l,c,A,i];return Be.runKernelFunc((function(f,h){var p=f.batchNormalization(u,yb(c),yb(A),o,yb(i),yb(s));return h([l,c,A,i]),p}),{x:l,mean:c,variance:A,scale:i,offset:s},(function(f,h){var p=h,v=p[0],g=p[1],B=p[2],I=p[3],S=I??lt(1),E=ja(g.shape,u.shape),T=[];if(g.rank===1){for(var U=0;U<u.shape.length-1;++U)T.push(u.shape[U]);T.push(1)}var D=v.sub(g),k=f.mul(S),O=fO(B.add(lt(o))),N=O.mul(O).mul(O).mul(lt(-.5));return{x:function(){return g.rank===1?f.mul(_d(O.as4D(1,1,1,g.shape[0]),T)).mul(S).reshape(v.shape):f.mul(O).mul(S).reshape(v.shape)},mean:function(){var P=O.mul(lt(-1)).mul(k);return g.rank===1&&(P=P.sum(E)),P.reshape(g.shape)},variance:function(){var P=N.mul(D).mul(k);return g.rank===1&&(P=P.sum(E)),P.reshape(g.shape)},scale:function(){var P=D.mul(O),j=f.mul(P);return g.rank===1&&(j=j.sum(E)),j.reshape(g.shape)},offset:function(){var P=f;return g.rank===1&&(P=P.sum(E)),P.reshape(g.shape)}}}),"BatchNormalization",{varianceEpsilon:o},d).reshape(l.shape)}function yb(r){return r==null?null:r.rank===0?r.as1D():r.rank===1?r:r.rank===2?r.as4D(1,1,r.shape[0],r.shape[1]):r.rank===3?r.as4D(1,r.shape[0],r.shape[1],r.shape[2]):r}function e2(){hU("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Toe=ye({batchNormalization2d_:function(r,e,t,n,a,o){return n===void 0&&(n=.001),e2(),dO(r,e,t,o,a,n)}}),_oe=ye({batchNormalization3d_:function(r,e,t,n,a,o){return n===void 0&&(n=.001),e2(),hO(r,e,t,o,a,n)}}),koe=ye({batchNormalization4d_:function(r,e,t,n,a,o){return n===void 0&&(n=.001),e2(),pO(r,e,t,o,a,n)}}),Noe=ye({batchNormalization_:function(r,e,t,n,a,o){return n===void 0&&(n=.001),e2(),$v(r,e,t,o,a,n)}}),s5=ye({batchNorm_:$v}),Poe=ye({batchNorm2d_:dO}),Doe=ye({batchNorm3d_:hO}),Roe=ye({batchNorm4d_:pO}),t2=ye({logicalAnd_:function(r,e){var t=oe(r,"a","logicalAnd","bool"),n=oe(e,"b","logicalAnd","bool");return Dr(t.shape,n.shape),Be.runKernelFunc((function(a){return a.logicalAnd(t,n)}),{a:t,b:n},null,"LogicalAnd")}}),Moe=ye({logicalNot_:function(r){var e=oe(r,"x","logicalNot","bool");return Be.runKernelFunc((function(t){return t.logicalNot(e)}),{$x:e})}}),mO=ye({logicalOr_:function(r,e){var t=oe(r,"a","logicalOr","bool"),n=oe(e,"b","logicalOr","bool");return Dr(t.shape,n.shape),Be.runKernelFunc((function(a){return a.logicalOr(t,n)}),{$a:t,$b:n})}}),Uoe=ye({logicalXor_:function(r,e){var t=oe(r,"a","logicalXor","bool"),n=oe(e,"b","logicalXor","bool");return Dr(t.shape,n.shape),mO(r,e).logicalAnd(t2(r,e).logicalNot())}}),Dd=ye({where_:function(r,e,t){var n=oe(e,"a","where"),a=oe(t,"b","where"),o=oe(r,"condition","where","bool");return on(n.shape,a.shape,"Error in where: "),o.rank===1?ce(o.shape[0]===n.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):on(o.shape,a.shape,"Error in where: "),Be.runKernelFunc((function(i,s){var u=i.select(o,n,a);return s([o]),u}),{$condition:o,$a:n,$b:a},(function(i,s){var u=s[0];return{$condition:function(){return Jr(u).toFloat()},$a:function(){return i.mul(u.cast(i.dtype))},$b:function(){return i.mul(u.logicalNot().cast(i.dtype))}}}))}}),gO=function(r){return Pt(this,void 0,void 0,(function(){var e,t,n;return Dt(this,(function(a){switch(a.label){case 0:return[4,(e=oe(r,"condition","whereAsync","bool")).data()];case 1:return t=a.sent(),n=r5(e.shape,t),r!==e&&e.dispose(),[2,n]}}))}))},ur=ye({add_:function(r,e){var t,n=oe(r,"a","add"),a=oe(e,"b","add");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i){return i.add(n,a)}),{a:n,b:a},(function(i){return{a:function(){var s=i,u=ja(n.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(n.shape)},b:function(){var s=i,u=ja(a.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(a.shape)}}}),"Add")}}),Ooe=ye({addN_:function(r){ce(Array.isArray(r),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),ce(r.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+r.length}));var e=r.map((function(a,o){return oe(a,"tensors"+o,"addN")})),t=e[0];e.forEach((function(a){if(a.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),e.forEach((function(a){if(!za(a.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var n=e;return Be.runKernelFunc((function(a){return a.addN(e)}),n,(function(a){var o={};return e.forEach((function(i,s){o[s]=function(){return a.clone()}})),o}),"AddN")}}),Qoe=ye({addStrict_:function(r,e){var t=oe(r,"a","addStrict"),n=oe(e,"b","addStrict");return on(t.shape,n.shape,"Error in addStrict: "),t.add(n)}}),Hoe=ye({atan2_:function(r,e){var t,n=oe(r,"a","atan2"),a=oe(e,"b","atan2");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i,s){var u=i.atan2(n,a);return s([n,a]),u}),{$a:n,$b:a},(function(i,s){var u=s[0],l=s[1];return{$a:function(){var c=ur(u.square(),l.square()),A=i.mul(l.div(c)),d=ja(u.shape,o);return d.length>0&&(A=A.sum(d)),A.reshape(u.shape)},$b:function(){var c=ur(u.square(),l.square()),A=Yv(i.mul(u.div(c))),d=ja(l.shape,o);return d.length>0&&(A=A.sum(d)),A.reshape(l.shape)}}}))}}),uu=ye({div_:function(r,e){var t,n=oe(r,"a","div"),a=oe(e,"b","div");if(t=ra(n,a),n=t[0],a=t[1],n.dtype==="int32"&&a.dtype==="int32")return vO(n,a);var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i,s){var u=i.realDivide(n,a);return s([n,a]),u}),{a:n,b:a},(function(i,s){var u=s[0],l=s[1];return{a:function(){var c=i.div(l.toFloat()),A=ja(u.shape,o);return A.length>0?c.sum(A).reshape(u.shape):c},b:function(){var c=i.mul(u.toFloat()),A=ja(l.shape,o);A.length>0&&(c=c.sum(A).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}}),"Div")}}),Voe=ye({divNoNan_:function(r,e){var t,n=oe(r,"a","div"),a=oe(e,"b","div");n=(t=ra(n,a))[0],a=t[1];var o=uu(n,a),i=Jr(o),s=a.equal(i);return Dd(s,i,o)}}),qoe=ye({divStrict_:function(r,e){var t=oe(r,"a","div"),n=oe(e,"b","div");return on(t.shape,n.shape,"Error in divideStrict: "),t.div(n)}}),vO=ye({floorDiv_:function(r,e){var t,n=oe(r,"a","floorDiv"),a=oe(e,"b","floorDiv");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i,s){var u=i.floorDiv(n,a);return s([n,a]),u}),{a:n,b:a},(function(i,s){var u=s[0],l=s[1];return{a:function(){var c=i.div(l.toFloat()),A=ja(u.shape,o);return A.length>0?c.sum(A).reshape(u.shape):c},b:function(){var c=i.mul(u.toFloat()),A=ja(l.shape,o);A.length>0&&(c=c.sum(A).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}}),"FloorDiv")}}),u5=ye({maximum_:function(r,e){var t,n=oe(r,"a","maximum"),a=oe(e,"b","maximum");return t=ra(n,a),n=t[0],a=t[1],n.dtype==="bool"&&(n=n.toInt(),a=a.toInt()),Dr(n.shape,a.shape),Be.runKernelFunc((function(o,i){var s=o.maximum(n,a);return i([n,a]),s}),{a:n,b:a},(function(o,i){var s=i[0],u=i[1];return{a:function(){return o.mul(s.greaterEqual(u).toFloat())},b:function(){return o.mul(s.less(u).toFloat())}}}),"Maximum")}}),Woe=ye({maximumStrict_:function(r,e){var t=oe(r,"a","maximumStrict"),n=oe(e,"b","maximumStrict");return on(t.shape,n.shape,"Error in maximumStrict: "),t.maximum(n)}}),yO=ye({minimum_:function(r,e){var t,n=oe(r,"a","minimum"),a=oe(e,"b","minimum");return t=ra(n,a),n=t[0],a=t[1],n.dtype==="bool"&&(n=n.toInt(),a=a.toInt()),Dr(n.shape,a.shape),Be.runKernelFunc((function(o,i){var s=o.minimum(n,a);return i([n,a]),s}),{a:n,b:a},(function(o,i){var s=i[0],u=i[1];return{a:function(){return o.mul(s.lessEqual(u).toFloat())},b:function(){return o.mul(s.greater(u).toFloat())}}}),"Minimum")}}),zoe=ye({minimumStrict_:function(r,e){var t=oe(r,"a","minimumStrict"),n=oe(e,"b","minimumStrict");return on(t.shape,n.shape,"Error in minimumStrict: "),t.minimum(n)}}),joe=ye({mod_:function(r,e){var t,n=oe(r,"a","mod"),a=oe(e,"b","mod");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i,s){var u=i.mod(n,a);return s([n,a]),u}),{$a:n,$b:a},(function(i,s){var u=s[0],l=s[1];return{$a:function(){var c=ja(u.shape,o);return c.length>0?i.sum(c).reshape(u.shape):i},$b:function(){var c=i.mul(u.div(l).floor().neg()),A=ja(l.shape,o);return A.length>0?c.sum(A).reshape(l.shape):c}}}))}}),Goe=ye({modStrict_:function(r,e){var t=oe(r,"a","modStrict"),n=oe(e,"b","modStrict");return on(t.shape,n.shape,"Error in modStrict: "),t.mod(n)}}),ca=ye({mul_:function(r,e){var t,n=oe(r,"a","mul"),a=oe(e,"b","mul");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i,s){var u=i.multiply(n,a);return s([n,a]),u}),{a:n,b:a},(function(i,s){var u=s[0],l=s[1];return{a:function(){var c=i.mul(l.toFloat()),A=ja(u.shape,o);return A.length>0?c.sum(A).reshape(u.shape):c},b:function(){var c=i.mul(u.toFloat()),A=ja(l.shape,o);return A.length>0?c.sum(A).reshape(l.shape):c}}}),"Mul")}}),Koe=ye({mulStrict_:function(r,e){var t=oe(r,"a","mul"),n=oe(e,"b","mul");return on(t.shape,n.shape,"Error in multiplyStrict: "),t.mul(n)}}),qb=ye({pow_:function(r,e){var t,n=oe(r,"base","pow"),a=oe(e,"exp","pow");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape),i=[n,a];return Be.runKernelFunc((function(s,u){var l=s.pow(n,a);return u([n,a,l]),l}),{a:n,b:a},(function(s,u){var l=u[0],c=u[1],A=u[2];return{a:function(){var d=c.toFloat(),f=s.mul(d.mul(l.pow(d.sub(lt(1))))),h=ja(l.shape,o);return h.length>0&&(f=f.sum(h)),f.reshape(l.shape)},b:function(){var d=l.greater(0),f=l.log().where(d,Jr(l)),h=s.mul(A.mul(f)),p=ja(c.shape,o);return p.length>0&&(h=h.sum(p)),h.reshape(c.shape)}}}),"Pow",{},i,[!0])}}),Xoe=ye({powStrict_:function(r,e){return on(r.shape,e.shape,"Error in powStrict: "),r.pow(e)}}),Yoe=ye({squaredDifferenceStrict_:function(r,e){var t=oe(r,"a","squaredDifferenceStrict"),n=oe(e,"b","squaredDifferenceStrict");return on(t.shape,n.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(n)}}),Fn=ye({sub_:function(r,e){var t,n=oe(r,"a","sub"),a=oe(e,"b","sub");t=ra(n,a),n=t[0],a=t[1];var o=Dr(n.shape,a.shape);return Be.runKernelFunc((function(i){return i.subtract(n,a)}),{a:n,b:a},(function(i){return{a:function(){var s=i,u=ja(n.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(n.shape)},b:function(){var s=i,u=ja(a.shape,o);return u.length>0&&(s=s.sum(u)),s.neg().reshape(a.shape)}}}),"Sub")}}),$oe=ye({subStrict_:function(r,e){var t=oe(r,"a","subStrict"),n=oe(e,"b","subStrict");return on(t.shape,n.shape,"Error in subStrict: "),t.sub(n)}}),xO=ye({equal_:function(r,e){var t,n=oe(r,"a","equal"),a=oe(e,"b","equal");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o){return o.equal(n,a)}),{$a:n,$b:a})}}),Joe=ye({equalStrict_:function(r,e){var t=oe(r,"a","equalStrict"),n=oe(e,"b","equalStrict");return on(t.shape,n.shape,"Error in equalStrict: "),t.equal(n)}}),Zoe=ye({greater_:function(r,e){var t,n=oe(r,"a","greater"),a=oe(e,"b","greater");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o){return o.greater(n,a)}),{a:n,b:a},null,"Greater")}}),wO=ye({greaterEqual_:function(r,e){var t,n=oe(r,"a","greaterEqual"),a=oe(e,"b","greaterEqual");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o,i){var s=o.greaterEqual(n,a);return i([n,a]),s}),{a:n,b:a},(function(o,i){var s=i[0],u=i[1];return{a:function(){return Jr(s)},b:function(){return Jr(u)}}}),"GreaterEqual")}}),eie=ye({greaterEqualStrict_:function(r,e){var t=oe(r,"a","greaterEqualStrict"),n=oe(e,"b","greaterEqualStrict");return on(t.shape,n.shape,"Error in greaterEqualStrict: "),t.greaterEqual(n)}}),tie=ye({greaterStrict_:function(r,e){var t=oe(r,"a","greaterStrict"),n=oe(e,"b","greaterStrict");return on(t.shape,n.shape,"Error in greaterStrict: "),t.greater(n)}}),rie=ye({less_:function(r,e){var t,n=oe(r,"a","less"),a=oe(e,"b","less");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o){return o.less(n,a)}),{a:n,b:a},null,"Less")}}),nie=ye({lessEqual_:function(r,e){var t,n=oe(r,"a","lessEqual"),a=oe(e,"b","lessEqual");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o,i){var s=o.lessEqual(n,a);return i([n,a]),s}),{a:n,b:a},null,"LessEqual")}}),aie=ye({lessEqualStrict_:function(r,e){var t=oe(r,"a","lessEqualStrict"),n=oe(e,"b","lessEqualStrict");return on(t.shape,n.shape,"Error in lessEqualStrict: "),t.lessEqual(n)}}),oie=ye({lessStrict_:function(r,e){var t=oe(r,"a","lessStrict"),n=oe(e,"b","lessStrict");return on(t.shape,n.shape,"Error in lessStrict: "),t.less(n)}}),iie=ye({notEqual_:function(r,e){var t,n=oe(r,"a","notEqual"),a=oe(e,"b","notEqual");return t=ra(n,a),n=t[0],a=t[1],Dr(n.shape,a.shape),Be.runKernelFunc((function(o){return o.notEqual(n,a)}),{a:n,b:a},null,"NotEqual")}}),sie=ye({notEqualStrict_:function(r,e){var t=oe(r,"a","notEqualStrict"),n=oe(e,"b","notEqualStrict");return on(t.shape,n.shape,"Error in notEqualStrict: "),t.notEqual(n)}});function AM(r,e){for(var t=[],n=r;n<e;++n)t.push(n);return t}function fM(r){for(var e=[],t=0;t<r.length;++t)for(var n=0;n<r[t].length;++n)e.push(r[t][n]);return e}var l5=ye({gather_:function(r,e,t){t===void 0&&(t=0);var n=oe(r,"x","gather"),a=oe(e,"indices","gather","int32");t=Ga(t,n.shape)[0];var o=(function(i,s,u){for(var l=i.shape[u],c=[],A=1,d=1,f=0;f<u;f++)c.push(i.shape[f]),A*=i.shape[f];for(f=0;f<s.rank;f++)c.push(s.shape[f]);for(f=u+1;f<i.rank;f++)c.push(i.shape[f]),d*=i.shape[f];return{batchSize:A,sliceSize:d,dimSize:l,outputShape:c}})(n,a,t);return Be.runKernelFunc((function(i,s){var u=i.gather(n,a.flatten(),t);return s([a]),u}),{x:n,indices:a},(function(i,s){var u=s[0];return{x:function(){var l=n.shape,c=u.size,A=l.slice(0,t),d=A.length,f=l.slice(t,l.length).slice(1),h=f.length,p=AM(0,d),v=AM(d+1,d+1+h),g=fM([A,[c],f]),B=i.reshape(g),I=u.reshape([c]),S=fM([[d],p,v]),E=B.transpose(S),T=bO(E,I,n.shape[t]),U=Gb(S);return T=T.transpose(U)},indices:function(){return u}}}),"Gather",{axis:t}).reshape(o.outputShape)}}),bO=ye({unsortedSegmentSum_:function(r,e,t){var n=oe(r,"x","unsortedSegmentSum"),a=oe(e,"segmentIds","unsortedSegmentSum","int32");return ce(Aa(t),(function(){return"numSegments must be of dtype int"})),Be.runKernelFunc((function(o,i){var s=o.unsortedSegmentSum(n,a,t);return i([a]),s}),{$x:n},(function(o,i){var s=i[0];return{$x:function(){return(function(u,l){for(var c=u5(l,Jr(l)),A=l5(u,c),d=wO(l,lt(0,"int32")),f=A.rank-d.rank,h=0;h<f;++h)d=ni(d,h+1);d=t2(d,hm(A.shape,"bool"));var p=Jr(A);return Dd(d,A,p)})(o,s)}}}))}}),uie=function(r,e,t){return Pt(this,void 0,void 0,(function(){var n,a,o,i,s,u,l,c,A,d,f,h,p;return Dt(this,(function(v){switch(v.label){case 0:for(n=oe(r,"tensor","boolMask"),a=oe(e,"mask","boolMask","bool"),o=t??0,i=a.rank,s=n.shape,ce(i>0,(function(){return"mask cannot be scalar"})),on(s.slice(o,o+i),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=o;l<o+i;l++)u*=s[l];return c=s.slice(0,o).concat([u],s.slice(o+i)),A=n.reshape(c),d=a.reshape([-1]),[4,gO(d)];case 1:return f=v.sent(),h=f.squeeze([1]),p=l5(A,h,o),r!==n&&n.dispose(),e!==a&&a.dispose(),h.dispose(),A.dispose(),d.dispose(),f.dispose(),[2,p]}}))}))};function CO(r,e,t,n,a,o,i){o===void 0&&(o="NHWC"),ce(r.length===e.rank,(function(){return"Length of inShape ("+r.length+") and rank of dy ("+e.rank+") must match"}));var s=r,u=e,l=!1;e.rank===3&&(l=!0,u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]),s=[1,r[0],r[1],r[2]]),ce(s.length===4,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."})),ce(u.rank===4,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank})),ce(t.rank===4,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+t.rank}));var c=o==="NHWC"?s[3]:s[1],A=o==="NHWC"?u.shape[3]:u.shape[1];ce(c===t.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+t.shape[2]+"."})),ce(A===t.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+A+") must match output depth for filter "+t.shape[3]+"."})),i!=null&&ce(Aa(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var d=Jb(o),f=$A(s,t.shape,n,1,a,i,!1,d),h=Be.runKernelFunc((function(p,v){var g=p.conv2dDerInput(u,t,f);return v([t,u]),g}),{dy4D:u,filter:t},(function(p,v){var g=v[0],B=v[1];return{dy4D:function(){return Bo(p,g,n,a,o,1,i)},filter:function(){return c5(p,B,g.shape,n,a,o,i)}}}));return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function oL(r){var e=(function(o){return typeof o=="number"?[o,o,o]:o.length===2?[o[0],o[1],1]:o})(r),t=e[0],n=e[1],a=e[2];return t===1&&n===1&&a===1}function BO(r,e,t,n,a){ce(r.length===e.rank,(function(){return"Length of inShape ("+r.length+") and rank of dy ("+e.rank+") must match"}));var o=r,i=e,s=!1;e.rank===4&&(s=!0,i=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]),o=[1,r[0],r[1],r[2],r[3]]);var u=o[4],l=i.shape[4];ce(o.length===5,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+o.length+"."})),ce(i.rank===5,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank})),ce(t.rank===5,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+t.rank})),ce(u===t.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+t.shape[3]+"."})),ce(l===t.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+t.shape[4]+"."}));var c=zv(o,t.shape,n,1,a),A=Be.runKernelFunc((function(d){return d.conv3dDerInput(i,t,c)}),{dy5D:i});return s?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}var lie=ye({conv1d_:function(r,e,t,n,a,o,i){a===void 0&&(a="NWC"),o===void 0&&(o=1);var s=oe(r,"x","conv1d"),u=oe(e,"filter","conv1d"),l=s,c=!1;s.rank===2&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),ce(l.rank===3,(function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."})),ce(u.rank===3,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."})),i!=null&&ce(Aa(n),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+n+"."})),ce(l.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."})),ce(Ti(t,o),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+t+" and dilation '"+o+"'"})),ce(a==="NWC",(function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."}));var A=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),f=Bo(d,A,[1,t],n,"NHWC",[1,o],i);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),Bo=ye({conv2d_:function(r,e,t,n,a,o,i){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var s=oe(r,"x","conv2d"),u=oe(e,"filter","conv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ce(l.rank===4,(function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."})),ce(u.rank===4,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."})),i!=null&&ce(Aa(n),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+n+"."}));var A=a==="NHWC"?l.shape[3]:l.shape[1];ce(A===u.shape[2],(function(){return"Error in conv2d: depth of input ("+A+") must match input depth for filter "+u.shape[2]+"."})),ce(Ti(t,o),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"}));var d=Jb(a),f=$A(l.shape,u.shape,t,o,n,i,!1,d),h=[u,l],p=Be.runKernelFunc((function(v,g){var B=v.conv2d(l,u,f);return g([u,l]),B}),{x:l,filter:u},(function(v,g){var B=g,I=B[0],S=B[1];return ce(Pd(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"})),{x:function(){return SO(S.shape,v,I,t,n,a)},filter:function(){return c5(S,v,I.shape,t,n,a)}}}),"Conv2D",f,h);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),cie=ye({conv3d_:function(r,e,t,n,a,o){a===void 0&&(a="NDHWC"),o===void 0&&(o=[1,1,1]);var i=oe(r,"x","conv3d"),s=oe(e,"filter","conv3d"),u=i,l=!1;i.rank===4&&(l=!0,u=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),ce(u.rank===5,(function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."})),ce(s.rank===5,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."})),ce(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."})),ce((function(d,f){return oL(d)||oL(f)})(t,o),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"})),ce(a==="NDHWC",(function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."}));var c=zv(u.shape,s.shape,t,o,n),A=Be.runKernelFunc((function(d,f){var h=d.conv3d(u,s,c);return f([u,s]),h}),{x:u,$filter:s},(function(d,f){ce(oL(o),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+o+"'"}));var h=f[0],p=f[1];return{x:function(){return BO(h.shape,d,p,t,n)},$filter:function(){return(function(v,g,B,I,S){var E=v;v.rank===4&&(E=v.as5D(1,v.shape[0],v.shape[1],v.shape[2],v.shape[3]));var T=g;T.rank===4&&(T=g.as5D(1,g.shape[0],g.shape[1],g.shape[2],g.shape[3])),ce(E.rank===5,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+E.shape+"."})),ce(T.rank===5,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+T.shape+"."})),ce(B.length===5,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+B+"."})),ce(E.shape[4]===B[3],(function(){return"Error in conv3dDerFilter: depth of input "+E.shape[4]+") must match input depth in filter ("+B[3]+"."})),ce(T.shape[4]===B[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+T.shape[4]+") must match output depth for filter ("+B[4]+")."}));var U=zv(E.shape,B,I,1,S);return Be.runKernelFunc((function(D){return D.conv3dDerFilter(E,T,U)}),{x5D:E,dy5D:T})})(h,d,p.shape,t,n)}}}));return l?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),c5=ye({conv2dDerFilter_:function(r,e,t,n,a,o,i){o===void 0&&(o="NHWC");var s=r;r.rank===3&&(s=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var u=e;u.rank===3&&(u=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),ce(s.rank===4,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."})),ce(u.rank===4,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."})),ce(t.length===4,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+t+"."}));var l=o==="NHWC"?s.shape[3]:s.shape[1],c=o==="NHWC"?u.shape[3]:u.shape[1];ce(l===t[2],(function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+t[2]+"."})),ce(c===t[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+t[3]+")."})),i!=null&&ce(Aa(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var A=Jb(o),d=$A(s.shape,t,n,1,a,i,!1,A);return Be.runKernelFunc((function(f){return f.conv2dDerFilter(s,u,d)}),{x4D:s,dy4D:u})}}),SO=ye({conv2dDerInput_:CO}),Jv=ye({depthwiseConv2d_:function(r,e,t,n,a,o,i){a===void 0&&(a="NHWC"),o===void 0&&(o=[1,1]);var s=oe(r,"x","depthwiseConv2d"),u=oe(e,"filter","depthwiseConv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ce(l.rank===4,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."})),ce(u.rank===4,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."})),ce(l.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."})),o==null&&(o=[1,1]),ce(Ti(t,o),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+o+"'"})),i!=null&&ce(Aa(n),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+n+"."}));var A=$A(l.shape,u.shape,t,o,n,i,!0),d=[l,u],f=Be.runKernelFunc((function(h,p){var v=h.depthwiseConv2D(l,u,A);return p([l,u]),v}),{x:l,filter:u},(function(h,p){ce(Pd(o),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+o+"'"}));var v=p[0],g=p[1];return{x:function(){return IO(v.shape,h,g,A)},filter:function(){return EO(v,h,g.shape,A)}}}),"DepthwiseConv2dNative",A,d);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),IO=ye({depthwiseConv2dDerInput_:function(r,e,t,n){var a=e,o=!1;e.rank===3&&(o=!0,a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=Be.runKernelFunc((function(s){return s.depthwiseConv2DDerInput(a,t,n)}),{dy4D:a});return o?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),EO=ye({depthwiseConv2dDerFilter_:function(r,e,t,n){var a=r;r.rank===3&&(a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=e;return o.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2])),Be.runKernelFunc((function(i){return i.depthwiseConv2DDerFilter(a,o,n)}),{x4D:a,dy4D:o})}}),Zv=ye({separableConv2d_:function(r,e,t,n,a,o,i){o===void 0&&(o=[1,1]),i===void 0&&(i="NHWC");var s=oe(r,"x","separableConv2d"),u=oe(e,"depthwiseFilter","separableConv2d"),l=oe(t,"pointwiseFilter","separableConv2d"),c=s,A=!1;if(s.rank===3&&(A=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ce(c.rank===4,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."})),ce(u.rank===4,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."})),ce(l.rank===4,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."})),ce(l.shape[0]===1,(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."})),ce(l.shape[1]===1,(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."}));var d=u.shape[2],f=u.shape[3];ce(l.shape[2]===d*f,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*f+", but got "+l.shape[2]+"."}));var h=Jv(c,u,n,a,i,o),p=Bo(h,l,1,"valid",i);return A?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),Aie=ye({conv2dTranspose_:function(r,e,t,n,a,o){return CO(t,oe(r,"x","conv2dTranspose"),oe(e,"filter","conv2dTranspose"),n,a,"NHWC",o)}}),fie=ye({conv3dTranspose_:function(r,e,t,n,a){return BO(t,oe(r,"x","conv3dTranspose"),oe(e,"filter","conv3dTranspose"),n,a)}}),pm=ye({matMul_:function(r,e,t,n){var a;t===void 0&&(t=!1),n===void 0&&(n=!1);var o=oe(r,"a","matMul"),i=oe(e,"b","matMul");a=ra(o,i),o=a[0],i=a[1];var s=t?o.shape[o.rank-2]:o.shape[o.rank-1],u=n?i.shape[i.rank-1]:i.shape[i.rank-2],l=t?o.shape[o.rank-1]:o.shape[o.rank-2],c=n?i.shape[i.rank-2]:i.shape[i.rank-1],A=o.shape.slice(0,-2),d=i.shape.slice(0,-2),f=Ot(A),h=Ot(d);ce(o.rank>=2&&i.rank>=2&&o.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+o.rank+" and "+i.rank+"."})),ce(za(A,d),(function(){return"Error in matMul: outer dimensions ("+A+") and ("+d+") of Tensors with shapes "+o.shape+" and "+i.shape+" must match."})),ce(s===u,(function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+o.shape+" and "+i.shape+" and transposeA="+t+" and transposeB="+n+" must match."}));var p=o.shape.slice(0,-2).concat([l,c]),v=t?o.as3D(f,s,l):o.as3D(f,l,s),g=n?i.as3D(h,c,u):i.as3D(h,u,c),B={transposeA:t,transposeB:n};return Be.runKernelFunc((function(I,S){var E=I.batchMatMul(v,g,t,n);return S([v,g]),E}),{a:v,b:g},(function(I,S){var E=S,T=E[0],U=E[1];return t||n?!t&&n?{a:function(){return I.matMul(U,!1,!1)},b:function(){return I.matMul(T,!0,!1)}}:t&&!n?{a:function(){return U.matMul(I,!1,!0)},b:function(){return T.matMul(I,!1,!1)}}:{a:function(){return U.matMul(I,!0,!0)},b:function(){return I.matMul(T,!0,!0)}}:{a:function(){return I.matMul(U,!1,!0)},b:function(){return T.matMul(I,!0,!1)}}}),"BatchMatMul",B).reshape(p)}}),die=ye({dot_:function(r,e){var t=oe(r,"t1","dot"),n=oe(e,"t2","dot");ce(!(t.rank!==1&&t.rank!==2||n.rank!==1&&n.rank!==2),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+n.rank+"."}));var a=t.rank===1?t.size:t.shape[1],o=n.rank===1?n.size:n.shape[0];return ce(a===o,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+o+"."})),t.rank===1&&n.rank===1?t.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():t.rank===1&&n.rank===2?t.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():t.rank===2&&n.rank===1?t.matMul(n.as2D(-1,1)).as1D():t.matMul(n.as2D(n.shape[0],n.shape[1]))}}),hie=ye({outerProduct_:function(r,e){var t=oe(r,"v1","outerProduct"),n=oe(e,"v2","outerProduct");return ce(t.rank===1&&n.rank===1,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+n.rank+"."})),t.as2D(-1,1).matMul(n.as2D(1,-1))}}),ey=ye({reverse_:function(r,e){var t=oe(r,"x","reverse");if(t.rank===0)return t.clone();var n=Ga(e,t.shape);return Be.runKernelFunc((function(a){return a.reverse(t,n)}),{$x:t},(function(a){return{$x:function(){return a.reverse(n)}}})).reshapeAs(t)}}),pie=ye({reverse1d_:function(r){var e=oe(r,"x","reverse");return ce(e.rank===1,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+e.rank+"."})),ey(e,0)}}),mie=ye({reverse2d_:function(r,e){var t=oe(r,"x","reverse");return ce(t.rank===2,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+t.rank+"."})),ey(t,e)}}),gie=ye({reverse3d_:function(r,e){var t=oe(r,"x","reverse");return ce(t.rank===3,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+t.rank+"."})),ey(t,e)}}),vie=ye({reverse4d_:function(r,e){var t=oe(r,"x","reverse");return ce(t.rank===4,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+t.rank+"."})),ey(t,e)}});function LO(r,e,t,n,a,o){var i=oe(r,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),n==null&&(n=[1,1]),ce(s.rank===4,(function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."})),ce(Ti(t,n),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+n+"'"})),o!=null&&ce(Aa(a),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var l=Am(s.shape,e,t,n,a,o);if(l.filterWidth===1&&l.filterHeight===1&&za(l.inShape,l.outShape))return i.clone();var c=[s],A=Be.runKernelFunc((function(d,f){var h=d.maxPool(s,l);return f([s,h]),h}),{x:s},(function(d,f){var h=f[0],p=f[1];return{x:function(){return(function(v,g,B,I,S,E,T,U){var D=oe(v,"dy","maxPoolBackprop"),k=oe(g,"input","maxPoolBackprop"),O=oe(B,"output","maxPoolBackprop");ce(k.rank===D.rank,(function(){return"Rank of input ("+k.rank+") does not match rank of dy ("+D.rank+")"})),E==null&&(E=[1,1]),ce(Ti(S,E),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+S+" and dilations '"+E+"'"})),ce(D.rank===4,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+D.rank+"."})),ce(k.rank===4,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+k.rank+"."})),U!=null&&ce(Aa(T),(function(){return"Error in maxPoolBackprop: pad must be an integer when using, dimRoundingMode "+U+" but got pad "+T+"."}));var N=Am(k.shape,I,S,E,T,U);return Be.runKernelFunc((function(P){return P.maxPoolBackprop(D,k,O,N)}),{$dy:D,$input:k})})(d,h,p,e,t,n,a)}}}),"MaxPool",l,c);return u?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}function FO(r,e,t,n,a,o){var i=oe(r,"x","avgPool","float32");n==null&&(n=[1,1]),ce(Ti(t,n),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+n+"'"}));var s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),ce(s.rank===4,(function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."})),o!=null&&ce(Aa(a),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+a+"."}));var l=Am(s.shape,e,t,n,a,o);if(l.filterWidth===1&&l.filterHeight===1&&za(l.inShape,l.outShape))return i.clone();var c=Be.runKernelFunc((function(A){return A.avgPool(s,l)}),{x:s},(function(A){return{x:function(){return(function(d,f,h,p,v,g){var B=oe(d,"dy","avgPoolBackprop"),I=oe(f,"input","avgPoolBackprop");ce(I.rank===B.rank,(function(){return"Rank of input ("+I.rank+") does not match rank of dy ("+B.rank+")"})),v==null&&(v=[1,1]),ce(Ti(p,v),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+p+" and dilations '"+v+"'"}));var S=I,E=B,T=!1;I.rank===3&&(T=!0,S=I.as4D(1,I.shape[0],I.shape[1],I.shape[2]),E=B.as4D(1,B.shape[0],B.shape[1],B.shape[2])),ce(E.rank===4,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+E.rank+"."})),ce(S.rank===4,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+S.rank+"."}));var U=Am(S.shape,h,p,v,g),D=Be.runKernelFunc((function(k){return k.avgPoolBackprop(E,S,U)}),{dy4D:E,input4D:S});return T?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D})(A,s,e,t,n,a)}}}),"AvgPool",l);return c=c.cast(i.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var fa=ye({maxPool_:function(r,e,t,n,a){return LO(r,e,t,1,n,a)}}),Rc=ye({avgPool_:function(r,e,t,n,a){return FO(r,e,t,1,n,a)}}),yie=ye({pool_:function(r,e,t,n,a,o){a==null&&(a=[1,1]),o==null&&(o=1),n===0&&(n="valid");var i=oe(r,"x","maxPool"),s=i,u=!1;i.rank===3&&(u=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),ce(Ti(o,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}));var l,c=Am(s.shape,e,o,a,n),A=[c.dilationHeight,c.dilationWidth];l=n==="same"?(function(S,E){var T=S.map((function(k,O){return k+(k-1)*(E[O]-1)})).map((function(k){return k-1})),U=T.map((function(k){return Math.floor(k/2)})),D=T.map((function(k,O){return k-U[O]}));return T.map((function(k,O){return[U[O],D[O]]}))})([c.filterHeight,c.filterWidth],A):[[0,0],[0,0]];var d=A[0]===1&&A[1]===1,f=(function(S,E,T){var U=T.map((function(z){return z[0]})),D=T.map((function(z){return z[1]})),k=S.concat(U,D),O=E.map((function(z,ne){return(z-k[ne]%z)%z})),N=D.map((function(z,ne){return z+O[ne]})),P=E.map((function(z,ne){return[U[ne],N[ne]]})),j=E.map((function(z,ne){return[0,O[ne]]}));return[P,j]})([c.inHeight,c.inWidth],A,l),h=f[0],p=f[1],v=d?n:"valid",g=d?s:wU(s,A,h),B=(t==="avg"?function(){return FO(g,e,o,1,v)}:function(){return LO(g,e,o,1,v)})(),I=d?B:vU(B,A,p);return u?I.as3D(I.shape[1],I.shape[2],I.shape[3]):I}}),xie=ye({maxPool3d_:function(r,e,t,n,a,o,i){o===void 0&&(o="NDHWC");var s=oe(r,"x","maxPool3d"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),ce(u.rank===5,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."})),ce(o==="NDHWC",(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),ce(Ti(t,i),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"})),a!=null&&ce(Aa(n),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."}));var c=Wv(u.shape,e,t,i,n,a,o),A=Be.runKernelFunc((function(d,f){var h=d.maxPool3d(u,c);return f([u,h]),h}),{x:u},(function(d,f){var h=f[0],p=f[1];return{x:function(){return(function(v,g,B,I,S,E,T,U){var D=oe(v,"dy","maxPool3dBackprop"),k=oe(g,"input","maxPool3dBackprop"),O=oe(B,"output","maxPool3dBackprop"),N=D,P=k,j=O,z=!1;k.rank===4&&(z=!0,N=D.as5D(1,D.shape[0],D.shape[1],D.shape[2],D.shape[3]),P=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3]),j=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3])),ce(N.rank===5,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+N.rank+"."})),ce(P.rank===5,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+P.rank+"."})),ce(j.rank===5,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+j.rank+"."})),E==null&&(E=[1,1,1]),ce(Ti(S,E),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+S+" and dilations '"+E+"'"})),U!=null&&ce(Aa(T),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+U+" but got pad "+T+"."}));var ne=Wv(P.shape,I,S,E,T,U),re=Be.runKernelFunc((function(Y){return Y.maxPool3dBackprop(N,P,j,ne)}),{dy5D:N,input5D:P});return z?re.as4D(re.shape[1],re.shape[2],re.shape[3],re.shape[4]):re})(d,h,p,e,t,i,n,a)}}}));return l?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),wie=ye({avgPool3d_:function(r,e,t,n,a,o,i){o===void 0&&(o="NDHWC");var s=oe(r,"x","avgPool3d","float32"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),i==null&&(i=[1,1,1]),ce(u.rank===5,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."})),ce(o==="NDHWC",(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+o})),ce(Ti(t,i),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"})),a!=null&&ce(Aa(n),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."}));var c=Wv(u.shape,e,t,i,n,a,o),A=Be.runKernelFunc((function(d){return d.avgPool3d(u,c)}),{x:u},(function(d){return{x:function(){return(function(f,h,p,v,g,B,I){var S=oe(f,"dy","avgPool3dBackprop"),E=oe(h,"input","avgPool3dBackprop"),T=S,U=E,D=!1;E.rank===4&&(D=!0,T=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3]),U=E.as5D(1,E.shape[0],E.shape[1],E.shape[2],E.shape[3])),ce(T.rank===5,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+T.rank+"."})),ce(U.rank===5,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+U.rank+"."})),g==null&&(g=[1,1,1]),ce(Ti(v,g),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+v+" and dilations '"+g+"'"})),I!=null&&ce(Aa(B),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+I+" but got pad "+B+"."}));var k=Wv(U.shape,p,v,g,B,I),O=Be.runKernelFunc((function(N){return N.avgPool3dBackprop(T,U,k)}),{dy5D:T,input5D:U});return D?O.as4D(O.shape[1],O.shape[2],O.shape[3],O.shape[4]):O})(d,u,e,t,i,n,a)}}}));return A=A.cast(u.dtype),l?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),ju=ye({slice_:function(r,e,t){var n,a,o=oe(r,"x","slice");if(o.rank===0)throw new Error("Slicing scalar is not possible");(n=typeof e=="number"?[e].concat(new Array(o.rank-1).fill(0)):e.length<o.rank?e.concat(new Array(o.rank-e.length).fill(0)):e.slice()).forEach((function(u){ce(u!==-1,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=t==null?new Array(o.rank).fill(-1):typeof t=="number"?[t].concat(new Array(o.rank-1).fill(-1)):t.length<o.rank?t.concat(new Array(o.rank-t.length).fill(-1)):t).map((function(u,l){return u>=0?u:(ce(u===-1,(function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+l+"."})),o.shape[l]-n[l])})),EU(o,n,a);var i=o.shape,s={begin:n,size:a};return Be.runKernelFunc((function(u){return u.slice(o,n,a)}),{x:o},(function(u){for(var l=[],c=0;c<u.rank;c++)l.push([n[c],i[c]-n[c]-a[c]]);return{x:function(){return u.pad(l)}}}),"Slice",s)}}),bie=ye({slice1d_:function(r,e,t){var n=oe(r,"x","slice1d");return ce(n.rank===1,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"})),ju(n,[e],[t])}}),Cie=ye({slice2d_:function(r,e,t){var n=oe(r,"x","slice2d");return ce(n.rank===2,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"})),ju(n,e,t)}}),A5=ye({slice3d_:function(r,e,t){var n=oe(r,"x","slice3d");return ce(n.rank===3,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"})),ju(n,e,t)}}),Bie=ye({slice4d_:function(r,e,t){var n=oe(r,"x","slice4d");return ce(n.rank===4,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"})),ju(n,e,t)}});function TO(r,e,t,n,a){return e.rank<t.rank&&(e=e.reshape(Fi(e.shape,n))),r.rank<t.rank&&(r=r.reshape(Fi(r.shape,n))),{x:function(){var o=r.mul(t.equal(e).cast(r.dtype));return a==null?o:o.transpose(a)}}}var Sie=ye({all_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","all","bool"),a=Ga(e,n.shape),o=a,i=Ku(o,n.rank);i!=null&&(n=n.transpose(i),o=Xu(o.length,n.rank));var s=Be.runKernelFunc((function(l){return l.all(n,o)}),{$x:n});if(t){var u=Fi(s.shape,a);return s.reshape(u)}return s}}),Iie=ye({any_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","any","bool"),a=Ga(e,n.shape),o=a,i=Ku(o,n.rank);i!=null&&(n=n.transpose(i),o=Xu(o.length,n.rank));var s=Be.runKernelFunc((function(l){return l.any(n,o)}),{$x:n});if(t){var u=Fi(s.shape,a);return s.reshape(u)}return s}}),Eie=ye({argMax_:function(r,e){e===void 0&&(e=0);var t=oe(r,"x","argMax");e==null&&(e=0);var n=Ga(e,t.shape),a=Ku(n,t.rank);a!=null&&(t=t.transpose(a),n=Xu(n.length,t.rank));var o={axis:n[0]},i=[t];return Be.runKernelFunc((function(s,u){var l=s.argMax(t,n[0]);return u([t]),l}),{x:t},(function(s,u){var l=u[0];return{x:function(){return Jr(l)}}}),"ArgMax",o,i)}}),Lie=ye({argMin_:function(r,e){e===void 0&&(e=0);var t=oe(r,"x","argMin");e==null&&(e=0);var n=Ga(e,t.shape),a=Ku(n,t.rank);return a!=null&&(t=t.transpose(a),n=Xu(n.length,t.rank)),Be.runKernelFunc((function(o,i){var s=o.argMin(t,n[0]);return i([t]),s}),{$x:t},(function(o,i){var s=i[0];return{$x:function(){return Jr(s)}}}))}}),Fie=ye({logSumExp_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","logSumExp"),a=Ga(e,n.shape),o=n.max(a,!0),i=n.sub(o).exp().sum(a).log(),s=o.reshape(i.shape).add(i);if(t){var u=Fi(s.shape,a);return s.reshape(u)}return s}}),Ud=ye({max_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","max"),a=n,o=Ga(e,n.shape),i=o,s=Ku(i,n.rank);s!=null&&(n=n.transpose(s),i=Xu(i.length,n.rank));var u=[n],l=Be.runKernelFunc((function(A,d){var f=A.max(n,i);return d([a,f]),f}),{x:n},(function(A,d){return TO(A,d[1],d[0],o,s)}),"Max",{axes:i},u,[!0]);if(t){var c=Fi(l.shape,o);l=l.reshape(c)}return l}}),Tie=ye({mean_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","mean"),a=Ga(e,n.shape),o=Ot(Ro(n.shape,a)[1]);return $b((function(i){var s=lt(o);return{value:(s.dtype===i.dtype?i:i.cast(s.dtype)).div(s).sum(e,t),gradFunc:function(u){var l=i.shape.slice();return a.forEach((function(c){l[c]=1})),u.reshape(l).mul(hm(i.shape,"float32")).div(o)}}}))(n)}}),_ie=ye({min_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","min"),a=n,o=Ga(e,n.shape),i=o,s=Ku(i,n.rank);s!=null&&(n=n.transpose(s),i=Xu(i.length,n.rank));var u=[n],l=Be.runKernelFunc((function(A,d){var f=A.min(n,i);return d([a,f]),f}),{x:n},(function(A,d){return TO(A,d[1],d[0],o,s)}),"Min",{axes:i},u,[!0]);if(t){var c=Fi(l.shape,o);l=l.reshape(c)}return l}}),kie=ye({moments_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=Ga(e,(r=oe(r,"x","moments")).shape),a=r.mean(n,t),o=a.shape;t||(o=Fi(a.shape,n));var i=r.toFloat().sub(a.reshape(o)).square();return{mean:a,variance:i.mean(n,t)}}}),_O=ye({sum_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","sum");n.dtype==="bool"&&(n=n.toInt());var a=Ga(e,n.shape);return $b((function(o){var i=Ku(a,o.rank),s=a,u=o;i!=null&&(u=o.transpose(i),s=Xu(s.length,o.rank));var l=function(f){var h=o.shape.slice();return a.forEach((function(p){h[p]=1})),f.reshape(h).mul(hm(o.shape,"float32"))},c={axes:s},A=Be.runKernelFunc((function(f){return f.sum(u,s)}),{x:u},(function(f){return{x:function(){return l(f)}}}),"Sum",c);if(t){var d=Fi(A.shape,a);A=A.reshape(d)}return{value:A,gradFunc:l}}))(n)}}),Nie=ye({prod_:function(r,e,t){e===void 0&&(e=null),t===void 0&&(t=!1);var n=oe(r,"x","prod");n.dtype==="bool"&&(n=n.toInt());var a=Ga(e,n.shape),o=Ku(a,n.rank),i=a,s=n;o!=null&&(s=n.transpose(o),i=Xu(i.length,n.rank));var u=Be.runKernelFunc((function(c){return c.prod(s,i)}),{permutedX:s});if(t){var l=Fi(u.shape,a);u=u.reshape(l)}return u}}),kO=ye({elu_:function(r){var e=oe(r,"x","elu");return Be.runKernelFunc((function(t,n){var a=t.elu(e);return n([a]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){return Be.runKernelFunc((function(o){return o.eluDer(t,a)}),{dy:t,y:a})}}}))}}),Pie=ye({leakyRelu_:function(r,e){e===void 0&&(e=.2);var t=oe(r,"x","leakyRelu");return u5(lt(e).mul(t),t)}}),NO=ye({prelu_:function(r,e){var t=oe(r,"x","prelu"),n=oe(e,"alpha","prelu");return Be.runKernelFunc((function(a,o){var i=a.prelu(t,n);return o([t,n]),i}),{x:t,alpha:n},(function(a,o){var i=o[0],s=o[1],u=i.greater(0);return{x:function(){return Dd(u,a,a.mul(s))},alpha:function(){var l=Dd(u,Jr(a),a.mul(i)),c=ja(s.shape,a.shape);return c.length>0&&(l=l.sum(c)),l.reshape(s.shape)}}}),"Prelu")}}),mn=ye({relu_:function(r){var e=oe(r,"x","relu");return e.dtype==="bool"?e.toInt():Be.runKernelFunc((function(t,n){var a=t.relu(e);return n([e]),a}),{x:e},(function(t,n){var a=n[0];return{x:function(){return t.mulStrict(a.step().toFloat())}}}),"Relu")}}),PO=ye({relu6_:function(r){var e=oe(r,"x","relu6");return e.dtype==="bool"?e.toInt():Be.runKernelFunc((function(t,n){var a=t.relu6(e);return n([e]),a}),{x:e},(function(t,n){var a=n[0],o=a.lessEqual(6).mul(a.step());return{x:function(){return t.mulStrict(o.toFloat())}}}),"Relu6")}}),Die=ye({selu_:function(r){var e=oe(r,"x","selu");return Be.runKernelFunc((function(t,n){var a=t.selu(e);return n([e]),a}),{$x:e},(function(t,n){var a=n[0];return{$x:function(){var o=a.greater(lt(0)),i=lt(a5),s=lt(o5),u=t.mul(s),l=t.mul(i).mul(a.toFloat().exp());return Dd(o,u,l)}}}))}}),lu=ye({transpose_:function(r,e){var t=oe(r,"x","transpose");if(e==null&&(e=t.shape.map((function(a,o){return o})).reverse()),ce(t.rank===e.length,(function(){return"Error in transpose: rank of input "+t.rank+" must match length of perm "+e+"."})),e.forEach((function(a){ce(a>=0&&a<t.rank,(function(){return"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+e}))})),t.rank<=1)return t.clone();var n={perm:e};return Be.runKernelFunc((function(a){return a.transpose(t,e)}),{x:t},(function(a){var o=Gb(e);return{x:function(){return a.transpose(o)}}}),"Transpose",n)}}),Rie=ye({localResponseNormalization_:function(r,e,t,n,a){e===void 0&&(e=5),t===void 0&&(t=1),n===void 0&&(n=1),a===void 0&&(a=.5);var o=oe(r,"x","localResponseNormalization");ce(o.rank===4||o.rank===3,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+o.rank+"."})),ce(Aa(e),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+e+"."}));var i=o,s=!1;o.rank===3&&(s=!0,i=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));var u=Be.runKernelFunc((function(l,c){var A=l.localResponseNormalization4D(i,e,t,n,a);return c([i,A]),A}),{x4D:i},(function(l,c){var A=c[0],d=c[1];return{x4D:function(){return Be.runKernelFunc((function(f){return f.LRNGrad(l,A,d,e,t,n,a)}),{})}}}));return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),DO=ye({norm_:function(r,e,t,n){e===void 0&&(e="euclidean"),t===void 0&&(t=null),n===void 0&&(n=!1);var a=(function s(u,l,c){if(c===void 0&&(c=null),u.rank===0)return u.abs();if(u.rank!==1&&c===null)return s(u.reshape([-1]),l,c);if(u.rank===1||typeof c=="number"||Array.isArray(c)&&c.length===1){if(l===1)return u.abs().sum(c);if(l===1/0)return u.abs().max(c);if(l===-1/0)return u.abs().min(c);if(l==="euclidean"||l===2)return u.abs().pow(lt(2,"int32")).sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}if(Array.isArray(c)&&c.length===2){if(l===1)return u.abs().sum(c[0]).max(c[1]-1);if(l===1/0)return u.abs().sum(c[1]).max(c[0]);if(l===-1/0)return u.abs().sum(c[1]).min(c[0]);if(l==="fro"||l==="euclidean")return u.square().sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}throw new Error("Error in norm: invalid axis: "+c)})(r=oe(r,"x","norm"),e,t),o=a.shape;if(n){var i=Ga(t,r.shape);o=Fi(a.shape,i)}return a.reshape(o)}}),Mie=ye({basicLSTMCell_:function(r,e,t,n,a,o){var i=oe(r,"forgetBias","basicLSTMCell"),s=oe(e,"lstmKernel","basicLSTMCell"),u=oe(t,"lstmBias","basicLSTMCell"),l=oe(n,"data","basicLSTMCell"),c=oe(a,"c","basicLSTMCell"),A=oe(o,"h","basicLSTMCell"),d=l.concat(A,1).matMul(s).add(u),f=d.shape[0],h=d.shape[1]/4,p=[f,h],v=d.slice([0,0],p),g=d.slice([0,h],p),B=d.slice([0,2*h],p),I=d.slice([0,3*h],p),S=v.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(i.add(B).sigmoid())),E=S.tanh().mulStrict(I.sigmoid());return[S,E]}}),Uie=ye({multiRNNCell_:function(r,e,t,n){for(var a=oe(e,"data","multiRNNCell"),o=Rb(t,"c","multiRNNCell"),i=Rb(n,"h","multiRNNCell"),s=a,u=[],l=0;l<r.length;l++){var c=r[l](s,o[l],i[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var A=[],d=[];for(l=0;l<u.length;l+=2)A.push(u[l]),d.push(u[l+1]);return[A,d]}}),Oie=ye({movingAverage_:function(r,e,t,n,a){a===void 0&&(a=!0);var o=oe(r,"v","movingAverage"),i=oe(e,"x","movingAverage"),s=oe(t,"decay","movingAverage");HM(o,i),ce(za(o.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var u=lt(1),l=u.sub(s),c=i.sub(o).mul(l);if(a){ce(n!=null,(function(){return"When using zeroDebias: true, step is required."}));var A=oe(n,"step","movingAverage");c=c.div(u.sub(qb(s,A)))}return o.add(c)}}),Qie=ye({stridedSlice_:function(r,e,t,n,a,o,i,s,u){if(a===void 0&&(a=0),o===void 0&&(o=0),i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=0),n==null&&(n=new Array(e.length)),i!==0)throw new Error("ellipsis mask is not yet supported");var l=oe(r,"x","stridedSlice"),c=FL(s),A=l.shape.slice();c.forEach((function(v){e[v]=0,t[v]=1,A.splice(v,0,1)})),l=l.reshape(A);for(var d=0;d<l.rank;d++)e[d]=LU(a,e,n,l.shape,d),t[d]=FU(o,t,n,l.shape,d),n[d]=n[d]||1;var f=FL(u);f.forEach((function(v){t[v]=e[v]+1,n[v]=1}));var h=Yb(e,t,n),p=h.filter((function(v,g){return f.indexOf(g)===-1}));return n.every((function(v){return v===1}))?ju(l,e,h).reshape(p):Be.runKernelFunc((function(v){return v.stridedSlice(l,e,t,n)}),{$x:l}).reshape(p)}}),Hie=ye({topk_:function(r,e,t){e===void 0&&(e=1),t===void 0&&(t=!0);var n=oe(r,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+e);var o=Be.runKernelFunc((function(i){return i.topk(n,e,t)}),{$x:n});return{values:o[0],indices:o[1]}}}),Vie=ye({scatterND_:function(r,e,t){var n=oe(r,"indices","scatterND","int32"),a=oe(e,"updates","scatterND");return IU(a,n,t),Be.runKernelFunc((function(o){return o.scatterND(n,a,t)}),{indices:n,updates:a},null,"ScatterNd",{shape:t})}}),f5=ye({fft_:function(r){ce(r.dtype==="complex64",(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+r.dtype+"."}));var e=r.shape[r.shape.length-1],t=r.size/e,n=r.as2D(t,e);return Be.runKernelFunc((function(a){return a.fft(n)}),{input:r}).reshape(r.shape)}}),Wb=ye({ifft_:function(r){ce(r.dtype==="complex64",(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+r.dtype+"."}));var e=r.shape[r.shape.length-1],t=r.size/e,n=r.as2D(t,e);return Be.runKernelFunc((function(a){return a.ifft(n)}),{input:r}).reshape(r.shape)}}),d5=ye({rfft_:function(r,e){ce(r.dtype==="float32",(function(){return"The dtype for rfft() must be real value but got "+r.dtype}));var t,n=r.shape[r.shape.length-1],a=r.size/n;if(e!=null&&e<n){var o=r.shape.map((function(g){return 0})),i=r.shape.map((function(g){return g}));i[r.shape.length-1]=e,t=r.slice(o,i),n=e}else if(e!=null&&e>n){var s=r.shape.map((function(g){return g}));s[r.shape.length-1]=e-n,t=r.concat(Rn(s),r.shape.length-1),n=e}else t=r;var u=t.zerosLike(),l=Do(t,u).as2D(a,n),c=f5(l),A=Math.floor(n/2)+1,d=su(c),f=Tl(c),h=d.split([A,n-A],d.shape.length-1),p=f.split([A,n-A],f.shape.length-1),v=t.shape.slice();return v[t.shape.length-1]=A,Do(h[0],p[0]).reshape(v)}}),RO=ye({irfft_:function(r){var e=r.shape[r.shape.length-1],t=r.size/e;if(e<=2){var n=r.as2D(t,e),a=Wb(n);return su(a)}var o=[t,2*(e-1)],i=su(r).as2D(t,e),s=Tl(r).as2D(t,e),u=i.slice([0,1],[t,e-2]).reverse(1),l=s.slice([0,1],[t,e-2]).reverse(1).mul(lt(-1)),c=i.concat(u,1),A=s.concat(l,1);return n=Do(c,A).as2D(o[0],o[1]),a=Wb(n),su(a)}}),qie=Object.freeze({fft:f5,ifft:Wb,rfft:d5,irfft:RO}),Wie=ye({sparseToDense_:function(r,e,t,n){n===void 0&&(n=0);var a=oe(r,"sparseIndices","sparseToDense","int32"),o=oe(e,"sparseValues","sparseToDense"),i=oe(n,"defaultValue","sparseToDense",o.dtype);return(function(s,u,l,c){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var A=s.rank>0?s.shape[0]:1,d=s.rank>1?s.shape[1]:1;if(l.length!==d)throw new Error("outputShape has incorrect number of elements:, "+l.length+", should be: "+d+".");var f=u.size;if(u.rank!==0&&(u.rank!==1||f!==A))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+A+"]");if(u.dtype!==c.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")})(a,o,t,i),Be.runKernelFunc((function(s){return s.sparseToDense(a,o,t,i)}),{$sparseIndices:a,$sparseValues:o,$defaultValue:i})}}),zie=ye({gatherND_:function(r,e){var t=oe(e,"indices","gatherND","int32"),n=oe(r,"x","gatherND");return Be.runKernelFunc((function(a){return a.gatherND(n,t)}),{x:n,indices:t},null,"GatherNd")}}),jie=ye({diag_:function(r){var e=oe(r,"x","diag").flatten(),t=r.shape.concat(r.shape);return Be.runKernelFunc((function(n){return n.diag(e)}),{$x:e}).reshape(t)}}),Gie=ye({dropout_:function(r,e,t,n){var a=oe(r,"x","dropout");if(ce(a.dtype==="float32",(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."})),ce(e>=0&&e<1,(function(){return"rate must be a float in the range [0, 1), but got "+e+"."})),e===0)return r instanceof Ln?a.clone():a;var o=(function(u,l){if(l==null)return u.shape.slice();if(za(u.shape,l))return l;if(u.shape.length===l.length){for(var c=[],A=0;A<u.shape.length;A++)l[A]==null&&u.shape[A]!=null?c.push(u.shape[A]):c.push(l[A]);return c}return l})(a,t),i=1-e,s=xU(o,0,1,"float32",n).add(i).floor().div(i);return a.mul(s)}});function MO(r,e,t){for(var n=1-r%2,a=new Float32Array(r),o=0;o<r;++o){var i=2*Math.PI*o/(r+n-1);a[o]=e-t*Math.cos(i)}return Nn(a,"float32")}var h5=ye({hannWindow_:function(r){return MO(r,.5,.5)}}),UO=ye({hammingWindow_:function(r){return MO(r,.54,.46)}}),p5=ye({frame_:function(r,e,t,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var o=0,i=[];o+e<=r.size;)i.push(ju(r,o,e)),o+=t;if(n)for(;o<r.size;){var s=o+e-r.size,u=Wn([ju(r,o,e-s),Ps([s],a)]);i.push(u),o+=t}return i.length===0?_l([],[0,e]):Wn(i).as2D(i.length,e)}}),OO=ye({stft_:function(r,e,t,n,a){var o;a===void 0&&(a=h5),n==null&&(o=e,n=Math.floor(Math.pow(2,Math.ceil(Math.log(o)/Math.log(2)))));for(var i=p5(r,e,t),s=ca(i,a(e)),u=[],l=0;l<i.shape[0];l++)u.push(d5(s.slice([l,0],[1,e]),n));return Wn(u)}}),Kie=Object.freeze({hannWindow:h5,hammingWindow:UO,frame:p5,stft:OO}),oi,Xie=function(r,e,t){return t===void 0&&(t=1),Pt(this,void 0,void 0,(function(){var n,a,o,i,s,u,l,c,A,d,f,h,p,v;return Dt(this,(function(g){switch(g.label){case 0:return n=oe(r,"predictions","inTopK"),a=oe(e,"targets","inTopK"),ce(n.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+n.rank})),ce(n.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+n.rank+" and targets rank "+a.rank})),on(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=n.shape[n.shape.length-1],ce(t>0&&t<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+o+"), but got "+t})),[4,n.data()];case 1:return i=g.sent(),[4,a.data()];case 2:for(s=g.sent(),u=[i.length/o,o],c=u[1],A=cm("bool",l=u[0]),d=0;d<l;d++){for(f=d*c,h=i.subarray(f,f+c),p=[],v=0;v<h.length;v++)p.push({value:h[v],index:v});for(p.sort((function(B,I){return I.value-B.value})),A[d]=0,v=0;v<t;v++)if(p[v].index===s[d]){A[d]=1;break}}return r!==n&&n.dispose(),e!==a&&a.dispose(),[2,Co(A,a.shape,"bool")]}}))}))};(function(r){r[r.NONE=0]="NONE",r[r.MEAN=1]="MEAN",r[r.SUM=2]="SUM",r[r.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(oi||(oi={}));var Yie=ye({absoluteDifference_:function(r,e,t,n){n===void 0&&(n=oi.SUM_BY_NONZERO_WEIGHTS);var a=oe(r,"labels","absoluteDifference"),o=oe(e,"predictions","absoluteDifference"),i=null;t!=null&&(i=oe(t,"weights","absoluteDifference")),on(a.shape,o.shape,"Error in absoluteDifference: ");var s=a.sub(o).abs();return Mc(s,i,n)}}),Mc=ye({computeWeightedLoss_:function(r,e,t){t===void 0&&(t=oi.SUM_BY_NONZERO_WEIGHTS);var n=oe(r,"losses","computeWeightedLoss"),a=null;e!=null&&(a=oe(e,"weights","computeWeightedLoss"));var o=a==null?n:n.mul(a);if(t===oi.NONE)return o;if(t===oi.SUM)return o.sum();if(t===oi.MEAN){if(a==null)return o.mean();var i=n.size/a.size,s=o.sum().div(a.sum());return i>1?s.div(lt(i)):s}if(t===oi.SUM_BY_NONZERO_WEIGHTS){if(a==null)return o.sum().div(lt(n.size));var u=a.mul(hm(n.shape)).notEqual(lt(0)).sum().toFloat();return o.sum().div(u)}throw Error("Unknown reduction: "+t)}}),$ie=ye({cosineDistance_:function(r,e,t,n,a){a===void 0&&(a=oi.SUM_BY_NONZERO_WEIGHTS);var o=oe(r,"labels","cosineDistance"),i=oe(e,"predictions","cosineDistance"),s=null;n!=null&&(s=oe(n,"weights","cosineDistance")),on(o.shape,i.shape,"Error in cosineDistance: ");var u=lt(1).sub(o.mul(i).sum(t,!0));return Mc(u,s,a)}}),Jie=ye({hingeLoss_:function(r,e,t,n){n===void 0&&(n=oi.SUM_BY_NONZERO_WEIGHTS);var a=oe(r,"labels","hingeLoss"),o=oe(e,"predictions","hingeLoss"),i=null;t!=null&&(i=oe(t,"weights","hingeLoss")),on(a.shape,o.shape,"Error in hingeLoss: ");var s=lt(1);a=lt(2).mul(a).sub(s);var u=s.sub(a.mul(o)).relu();return Mc(u,i,n)}}),Zie=ye({huberLoss_:function(r,e,t,n,a){n===void 0&&(n=1),a===void 0&&(a=oi.SUM_BY_NONZERO_WEIGHTS);var o=oe(r,"labels","huberLoss"),i=oe(e,"predictions","huberLoss"),s=null;t!=null&&(s=oe(t,"weights","huberLoss")),on(o.shape,i.shape,"Error in huberLoss: ");var u=lt(n),l=i.sub(o).abs(),c=yO(l,u),A=l.sub(c),d=lt(.5).mul(c.square()).add(u.mul(A));return Mc(d,s,a)}}),ese=ye({logLoss_:function(r,e,t,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=oi.SUM_BY_NONZERO_WEIGHTS);var o=oe(r,"labels","logLoss"),i=oe(e,"predictions","logLoss"),s=null;t!=null&&(s=oe(t,"weights","logLoss")),on(o.shape,i.shape,"Error in logLoss: ");var u=lt(1),l=lt(n),c=o.mul(i.add(l).log()).neg().sub(u.sub(o).mul(u.sub(i).add(l).log()));return Mc(c,s,a)}}),tse=ye({meanSquaredError_:function(r,e,t,n){n===void 0&&(n=oi.SUM_BY_NONZERO_WEIGHTS);var a=oe(r,"labels","meanSquaredError"),o=oe(e,"predictions","meanSquaredError"),i=null;t!=null&&(i=oe(t,"weights","meanSquaredError")),on(a.shape,o.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(o);return Mc(s,i,n)}}),rse=ye({sigmoidCrossEntropy_:function(r,e,t,n,a){n===void 0&&(n=0),a===void 0&&(a=oi.SUM_BY_NONZERO_WEIGHTS);var o=oe(r,"multiClassLabels","sigmoidCrossEntropy"),i=oe(e,"logits","sigmoidCrossEntropy"),s=null;if(t!=null&&(s=oe(t,"weights","sigmoidCrossEntropy")),on(o.shape,i.shape,"Error in sigmoidCrossEntropy: "),n>0){var u=lt(n),l=lt(1),c=lt(.5);o=o.mul(l.sub(u)).add(c.mul(u))}var A=(function(d,f){var h=oe(d,"labels","sigmoidCrossEntropyWithLogits"),p=oe(f,"logits","sigmoidCrossEntropyWithLogits");on(h.shape,p.shape,"Error in sigmoidCrossEntropyWithLogits: ");var v=p.relu(),g=p.mul(h),B=p.abs().neg().exp().log1p();return v.sub(g).add(B)})(o,i);return Mc(A,s,a)}}),nse=ye({softmaxCrossEntropy_:function(r,e,t,n,a){n===void 0&&(n=0),a===void 0&&(a=oi.SUM_BY_NONZERO_WEIGHTS);var o=oe(r,"onehotLabels","softmaxCrossEntropy"),i=oe(e,"logits","softmaxCrossEntropy"),s=null;if(t!=null&&(s=oe(t,"weights","softmaxCrossEntropy")),on(o.shape,i.shape,"Error in softmaxCrossEntropy: "),n>0){var u=lt(n),l=lt(1),c=lt(o.shape[1]);o=o.mul(l.sub(u)).add(u.div(c))}var A=(function(d,f,h){if(h===void 0&&(h=-1),h===-1&&(h=f.rank-1),h!==f.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+f.rank+" and dim was "+h);return $b((function(p,v,g){var B=v.logSumExp([h],!0),I=v.toFloat().sub(B);return g([p,I]),{value:I.mul(p).neg().sum([h]),gradFunc:function(S,E){var T=E[0],U=E[1],D=Fi(S.shape,[h]);return[S.reshape(D).mul(T.toFloat().sub(U.exp())),S.reshape(D).mul(U.exp().sub(T.toFloat()))]}}}))(d,f)})(o,i);return Mc(A,s,a)}}),ase=Object.freeze({get Reduction(){return oi},absoluteDifference:Yie,computeWeightedLoss:Mc,cosineDistance:$ie,hingeLoss:Jie,huberLoss:Zie,logLoss:ese,meanSquaredError:tse,sigmoidCrossEntropy:rse,softmaxCrossEntropy:nse});function dM(r,e){return e===void 0&&(e=!1),Be.tidy((function(){if(r.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+r.shape.length+"D Tensor.");for(var t=r.shape[0],n=r.shape[1],a=yU(t),o=r.clone(),i=_l([[1]],[1,1]),s=i.clone(),u=t>=n?n:t,l=function(A){var d,f=o,h=s,p=a;d=Be.tidy((function(){var v=o.slice([A,A],[t-A,1]),g=v.norm(),B=o.slice([A,A],[1,1]),I=_l([[-1]]).where(B.greater(0),_l([[1]])),S=B.sub(I.mul(g)),E=v.div(S);s=E.shape[0]===1?i.clone():i.concat(E.slice([1,0],[E.shape[0]-1,E.shape[1]]),0);var T=I.matMul(S).div(g).neg(),U=o.slice([A,0],[t-A,n]),D=T.mul(s);if(A===0)o=U.sub(D.matMul(s.transpose().matMul(U)));else{var k=U.sub(D.matMul(s.transpose().matMul(U)));o=o.slice([0,0],[A,n]).concat(k,0)}var O=a.slice([0,A],[t,a.shape[1]-A]);if(A===0)a=O.sub(O.matMul(s).matMul(D.transpose()));else{var N=O.sub(O.matMul(s).matMul(D.transpose()));a=a.slice([0,0],[t,A]).concat(N,1)}return[s,o,a]})),s=d[0],o=d[1],a=d[2],os([f,h,p])},c=0;c<u;++c)l(c);return!e&&t>n&&(a=a.slice([0,0],[t,n]),o=o.slice([0,0],[n,n])),[a,o]}))}var ose=ye({bandPart_:function(r,e,t){if(e%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+e+".");if(t%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+t+".");var n=oe(r,"a","bandPart");if(n.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+n.rank+".");var a=n.shape,o=n.shape.slice(-2),i=o[0],s=o[1];if(!(e<=i))throw new Error("bandPart(): numLower ("+e+") must not be greater than the number of rows ("+i+").");if(!(t<=s))throw new Error("bandPart(): numUpper ("+t+") must not be greater than the number of columns ("+s+").");e<0&&(e=i),t<0&&(t=s);var u=Mb(0,i,1,"int32").reshape([-1,1]),l=Mb(0,s,1,"int32"),c=Fn(u,l),A=t2(c.lessEqual(lt(+e,"int32")),c.greaterEqual(lt(-t,"int32"))),d=Rn([i,s],n.dtype);return Uo(wn(n.reshape([-1,i,s])).map((function(f){return Dd(A,f,d)}))).reshape(a)}}),ise=ye({gramSchmidt_:function(r){var e;if(Array.isArray(r)){e=!1,ce(r!=null&&r.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var t=r[0].shape[0],n=function(u){ce(r[u].shape[0]===t,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+r[u].shape[0]+" vs. "+t+")"}))},a=1;a<r.length;++a)n(a)}else e=!0,r=zL(r,r.shape[0],0).map((function(u){return bU(u,[0])}));ce(r.length<=r[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+r.length+") exceeds number of dimensions ("+r[0].shape[0]+")."}));var o=[],i=r,s=function(u){o.push(Be.tidy((function(){var l=i[u];if(u>0)for(var c=0;c<u;++c){var A=_O(o[c].mulStrict(l)).mul(o[c]);l=l.sub(A)}return l.div(DO(l,"euclidean"))})))};for(a=0;a<r.length;++a)s(a);return e?Uo(o,0):o}}),sse=ye({qr_:function(r,e){if(e===void 0&&(e=!1),r.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+r.rank);if(r.rank===2)return dM(r,e);var t=r.shape.slice(0,r.shape.length-2).reduce((function(i,s){return i*s})),n=wn(r.reshape([t,r.shape[r.shape.length-2],r.shape[r.shape.length-1]]),0),a=[],o=[];return n.forEach((function(i){var s=dM(i,e),u=s[0],l=s[1];a.push(u),o.push(l)})),[Uo(a,0).reshape(r.shape),Uo(o,0).reshape(r.shape)]}}),use=Object.freeze({bandPart:ose,gramSchmidt:ise,qr:sse});function r2(r,e,t,n,a,o){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),o==null&&(o=0);var i=r.shape[0];return t=Math.min(t,i),ce(0<=n&&n<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"})),ce(r.rank===2,(function(){return"boxes must be a 2D tensor, but was of rank '"+r.rank+"'"})),ce(r.shape[1]===4,(function(){return"boxes must have 4 columns, but 2nd dimension was "+r.shape[1]})),ce(e.rank===1,(function(){return"scores must be a 1D tensor"})),ce(e.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+e.shape[0]})),ce(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+o+"'"})),{maxOutputSize:t,iouThreshold:n,scoreThreshold:a,softNmsSigma:o}}var lse=ye({resizeBilinear_:function(r,e,t){t===void 0&&(t=!1);var n=oe(r,"images","resizeBilinear");ce(n.rank===3||n.rank===4,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+n.rank+"."})),ce(e.length===2,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+e+"."}));var a=n,o=!1;n.rank===3&&(o=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var i=e[0],s=e[1],u=Be.runKernelFunc((function(l,c){return c([a]),l.resizeBilinear(a,i,s,t)}),{x:a},(function(l,c){return{x:function(){return Be.runKernelFunc((function(A){return A.resizeBilinearBackprop(l,c[0],t)}),{})}}}),"ResizeBilinear",{alignCorners:t,newHeight:i,newWidth:s});return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),cse=ye({resizeNearestNeighbor_:function(r,e,t){t===void 0&&(t=!1);var n=oe(r,"images","resizeNearestNeighbor");ce(n.rank===3||n.rank===4,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+n.rank+"."})),ce(e.length===2,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+e+"."})),ce(n.dtype==="float32"||n.dtype==="int32",(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=n,o=!1;n.rank===3&&(o=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var i=e[0],s=e[1],u=Be.runKernelFunc((function(l,c){return c([a]),l.resizeNearestNeighbor(a,i,s,t)}),{batchImages:a},(function(l,c){return{batchImages:function(){return Be.runKernelFunc((function(A){return A.resizeNearestNeighborBackprop(l,c[0],t)}),{})}}}));return o?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),Ase=ye({nonMaxSuppression_:function(r,e,t,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var o=oe(r,"boxes","nonMaxSuppression"),i=oe(e,"scores","nonMaxSuppression"),s=r2(o,i,t,n,a);t=s.maxOutputSize,n=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:t,iouThreshold:n,scoreThreshold:a};return Be.runKernelFunc((function(l){return l.nonMaxSuppression(o,i,t,n,a)}),{boxes:o,scores:i},null,"NonMaxSuppressionV3",u)}}),fse=function(r,e,t,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),Pt(this,void 0,void 0,(function(){var o,i,s,u,l,c,A;return Dt(this,(function(d){switch(d.label){case 0:return o=oe(r,"boxes","nonMaxSuppressionAsync"),i=oe(e,"scores","nonMaxSuppressionAsync"),s=r2(o,i,t,n,a),t=s.maxOutputSize,n=s.iouThreshold,a=s.scoreThreshold,[4,Promise.all([o.data(),i.data()])];case 1:return u=d.sent(),l=u[0],c=u[1],A=e5(l,c,t,n,a),o!==r&&o.dispose(),i!==e&&i.dispose(),[2,A]}}))}))},dse=ye({nonMaxSuppressionWithScore_:function(r,e,t,n,a,o){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0);var i=oe(r,"boxes","nonMaxSuppression"),s=oe(e,"scores","nonMaxSuppression"),u=r2(i,s,t,n,a,o),l={maxOutputSize:t=u.maxOutputSize,iouThreshold:n=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},c=Be.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),hse=function(r,e,t,n,a,o){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),o===void 0&&(o=0),Pt(this,void 0,void 0,(function(){var i,s,u,l,c,A,d;return Dt(this,(function(f){switch(f.label){case 0:return i=oe(r,"boxes","nonMaxSuppressionAsync"),s=oe(e,"scores","nonMaxSuppressionAsync"),u=r2(i,s,t,n,a,o),t=u.maxOutputSize,n=u.iouThreshold,a=u.scoreThreshold,o=u.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return l=f.sent(),c=l[0],A=l[1],d=t5(c,A,t,n,a,o),i!==r&&i.dispose(),s!==e&&s.dispose(),[2,d]}}))}))},pse=ye({cropAndResize_:function(r,e,t,n,a,o){var i=oe(r,"image","cropAndResize"),s=oe(e,"boxes","cropAndResize","float32"),u=oe(t,"boxInd","cropAndResize","int32");a=a||"bilinear",o=o||0;var l=s.shape[0];return ce(i.rank===4,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."})),ce(s.rank===2&&s.shape[1]===4,(function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."})),ce(u.rank===1&&u.shape[0]===l,(function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."})),ce(n.length===2,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+n.length+"."})),ce(n[0]>=1&&n[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+n})),ce(a==="bilinear"||a==="nearest",(function(){return"method must be bilinear or nearest, but was "+a})),Be.runKernelFunc((function(c,A){return c.cropAndResize(i,s,u,n,a,o)}),{images:i,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:o,cropSize:n})}}),ty=Object.freeze({resizeBilinear:lse,resizeNearestNeighbor:cse,nonMaxSuppression:Ase,nonMaxSuppressionAsync:fse,nonMaxSuppressionWithScore:dse,nonMaxSuppressionWithScoreAsync:hse,cropAndResize:pse}),m5=function(r,e){return!(r>0)||e==="linear"},g5=function(r,e,t){if(t==null||t==="linear")return r;if(t==="relu")return r.mul(e.step());throw new Error("Gradient for activation "+t+" has not been implemented yet.")},v5=function(r,e){var t=e,n=ja(r.shape,e.shape);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},y5=function(r,e,t){if(e==="linear")return r;if(e==="relu")return mn(r);if(e==="elu")return kO(r);if(e==="relu6")return PO(r);if(e==="prelu")return NO(r,t);throw new Error("Unknown fused activation "+e+".")},mse=ye({fusedMatMul_:function(r){var e,t=r.a,n=r.b,a=r.transposeA,o=a!==void 0&&a,i=r.transposeB,s=i!==void 0&&i,u=r.bias,l=r.activation,c=l===void 0?"linear":l,A=r.preluActivationWeights;if(m5(Be.state.gradientDepth,c)===!1){var d=pm(t,n,o,s);return u!=null&&(d=ur(d,u)),y5(d,c,A)}var f=oe(t,"a","fused matMul"),h=oe(n,"b","fused matMul");e=ra(f,h),f=e[0],h=e[1];var p=o?f.shape[f.rank-2]:f.shape[f.rank-1],v=s?h.shape[h.rank-1]:h.shape[h.rank-2],g=o?f.shape[f.rank-1]:f.shape[f.rank-2],B=s?h.shape[h.rank-2]:h.shape[h.rank-1],I=f.shape.slice(0,-2),S=h.shape.slice(0,-2),E=Ot(I),T=Ot(S);ce(f.rank>=2&&h.rank>=2&&f.rank===h.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+h.rank+"."})),ce(za(I,S),(function(){return"Error in fused matMul: outer dimensions ("+I+") and ("+S+") of Tensors with shapes "+f.shape+" and "+h.shape+" must match."})),ce(p===v,(function(){return"Error in fused matMul: inner shapes ("+p+") and ("+v+") of Tensors with shapes "+f.shape+" and "+h.shape+" and transposeA="+o+" and transposeB="+s+" must match."}));var U,D,k=f.shape.slice(0,-2).concat([g,B]),O=o?f.as3D(E,p,g):f.as3D(E,g,p),N=s?h.as3D(T,B,v):h.as3D(T,v,B);u!=null&&Dr(k,(U=ra(U=oe(u,"bias","fused matMul"),f)[0]).shape),A!=null&&(D=oe(A,"prelu weights","fused matMul"));var P={a:O,b:N};u!=null&&(P.bias=U),A!=null&&(P.preluActivationWeights=D);var j=[O,N];return Be.runKernelFunc((function(z,ne){var re=z.fusedBatchMatMul({a:O,b:N,transposeA:o,transposeB:s,bias:U,activation:c,preluActivationWeights:D});return ne([O,N,re]),re}),P,(function(z,ne){var re=ne[0],Y=ne[1],J=ne[2],G=g5(z,J,c),Z={};return u!=null&&(Z={bias:function(){return v5(U,G)}}),Object.assign(o||s?!o&&s?{a:function(){return G.matMul(Y,!1,!1)},b:function(){return G.matMul(re,!0,!1)}}:o&&!s?{a:function(){return Y.matMul(G,!1,!0)},b:function(){return re.matMul(G,!1,!1)}}:{a:function(){return Y.matMul(G,!0,!0)},b:function(){return G.matMul(re,!0,!0)}}:{a:function(){return G.matMul(Y,!1,!0)},b:function(){return re.matMul(G,!0,!1)}},Z)}),"_FusedMatMul",{transposeA:o,transposeB:s,activation:c},j,[!0]).reshape(k)}}),gse=ye({fusedConv2d_:function(r){var e=r.x,t=r.filter,n=r.strides,a=r.pad,o=r.dataFormat,i=o===void 0?"NHWC":o,s=r.dilations,u=s===void 0?[1,1]:s,l=r.dimRoundingMode,c=r.bias,A=r.activation,d=A===void 0?"linear":A,f=r.preluActivationWeights;if(d=d||"linear",m5(Be.state.gradientDepth,d)===!1){var h=Bo(e,t,n,a,i,u,l);return c!=null&&(h=ur(h,c)),y5(h,d,f)}var p=oe(e,"x","conv2d"),v=oe(t,"filter","conv2d"),g=p,B=!1;p.rank===3&&(B=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),ce(g.rank===4,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."})),ce(v.rank===4,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."})),l!=null&&ce(Aa(a),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+a+"."})),ce(g.shape[3]===v.shape[2],(function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."})),ce(Ti(n,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+u+"'"})),ce(i==="NHWC",(function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."}));var I,S,E=$A(g.shape,v.shape,n,u,a,l);c!=null&&(I=ra(I=oe(c,"bias","fused conv2d"),p)[0],Dr(E.outShape,I.shape)),f!=null&&(S=oe(f,"prelu weights","fused conv2d"));var T={x:g,filter:v};c!=null&&(T.bias=I),f!=null&&(T.preluActivationWeights=S);var U=[v,g],D=Be.runKernelFunc((function(k,O){var N=k.fusedConv2d({input:g,filter:v,convInfo:E,bias:I,activation:d,preluActivationWeights:S});return O([v,g,N]),N}),T,(function(k,O){var N=O,P=N[0],j=N[1],z=N[2],ne=g5(k,z,d);ce(Pd(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"}));var re={};return c!=null&&(re={bias:function(){return v5(I,ne)}}),Object.assign({x:function(){return SO(j.shape,ne,P,n,a)},filter:function(){return c5(j,ne,P.shape,n,a)}},re)}),"FusedConv2D",{convInfo:E,activation:d},U,[!0]);return B?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),vse=ye({fusedDepthwiseConv2d_:function(r){var e=r.x,t=r.filter,n=r.strides,a=r.pad,o=r.dataFormat,i=o===void 0?"NHWC":o,s=r.dilations,u=s===void 0?[1,1]:s,l=r.dimRoundingMode,c=r.bias,A=r.activation,d=A===void 0?"linear":A,f=r.preluActivationWeights;if(m5(Be.state.gradientDepth,d)===!1){var h=Jv(e,t,n,a,i,u,l);return c!=null&&(h=ur(h,c)),y5(h,d,f)}var p=oe(e,"x","depthwiseConv2d"),v=oe(t,"filter","depthwiseConv2d"),g=p,B=!1;p.rank===3&&(B=!0,g=p.as4D(1,p.shape[0],p.shape[1],p.shape[2])),ce(g.rank===4,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."})),ce(v.rank===4,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."})),ce(g.shape[3]===v.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."})),u==null&&(u=[1,1]),ce(Ti(n,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+u+"'"})),l!=null&&ce(Aa(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+a+"."}));var I,S,E=$A(g.shape,v.shape,n,u,a,l,!0);c!=null&&(I=ra(I=oe(c,"bias","fused conv2d"),p)[0],Dr(E.outShape,I.shape)),f!=null&&(S=oe(f,"prelu weights","fused depthwiseConv2d"));var T={x:g,filter:v};c!=null&&(T.bias=I),f!=null&&(T.preluActivationWeights=S);var U=[v,g],D=Be.runKernelFunc((function(k,O){var N=k.fusedDepthwiseConv2D({input:g,filter:v,convInfo:E,bias:I,activation:d,preluActivationWeights:S});return O([v,g,N]),N}),T,(function(k,O){ce(Pd(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"}));var N=O[0],P=O[1],j=O[2],z=g5(k,j,d),ne={};return c!=null&&(ne={bias:function(){return v5(I,z)}}),Object.assign({x:function(){return IO(P.shape,z,N,E)},filter:function(){return EO(P,z,N.shape,E)}},ne)}),"FusedDepthwiseConv2D",{convInfo:E,activation:d},U,[!0]);return B?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),yse=Object.freeze({matMul:mse,conv2d:gse,depthwiseConv2d:vse}),xse=Object.freeze({image:ty,linalg:use,losses:ase,spectral:qie,fused:yse,signal:Kie,square:eoe,squaredDifference:AO,conv1d:lie,conv2d:Bo,conv3d:cie,depthwiseConv2d:Jv,separableConv2d:Zv,conv2dTranspose:Aie,conv3dTranspose:fie,op:ye,batchNormalization2d:Toe,batchNormalization3d:_oe,batchNormalization4d:koe,batchNormalization:Noe,batchNorm:s5,batchNorm2d:Poe,batchNorm3d:Doe,batchNorm4d:Roe,booleanMaskAsync:uie,complex:Do,real:su,imag:Tl,concat:Wn,concat1d:Hre,concat2d:Vre,concat3d:qre,concat4d:Wre,split:zL,matMul:pm,dot:die,outerProduct:hie,reverse:ey,reverse1d:pie,reverse2d:mie,reverse3d:gie,reverse4d:vie,maxPool:fa,avgPool:Rc,pool:yie,maxPool3d:xie,avgPool3d:wie,slice:ju,slice1d:bie,slice2d:Cie,slice3d:A5,slice4d:Bie,abs:toe,acos:roe,acosh:noe,asin:aoe,asinh:ooe,atan:ioe,atanh:soe,ceil:uoe,clipByValue:Xv,cos:loe,cosh:coe,erf:Aoe,exp:Zb,expm1:foe,floor:doe,log:hoe,log1p:poe,logSigmoid:moe,neg:Yv,reciprocal:goe,round:voe,rsqrt:fO,sigmoid:i5,sign:yoe,isNaN:xoe,isInf:woe,isFinite:boe,sin:Coe,sinh:Boe,softplus:Soe,sqrt:Ioe,step:Eoe,tan:Loe,tanh:Foe,all:Sie,any:Iie,argMax:Eie,argMin:Lie,logSumExp:Fie,max:Ud,mean:Tie,min:_ie,moments:kie,sum:_O,prod:Nie,equal:xO,equalStrict:Joe,greater:Zoe,greaterEqual:wO,greaterEqualStrict:eie,greaterStrict:tie,less:rie,lessEqual:nie,lessEqualStrict:aie,lessStrict:oie,notEqual:iie,notEqualStrict:sie,add:ur,addN:Ooe,addStrict:Qoe,atan2:Hoe,div:uu,divNoNan:Voe,divStrict:qoe,floorDiv:vO,maximum:u5,maximumStrict:Woe,minimum:yO,minimumStrict:zoe,mod:joe,modStrict:Goe,mul:ca,mulStrict:Koe,pow:qb,powStrict:Xoe,squaredDifferenceStrict:Yoe,sub:Fn,subStrict:$oe,elu:kO,leakyRelu:Pie,prelu:NO,relu:mn,relu6:PO,selu:Die,logicalAnd:t2,logicalNot:Moe,logicalOr:mO,logicalXor:Uoe,where:Dd,whereAsync:gO,buffer:xr,print:Zre,batchToSpaceND:vU,broadcastTo:ene,cast:tne,clone:rne,cumsum:nne,depthToSpace:ane,expandDims:ni,eye:yU,multinomial:one,oneHot:LL,pad:Dc,pad1d:ine,pad2d:sne,pad3d:une,pad4d:lne,rand:cne,randomNormal:Ane,randomGamma:fne,randomUniform:xU,reshape:_i,spaceToBatchND:wU,squeeze:bU,stack:Uo,tile:_d,truncatedNormal:dne,unstack:wn,setdiff1dAsync:hne,fill:Ps,linspace:Qre,ones:hm,range:Mb,scalar:lt,tensor:Co,tensor1d:Nn,tensor2d:_l,tensor3d:Kb,tensor4d:fo,tensor5d:Mre,tensor6d:Ure,variable:Ore,zeros:Rn,onesLike:gU,zerosLike:Jr,transpose:lu,softmax:ki,logSoftmax:mne,localResponseNormalization:Rie,norm:DO,gather:l5,unsortedSegmentSum:bO,basicLSTMCell:Mie,multiRNNCell:Uie,movingAverage:Oie,stridedSlice:Qie,topk:Hie,scatterND:Vie,fft:f5,ifft:Wb,rfft:d5,irfft:RO,sparseToDense:Wie,gatherND:zie,diag:jie,dropout:Gie,hannWindow:h5,hammingWindow:UO,frame:p5,stft:OO,inTopKAsync:Xie});function Ye(r,e){Array.isArray(r)||(r=[r]),r.forEach((function(t){t!=null&&ce(t.dtype!=="complex64",(function(){return e+" does not support complex64 tensors."}))}))}function iL(r,e,t,n){if(t==="linear")return r.linear(e);if(t==="relu")return r.relu(e);if(t==="elu")return r.elu(e);if(t==="relu6")return r.relu6(e);if(t==="prelu")return r.prelu(e,n);throw new Error("Activation "+t+" has not been implemented for the CPU backend.")}var wse=(function(r){function e(){var t=r.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new TU(t,Be),t}return Gu(e,r),e.prototype.write=function(t,n,a){this.firstUse&&(this.firstUse=!1,Qe().get("IS_NODE")&&Db(`
============================
Hi there \u{1F44B}. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var o={};return this.data.set(o,{values:t,dtype:a}),o},e.prototype.move=function(t,n,a,o){this.data.set(t,{values:n,dtype:o})},e.prototype.numDataIds=function(){return this.data.numDataIds()},e.prototype.read=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){return[2,this.readSync(t)]}))}))},e.prototype.readSync=function(t){var n=this.data.get(t),a=n.dtype,o=n.complexTensors;return a==="complex64"?_L(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.data.get(t).values},e.prototype.bufferSync=function(t){var n=this.readSync(t.dataId),a=n;if(t.dtype==="string")try{a=n.map((function(o){return Uv(o)}))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return xr(t.shape,t.dtype,a)},e.prototype.makeOutput=function(t,n,a){var o=this.write(t,n,a);return Be.makeTensorFromDataId(o,n,a,this)},e.prototype.disposeData=function(t){if(this.data.has(t)){var n=this.data.get(t).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.data.delete(t)}},e.prototype.time=function(t){return Pt(this,void 0,void 0,(function(){var n;return Dt(this,(function(a){return n=Wu(),t(),[2,{kernelMs:Wu()-n}]}))}))},e.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},e.prototype.complex=function(t,n){var a=this.makeOutput(null,t.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:Be.keep(t.clone()),imag:Be.keep(n.clone())},a},e.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},e.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},e.prototype.slice=function(t,n,a){if(Ye(t,"slice"),XL(t.shape,n,a)){var o=YL(n,t.strides),i=Ot(a);return Co(this.readSync(t.dataId).subarray(o,o+i),a,t.dtype)}for(var s=xr(a,t.dtype),u=this.bufferSync(t),l=0;l<s.size;++l){var c=s.indexToLoc(l).map((function(A,d){return A+n[d]}));s.values[l]=u.get.apply(u,c)}return s.toTensor()},e.prototype.stridedSlice=function(t,n,a,o){Ye(t,"stridedSlice");var i=Yb(n,a,o);if(i.some((function(f){return f===0})))return Co([],i);for(var s=xr(i,t.dtype),u=this.bufferSync(t),l=0;l<s.size;l++){for(var c=s.indexToLoc(l),A=new Array(c.length),d=0;d<A.length;d++)A[d]=c[d]*o[d]+n[d];s.set.apply(s,[u.get.apply(u,A)].concat(c))}return s.toTensor()},e.prototype.diag=function(t){for(var n=this.readSync(t.dataId),a=xr([t.size,t.size],t.dtype),o=a.values,i=0;i<n.length;i++)o[i*t.size+i]=n[i];return a.toTensor()},e.prototype.unstack=function(t,n){for(var a=t.shape[n],o=new Array(t.rank-1),i=0,s=0;s<t.rank;s++)s!==n&&(o[i++]=t.shape[s]);var u=new Array(t.rank).fill(0),l=t.shape.slice();l[n]=1;var c=new Array(a);for(s=0;s<c.length;s++)u[n]=s,c[s]=this.slice(t,u,l).reshape(o);return c},e.prototype.reverse=function(t,n){Ye(t,"reverse");for(var a=xr(t.shape,t.dtype),o=this.bufferSync(t),i=function(u){var l=a.indexToLoc(u),c=l.slice();n.forEach((function(A){return c[A]=t.shape[A]-1-c[A]})),a.set.apply(a,[o.get.apply(o,c)].concat(l))},s=0;s<a.size;s++)i(s);return a.toTensor()},e.prototype.concat=function(t,n){var a=this;if(t[0].dtype==="complex64"){var o=t.map((function(f){return su(f)})),i=t.map((function(f){return Tl(f)}));return Do(this.concat(o,n),this.concat(i,n))}var s=t.map((function(f){var h=Ot(f.shape.slice(n));return f.as2D(-1,h)})),u=Nd(s.map((function(f){return f.shape})),1),l=xr(u,t[0].dtype).values;if(s[0].shape[0]===1){var c=0;s.forEach((function(f){l.set(a.readSync(f.dataId),c),c+=f.size}))}else{var A=0;s.forEach((function(f){for(var h=a.readSync(f.dataId),p=0,v=0;v<f.shape[0];++v)for(var g=v*u[1]+A,B=0;B<f.shape[1];++B)l[g+B]=h[p++];A+=f.shape[1]}))}var d=Nd(t.map((function(f){return f.shape})),n);return Co(l,d,t[0].dtype)},e.prototype.neg=function(t){return Ye(t,"neg"),this.multiply(lt(-1),t)},e.prototype.add=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),(function(a,o,i,s){return{real:a+i,imag:o+s}})):this.broadcastedBinaryOp(t,n,bo(t.dtype,n.dtype),(function(a,o){return a+o}))},e.prototype.addN=function(t){var n=this;Ye(t,"addN");for(var a=t.map((function(c){return n.readSync(c.dataId)})),o=xr(t[0].shape,t[0].dtype),i=o.values,s=0;s<t.length;s++)for(var u=a[s],l=0;l<i.length;l++)i[l]+=u[l];return o.toTensor()},e.prototype.softmax=function(t,n){var a=Ga([n],t.shape),o=this.max(t,a),i=Fi(o.shape,a),s=this.subtract(t,o.reshape(i)),u=this.exp(s),l=this.sum(u,a).reshape(i);return this.realDivide(u,l)},e.prototype.subtract=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),(function(a,o,i,s){return{real:a-i,imag:o-s}})):this.broadcastedBinaryOp(t,n,bo(t.dtype,n.dtype),(function(a,o){return a-o}))},e.prototype.pow=function(t,n){return Ye([t,n],"pow"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){return Math.pow(a,o)}))},e.prototype.batchMatMul=function(t,n,a,o){Ye([t,n],"matMul");for(var i=a?t.shape[1]:t.shape[2],s=a?t.shape[2]:t.shape[1],u=o?n.shape[1]:n.shape[2],l=t.shape[0],c=this.readSync(t.dataId),A=this.readSync(n.dataId),d=a?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],f=d[0],h=d[1],p=d[2],v=o?[1,n.strides[1],n.strides[0]]:[n.strides[1],1,n.strides[0]],g=v[0],B=v[1],I=v[2],S=s*u,E=xr([l,s,u],t.dtype),T=E.values,U=this.blockSize,D=0;D<l;D++)for(var k=0;k<s;k+=U)for(var O=0;O<u;O+=U)for(var N=0;N<i;N+=U)for(var P=Math.min(k+U,s),j=Math.min(O+U,u),z=Math.min(N+U,i),ne=k;ne<P;ne++)for(var re=O;re<j;re++){for(var Y=0,J=N;J<z;J++)Y+=c[D*f+ne*h+J*p]*A[J*g+re*B+D*I];T[D*S+(ne*u+re)]+=Y}return E.toTensor()},e.prototype.fusedBatchMatMul=function(t){var n=t.a,a=t.b,o=t.transposeA,i=t.transposeB,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=this.batchMatMul(n,a,o,i);return s&&(c=this.add(c,s)),u&&(c=iL(this,c,u,l)),c},e.prototype.multiply=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),(function(a,o,i,s){return{real:a*i-o*s,imag:a*s+o*i}})):this.broadcastedBinaryOp(t,n,bo(t.dtype,n.dtype),(function(a,o){return a*o}))},e.prototype.realDivide=function(t,n){return Ye([t,n],"realDivide"),this.broadcastedBinaryOp(t,n,"float32",(function(a,o){return a/o}))},e.prototype.floorDiv=function(t,n){return Ye([t,n],"floorDiv"),this.broadcastedBinaryOp(t,n,"int32",(function(a,o){return Math.floor(a/o)}))},e.prototype.sum=function(t,n){Ye(t,"sum"),ns("sum",n,t.rank);for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,bo(t.dtype,"int32")),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=0,h=0;h<u;++h)f+=c[d+h];l[A]=f}return s},e.prototype.prod=function(t,n){Ye(t,"sum");for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,bo(t.dtype,"int32")),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=1,h=0;h<u;++h)f*=c[d+h];l[A]=f}return s},e.prototype.unsortedSegmentSum=function(t,n,a){Ye(t,"unsortedSegmentSum");for(var o=[],i=t.rank-n.rank,s=0;s<i;++s)n=n.expandDims(s+1);for(s=0;s<a;++s){var u=lt(s,"int32"),l=xO(u,n).asType("float32").mul(t).sum(0);o.push(l)}return Uo(o)},e.prototype.argMin=function(t,n){Ye(t,"argMin");var a=[n];ns("argMin",a,t.rank);for(var o=Ro(t.shape,a),i=o[0],s=o[1],u=Rn(i,"int32"),l=Ot(s),c=this.readSync(u.dataId),A=this.readSync(t.dataId),d=0;d<c.length;++d){for(var f=d*l,h=A[f],p=0,v=0;v<l;++v){var g=A[f+v];g<h&&(h=g,p=v)}c[d]=p}return u},e.prototype.argMax=function(t,n){Ye(t,"argMax");var a=[n];ns("argMax",a,t.rank);for(var o=Ro(t.shape,a),i=o[0],s=o[1],u=Rn(i,"int32"),l=Ot(s),c=this.readSync(u.dataId),A=this.readSync(t.dataId),d=0;d<c.length;++d){for(var f=d*l,h=A[f],p=0,v=0;v<l;++v){var g=A[f+v];g>h&&(h=g,p=v)}c[d]=p}return u},e.prototype.cumsum=function(t,n,a,o){if(Ye(t,"cumsum"),n!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+n);for(var i=bo(t.dtype,"int32"),s=Rn(t.shape,i),u=this.readSync(s.dataId),l=this.readSync(t.dataId),c=t.shape[t.rank-1],A=o?function(v,g){return v+c-g-1}:function(v,g){return v+g},d=0;d<l.length;d+=c)for(var f=0;f<c;f++){var h=A(d,f);if(f===0)u[h]=a?0:l[h];else{var p=A(d,f-1);u[h]=a?l[p]+u[p]:l[h]+u[p]}}return s},e.prototype.equal=function(t,n){return Ye([t,n],"equal"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a===o?1:0}))},e.prototype.notEqual=function(t,n){return Ye([t,n],"notEqual"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a!==o?1:0}))},e.prototype.less=function(t,n){return Ye([t,n],"less"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a<o?1:0}))},e.prototype.lessEqual=function(t,n){return Ye([t,n],"lessEqual"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a<=o?1:0}))},e.prototype.greater=function(t,n){return Ye([t,n],"greater"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a>o?1:0}))},e.prototype.greaterEqual=function(t,n){return Ye([t,n],"greaterEqual"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a>=o?1:0}))},e.prototype.logicalNot=function(t){Ye(t,"logicalNot");for(var n=this.readSync(t.dataId),a=new Uint8Array(n.length),o=0;o<n.length;++o)a[o]=n[o]?0:1;return this.makeOutput(a,t.shape,"bool")},e.prototype.logicalAnd=function(t,n){return Ye([t,n],"logicalAnd"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a&&o}))},e.prototype.logicalOr=function(t,n){return Ye([t,n],"logicalOr"),this.broadcastedBinaryOp(t,n,"bool",(function(a,o){return a||o}))},e.prototype.select=function(t,n,a){Ye([t,n,a],"select");for(var o=this.readSync(t.dataId),i=this.readSync(n.dataId),s=this.readSync(a.dataId),u=Rn(n.shape,bo(n.dtype,a.dtype)),l=this.readSync(u.dataId),c=0,A=t.rank===0||t.rank>1||n.rank===1?1:Ot(n.shape.slice(1)),d=0;d<o.length;d++)for(var f=0;f<A;f++)o[d]===1?l[c++]=i[d]:l[c++]=s[d];return u},e.prototype.where=function(t){Ye([t],"where");var n=this.readSync(t.dataId);return r5(t.shape,n)},e.prototype.topk=function(t,n,a){return Ye(t,"topk"),DU(this.readSync(t.dataId),t.shape,t.dtype,n)},e.prototype.min=function(t,n){Ye(t,"min"),ns("min",n,t.rank);for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,t.dtype),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=c[d],h=0;h<u;++h){var p=c[d+h];p<f&&(f=p)}l[A]=f}return s},e.prototype.minimum=function(t,n){return Ye([t,n],"minimum"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){return Math.min(a,o)}))},e.prototype.mod=function(t,n){return Ye([t,n],"mod"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){var i=a%o;return a<0&&o<0||a>=0&&o>=0?i:(i+o)%o}))},e.prototype.max=function(t,n){Ye(t,"max"),ns("max",n,t.rank);for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,t.dtype),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=c[d],h=0;h<u;++h){var p=c[d+h];p>f&&(f=p)}l[A]=f}return s},e.prototype.maximum=function(t,n){return Ye([t,n],"maximum"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){return Math.max(a,o)}))},e.prototype.all=function(t,n){Ye(t,"all"),ns("all",n,t.rank);for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,t.dtype),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=c[d],h=0;h<u;++h){var p=c[d+h];f=f&&p}l[A]=f}return s},e.prototype.any=function(t,n){Ye(t,"any"),ns("any",n,t.rank);for(var a=Ro(t.shape,n),o=a[0],i=a[1],s=Rn(o,t.dtype),u=Ot(i),l=this.readSync(s.dataId),c=this.readSync(t.dataId),A=0;A<l.length;++A){for(var d=A*u,f=c[d],h=0;h<u;++h){var p=c[d+h];f=f||p}l[A]=f}return s},e.prototype.squaredDifference=function(t,n){return Ye([t,n],"squaredDifference"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){var i=a-o;return i*i}))},e.prototype.ceil=function(t){Ye(t,"ceil");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)a[o]=Math.ceil(n[o]);return this.makeOutput(a,t.shape,"float32")},e.prototype.floor=function(t){Ye(t,"floor");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)a[o]=Math.floor(n[o]);return this.makeOutput(a,t.shape,"float32")},e.prototype.sign=function(t){Ye(t,"x");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)n[o]<0?a[o]=-1:n[o]>0?a[o]=1:a[o]=0;return this.makeOutput(a,t.shape,"float32")},e.prototype.isNaN=function(t){Ye(t,"x");for(var n=this.readSync(t.dataId),a=new Uint8Array(n.length),o=0;o<n.length;++o)Number.isNaN(n[o])&&(a[o]=1);return this.makeOutput(a,t.shape,"bool")},e.prototype.isInf=function(t){Ye(t,"x");for(var n=this.readSync(t.dataId),a=new Uint8Array(n.length),o=0;o<n.length;++o)Math.abs(n[o])===1/0&&(a[o]=1);return this.makeOutput(a,t.shape,"bool")},e.prototype.isFinite=function(t){Ye(t,"x");for(var n=this.readSync(t.dataId),a=new Uint8Array(n.length),o=0;o<n.length;++o)Number.isFinite(n[o])&&(a[o]=1);return this.makeOutput(a,t.shape,"bool")},e.prototype.round=function(t){Ye(t,"round");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o){var i=Math.floor(n[o]);n[o]-i<.5?a[o]=Math.floor(n[o]):n[o]-i>.5?a[o]=Math.ceil(n[o]):a[o]=i%2==0?i:i+1}return this.makeOutput(a,t.shape,"float32")},e.prototype.exp=function(t){Ye(t,"exp");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)a[o]=Math.exp(n[o]);return this.makeOutput(a,t.shape,"float32")},e.prototype.expm1=function(t){Ye(t,"expm1");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)a[o]=Math.expm1(n[o]);return this.makeOutput(a,t.shape,"float32")},e.prototype.log=function(t){Ye(t,"log");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o){var i=n[o];a[o]=Math.log(i)}return this.makeOutput(a,t.shape,"float32")},e.prototype.log1p=function(t){Ye(t,"log1p");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o){var i=n[o];a[o]=Math.log1p(i)}return this.makeOutput(a,t.shape,"float32")},e.prototype.sqrt=function(t){Ye(t,"sqrt");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o){var i=n[o];a[o]=Math.sqrt(i)}return this.makeOutput(a,t.shape,"float32")},e.prototype.rsqrt=function(t){Ye(t,"rsqrt");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o){var i=n[o];a[o]=1/Math.sqrt(i)}return this.makeOutput(a,t.shape,"float32")},e.prototype.reciprocal=function(t){Ye(t,"reciprocal");for(var n=this.readSync(t.dataId),a=new Float32Array(n.length),o=0;o<n.length;++o)a[o]=1/n[o];return this.makeOutput(a,t.shape,"float32")},e.prototype.linear=function(t){return t},e.prototype.relu=function(t){Ye(t,"relu");for(var n=Rn(t.shape,t.dtype),a=this.readSync(n.dataId),o=this.readSync(t.dataId),i=0;i<o.length;++i)a[i]=Math.max(0,o[i]);return n},e.prototype.relu6=function(t){Ye(t,"relu");for(var n=Rn(t.shape,t.dtype),a=this.readSync(n.dataId),o=this.readSync(t.dataId),i=0;i<o.length;++i)a[i]=Math.min(Math.max(0,o[i]),6);return n},e.prototype.prelu=function(t,n){return Ye([t,n],"prelu"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){return a<0?o*a:a}))},e.prototype.elu=function(t){Ye(t,"elu");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o){var i=a[o];n[o]=i>=0?i:Math.exp(i)-1}return this.makeOutput(n,t.shape,"float32")},e.prototype.eluDer=function(t,n){Ye([t,n],"eluDer");for(var a=new Float32Array(n.size),o=this.readSync(n.dataId),i=this.readSync(t.dataId),s=0;s<o.length;++s){var u=o[s];a[s]=u>=1?i[s]:i[s]*(u+1)}return this.makeOutput(a,n.shape,"float32")},e.prototype.selu=function(t){Ye(t,"selu");for(var n=a5,a=o5,o=new Float32Array(t.size),i=this.readSync(t.dataId),s=0;s<i.length;++s){var u=i[s];o[s]=u>=0?a*u:n*(Math.exp(u)-1)}return this.makeOutput(o,t.shape,"float32")},e.prototype.clip=function(t,n,a){Ye(t,"clip");for(var o=new Float32Array(t.size),i=this.readSync(t.dataId),s=0;s<i.length;++s){var u=i[s];o[s]=u>a?a:u<n?n:u}return this.makeOutput(o,t.shape,"float32")},e.prototype.abs=function(t){for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.abs(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.complexAbs=function(t){for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<t.size;++o){var i=a[2*o],s=a[2*o+1];n[o]=Math.hypot(i,s)}return this.makeOutput(n,t.shape,"float32")},e.prototype.int=function(t){Ye(t,"int");for(var n=new Int32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=a[o];return this.makeOutput(n,t.shape,"int32")},e.prototype.sigmoid=function(t){Ye(t,"sigmoid");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=1/(1+Math.exp(-a[o]));return this.makeOutput(n,t.shape,"float32")},e.prototype.softplus=function(t){Ye(t,"softplus");for(var n=Math.log(11920928955078125e-23)+2,a=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i){var s=o[i]>-n,u=o[i]<n,l=Math.exp(o[i]),c=void 0;c=u?l:s?o[i]:Math.log(1+l),a[i]=c}return this.makeOutput(a,t.shape,"float32")},e.prototype.sin=function(t){Ye(t,"sin");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.sin(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.cos=function(t){Ye(t,"cos");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.cos(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.tan=function(t){Ye(t,"tan");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.tan(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.asin=function(t){Ye(t,"asin");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.asin(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.acos=function(t){Ye(t,"acos");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.acos(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.atan=function(t){Ye(t,"atan");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.atan(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.atan2=function(t,n){return Ye([t,n],"atan2"),this.broadcastedBinaryOp(t,n,t.dtype,(function(a,o){return Math.atan2(a,o)}))},e.prototype.sinh=function(t){Ye(t,"sinh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.sinh(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.cosh=function(t){Ye(t,"cosh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.cosh(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.tanh=function(t){Ye(t,"tanh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=FM(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.asinh=function(t){Ye(t,"asinh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.asinh(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.acosh=function(t){Ye(t,"acosh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.acosh(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.atanh=function(t){Ye(t,"atanh");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o)n[o]=Math.atanh(a[o]);return this.makeOutput(n,t.shape,"float32")},e.prototype.erf=function(t){Ye(t,"erf");for(var n=new Float32Array(t.size),a=this.readSync(t.dataId),o=0;o<a.length;++o){var i=Math.sign(a[o]),s=Math.abs(a[o]),u=1/(1+.3275911*s);n[o]=i*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(n,t.shape,"float32")},e.prototype.step=function(t,n){n===void 0&&(n=0),Ye(t,"step");for(var a=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i){var s=o[i];isNaN(s)?a[i]=NaN:a[i]=s>0?1:n}return this.makeOutput(a,t.shape,"float32")},e.prototype.fusedConv2d=function(t){var n=t.input,a=t.filter,o=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights,l=this.conv2d(n,a,o);return i&&(l=this.add(l,i)),s&&(l=iL(this,l,s,u)),l},e.prototype.conv2d=function(t,n,a){Ye([t,n],"conv2d");for(var o=a.filterHeight,i=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,c=a.padInfo.top,A=a.dataFormat==="channelsLast",d=xr(a.outShape,t.dtype),f=t.strides[0],h=A?t.strides[1]:t.strides[2],p=A?t.strides[2]:1,v=A?1:t.strides[1],g=d.strides[0],B=A?d.strides[1]:d.strides[2],I=A?d.strides[2]:1,S=A?1:d.strides[1],E=this.readSync(t.dataId),T=this.readSync(n.dataId),U=d.values,D=0;D<a.batchSize;++D)for(var k=D*f,O=D*g,N=0;N<a.outHeight;++N)for(var P=O+N*B,j=N*a.strideHeight-c,z=0;z<o;z++){var ne=j+z*s;if(!(ne<0||ne>=a.inHeight))for(var re=z*n.strides[0],Y=k+ne*h,J=0;J<a.outWidth;++J)for(var G=P+J*I,Z=J*a.strideWidth-l,he=0;he<i;he++){var R=Z+he*u;if(!(R<0||R>=a.inWidth))for(var H=Y+R*p,ae=re+he*n.strides[1],le=0;le<a.inChannels;++le){for(var pe=E[H+le*v],ve=0;ve<a.outChannels;++ve)U[G+ve*S]+=pe*T[ae+ve];ae+=a.outChannels}}}return d.toTensor()},e.prototype.conv3d=function(t,n,a){for(var o=a.filterDepth,i=a.filterHeight,s=a.filterWidth,u=a.dilationDepth,l=a.dilationHeight,c=a.dilationWidth,A=a.padInfo.front,d=a.padInfo.left,f=a.padInfo.top,h=xr(a.outShape,t.dtype),p=this.readSync(t.dataId),v=this.readSync(n.dataId),g=h.values,B=0;B<a.batchSize;++B)for(var I=B*t.strides[0],S=B*h.strides[0],E=0;E<a.outDepth;++E)for(var T=S+E*h.strides[1],U=E*a.strideDepth-A,D=0;D<o;D++){var k=U+D*u;if(!(k<0||k>=a.inDepth))for(var O=D*n.strides[0],N=I+k*t.strides[1],P=0;P<a.outHeight;++P)for(var j=T+P*h.strides[2],z=P*a.strideHeight-f,ne=0;ne<i;ne++){var re=z+ne*l;if(!(re<0||re>=a.inHeight))for(var Y=O+ne*n.strides[1],J=N+re*t.strides[2],G=0;G<a.outWidth;++G)for(var Z=j+G*a.outChannels,he=G*a.strideWidth-d,R=0;R<s;R++){var H=he+R*c;if(!(H<0||H>=a.inWidth))for(var ae=Y+R*n.strides[2],le=J+H*a.inChannels,pe=ae,ve=0;ve<a.inChannels;++ve){for(var Se=p[le+ve],me=0;me<a.outChannels;++me)g[Z+me]+=Se*v[pe+me];pe+=a.outChannels}}}}return h.toTensor()},e.prototype.conv2dDerInput=function(t,n,a){Ye([t,n],"conv2dDerInput");for(var o=xr(a.inShape,"float32"),i=o.values,s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=n.strides,c=l[0],A=l[1],d=l[2],f=a.batchSize,h=a.filterHeight,p=a.filterWidth,v=a.inChannels,g=a.inHeight,B=a.inWidth,I=a.outChannels,S=a.outHeight,E=a.outWidth,T=a.strideHeight,U=a.strideWidth,D=a.dataFormat,k=h-1-a.padInfo.top,O=p-1-a.padInfo.left,N=D==="channelsLast",P=o.strides[0],j=N?o.strides[1]:o.strides[2],z=N?o.strides[2]:1,ne=N?1:o.strides[1],re=t.strides[0],Y=N?t.strides[1]:t.strides[2],J=N?t.strides[2]:1,G=N?1:t.strides[1],Z=0;Z<f;++Z)for(var he=0;he<v;++he)for(var R=0;R<g;++R)for(var H=R-k,ae=Math.max(0,Math.ceil(H/T)),le=Math.min(S,(h+H)/T),pe=0;pe<B;++pe){for(var ve=pe-O,Se=Math.max(0,Math.ceil(ve/U)),me=Math.min(E,(p+ve)/U),ke=0,Re=ae;Re<le;++Re)for(var De=Re*T-H,ze=Se;ze<me;++ze)for(var et=re*Z+Y*Re+J*ze,te=c*(h-1-De)+A*(p-1-(ze*U-ve))+d*he,je=0;je<I;++je)ke+=s[et+G*je]*u[te+je];i[P*Z+j*R+z*pe+ne*he]=ke}return o.toTensor()},e.prototype.conv3dDerInput=function(t,n,a){for(var o=xr(a.inShape,"float32"),i=o.values,s=o.strides,u=s[0],l=s[1],c=s[2],A=s[3],d=this.readSync(t.dataId),f=t.strides,h=f[0],p=f[1],v=f[2],g=f[3],B=this.readSync(n.dataId),I=n.strides,S=I[0],E=I[1],T=I[2],U=I[3],D=a.batchSize,k=a.filterDepth,O=a.filterHeight,N=a.filterWidth,P=a.inChannels,j=a.inDepth,z=a.inHeight,ne=a.inWidth,re=a.outChannels,Y=a.outDepth,J=a.outHeight,G=a.outWidth,Z=a.strideDepth,he=a.strideHeight,R=a.strideWidth,H=k-1-a.padInfo.front,ae=O-1-a.padInfo.top,le=N-1-a.padInfo.left,pe=0;pe<D;++pe)for(var ve=0;ve<P;++ve)for(var Se=0;Se<j;++Se)for(var me=Se-H,ke=Math.max(0,Math.ceil(me/Z)),Re=Math.min(Y,(k+me)/Z),De=0;De<z;++De)for(var ze=De-ae,et=Math.max(0,Math.ceil(ze/he)),te=Math.min(J,(O+ze)/he),je=0;je<ne;++je){for(var Ct=je-le,ft=Math.max(0,Math.ceil(Ct/R)),He=Math.min(G,(N+Ct)/R),vt=0,at=ke;at<Re;++at)for(var ht=at*Z-me,dt=et;dt<te;++dt)for(var Mt=dt*he-ze,Jt=ft;Jt<He;++Jt)for(var Qt=h*pe+p*at+v*dt+g*Jt,Ht=S*(k-1-ht)+E*(O-1-Mt)+T*(N-1-(Jt*R-Ct))+U*ve,Vt=0;Vt<re;++Vt)vt+=d[Qt+Vt]*B[Ht+Vt];i[u*pe+l*Se+c*De+A*je+ve]=vt}return o.toTensor()},e.prototype.conv2dDerFilter=function(t,n,a){Ye([t,n],"conv2dDerFilter");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dataFormat==="channelsLast",c=xr(a.filterShape,"float32"),A=a.padInfo.left,d=a.padInfo.top,f=this.bufferSync(t),h=this.bufferSync(n),p=0;p<s;++p)for(var v=Math.max(0,Math.ceil((d-p)/o)),g=Math.min(a.outHeight,(a.inHeight+d-p)/o),B=0;B<u;++B)for(var I=Math.max(0,Math.ceil((A-B)/i)),S=Math.min(a.outWidth,(a.inWidth+A-B)/i),E=0;E<a.inChannels;++E)for(var T=0;T<a.outChannels;++T){for(var U=0,D=0;D<a.batchSize;++D)for(var k=v;k<g;++k)for(var O=p+k*o-d,N=I;N<S;++N){var P=B+N*i-A;U+=l?f.get(D,O,P,E)*h.get(D,k,N,T):f.get(D,E,O,P)*h.get(D,T,k,N)}c.set(U,p,B,E,T)}return c.toTensor()},e.prototype.conv3dDerFilter=function(t,n,a){for(var o=a.strideDepth,i=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,c=a.filterWidth,A=xr(a.filterShape,"float32"),d=A.values,f=A.strides,h=f[0],p=f[1],v=f[2],g=f[3],B=this.readSync(n.dataId),I=n.strides,S=I[0],E=I[1],T=I[2],U=I[3],D=this.readSync(t.dataId),k=t.strides,O=k[0],N=k[1],P=k[2],j=k[3],z=a.padInfo.front,ne=a.padInfo.left,re=a.padInfo.top,Y=0;Y<u;++Y)for(var J=Math.max(0,Math.ceil((z-Y)/o)),G=Math.min(a.outDepth,(a.inDepth+z-Y)/o),Z=Y*h,he=0;he<l;++he)for(var R=Math.max(0,Math.ceil((re-he)/i)),H=Math.min(a.outHeight,(a.inHeight+re-he)/i),ae=he*p+Z,le=0;le<c;++le)for(var pe=Math.max(0,Math.ceil((ne-le)/s)),ve=Math.min(a.outWidth,(a.inWidth+ne-le)/s),Se=le*v+ae,me=0;me<a.inChannels;++me)for(var ke=me*g+Se,Re=0;Re<a.outChannels;++Re){for(var De=0,ze=0;ze<a.batchSize;++ze)for(var et=ze*O,te=ze*S,je=J;je<G;++je)for(var Ct=(Y+je*o-z)*N+et,ft=je*E+te,He=R;He<H;++He)for(var vt=(he+He*i-re)*P+Ct,at=He*T+ft,ht=pe;ht<ve;++ht){var dt=ht*U+at;De+=D[(le+ht*s-ne)*j+vt+me]*B[dt+Re]}d[ke+Re]=De}return A.toTensor()},e.prototype.fusedDepthwiseConv2D=function(t){var n=t.input,a=t.filter,o=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights,l=this.depthwiseConv2D(n,a,o);return i&&(l=this.add(l,i)),s&&(l=iL(this,l,s,u)),l},e.prototype.depthwiseConv2D=function(t,n,a){Ye([t,n],"depthwiseConv2D");for(var o=a.filterHeight,i=a.filterWidth,s=a.dilationHeight,u=a.dilationWidth,l=a.padInfo.left,c=a.padInfo.top,A=a.outChannels/a.inChannels,d=xr(a.outShape,t.dtype),f=this.readSync(t.dataId),h=this.readSync(n.dataId),p=d.values,v=0;v<a.batchSize;++v)for(var g=v*t.strides[0],B=v*d.strides[0],I=0;I<a.outHeight;++I)for(var S=B+I*d.strides[1],E=I*a.strideHeight-l,T=0;T<o;++T){var U=E+T*s;if(!(U<0||U>=a.inHeight))for(var D=T*n.strides[0],k=g+U*t.strides[1],O=0;O<a.outWidth;++O)for(var N=S+O*d.strides[2],P=O*a.strideWidth-c,j=0;j<i;++j){var z=P+j*u;if(!(z<0||z>=a.inWidth))for(var ne=D+j*n.strides[1],re=k+z*a.inChannels,Y=N,J=ne,G=0;G<a.inChannels;++G){for(var Z=f[re+G],he=0;he<A;++he)p[Y+he]+=Z*h[J+he];Y+=A,J+=A}}}return d.toTensor()},e.prototype.depthwiseConv2DDerInput=function(t,n,a){Ye([t,n],"depthwiseConv2DDerInput");for(var o=xr(a.inShape,"float32"),i=o.values,s=o.strides,u=s[0],l=s[1],c=s[2],A=this.readSync(t.dataId),d=t.strides,f=d[0],h=d[1],p=d[2],v=this.readSync(n.dataId),g=n.strides,B=g[0],I=g[1],S=g[2],E=a.batchSize,T=a.filterHeight,U=a.filterWidth,D=a.inChannels,k=a.inHeight,O=a.inWidth,N=a.outChannels,P=a.outHeight,j=a.outWidth,z=a.strideHeight,ne=a.strideWidth,re=T-1-a.padInfo.top,Y=U-1-a.padInfo.left,J=N/D,G=0;G<E;++G)for(var Z=0;Z<D;++Z)for(var he=0;he<k;++he)for(var R=he-re,H=Math.max(0,Math.ceil(R/z)),ae=Math.min(P,(T+R)/z),le=0;le<O;++le){for(var pe=le-Y,ve=Math.max(0,Math.ceil(pe/ne)),Se=Math.min(j,(U+pe)/ne),me=0,ke=H;ke<ae;++ke)for(var Re=ke*z-R,De=ve;De<Se;++De)for(var ze=f*G+h*ke+p*De,et=B*(T-1-Re)+I*(U-1-(De*ne-pe))+S*Z,te=0;te<J;++te)me+=A[ze+(Z*J+te)]*v[et+te];i[u*G+l*he+c*le+Z]=me}return o.toTensor()},e.prototype.depthwiseConv2DDerFilter=function(t,n,a){Ye([t,n],"depthwiseConv2DDerFilter");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=xr(a.filterShape,"float32"),c=a.padInfo.left,A=a.padInfo.top,d=a.outChannels/a.inChannels,f=this.bufferSync(t),h=this.bufferSync(n),p=0;p<s;++p)for(var v=Math.max(0,Math.ceil((A-p)/o)),g=Math.min(a.outHeight,(a.inHeight+A-p)/o),B=0;B<u;++B)for(var I=Math.max(0,Math.ceil((c-B)/i)),S=Math.min(a.outWidth,(a.inWidth+c-B)/i),E=0;E<a.outChannels;++E){for(var T=Math.trunc(E/d),U=E%d,D=0,k=0;k<a.batchSize;++k)for(var O=v;O<g;++O)for(var N=p+O*o-A,P=I;P<S;++P){var j=B+P*i-c;D+=f.get(k,N,j,T)*h.get(k,O,P,E)}l.set(D,p,B,T,U)}return l.toTensor()},e.prototype.tile=function(t,n){return Ye(t,"tile"),PU(this.bufferSync(t),n)},e.prototype.pad=function(t,n,a){Ye(t,"pad");var o=n.map((function(d,f){return d[0]+t.shape[f]+d[1]})),i=n.map((function(d){return d[0]})),s=this.bufferSync(t),u=xr(o,t.dtype);a!==0&&u.values.fill(a);for(var l=0;l<t.size;l++){var c=s.indexToLoc(l),A=c.map((function(d,f){return d+i[f]}));u.set.apply(u,[s.get.apply(s,c)].concat(A))}return u.toTensor()},e.prototype.transpose=function(t,n){Ye(t,"transpose");for(var a=new Array(t.rank),o=0;o<a.length;o++)a[o]=t.shape[n[o]];var i=this.readSync(t.dataId),s=xr(a,t.dtype),u=this.bufferSync(t);for(o=0;o<t.size;++o){for(var l=u.indexToLoc(o),c=new Array(l.length),A=0;A<c.length;A++)c[A]=l[n[A]];var d=s.locToIndex(c);s.values[d]=i[o]}return s.toTensor()},e.prototype.gather=function(t,n,a){Ye([t,n],"gather");var o=t.shape.slice(),i=this.readSync(n.dataId);o[a]=i.length;for(var s=xr(o,t.dtype),u=this.bufferSync(t),l=0;l<s.size;++l){var c=s.indexToLoc(l),A=c.slice();A[a]=i[c[a]];var d=u.locToIndex(A);s.values[l]=u.values[d]}return s.toTensor()},e.prototype.batchToSpaceND=function(t,n,a){Ye([t],"batchToSpaceND");var o=n.reduce((function(A,d){return A*d})),i=Ub(t.shape,n,o),s=Ob(i.length,n.length),u=Qb(t.shape,n,o),l=CU(a,n.length),c=BU(u,a,n.length);return t.reshape(i).transpose(s).reshape(u).slice(l,c)},e.prototype.spaceToBatchND=function(t,n,a){Ye([t],"spaceToBatchND");var o=n.reduce((function(d,f){return d*f})),i=[[0,0]];i.push.apply(i,a);for(var s=1+n.length;s<t.shape.length;++s)i.push([0,0]);var u=t.pad(i),l=Ub(u.shape,n,o,!1),c=Ob(l.length,n.length,!1),A=Qb(u.shape,n,o,!1);return u.reshape(l).transpose(c).reshape(A)},e.prototype.pool=function(t,n,a){Ye(t,"pool");for(var o=n.strideHeight,i=n.strideWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,A=n.padInfo.top,d=n.padInfo.left,f=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(t.dataId),p=xr(n.outShape,t.dtype),v=p.values,g=n.outShape[1]*n.outShape[2]*n.outShape[3],B=n.outShape[2]*n.outShape[3],I=n.outShape[3],S=0;S<n.batchSize;++S)for(var E=S*g,T=S*t.strides[0],U=0;U<n.inChannels;++U)for(var D=0;D<n.outHeight;++D)for(var k=D*o-A,O=Math.max(0,k),N=Math.min(n.inHeight,l+k),P=E+D*B,j=0;j<n.outWidth;++j){for(var z=j*i-d,ne=Math.max(0,z),re=Math.min(n.inWidth,c+z),Y=f,J=0,G=0,Z=O;Z<N;Z+=s){for(var he=T+Z*t.strides[1],R=ne;R<re;R+=u){var H=h[he+R*t.strides[2]+U];a==="max"&&H>Y?Y=H:a==="avg"&&(J+=H,G++)}if(isNaN(Y))break}v[P+j*I+U]=a==="avg"?J/G:Y}return p.toTensor()},e.prototype.maxPool=function(t,n){return this.pool(t,n,"max")},e.prototype.maxPoolPositions=function(t,n){for(var a=xr(n.outShape,"int32"),o=n.strideHeight,i=n.strideWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,A=n.padInfo.top,d=n.padInfo.left,f=this.bufferSync(t),h=0;h<n.batchSize;++h)for(var p=0;p<n.inChannels;++p)for(var v=0;v<n.outHeight;++v){for(var g=v*o-A,B=g;B<0;)B+=s;for(var I=Math.min(n.inHeight,l+g),S=0;S<n.outWidth;++S){for(var E=S*i-d,T=E;T<0;)T+=u;for(var U=Math.min(n.inWidth,c+E),D=Number.NEGATIVE_INFINITY,k=-1,O=B;O<I;O+=s)for(var N=O-g,P=T;P<U;P+=u){var j=P-E,z=f.get(h,O,P,p);z>D&&(D=z,k=N*c+j)}a.set(k,h,v,S,p)}}return a.toTensor()},e.prototype.maxPoolBackprop=function(t,n,a,o){Ye([n,a],"maxPoolBackprop");for(var i=this.maxPoolPositions(n,o),s=o.strideHeight,u=o.strideWidth,l=o.dilationHeight,c=o.dilationWidth,A=o.effectiveFilterHeight,d=o.effectiveFilterWidth,f=d-1-o.padInfo.left,h=A-1-o.padInfo.top,p=xr(n.shape,"float32"),v=this.bufferSync(i),g=this.bufferSync(t),B=0;B<o.batchSize;++B)for(var I=0;I<o.inChannels;++I)for(var S=0;S<o.inHeight;++S)for(var E=0;E<o.inWidth;++E){for(var T=S-h,U=E-f,D=0,k=0;k<A;k+=l){var O=(T+k)/s;if(!(O<0||O>=o.outHeight||Math.floor(O)!==O))for(var N=0;N<d;N+=c){var P=(U+N)/u;if(!(P<0||P>=o.outWidth||Math.floor(P)!==P)){var j=A*d-1-v.get(B,O,P,I)===k*d+N?1:0;j!==0&&(D+=g.get(B,O,P,I)*j)}}}p.set(D,B,S,E,I)}return p.toTensor()},e.prototype.avgPoolBackprop=function(t,n,a){Ye([t,n],"avgPoolBackprop");for(var o=a.strideHeight,i=a.strideWidth,s=a.filterHeight,u=a.filterWidth,l=a.dilationHeight,c=a.dilationWidth,A=a.effectiveFilterHeight,d=a.effectiveFilterWidth,f=d-1-a.padInfo.left,h=A-1-a.padInfo.top,p=xr(n.shape,"float32"),v=1/(s*u),g=this.bufferSync(t),B=0;B<a.batchSize;++B)for(var I=0;I<a.inChannels;++I)for(var S=0;S<a.inHeight;++S)for(var E=0;E<a.inWidth;++E){for(var T=S-h,U=E-f,D=0,k=0;k<A;k+=l){var O=(T+k)/o;if(!(O<0||O>=a.outHeight||Math.floor(O)!==O))for(var N=0;N<d;N+=c){var P=(U+N)/i;P<0||P>=a.outWidth||Math.floor(P)!==P||(D+=g.get(B,O,P,I))}}p.set(D*v,B,S,E,I)}return p.toTensor()},e.prototype.pool3d=function(t,n,a){Ye(t,"pool3d");for(var o=n.strideDepth,i=n.strideHeight,s=n.strideWidth,u=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,A=n.effectiveFilterDepth,d=n.effectiveFilterHeight,f=n.effectiveFilterWidth,h=n.padInfo.front,p=n.padInfo.top,v=n.padInfo.left,g=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,B=this.readSync(t.dataId),I=xr(n.outShape,t.dtype),S=I.values,E=n.outShape[1]*n.outShape[2]*n.outShape[3]*n.outShape[4],T=n.outShape[2]*n.outShape[3]*n.outShape[4],U=n.outShape[3]*n.outShape[4],D=n.outShape[4],k=0;k<n.batchSize;++k)for(var O=k*E,N=k*t.strides[0],P=0;P<n.inChannels;++P)for(var j=0;j<n.outDepth;++j){for(var z=j*o-h,ne=z;ne<0;)ne+=u;for(var re=Math.min(n.inDepth,A+z),Y=O+j*T,J=0;J<n.outHeight;++J){for(var G=J*i-p,Z=G;Z<0;)Z+=l;for(var he=Math.min(n.inHeight,d+G),R=Y+J*U,H=0;H<n.outWidth;++H){for(var ae=H*s-v,le=ae;le<0;)le+=c;for(var pe=Math.min(n.inWidth,f+ae),ve=R+H*D,Se=g,me=0,ke=0,Re=ne;Re<re;Re+=u){for(var De=N+Re*t.strides[1],ze=Z;ze<he;ze+=l){for(var et=De+ze*t.strides[2],te=le;te<pe;te+=c){var je=B[et+te*t.strides[3]+P];if(a==="max"&&je>Se?Se=je:a==="avg"&&(me+=je,ke++),isNaN(Se))break}if(isNaN(Se))break}if(isNaN(Se))break}S[ve+P]=a==="avg"?me/ke:Se}}}return I.toTensor()},e.prototype.avgPool3d=function(t,n){return Ye(t,"avgPool3d"),this.pool3d(t,n,"avg").toFloat()},e.prototype.avgPool3dBackprop=function(t,n,a){Ye([t,n],"avgPool3dBackprop");for(var o=a.strideDepth,i=a.strideHeight,s=a.strideWidth,u=a.filterDepth,l=a.filterHeight,c=a.filterWidth,A=a.dilationDepth,d=a.dilationHeight,f=a.dilationWidth,h=a.effectiveFilterDepth,p=a.effectiveFilterHeight,v=a.effectiveFilterWidth,g=h-1-a.padInfo.front,B=v-1-a.padInfo.left,I=p-1-a.padInfo.top,S=xr(n.shape,"float32"),E=1/(u*l*c),T=this.bufferSync(t),U=0;U<a.batchSize;++U)for(var D=0;D<a.inChannels;++D)for(var k=0;k<a.inDepth;++k)for(var O=0;O<a.inHeight;++O)for(var N=0;N<a.inWidth;++N){for(var P=k-g,j=O-I,z=N-B,ne=0,re=0;re<h;re+=A){var Y=(P+re)/o;if(!(Y<0||Y>=a.outDepth||Math.floor(Y)!==Y))for(var J=0;J<p;J+=d){var G=(j+J)/i;if(!(G<0||G>=a.outHeight||Math.floor(G)!==G))for(var Z=0;Z<v;Z+=f){var he=(z+Z)/s;he<0||he>=a.outWidth||Math.floor(he)!==he||(ne+=T.get(U,Y,G,he,D))}}}S.set(ne*E,U,k,O,N,D)}return S.toTensor()},e.prototype.maxPool3d=function(t,n){return Ye(t,"maxPool3d"),this.pool3d(t,n,"max").toFloat()},e.prototype.maxPool3dPositions=function(t,n){for(var a=xr(n.outShape,"int32"),o=n.strideDepth,i=n.strideHeight,s=n.strideWidth,u=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,A=n.effectiveFilterDepth,d=n.effectiveFilterHeight,f=n.effectiveFilterWidth,h=n.padInfo.front,p=n.padInfo.top,v=n.padInfo.left,g=this.bufferSync(t),B=0;B<n.batchSize;++B)for(var I=0;I<n.inChannels;++I)for(var S=0;S<n.outDepth;++S){for(var E=S*o-h,T=E;T<0;)T+=u;for(var U=Math.min(n.inDepth,A+E),D=0;D<n.outHeight;++D){for(var k=D*i-p,O=k;O<0;)O+=l;for(var N=Math.min(n.inHeight,d+k),P=0;P<n.outWidth;++P){for(var j=P*s-v,z=j;z<0;)z+=c;for(var ne=Math.min(n.inWidth,f+j),re=Number.NEGATIVE_INFINITY,Y=-1,J=T;J<U;J+=u)for(var G=J-E,Z=O;Z<N;Z+=l)for(var he=Z-k,R=z;R<ne;R+=c){var H=R-j,ae=g.get(B,J,Z,R,I);ae>=re&&(re=ae,Y=G*d*f+he*d+H)}a.set(Y,B,S,D,P,I)}}}return a.toTensor()},e.prototype.maxPool3dBackprop=function(t,n,a,o){Ye([n,a],"maxPool3dBackprop");for(var i=this.maxPool3dPositions(n,o),s=o.strideDepth,u=o.strideHeight,l=o.strideWidth,c=o.dilationDepth,A=o.dilationHeight,d=o.dilationWidth,f=o.effectiveFilterDepth,h=o.effectiveFilterHeight,p=o.effectiveFilterWidth,v=f-1-o.padInfo.front,g=p-1-o.padInfo.left,B=h-1-o.padInfo.top,I=xr(n.shape,"float32"),S=this.bufferSync(i),E=this.bufferSync(t),T=0;T<o.batchSize;++T)for(var U=0;U<o.inChannels;++U)for(var D=0;D<o.inDepth;++D)for(var k=0;k<o.inHeight;++k)for(var O=0;O<o.inWidth;++O){for(var N=D-v,P=k-B,j=O-g,z=0,ne=0;ne<f;ne+=c){var re=(N+ne)/s;if(!(re<0||re>=o.outDepth||Math.floor(re)!==re))for(var Y=0;Y<h;Y+=A){var J=(P+Y)/u;if(!(J<0||J>=o.outHeight||Math.floor(J)!==J))for(var G=0;G<p;G+=d){var Z=(j+G)/l;if(!(Z<0||Z>=o.outWidth||Math.floor(Z)!==Z)){var he=f*h*p-1-S.get(T,re,J,Z,U)===ne*h*p+Y*p+G?1:0;he!==0&&(z+=E.get(T,re,J,Z,U)*he)}}}}I.set(z,T,D,k,O,U)}return I.toTensor()},e.prototype.cast=function(t,n){return JL(t,n,this)},e.prototype.reshape=function(t,n){return Vb(t,n)},e.prototype.avgPool=function(t,n){return Ye(t,"avgPool"),this.pool(t,n,"avg").toFloat()},e.prototype.resizeBilinear=function(t,n,a,o){Ye(t,"resizeBilinear");for(var i=t.shape,s=i[0],u=i[1],l=i[2],c=i[3],A=this.readSync(t.dataId),d=new Float32Array(Ot([s,n,a,c])),f=[o&&n>1?u-1:u,o&&a>1?l-1:l],h=[o&&n>1?n-1:n,o&&a>1?a-1:a],p=0,v=f[0]/h[0],g=f[1]/h[1],B=0;B<s;B++)for(var I=0;I<n;I++)for(var S=v*I,E=Math.floor(S),T=S-E,U=Math.min(u-1,Math.ceil(S)),D=B*t.strides[0]+E*t.strides[1],k=B*t.strides[0]+U*t.strides[1],O=0;O<a;O++)for(var N=g*O,P=Math.floor(N),j=N-P,z=Math.min(l-1,Math.ceil(N)),ne=D+P*t.strides[2],re=k+P*t.strides[2],Y=D+z*t.strides[2],J=k+z*t.strides[2],G=0;G<c;G++){var Z=A[ne+G],he=A[re+G],R=Z+(A[Y+G]-Z)*j,H=R+(he+(A[J+G]-he)*j-R)*T;d[p++]=H}return Co(d,[s,n,a,c])},e.prototype.resizeBilinearBackprop=function(t,n,a){Ye([t,n],"resizeBilinearBackprop");for(var o=n.shape,i=o[0],s=o[1],u=o[2],l=o[3],c=t.shape,A=c[1],d=c[2],f=new Float32Array(i*s*u*l),h=[a&&A>1?s-1:s,a&&d>1?u-1:u],p=[a&&A>1?A-1:A,a&&d>1?d-1:d],v=h[0]/p[0],g=h[1]/p[1],B=this.readSync(t.dataId),I=0,S=0;S<i;S++)for(var E=S*n.strides[0],T=0;T<A;T++)for(var U=T*v,D=Math.floor(U),k=Math.min(Math.ceil(U),s-1),O=E+D*n.strides[1],N=E+k*n.strides[1],P=U-D,j=1-P,z=0;z<d;z++)for(var ne=z*g,re=Math.floor(ne),Y=Math.min(Math.ceil(ne),u-1),J=ne-re,G=1-J,Z=O+re*n.strides[2],he=O+Y*n.strides[2],R=N+re*n.strides[2],H=N+Y*n.strides[2],ae=j*G,le=j*J,pe=P*G,ve=P*J,Se=0;Se<l;Se++){var me=B[I++];f[Z+Se]+=me*ae,f[he+Se]+=me*le,f[R+Se]+=me*pe,f[H+Se]+=me*ve}return fo(f,[i,u,s,l],n.dtype)},e.prototype.resizeNearestNeighbor=function(t,n,a,o){Ye(t,"resizeNearestNeighbor");for(var i=t.shape,s=i[0],u=i[1],l=i[2],c=i[3],A=this.readSync(t.dataId),d=new Float32Array(s*n*a*c),f=[o&&n>1?u-1:u,o&&a>1?l-1:l],h=[o&&n>1?n-1:n,o&&a>1?a-1:a],p=f[0]/h[0],v=f[1]/h[1],g=0,B=0;B<s;B++)for(var I=B*t.strides[0],S=0;S<n;S++)for(var E=p*S,T=I+Math.min(u-1,o?Math.round(E):Math.floor(E))*t.strides[1],U=0;U<a;U++)for(var D=v*U,k=T+Math.min(l-1,o?Math.round(D):Math.floor(D))*t.strides[2],O=0;O<c;O++){var N=A[k+O];d[g++]=N}return Co(d,[s,n,a,c],t.dtype)},e.prototype.resizeNearestNeighborBackprop=function(t,n,a){Ye([t,n],"resizeNearestNeighborBackprop");for(var o=n.shape,i=o[0],s=o[1],u=o[2],l=o[3],c=t.shape,A=c[1],d=c[2],f=new Float32Array(i*s*u*l),h=this.readSync(t.dataId),p=[a&&A>1?s-1:s,a&&d>1?u-1:u],v=[a&&A>1?A-1:A,a&&d>1?d-1:d],g=p[0]/v[0],B=p[1]/v[1],I=1/g,S=1/B,E=2*Math.ceil(I)+2,T=2*Math.ceil(S)+2,U=0;U<i;U++)for(var D=U*n.strides[0],k=0;k<s;k++)for(var O=D+k*n.strides[1],N=Math.floor(k*I),P=Math.floor(N-E/2),j=0;j<u;j++)for(var z=O+j*n.strides[2],ne=Math.floor(j*S),re=Math.floor(ne-T/2),Y=0;Y<l;Y++){for(var J=0,G=0;G<E;G++){var Z=G+P;if(!(Z<0||Z>=A)){var he=D+Z*t.strides[1],R=Z*g;if(k===Math.min(s-1,a?Math.round(R):Math.floor(R)))for(var H=0;H<T;H++){var ae=H+re;if(!(ae<0||ae>=d)){var le=he+ae*t.strides[2],pe=ae*B;j===Math.min(u-1,a?Math.round(pe):Math.floor(pe))&&(J+=h[le+Y])}}}}f[z+Y]=J}return fo(f,n.shape,n.dtype)},e.prototype.batchNormalization=function(t,n,a,o,i,s){Ye([t,n,a,i,s],"batchNorm");for(var u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=this.readSync(a.dataId),A=i?this.readSync(i.dataId):new Float32Array([1]),d=s?this.readSync(s.dataId):new Float32Array([0]),f=new Float32Array(u.length),h=d.length,p=A.length,v=c.length,g=l.length,B=0,I=0,S=0,E=0,T=0;T<u.length;++T)f[T]=d[B++]+(u[T]-l[I++])*A[S++]/Math.sqrt(c[E++]+o),B>=h&&(B=0),I>=g&&(I=0),S>=p&&(S=0),E>=v&&(E=0);return fo(f,t.shape)},e.prototype.localResponseNormalization4D=function(t,n,a,o,i){Ye(t,"localResponseNormalization4D");var s=t.shape[3],u=s-1,l=this.readSync(t.dataId),c=t.size,A=new Float32Array(c);function d(v){for(var g=v%s,B=v-g+Math.max(0,g-n),I=v-g+Math.min(g+n,u),S=0;B<=I;B++){var E=l[B];S+=E*E}return S}for(var f=0;f<c;f++){var h=d(f),p=l[f]*Math.pow(a+o*h,-i);A[f]=p}return fo(A,t.shape)},e.prototype.LRNGrad=function(t,n,a,o,i,s,u){Ye(t,"LRNGrad");for(var l=t.shape[3],c=this.readSync(t.dataId),A=this.readSync(n.dataId),d=this.readSync(a.dataId),f=new Float32Array(t.size),h=t.size,p=0;p<h;p++){for(var v=p%l,g=p-v+Math.max(0,v-o),B=p-v+Math.min(l,v+o+1),I=0,S=g;S<B;S++)I+=Math.pow(A[S],2);for(I=s*I+i,S=g;S<B;S++){var E=-2*s*u*A[S]*d[p]/I;p===S&&(E+=Math.pow(I,-u)),E*=c[p],f[S]+=E}}return fo(f,t.shape)},e.prototype.multinomial=function(t,n,a,o){Ye(t,"multinomial");for(var i=n?t:ki(t),s=i.shape[0],u=i.shape[1],l=Rn([s,a],"int32"),c=this.readSync(l.dataId),A=this.readSync(i.dataId),d=0;d<s;++d){var f=d*u,h=new Float32Array(u-1);h[0]=A[f];for(var p=1;p<h.length;++p)h[p]=h[p-1]+A[f+p];for(var v=Xb(o.toString()),g=d*a,B=0;B<a;++B){var I=v();c[g+B]=h.length;for(var S=0;S<h.length;S++)if(I<h[S]){c[g+B]=S;break}}}return l},e.prototype.oneHot=function(t,n,a,o){Ye(t,"oneHot");var i=new Float32Array(t.size*n);i.fill(o);for(var s=this.readSync(t.dataId),u=0;u<t.size;++u)s[u]>=0&&s[u]<n&&(i[u*n+s[u]]=a);return _l(i,[t.size,n],"int32")},e.prototype.nonMaxSuppression=function(t,n,a,o,i){return Ye(t,"nonMaxSuppression"),e5(this.readSync(t.dataId),this.readSync(n.dataId),a,o,i)},e.prototype.fft=function(t){return this.fftBatch(t,!1)},e.prototype.ifft=function(t){return this.fftBatch(t,!0)},e.prototype.fftBatch=function(t,n){for(var a=t.shape[0],o=t.shape[1],i=xr(t.shape,"float32"),s=xr(t.shape,"float32"),u=su(t).as2D(a,o),l=Tl(t).as2D(a,o),c=0;c<a;c++)for(var A=u.slice([c,0],[1,o]),d=l.slice([c,0],[1,o]),f=Do(A,d),h=this.readSync(this.fftImpl(f,n).dataId),p=0;p<o;p++){var v=jR(h,p);i.values[c*o+p]=v.real,s.values[c*o+p]=v.imag}return Do(i.toTensor(),s.toTensor()).as2D(a,o)},e.prototype.fftImpl=function(t,n){var a=t.as1D(),o=a.size;if(this.isExponentOf2(o)){var i=this.fftRadix2(a,o,n).as2D(t.shape[0],t.shape[1]);return n&&(i=Do(su(i).div(lt(o)),Tl(i).div(lt(o)))),i}var s=this.readSync(t.dataId),u=(function(l){for(var c=new Float32Array(l.length/2),A=new Float32Array(l.length/2),d=0;d<l.length;d+=2)c[d/2]=l[d],A[d/2]=l[d+1];return{real:c,imag:A}})(this.fourierTransformByMatmul(s,o,n));return Do(u.real,u.imag).as2D(t.shape[0],t.shape[1])},e.prototype.isExponentOf2=function(t){return(t&t-1)==0},e.prototype.fftRadix2=function(t,n,a){if(n===1)return t;var o=this.readSync(t.dataId),i=n/2,s=(function(g){for(var B=Math.ceil(g.length/4),I=new Float32Array(B),S=new Float32Array(B),E=0;E<g.length;E+=4)I[Math.floor(E/4)]=g[E],S[Math.floor(E/4)]=g[E+1];return{real:I,imag:S}})(o),u=Do(s.real,s.imag).as1D(),l=(function(g){for(var B=Math.floor(g.length/4),I=new Float32Array(B),S=new Float32Array(B),E=2;E<g.length;E+=4)I[Math.floor(E/4)]=g[E],S[Math.floor(E/4)]=g[E+1];return{real:I,imag:S}})(o),c=Do(l.real,l.imag).as1D();u=this.fftRadix2(u,i,a),c=this.fftRadix2(c,i,a);var A=(function(g,B){for(var I=new Float32Array(g/2),S=new Float32Array(g/2),E=0;E<Math.ceil(g/2);E++){var T=(B?2:-2)*Math.PI*(E/g);I[E]=Math.cos(T),S[E]=Math.sin(T)}return{real:I,imag:S}})(n,a),d=Do(A.real,A.imag).mul(c),f=u.add(d),h=u.sub(d),p=su(f).concat(su(h)),v=Tl(f).concat(Tl(h));return Do(p,v).as1D()},e.prototype.fourierTransformByMatmul=function(t,n,a){for(var o=new Float32Array(2*n),i=0;i<n;i++){for(var s=0,u=0,l=0;l<n;l++){var c=vne(i*l,n,a),A=jR(t,l);s+=A.real*c.real-A.imag*c.imag,u+=A.real*c.imag+A.imag*c.real}a&&(s/=n,u/=n),gne(o,s,u,i)}return o},e.prototype.depthToSpace=function(t,n,a){ce(a==="NHWC",(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a})),ce(n>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+n}));for(var o=t.shape[0],i=t.shape[1],s=t.shape[2],u=t.shape[3],l=i*n,c=s*n,A=u/(n*n),d=this.readSync(t.dataId),f=new Float32Array(o*l*c*A),h=0,p=0;p<o;++p)for(var v=0;v<l;++v)for(var g=Math.floor(v/n),B=v%n,I=0;I<c;++I)for(var S=Math.floor(I/n),E=(B*n+I%n)*A,T=0;T<A;++T){var U=T+E+u*(S+s*(g+i*p));f[h++]=d[U]}return fo(f,[o,l,c,A])},e.prototype.broadcastedBinaryOp=function(t,n,a,o){var i=Dr(t.shape,n.shape),s=xr(i,a),u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=kc(t.shape,i),A=kc(n.shape,i),d=s.values;if(c.length+A.length===0)for(var f=0;f<d.length;++f)d[f]=o(u[f%u.length],l[f%l.length]);else{var h=this.bufferSync(t),p=this.bufferSync(n),v=function(g){var B=s.indexToLoc(g),I=B.slice(-t.rank);c.forEach((function(U){return I[U]=0}));var S=h.locToIndex(I),E=B.slice(-n.rank);A.forEach((function(U){return E[U]=0}));var T=p.locToIndex(E);d[g]=o(u[S],l[T])};for(f=0;f<d.length;++f)v(f)}return s.toTensor()},e.prototype.broadcastedBinaryComplexOp=function(t,n,a){var o=Dr(t.shape,n.shape),i=xr(o,"float32"),s=xr(o,"float32"),u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=kc(t.shape,o),A=kc(n.shape,o),d=i.values,f=s.values;if(c.length+A.length===0)for(var h=0;h<d.length;h++){var p=h%u.length,v=h%l.length,g=a(u[2*p],u[2*p+1],l[2*v],l[2*v+1]);d[h]=g.real,f[h]=g.imag}else{var B=this.bufferSync(this.data.get(t.dataId).complexTensors.real),I=this.bufferSync(this.data.get(n.dataId).complexTensors.real),S=function(E){var T=i.indexToLoc(E),U=T.slice(-t.rank);c.forEach((function(P){return U[P]=0}));var D=B.locToIndex(U),k=T.slice(-n.rank);A.forEach((function(P){return k[P]=0}));var O=I.locToIndex(k),N=a(u[2*D],u[2*D+1],l[2*O],l[2*O+1]);d[E]=N.real,f[E]=N.imag};for(h=0;h<d.length;h++)S(h)}return this.complex(i.toTensor(),s.toTensor())},e.prototype.split=function(t,n,a){return NU(t,n,a)},e.prototype.dispose=function(){},e.prototype.floatPrecision=function(){return 32},e.prototype.epsilon=function(){return 1e-7},e.prototype.cropAndResize=function(t,n,a,o,i,s){for(var u=t.shape,l=u[0],c=u[1],A=u[2],d=u[3],f=n.shape[0],h=o[0],p=o[1],v=xr([f,h,p,d],"float32"),g=this.readSync(n.dataId),B=this.readSync(a.dataId),I=this.readSync(t.dataId),S=t.strides,E=v.strides,T=0;T<f;T++){var U=4*T,D=g[U],k=g[U+1],O=g[U+2],N=g[U+3],P=B[T];if(!(P>=l))for(var j=h>1?(O-D)*(c-1)/(h-1):0,z=p>1?(N-k)*(A-1)/(p-1):0,ne=0;ne<h;ne++){var re=h>1?D*(c-1)+ne*j:.5*(D+O)*(c-1);if(re<0||re>c-1)for(var Y=0;Y<p;Y++)for(var J=0;J<d;J++){var G=J+Y*E[2]+ne*E[1]+T*E[0];v.values[G]=s}else if(i==="bilinear"){var Z=Math.floor(re),he=Math.ceil(re),R=re-Z;for(Y=0;Y<p;Y++)if((Re=p>1?k*(A-1)+Y*z:.5*(k+N)*(A-1))<0||Re>A-1)for(J=0;J<d;J++)G=J+Y*E[2]+ne*E[1]+T*E[0],v.values[G]=s;else{var H=Math.floor(Re),ae=Math.ceil(Re),le=Re-H;for(J=0;J<d;J++){var pe=I[G=J+H*S[2]+Z*S[1]+P*S[0]],ve=I[G=J+ae*S[2]+Z*S[1]+P*S[0]],Se=I[G=J+H*S[2]+he*S[1]+P*S[0]],me=pe+(ve-pe)*le,ke=Se+(I[G=J+ae*S[2]+he*S[1]+P*S[0]]-Se)*le;G=J+Y*E[2]+ne*E[1]+T*E[0],v.values[G]=me+(ke-me)*R}}}else for(Y=0;Y<p;++Y){var Re;if((Re=p>1?k*(A-1)+Y*z:.5*(k+N)*(A-1))<0||Re>A-1)for(J=0;J<d;J++)G=J+Y*E[2]+ne*E[1]+T*E[0],v.values[G]=s;else{var De=Math.round(Re),ze=Math.round(re);for(J=0;J<d;J++){var et=J+De*S[2]+ze*S[1]+P*S[0],te=J+Y*E[2]+ne*E[1]+T*E[0];v.values[te]=I[et]}}}}}return v.toTensor()},e.prototype.sparseToDense=function(t,n,a,o){var i=qv(0,t,a),s=i.sliceRank,u=i.numUpdates,l=i.sliceSize,c=i.strides,A=i.outputSize;return this.scatter(t,n,a,A,l,u,s,c,o,!1)},e.prototype.gatherND=function(t,n){var a=n.shape,o=a[a.length-1],i=GL(t,n),s=i[0],u=i[1],l=i[2],c=i[3];if(u===0)return Co([],s,t.dtype);for(var A=new Ov([u,l],t.dtype),d=this.readSync(n.dataId),f=this.readSync(t.dataId),h=0;h<u;h++){for(var p=[],v=0,g=0;g<o;g++){var B=d[h*o+g];v+=B*c[g],p.push(B)}if(v<0||v>=t.size/l)throw new Error("Invalid indices: "+p+" does not index into "+t.shape);for(var I=0;I<l;I++)A.values[h*l+I]=f[v*l+I]}return A.toTensor().reshape(s)},e.prototype.scatterND=function(t,n,a){var o=qv(0,t,a),i=o.sliceRank,s=o.numUpdates,u=o.sliceSize,l=o.strides,c=o.outputSize,A=lt(0);return this.scatter(t,n,a,c,u,s,i,l,A,!0)},e.prototype.fill=function(t,n,a){var o=Mv(a=a||fm(n),Ot(t));return o.fill(n),Be.makeTensor(o,t,a,this)},e.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},e.prototype.zerosLike=function(t){var n=Mv(t.dtype,Ot(t.shape));return this.makeOutput(n,t.shape,t.dtype)},e.prototype.linspace=function(t,n,a){return ZL(t,n,a)},e.prototype.scatter=function(t,n,a,o,i,s,u,l,c,A){var d=[o/i,i],f=this.readSync(t.dataId),h=this.readSync(n.dataId);if(o===0)return Co([],a,n.dtype);var p=new Ov(d,n.dtype);p.values.fill(this.readSync(c.dataId)[0]);for(var v=0;v<s;v++){for(var g=[],B=0,I=0;I<u;I++){var S=f[v*u+I];g.push(S),B+=S*l[I]}if(B<0||B>=o/i)throw new Error("Invalid indices: "+g+" does not index into "+a);for(var E=0;E<i;E++)A?p.values[B*i+E]+=h[v*i+E]:p.values[B*i+E]=n.rank===0?h[0]:h[v*i+E]}return p.toTensor().reshape(a)},e})(_U);Be.registerBackend("cpu",(function(){return new wse}),1);for(xb=0,sL=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=r.attrs,a=e,o=a.boxes,i=a.scores,s=n,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,A=s.softNmsSigma,d=t;Ye(o,"NonMaxSuppressionWithScore");var f=t5(d.data.get(o.dataId).values,d.data.get(i.dataId).values,u,l,c,A);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=e.x,a=t;Ye(n,"square");for(var o=a.data.get(n.dataId).values,i=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];i[s]=u*u}return{dataId:a.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:jv,backendName:"cpu",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=e,a=n.a,o=n.b,i=t;Ye([a,o],jv);var s=i.data.get(a.dataId).values,u=i.data.get(o.dataId).values,l=(function(d,f,h,p,v,g){var B=Dr(d,f),I=B.length,S=zu(B),E=cm(v,Ot(B)),T=d.length,U=f.length,D=zu(d),k=zu(f),O=kc(d,B),N=kc(f,B);if(O.length+N.length===0)for(var P=0;P<E.length;++P)E[P]=g(h[P%h.length],p[P%p.length]);else{var j=function(z){var ne=UM(z,I,S),re=ne.slice(-T);O.forEach((function(Z){return re[Z]=0}));var Y=yL(re,T,D),J=ne.slice(-U);N.forEach((function(Z){return J[Z]=0}));var G=yL(J,U,k);E[z]=g(h[Y],p[G])};for(P=0;P<E.length;++P)j(P)}return[E,B]})(a.shape,o.shape,s,u,a.dtype,(function(d,f){var h=d-f;return h*h})),c=l[0],A=l[1];return{dataId:i.write(c,A,a.dtype),shape:A,dtype:a.dtype}}}];xb<sL.length;xb++)IM(sL[xb]);var xb,sL,em,bse=function(r){this.variableNames=["A"];var e=ai(),t=r[0],n=r[1];this.outputShape=r,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+n+".0, "+t+`.0);

        vec4 values = `+e.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},Cse=function(r){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var e=ai(),t=r[0],n=r[1];this.outputShape=r,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+n+".0, "+t+`.0);
            vec4 values = `+e.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+e.output+` = result;
      }
    `};for(wb=0,uL=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=r.attrs,a=e.pixels,o=n.numChannels,i=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,u=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=u[0],c=u[1],A=[c,l],d=[c,l,o];(s||i)&&(em==null&&(em=document.createElement("canvas").getContext("2d")),em.canvas.width=l,em.canvas.height=c,em.drawImage(a,0,0,l,c),a=em.canvas);var f=t.makeTensorInfo(A,"int32");t.texData.get(f.dataId).usage=_s.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(f.dataId),a);var h=Qe().getBool("WEBGL_PACK")?new Cse(d):new bse(d),p=t.runWebGLProgram(h,[f],"int32");return t.disposeData(f.dataId),p}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=r.attrs;Db("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e,o=a.boxes,i=a.scores,s=n,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,A=s.softNmsSigma,d=t,f=t5(d.readSync(o.dataId),d.readSync(i.dataId),u,l,c,A);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=e.x,a=t,o=new Lr(n.shape,"return x * x;");return a.runWebGLProgram(o,[n],n.dtype)}},{kernelName:jv,backendName:"webgl",kernelFunc:function(r){var e=r.inputs,t=r.backend,n=e,a=n.a,o=n.b,i=t,s=Qe().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Tc("return (a - b) * (a - b);",a.shape,o.shape):new xa("return (a - b) * (a - b);",a.shape,o.shape);return i.compileAndRun(s,[a,o])}}];wb<uL.length;wb++)IM(uL[wb]);var wb,uL;for(bb=0,lL=[{kernelName:"Square",gradFunc:function(r,e){var t=e[0];return{x:function(){return r.mul(t.toFloat().mul(2))}}}},{kernelName:jv,gradFunc:function(r,e){var t=e[0],n=e[1],a=lt(2);return{a:function(){return ca(r,ca(a,Fn(t,n)))},b:function(){return ca(r,ca(a,Fn(n,t)))}}}}];bb<lL.length;bb++)Ire(lL[bb]);var bb,lL,Bse=(function(){function r(){}return r.prototype.fetch=function(e,t){return fetch(e,t)},r.prototype.now=function(){return performance.now()},r.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+t);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},r.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},r})();Qe().get("IS_BROWSER")&&Qe().setPlatform("browser",new Bse);var cL,Sse=function(){return UR()},Ise=(function(){function r(){this.util=OR(),this.textEncoder=new this.util.TextEncoder}return r.prototype.fetch=function(e,t){return Qe().global.fetch!=null?Qe().global.fetch(e,t):(cL==null&&(cL=Sse()),cL(e,t))},r.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},r.prototype.encode=function(e,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},r.prototype.decode=function(e,t){return e.length===0?"":new this.util.TextDecoder(t).decode(e)},r})();Qe().get("IS_NODE")&&Qe().setPlatform("node",new Ise);var kL={float32:4,int32:4,uint16:2,uint8:1,bool:1},zb=4;function QO(r,e){for(var t={},n=0,a=function(s){var u=s.name,l=s.dtype,c=s.shape,A=Ot(c),d=void 0;if("quantization"in s){var f=s.quantization;if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+f.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var h=kL[f.dtype],p=r.slice(n,n+A*h),v=f.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(l==="float32")d=Float32Array.from(v,(function(T){return T*f.scale+f.min}));else{if(l!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=Int32Array.from(v,(function(T){return Math.round(T*f.scale+f.min)}))}n+=A*h}else if(l==="string"){var g=Ot(s.shape);d=[];for(var B=0;B<g;B++){var I=new Uint32Array(r.slice(n,n+zb))[0];n+=zb;var S=new Uint8Array(r.slice(n,n+I));d.push(S),n+=I}}else{var E=kL[l];if(p=r.slice(n,n+A*E),l==="float32")d=new Float32Array(p);else if(l==="int32")d=new Int32Array(p);else{if(l!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=new Uint8Array(p)}n+=A*E}t[u]=Co(d,c,l)},o=0,i=e;o<i.length;o++)a(i[o]);return t}function Ese(r){if(r===null)throw new Error("Invalid input value: "+JSON.stringify(r));var e=0,t=[];r.forEach((function(o){if(e+=o.byteLength,t.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+o.constructor.name)}));var n=new Uint8Array(e),a=0;return t.forEach((function(o){n.set(new Uint8Array(o.buffer),a),a+=o.byteLength})),n.buffer}var NL=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function hM(r){return NL?Buffer.byteLength(r):new Blob([r]).size}function x5(r){var e=0;r.forEach((function(a){e+=a.byteLength}));var t=new Uint8Array(e),n=0;return r.forEach((function(a){t.set(new Uint8Array(a),n),n+=a.byteLength})),t.buffer}function pM(r){for(r=r.trim();r.endsWith("/");)r=r.slice(0,r.length-1);var e=r.split("/");return e[e.length-1]}function ry(r){if(r.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:r.modelTopology==null?0:hM(JSON.stringify(r.modelTopology)),weightSpecsBytes:r.weightSpecs==null?0:hM(JSON.stringify(r.weightSpecs)),weightDataBytes:r.weightData==null?0:r.weightData.byteLength}}var Ns=(function(){function r(){this.saveRouters=[],this.loadRouters=[]}return r.getInstance=function(){return r.instance==null&&(r.instance=new r),r.instance},r.registerSaveRouter=function(e){r.getInstance().saveRouters.push(e)},r.registerLoadRouter=function(e){r.getInstance().loadRouters.push(e)},r.getSaveHandlers=function(e){return r.getHandlers(e,"save")},r.getLoadHandlers=function(e,t){return r.getHandlers(e,"load",t)},r.getHandlers=function(e,t,n){var a=[];return(t==="load"?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach((function(o){var i=o(e,n);i!==null&&a.push(i)})),a},r})(),sm="://",XA=(function(){function r(){this.managers={}}return r.getInstance=function(){return r.instance==null&&(r.instance=new r),r.instance},r.registerManager=function(e,t){ce(e!=null,(function(){return"scheme must not be undefined or null."})),e.endsWith(sm)&&(e=e.slice(0,e.indexOf(sm))),ce(e.length>0,(function(){return"scheme must not be an empty string."}));var n=r.getInstance();ce(n.managers[e]==null,(function(){return"A model store manager is already registered for scheme '"+e+"'."})),n.managers[e]=t},r.getManager=function(e){var t=this.getInstance().managers[e];if(t==null)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},r.getSchemes=function(){return Object.keys(this.getInstance().managers)},r})();function Fb(r){if(r.indexOf(sm)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+XA.getSchemes().join(","));return{scheme:r.split(sm)[0],path:r.split(sm)[1]}}function mM(r,e,t){return t===void 0&&(t=!1),Pt(this,void 0,void 0,(function(){var n,a,o,i,s,u,l,c,A;return Dt(this,(function(d){switch(d.label){case 0:return ce(r!==e,(function(){return"Old path and new path are the same: '"+r+"'"})),ce((n=Ns.getLoadHandlers(r)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+r+"."})),ce(n.length<2,(function(){return"Copying failed because more than one ("+n.length+") load handlers for source URL "+r+"."})),a=n[0],ce((o=Ns.getSaveHandlers(e)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+e+"."})),ce(o.length<2,(function(){return"Copying failed because more than one ("+n.length+") save handlers for destination URL "+e+"."})),i=o[0],s=Fb(r).scheme,u=Fb(r).path,l=s===Fb(r).scheme,[4,a.load()];case 1:return c=d.sent(),t&&l?[4,XA.getManager(s).removeModel(u)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,i.save(c)];case 4:return A=d.sent(),!t||l?[3,6]:[4,XA.getManager(s).removeModel(u)];case 5:d.sent(),d.label=6;case 6:return[2,A.modelArtifactsInfo]}}))}))}var Fd="models_store",KA="model_info_store";function HO(){if(!Qe().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var r=window||self,e=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB||r.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function PL(r){var e=r.result;e.createObjectStore(Fd,{keyPath:"modelPath"}),e.createObjectStore(KA,{keyPath:"modelPath"})}var um=(function(){function r(e){if(this.indexedDB=HO(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return r.prototype.save=function(e){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]}))}))},r.prototype.load=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(e){return[2,this.databaseAction(this.modelPath)]}))}))},r.prototype.databaseAction=function(e,t){var n=this;return new Promise((function(a,o){var i=n.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return PL(i)},i.onsuccess=function(){var s=i.result;if(t==null){var u=s.transaction(Fd,"readonly"),l=u.objectStore(Fd).get(n.modelPath);l.onsuccess=function(){if(l.result==null)return s.close(),o(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));a(l.result.modelArtifacts)},l.onerror=function(p){return s.close(),o(l.error)},u.oncomplete=function(){return s.close()}}else{var c,A=ry(t),d=s.transaction(KA,"readwrite"),f=d.objectStore(KA),h=f.put({modelPath:n.modelPath,modelArtifactsInfo:A});h.onsuccess=function(){var p=(c=s.transaction(Fd,"readwrite")).objectStore(Fd).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:A});p.onsuccess=function(){return a({modelArtifactsInfo:A})},p.onerror=function(v){var g=(f=d.objectStore(KA)).delete(n.modelPath);g.onsuccess=function(){return s.close(),o(p.error)},g.onerror=function(B){return s.close(),o(p.error)}}},h.onerror=function(p){return s.close(),o(h.error)},d.oncomplete=function(){c==null?s.close():c.oncomplete=function(){return s.close()}}}},i.onerror=function(s){return o(i.error)}}))},r.URL_SCHEME="indexeddb://",r})(),gM=function(r){return Qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(um.URL_SCHEME)?(e=r.slice(um.URL_SCHEME.length),new um(e)):null;var e};Ns.registerSaveRouter(gM),Ns.registerLoadRouter(gM);var Lse=(function(){function r(){this.indexedDB=HO()}return r.prototype.listModels=function(){return Pt(this,void 0,void 0,(function(){var e=this;return Dt(this,(function(t){return[2,new Promise((function(n,a){var o=e.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return PL(o)},o.onsuccess=function(){var i=o.result,s=i.transaction(KA,"readonly"),u=s.objectStore(KA).getAll();u.onsuccess=function(){for(var l={},c=0,A=u.result;c<A.length;c++){var d=A[c];l[d.modelPath]=d.modelArtifactsInfo}n(l)},u.onerror=function(l){return i.close(),a(u.error)},s.oncomplete=function(){return i.close()}},o.onerror=function(i){return a(o.error)}}))]}))}))},r.prototype.removeModel=function(e){return Pt(this,void 0,void 0,(function(){var t=this;return Dt(this,(function(n){var a;return e=(a=e).startsWith(um.URL_SCHEME)?a.slice(um.URL_SCHEME.length):a,[2,new Promise((function(o,i){var s=t.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return PL(s)},s.onsuccess=function(){var u,l=s.result,c=l.transaction(KA,"readwrite"),A=c.objectStore(KA),d=A.get(e);d.onsuccess=function(){if(d.result==null)return l.close(),i(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var f=A.delete(e),h=function(){var p=(u=l.transaction(Fd,"readwrite")).objectStore(Fd).delete(e);p.onsuccess=function(){return o(d.result.modelArtifactsInfo)},p.onerror=function(v){return i(d.error)}};f.onsuccess=h,f.onerror=function(p){return h(),l.close(),i(d.error)}},d.onerror=function(f){return l.close(),i(d.error)},c.oncomplete=function(){u==null?l.close():u.oncomplete=function(){return l.close()}}},s.onerror=function(u){return i(s.error)}}))]}))}))},r})();if(Qe().getBool("IS_BROWSER"))try{XA.registerManager(um.URL_SCHEME,new Lse)}catch{}var _c="/",om="tensorflowjs_models",VO="info",Fse="model_topology",Tse="weight_specs",_se="weight_data",kse="model_metadata";function qO(r){return{info:[om,r,VO].join(_c),topology:[om,r,Fse].join(_c),weightSpecs:[om,r,Tse].join(_c),weightData:[om,r,_se].join(_c),modelMetadata:[om,r,kse].join(_c)}}function Nse(r){var e=r.split(_c);if(e.length<3)throw new Error("Invalid key format: "+r);return e.slice(1,e.length-1).join(_c)}var lm=(function(){function r(e){if(!Qe().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=qO(this.modelPath)}return r.prototype.save=function(e){return Pt(this,void 0,void 0,(function(){var t,n,a;return Dt(this,(function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=ry(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(function(i){if(NL)return Buffer.from(i).toString("base64");for(var s=new Uint8Array(i),u="",l=0,c=s.length;l<c;l++)u+=String.fromCharCode(s[l]);return btoa(u)})(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]}))}))},r.prototype.load=function(){return Pt(this,void 0,void 0,(function(){var e,t,n,a,o,i,s;return Dt(this,(function(u){if((e=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},(n=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=a,(o=this.LS.getItem(this.keys.modelMetadata))!=null&&(i=JSON.parse(o),t.format=i.format,t.generatedBy=i.generatedBy,t.convertedBy=i.convertedBy,t.userDefinedMetadata=i.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=(function(l){if(NL){var c=Buffer.from(l,"base64");return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}for(var A=atob(l),d=new Uint8Array(A.length),f=0;f<A.length;++f)d.set([A.charCodeAt(f)],f);return d.buffer})(s),[2,t]}))}))},r.URL_SCHEME="localstorage://",r})(),vM=function(r){return Qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(lm.URL_SCHEME)?(e=r.slice(lm.URL_SCHEME.length),new lm(e)):null;var e};Ns.registerSaveRouter(vM),Ns.registerLoadRouter(vM);var Pse=(function(){function r(){ce(Qe().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),ce(typeof window>"u"||window.localStorage!==void 0,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return r.prototype.listModels=function(){return Pt(this,void 0,void 0,(function(){var e,t,n,a,o,i;return Dt(this,(function(s){for(e={},t=om+_c,n=_c+VO,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(t)&&o.endsWith(n)&&(i=Nse(o),e[i]=JSON.parse(this.LS.getItem(o)));return[2,e]}))}))},r.prototype.removeModel=function(e){return Pt(this,void 0,void 0,(function(){var t,n;return Dt(this,(function(a){var o;if(e=(o=e).startsWith(lm.URL_SCHEME)?o.slice(lm.URL_SCHEME.length):o,t=qO(e),this.LS.getItem(t.info)==null)throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]}))}))},r})();if(Qe().getBool("IS_BROWSER"))try{XA.registerManager(lm.URL_SCHEME,new Pse)}catch{}var Dse="model",Rse=".json",Mse=".weights.bin";function yM(r){return new Promise((function(e){return setTimeout(e)})).then(r)}var AL=(function(){function r(e){if(!Qe().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(r.URL_SCHEME)&&(e=e.slice(r.URL_SCHEME.length)),e!=null&&e.length!==0||(e=Dse),this.modelTopologyFileName=e+Rse,this.weightDataFileName=e+Mse}return r.prototype.save=function(e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s;return Dt(this,(function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=o,[4,yM((function(){return i.dispatchEvent(new MouseEvent("click"))}))];case 2:return u.sent(),e.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=t,[4,yM((function(){return s.dispatchEvent(new MouseEvent("click"))}))]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:ry(e)}]}}))}))},r.URL_SCHEME="downloads://",r})(),Use=(function(){function r(e){if(e==null||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return r.prototype.load=function(){return Pt(this,void 0,void 0,(function(){var e,t,n=this;return Dt(this,(function(a){return e=this.files[0],t=this.files.slice(1),[2,new Promise((function(o,i){var s=new FileReader;s.onload=function(u){var l=JSON.parse(u.target.result),c=l.modelTopology;if(c!=null){t.length===0&&o({modelTopology:c});var A=l.weightsManifest;if(A!=null){var d;try{d=n.checkManifestAndWeightFiles(A,t)}catch(v){return void i(v)}var f=[],h=[],p=[];A.forEach((function(v){v.paths.forEach((function(g){h.push(g),p.push(null)})),f.push.apply(f,v.weights)})),A.forEach((function(v){v.paths.forEach((function(g){var B=new FileReader;B.onload=function(I){var S=I.target.result,E=h.indexOf(g);p[E]=S,p.indexOf(null)===-1&&o({modelTopology:c,weightSpecs:f,weightData:x5(p),format:l.format,generatedBy:l.generatedBy,convertedBy:l.convertedBy,userDefinedMetadata:l.userDefinedMetadata})},B.onerror=function(I){return i("Failed to weights data from file of path '"+g+"'.")},B.readAsArrayBuffer(d[g])}))}))}else i(new Error("weightManifest field is missing from file "+e.name))}else i(new Error("modelTopology field is missing from file "+e.name))},s.onerror=function(u){return i("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(e)}))]}))}))},r.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],a=t.map((function(u){return pM(u.name)})),o={},i=0,s=e;i<s.length;i++)s[i].paths.forEach((function(u){var l=pM(u);if(n.indexOf(l)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+l+"'");if(n.push(l),a.indexOf(l)===-1)throw new Error("Weight file with basename '"+l+"' is not provided.");o[u]=t[a.indexOf(l)]}));if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},r})();function xM(r,e,t,n){(function(o){ce(o!=null&&Array.isArray(o)&&o.length>0,(function(){return"promises must be a none empty array"}))})(r),(function(o,i){ce(o>=0&&o<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+o})),ce(i>=0&&i<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+i})),ce(i>=o,(function(){return"startFraction must be no more than endFraction, but got startFraction "+o+" and endFraction "+i}))})(t=t??0,n=n??1);var a=0;return Promise.all(r.map((function(o){return o.then((function(i){var s=t+ ++a/r.length*(n-t);return e(s),i})),o})))}function WO(r,e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s,u,l,c;return Dt(this,(function(A){switch(A.label){case 0:return e==null&&(e={}),t=e.fetchFunc==null?Qe().platform.fetch:e.fetchFunc,n=r.map((function(d){return t(d,e.requestInit,{isBinary:!0})})),a=0,o=.5,e.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return i=A.sent(),[3,4];case 2:return[4,xM(n,e.onProgress,a,o)];case 3:i=A.sent(),A.label=4;case 4:return s=i.map((function(d){return d.arrayBuffer()})),u=.5,l=1,e.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return c=A.sent(),[3,8];case 6:return[4,xM(s,e.onProgress,u,l)];case 7:c=A.sent(),A.label=8;case 8:return[2,c]}}))}))}function wM(r){var e=this;return function(t,n,a){return n===void 0&&(n=""),Pt(e,void 0,void 0,(function(){var o,i,s,u,l,c,A,d,f,h;return Dt(this,(function(p){switch(p.label){case 0:if(o=t.map((function(){return!1})),i={},s=a!=null?a.map((function(){return!1})):[],u=[],t.forEach((function(v,g){var B=0;v.weights.forEach((function(I){var S="quantization"in I?I.quantization.dtype:I.dtype,E=kL[S]*Ot(I.shape),T=function(){o[g]=!0,i[g]==null&&(i[g]=[]),i[g].push({manifestEntry:I,groupOffset:B,sizeBytes:E})};a!=null?a.forEach((function(U,D){U===I.name&&(T(),s[D]=!0)})):T(),u.push(I.name),B+=E}))})),!s.every((function(v){return v})))throw l=a.filter((function(v,g){return!s[g]})),new Error("Could not find weights in manifest with names: "+l.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return c=o.reduce((function(v,g,B){return g&&v.push(B),v}),[]),A=[],c.forEach((function(v){t[v].paths.forEach((function(g){var B=n+(n.endsWith("/")?"":"/")+g;A.push(B)}))})),[4,r(A)];case 1:return d=p.sent(),f={},h=0,c.forEach((function(v){for(var g=t[v].paths.length,B=0,I=0;I<g;I++)B+=d[h+I].byteLength;for(var S=new ArrayBuffer(B),E=new Uint8Array(S),T=0,U=0;U<g;U++){var D=new Uint8Array(d[h+U]);E.set(D,T),T+=D.byteLength}i[v].forEach((function(k){var O=QO(S.slice(k.groupOffset,k.groupOffset+k.sizeBytes),[k.manifestEntry]);for(var N in O)f[N]=O[N]})),h+=g})),[2,f]}}))}))}}Ns.registerSaveRouter((function(r){return Qe().getBool("IS_BROWSER")&&!Array.isArray(r)&&r.startsWith(AL.URL_SCHEME)?(function(e){return e===void 0&&(e="model"),new AL(e)})(r.slice(AL.URL_SCHEME.length)):null}));var zO=(function(){function r(e,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,t.fetchFunc!=null?(ce(typeof t.fetchFunc=="function",(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=t.fetchFunc):this.fetch=Qe().platform.fetch,ce(e!=null&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&ce(e.length===2,(function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."})),this.path=e,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return r.prototype.save=function(e){return Pt(this,void 0,void 0,(function(){var t,n,a,o;return Dt(this,(function(i){switch(i.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),e.weightData!=null&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=i.sent()).ok)return[2,{modelArtifactsInfo:ry(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}}))}))},r.prototype.load=function(){return Pt(this,void 0,void 0,(function(){var e,t,n,a,o,i,s,u,l,c,A,d;return Dt(this,(function(f){switch(f.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=f.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");f.label=2;case 2:return f.trys.push([2,4,,5]),[4,e.json()];case 3:return t=f.sent(),[3,5];case 4:throw f.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(a=t.modelTopology,o=t.weightsManifest,i=t.generatedBy,s=t.convertedBy,u=t.format,l=t.userDefinedMetadata,a==null&&o==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return o==null?[3,7]:[4,this.loadWeights(o)];case 6:d=f.sent(),c=d[0],A=d[1],f.label=7;case 7:return[2,{modelTopology:a,weightSpecs:c,weightData:A,userDefinedMetadata:l,generatedBy:i,convertedBy:s,format:u}]}}))}))},r.prototype.loadWeights=function(e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s,u,l,c,A,d;return Dt(this,(function(f){switch(f.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=(function(h){var p=h.lastIndexOf("/"),v=h.lastIndexOf("?"),g=h.substring(0,p),B=v>p?h.substring(v):"";return[g+"/",B]})(t),a=n[0],o=n[1],i=this.weightPathPrefix||a,s=[],u=0,l=e;u<l.length;u++)c=l[u],s.push.apply(s,c.weights);return A=[],e.forEach((function(h){h.paths.forEach((function(p){A.push(i+p+o)}))})),[4,WO(A,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=f.sent(),[2,[s,x5(d)]]}}))}))},r.URL_SCHEME_REGEX=/^https?:\/\//,r})();function DL(r){return r.match(zO.URL_SCHEME_REGEX)!=null}var bM=function(r,e){return typeof fetch>"u"?null:(Array.isArray(r)?r.every((function(t){return DL(t)})):DL(r))?RL(r,{onProgress:e}):null};function RL(r,e){return new zO(r,e)}Ns.registerSaveRouter(bM),Ns.registerLoadRouter(bM);var fL=(function(){function r(e){this.modelArtifacts=e}return r.prototype.load=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(e){return[2,this.modelArtifacts]}))}))},r})(),Ose=(function(){function r(e){this.saveHandler=e}return r.prototype.save=function(e){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){return[2,this.saveHandler(e)]}))}))},r})(),n2=Object.freeze({browserFiles:function(r){return new Use(r)},browserHTTPRequest:function(r,e){return RL(r,e)},concatenateArrayBuffers:x5,decodeWeights:QO,encodeWeights:function(r,e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s=this;return Dt(this,(function(u){switch(u.label){case 0:for(t=[],n=[],a=Array.isArray(r)?r.map((function(l){return l.name})):Object.keys(r),o=function(l){var c=a[l],A=Array.isArray(r)?r[l].tensor:r[c];if(A.dtype!=="float32"&&A.dtype!=="int32"&&A.dtype!=="bool"&&A.dtype!=="string")throw new Error("Unsupported dtype in weight '"+c+"': "+A.dtype);var d={name:c,shape:A.shape,dtype:A.dtype};if(A.dtype==="string"){var f=new Promise((function(h){return Pt(s,void 0,void 0,(function(){var p,v,g,B,I,S,E;return Dt(this,(function(T){switch(T.label){case 0:return[4,A.bytes()];case 1:for(p=T.sent(),v=p.reduce((function(U,D){return U+D.length}),0)+zb*p.length,g=new Uint8Array(v),B=0,I=0;I<p.length;I++)S=p[I],E=new Uint8Array(new Uint32Array([S.length]).buffer),g.set(E,B),B+=zb,g.set(S,B),B+=S.length;return h(g),[2]}}))}))}));n.push(f)}else n.push(A.data());e!=null&&(d.group=e),t.push(d)},i=0;i<a.length;++i)o(i);return[4,Promise.all(n)];case 1:return[2,{data:Ese(u.sent()),specs:t}]}}))}))},fromMemory:function(r,e,t,n){return arguments.length===1?r.modelTopology!=null||r.weightSpecs!=null?new fL(r):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new fL({modelTopology:r})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new fL({modelTopology:r,weightSpecs:e,weightData:t,trainingConfig:n}))},getLoadHandlers:function(r,e){return Ns.getLoadHandlers(r,e)},getModelArtifactsInfoForJSON:ry,getSaveHandlers:function(r){return Ns.getSaveHandlers(r)},http:RL,isHTTPScheme:DL,loadWeights:function(r,e,t,n){return e===void 0&&(e=""),Pt(this,void 0,void 0,(function(){return Dt(this,(function(a){return[2,wM((function(o){return WO(o,{requestInit:n})}))(r,e,t)]}))}))},registerLoadRouter:function(r){return Ns.registerLoadRouter(r)},registerSaveRouter:function(r){return Ns.registerSaveRouter(r)},weightsLoaderFactory:wM,withSaveHandler:function(r){return new Ose(r)},copyModel:function(r,e){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){return[2,mM(r,e,!1)]}))}))},listModels:function(){return Pt(this,void 0,void 0,(function(){var r,e,t,n,a,o,i;return Dt(this,(function(s){switch(s.label){case 0:r=XA.getSchemes(),e={},t=0,n=r,s.label=1;case 1:return t<n.length?(a=n[t],[4,XA.getManager(a).listModels()]):[3,4];case 2:for(i in o=s.sent())e[a+sm+i]=o[i];s.label=3;case 3:return t++,[3,1];case 4:return[2,e]}}))}))},moveModel:function(r,e){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){return[2,mM(r,e,!0)]}))}))},removeModel:function(r){return Pt(this,void 0,void 0,(function(){var e;return Dt(this,(function(t){return e=Fb(r),[2,XA.getManager(e.scheme).removeModel(e.path)]}))}))}}),tm,Qse=ye({confusionMatrix_:function(r,e,t){var n=oe(r,"labels","confusionMatrix"),a=oe(e,"predictions","confusionMatrix");ce(t==null||t>0&&Number.isInteger(t),(function(){return"If provided, numClasses must be a positive integer, but got "+t})),ce(n.rank===1,(function(){return"Expected the rank of labels to be 1, but got "+n.rank})),ce(a.rank===1,(function(){return"Expected the rank of predictions to be 1, but got "+a.rank})),ce(n.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+n.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."})),ce(t>0&&Number.isInteger(t),(function(){return"numClasses is required to be a positive integer, but got "+t}));var o=LL(n.asType("int32"),t),i=LL(a.asType("int32"),t);return o.transpose().matMul(i).asType("int32")}}),R6e=Object.freeze({confusionMatrix:Qse}),Hse=ye({fromPixels_:function(r,e){if(e===void 0&&(e=3),e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(r==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var t=!1,n=!1,a=!1,o=!1,i=!1;if(r.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&r instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement)o=!0;else{if(r.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+r.constructor.name);i=!0}if(a&&a&&r.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(SM("FromPixels",Be.backendName)!=null)return Be.runKernel("FromPixels",{pixels:r},{numChannels:e});var s,u,l=a?[r.videoWidth,r.videoHeight]:[r.width,r.height],c=l[0],A=l[1];if(i?s=r.getContext("2d").getImageData(0,0,c,A).data:n||t?s=r.data:(o||a)&&(tm==null&&(tm=document.createElement("canvas").getContext("2d")),tm.canvas.width=c,tm.canvas.height=A,tm.drawImage(r,0,0,c,A),s=tm.getImageData(0,0,c,A).data),e===4)u=new Int32Array(s);else{var d=c*A;u=new Int32Array(d*e);for(var f=0;f<d;f++)for(var h=0;h<e;++h)u[f*e+h]=s[4*f+h]}return Kb(u,[A,c,e],"int32")}}),mm=Object.freeze({toPixels:function(r,e){return Pt(this,void 0,void 0,(function(){var t,n,a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D;return Dt(this,(function(k){switch(k.label){case 0:if(t=oe(r,"img","toPixels"),r instanceof Ln||(t=t.toInt()),t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(n=t.shape.slice(0,2),a=n[0],o=n[1],(i=t.rank===2?1:t.shape[2])>4||i===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,t.data()];case 1:return s=k.sent(),u=t.min(),l=t.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(c=k.sent(),A=c[0],d=c[1],f=A[0],h=d[0],u.dispose(),l.dispose(),t.dtype==="float32"){if(f<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+h+"].")}else{if(t.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(f<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+h+"].")}for(p=t.dtype==="float32"?255:1,v=new Uint8ClampedArray(o*a*4),g=0;g<a*o;++g)B=void 0,I=void 0,S=void 0,E=void 0,i===1?(B=s[g]*p,I=s[g]*p,S=s[g]*p,E=255):i===3?(B=s[3*g]*p,I=s[3*g+1]*p,S=s[3*g+2]*p,E=255):i===4&&(B=s[4*g]*p,I=s[4*g+1]*p,S=s[4*g+2]*p,E=s[4*g+3]*p),v[(T=4*g)+0]=Math.round(B),v[T+1]=Math.round(I),v[T+2]=Math.round(S),v[T+3]=Math.round(E);return e!=null&&(e.width=o,e.height=a,U=e.getContext("2d"),D=new ImageData(v,o,a),U.putImageData(D,0,0)),t!==r&&t.dispose(),[2,v]}}))}))},fromPixels:Hse}),jO=(function(){function r(){}return r.prototype.getClassName=function(){return this.constructor.className},r.fromConfig=function(e,t){return new e(t)},r})(),GO=(function(){function r(){this.classNameMap={}}return r.getMap=function(){return r.instance==null&&(r.instance=new r),r.instance},r.register=function(e){r.getMap().classNameMap[e.className]=[e,e.fromConfig]},r})();function JA(r){ce(r.className!=null,(function(){return"Class being registered does not have the static className property defined."})),ce(typeof r.className=="string",(function(){return"className is required to be a string, but got type "+typeof r.className})),ce(r.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),GO.register(r)}var M6e=Object.freeze({Serializable:jO,SerializationMap:GO,registerClass:JA}),Vse=.001,KO=.1;function dL(){return Be.backend.floatPrecision()===32?Vse:KO}function hL(r,e,t){var n=!0;if((Mo(r)||Mo(e))&&(n=!1),Mo(r)&&Mo(e)&&(n=!0),n){var a=r.constructor.name,o=e.constructor.name;if(a!==o)throw new Error("Arrays are of different type. Actual: "+a+". Expected: "+o)}if(Array.isArray(r)&&Array.isArray(e)){var i=kl(r),s=kl(e);if(!za(i,s))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+s+"]")}var u=Mo(r)?r:Nc(r),l=Mo(e)?e:Nc(e);if(u.length!==l.length)throw new Error("Arrays have different lengths actual: "+u.length+" vs expected: "+l.length+`.
Actual:   `+u+`.
Expected: `+l+".");for(var c=0;c<l.length;++c){var A=u[c],d=l[c];if(!t(A,d))throw new Error("Arrays differ: actual["+c+"] = "+A+", expected["+c+"] = "+d+`.
Actual:   `+u+`.
Expected: `+l+".")}}function pL(r,e,t){return!isFinite(r)&&!isFinite(e)||!(isNaN(r)||isNaN(e)||Math.abs(r-e)>t)}var U6e=Object.freeze({TEST_EPSILON_FLOAT16:KO,expectArraysClose:function(r,e,t){return t==null&&(t=dL()),hL(r,e,(function(n,a){return pL(n,a,t)}))},testEpsilon:dL,expectPromiseToFail:function(r,e){r().then((function(){return e.fail()}),(function(){return e()}))},expectArraysEqual:function(r,e){var t=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return GA(r)||GA(r[0])||GA(e)||GA(e[0])?hL(r,t,(function(n,a){return n==a})):hL(r,e,(function(n,a){return pL(n,a,0)}))},expectNumbersClose:function(r,e,t){if(t==null&&(t=dL()),!pL(r,e,t))throw new Error("Numbers differ: actual === "+r+", expected === "+e)},expectValuesInRange:function(r,e,t){for(var n=0;n<r.length;n++)if(r[n]<e||r[n]>t)throw new Error("Value out of range:"+r[n]+" low: "+e+", high: "+t)},expectArrayBuffersEqual:function(r,e){expect(new Float32Array(r)).toEqual(new Float32Array(e))}});var O6e=Object.freeze({gpgpu_util:Aae,webgl_util:Dre,forceHalfFloat:function(){Qe().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:cO,setWebGLContext:qM,GPGPUContext:nO}),Od=(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return Gu(e,r),e.prototype.minimize=function(t,n,a){n===void 0&&(n=!1);var o=this.computeGradients(t,a),i=o.value,s=o.grads;if(a!=null){var u=a.map((function(l){return{name:l.name,tensor:s[l.name]}}));this.applyGradients(u)}else this.applyGradients(s);return os(s),n?i:(i.dispose(),null)},Object.defineProperty(e.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),e.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},e.prototype.computeGradients=function(t,n){return pne(t,n)},e.prototype.dispose=function(){this.iterations_!=null&&os(this.iterations_)},e.prototype.saveIterations=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:lt(this.iterations_,"int32")}]}))}))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},e.prototype.extractIterations=function(t){return Pt(this,void 0,void 0,(function(){var n;return Dt(this,(function(a){switch(a.label){case 0:return n=this,[4,t[0].tensor.data()];case 1:return n.iterations_=a.sent()[0],[2,t.slice(1)]}}))}))},e})(jO);Object.defineProperty(Od,Symbol.hasInstance,{value:function(r){return r.minimize!=null&&r.computeGradients!=null&&r.applyGradients!=null}});var XO=(function(r){function e(t,n,a){a===void 0&&(a=null);var o=r.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=a,o.accumulatedGrads=[],o.accumulatedUpdates=[],a==null&&(o.epsilon=Be.backend.epsilon()),o}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t)).forEach((function(a,o){var i=Be.registeredVariables[a];n.accumulatedGrads[o]==null&&(n.accumulatedGrads[o]={originalName:a+"/accum_grad",variable:$e((function(){return Jr(i).variable(!1)}))}),n.accumulatedUpdates[o]==null&&(n.accumulatedUpdates[o]={originalName:a+"/accum_var",variable:$e((function(){return Jr(i).variable(!1)}))});var s=Array.isArray(t)?t[o].tensor:t[a];if(s!=null){var u=n.accumulatedGrads[o].variable,l=n.accumulatedUpdates[o].variable;$e((function(){var c=u.mul(n.rho).add(s.square().mul(1-n.rho)),A=l.add(n.epsilon).sqrt().div(u.add(n.epsilon).sqrt()).mul(s),d=l.mul(n.rho).add(A.square().mul(1-n.rho));u.assign(c),l.assign(d);var f=A.mul(-n.learningRate).add(i);i.assign(f)}))}})),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedUpdates!=null&&(os(this.accumulatedGrads.map((function(t){return t.variable}))),os(this.accumulatedUpdates.map((function(t){return t.variable}))))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){var t;return Dt(this,(function(n){switch(n.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){var n;return Dt(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(t)];case 1:return t=a.sent(),n=t.length/2,this.accumulatedGrads=t.slice(0,n).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},e.fromConfig=function(t,n){return new t(n.learningRate,n.rho,n.epsilon)},e.className="Adadelta",e})(Od);JA(XO);var YO=(function(r){function e(t,n){n===void 0&&(n=.1);var a=r.call(this)||this;return a.learningRate=t,a.initialAccumulatorValue=n,a.accumulatedGrads=[],a}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t)).forEach((function(a,o){var i=Be.registeredVariables[a];n.accumulatedGrads[o]==null&&(n.accumulatedGrads[o]={originalName:a+"/accumulator",variable:$e((function(){return Ps(i.shape,n.initialAccumulatorValue).variable(!1)}))});var s=Array.isArray(t)?t[o].tensor:t[a];if(s!=null){var u=n.accumulatedGrads[o].variable;$e((function(){var l=u.add(s.square());u.assign(l);var c=s.div(l.add(Be.backend.epsilon()).sqrt()).mul(-n.learningRate).add(i);i.assign(c)}))}})),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedGrads!=null&&os(this.accumulatedGrads.map((function(t){return t.variable})))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map((function(n){return{name:n.originalName,tensor:n.variable}})))]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulatedGrads=t.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},e.fromConfig=function(t,n){return new t(n.learningRate,n.initialAccumulatorValue)},e.className="Adagrad",e})(Od);JA(YO);var $O=(function(r){function e(t,n,a,o){o===void 0&&(o=null);var i=r.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],$e((function(){i.accBeta1=lt(n).variable(),i.accBeta2=lt(a).variable()})),o==null&&(i.epsilon=Be.backend.epsilon()),i}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this,a=Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t);$e((function(){var o=Fn(1,n.accBeta1),i=Fn(1,n.accBeta2);a.forEach((function(s,u){var l=Be.registeredVariables[s];n.accumulatedFirstMoment[u]==null&&(n.accumulatedFirstMoment[u]={originalName:s+"/m",variable:$e((function(){return Jr(l).variable(!1)}))}),n.accumulatedSecondMoment[u]==null&&(n.accumulatedSecondMoment[u]={originalName:s+"/v",variable:$e((function(){return Jr(l).variable(!1)}))});var c=Array.isArray(t)?t[u].tensor:t[s];if(c!=null){var A=n.accumulatedFirstMoment[u].variable,d=n.accumulatedSecondMoment[u].variable,f=A.mul(n.beta1).add(c.mul(1-n.beta1)),h=d.mul(n.beta2).add(c.square().mul(1-n.beta2)),p=f.div(o),v=h.div(i);A.assign(f),d.assign(h);var g=p.div(v.sqrt().add(n.epsilon)).mul(-n.learningRate).add(l);l.assign(g)}})),n.accBeta1.assign(n.accBeta1.mul(n.beta1)),n.accBeta2.assign(n.accBeta2.mul(n.beta2))})),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&os(this.accumulatedFirstMoment.map((function(t){return t.variable}))),this.accumulatedSecondMoment!=null&&os(this.accumulatedSecondMoment.map((function(t){return t.variable})))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){var t;return Dt(this,(function(n){switch(n.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){var n,a=this;return Dt(this,(function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),$e((function(){a.accBeta1.assign(qb(a.beta1,a.iterations_+1)),a.accBeta2.assign(qb(a.beta2,a.iterations_+1))})),n=t.length/2,this.accumulatedFirstMoment=t.slice(0,n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},e.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)},e.className="Adam",e})(Od);JA($O);var JO=(function(r){function e(t,n,a,o,i){o===void 0&&(o=null),i===void 0&&(i=0);var s=r.call(this)||this;return s.learningRate=t,s.beta1=n,s.beta2=a,s.epsilon=o,s.decay=i,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],$e((function(){s.iteration=lt(0).variable(),s.accBeta1=lt(n).variable()})),o==null&&(s.epsilon=Be.backend.epsilon()),s}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this,a=Array.isArray(t)?t.map((function(o){return o.name})):Object.keys(t);$e((function(){var o=Fn(1,n.accBeta1),i=uu(-n.learningRate,n.iteration.mul(n.decay).add(1));a.forEach((function(s,u){var l=Be.registeredVariables[s];n.accumulatedFirstMoment[u]==null&&(n.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Jr(l).variable(!1)}),n.accumulatedWeightedInfNorm[u]==null&&(n.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:Jr(l).variable(!1)});var c=Array.isArray(t)?t[u].tensor:t[s];if(c!=null){var A=n.accumulatedFirstMoment[u].variable,d=n.accumulatedWeightedInfNorm[u].variable,f=A.mul(n.beta1).add(c.mul(1-n.beta1)),h=d.mul(n.beta2),p=c.abs(),v=h.maximum(p);A.assign(f),d.assign(v);var g=i.div(o).mul(f.div(v.add(n.epsilon))).add(l);l.assign(g)}})),n.iteration.assign(n.iteration.add(1)),n.accBeta1.assign(n.accBeta1.mul(n.beta1))})),this.incrementIterations()},e.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&os(this.accumulatedFirstMoment.map((function(t){return t.variable}))),this.accumulatedWeightedInfNorm!=null&&os(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},e.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},e.className="Adamax",e})(Od);JA(JO);var w5=(function(r){function e(t){var n=r.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t)).forEach((function(a,o){var i=Array.isArray(t)?t[o].tensor:t[a];if(i!=null){var s=Be.registeredVariables[a];$e((function(){var u=n.c.mul(i).add(s);s.assign(u)}))}})),this.incrementIterations()},e.prototype.setLearningRate=function(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=Rre(lt(-t))},e.prototype.dispose=function(){this.c.dispose()},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:if((t=n.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate}},e.fromConfig=function(t,n){return new t(n.learningRate)},e.className="SGD",e})(Od);JA(w5);var ZO=(function(r){function e(t,n,a){a===void 0&&(a=!1);var o=r.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=a,o.accumulations=[],o.m=lt(o.momentum),o}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t)).forEach((function(a,o){var i=Be.registeredVariables[a];n.accumulations[o]==null&&(n.accumulations[o]={originalName:a+"/momentum",variable:$e((function(){return Jr(i).variable(!1)}))});var s=n.accumulations[o].variable,u=Array.isArray(t)?t[o].tensor:t[a];u!=null&&$e((function(){var l,c=n.m.mul(s).add(u);l=n.useNesterov?n.c.mul(u.add(c.mul(n.m))).add(i):n.c.mul(c).add(i),s.assign(c),i.assign(l)}))})),this.incrementIterations()},e.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&os(this.accumulations.map((function(t){return t.variable})))},e.prototype.setMomentum=function(t){this.momentum=t},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map((function(n){return{name:n.originalName,tensor:n.variable}})))]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){return Dt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulations=t.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},e.fromConfig=function(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)},e.className="Momentum",e})(w5);JA(ZO);var e6=(function(r){function e(t,n,a,o,i){n===void 0&&(n=.9),a===void 0&&(a=0),o===void 0&&(o=null),i===void 0&&(i=!1);var s=r.call(this)||this;if(s.learningRate=t,s.decay=n,s.momentum=a,s.epsilon=o,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=i,o==null&&(s.epsilon=Be.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return Gu(e,r),e.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map((function(a){return a.name})):Object.keys(t)).forEach((function(a,o){var i=Be.registeredVariables[a];n.accumulatedMeanSquares[o]==null&&(n.accumulatedMeanSquares[o]={originalName:a+"/rms",variable:$e((function(){return Jr(i).variable(!1)}))}),n.accumulatedMoments[o]==null&&(n.accumulatedMoments[o]={originalName:a+"/momentum",variable:$e((function(){return Jr(i).variable(!1)}))}),n.accumulatedMeanGrads[o]==null&&n.centered&&(n.accumulatedMeanGrads[o]={originalName:a+"/mg",variable:$e((function(){return Jr(i).variable(!1)}))});var s=Array.isArray(t)?t[o].tensor:t[a];if(s!=null){var u=n.accumulatedMeanSquares[o].variable,l=n.accumulatedMoments[o].variable;$e((function(){var c=u.mul(n.decay).add(s.square().mul(1-n.decay));if(n.centered){var A=n.accumulatedMeanGrads[o].variable,d=A.mul(n.decay).add(s.mul(1-n.decay)),f=l.mul(n.momentum).add(s.mul(n.learningRate).div(c.sub(d.square().add(n.epsilon)).sqrt()));u.assign(c),A.assign(d),l.assign(f);var h=i.sub(f);i.assign(h)}else{var p=u.mul(n.decay).add(s.square().mul(1-n.decay));f=l.mul(n.momentum).add(s.mul(n.learningRate).div(p.add(n.epsilon).sqrt())),u.assign(p),l.assign(f),h=i.sub(f),i.assign(h)}}))}})),this.incrementIterations()},e.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&os(this.accumulatedMeanSquares.map((function(t){return t.variable}))),this.accumulatedMeanGrads!=null&&this.centered&&os(this.accumulatedMeanGrads.map((function(t){return t.variable}))),this.accumulatedMoments!=null&&os(this.accumulatedMoments.map((function(t){return t.variable})))},e.prototype.getWeights=function(){return Pt(this,void 0,void 0,(function(){var t;return Dt(this,(function(n){switch(n.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},e.prototype.setWeights=function(t){return Pt(this,void 0,void 0,(function(){var n;return Dt(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(t)];case 1:return t=a.sent(),n=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,n).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}))),[2]}}))}))},e.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},e.fromConfig=function(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},e.className="RMSProp",e})(Od);JA(e6);var Sd=(function(){function r(){}return r.sgd=function(e){return new w5(e)},r.momentum=function(e,t,n){return n===void 0&&(n=!1),new ZO(e,t,n)},r.rmsprop=function(e,t,n,a,o){return t===void 0&&(t=.9),n===void 0&&(n=0),a===void 0&&(a=null),o===void 0&&(o=!1),new e6(e,t,n,a,o)},r.adam=function(e,t,n,a){return e===void 0&&(e=.001),t===void 0&&(t=.9),n===void 0&&(n=.999),a===void 0&&(a=null),new $O(e,t,n,a)},r.adadelta=function(e,t,n){return e===void 0&&(e=.001),t===void 0&&(t=.95),n===void 0&&(n=null),new XO(e,t,n)},r.adamax=function(e,t,n,a,o){return e===void 0&&(e=.002),t===void 0&&(t=.9),n===void 0&&(n=.999),a===void 0&&(a=null),o===void 0&&(o=0),new JO(e,t,n,a,o)},r.adagrad=function(e,t){return t===void 0&&(t=.1),new YO(e,t)},r})(),Q6e={sgd:Sd.sgd,momentum:Sd.momentum,adadelta:Sd.adadelta,adagrad:Sd.adagrad,rmsprop:Sd.rmsprop,adamax:Sd.adamax,adam:Sd.adam};Ln.prototype.squaredDifference=function(r){return AO(this,r)},Me=xse;function ZA(r,e,t){if(t===void 0&&(t=!1),r.beginPath(),e.slice(1).forEach(function(o,i){var s=o.x,u=o.y,l=e[i];r.moveTo(l.x,l.y),r.lineTo(s,u)}),t){var n=e[e.length-1],a=e[0];if(!n||!a)return;r.moveTo(n.x,n.y),r.lineTo(a.x,a.y)}r.stroke()}var b5=function(r,e){return b5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},b5(r,e)};function pt(r,e){b5(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ka=function(){return Ka=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ka.apply(this,arguments)};function it(r,e,t,n){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(c){try{l(n.next(c))}catch(A){i(A)}}function u(c){try{l(n.throw(c))}catch(A){i(A)}}function l(c){c.done?o(c.value):a(c.value).then(s,u)}l((n=n.apply(r,e||[])).next())})}function st(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(o=l[0]&2?a.return:l[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,l[1])).done)return o;switch(a=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,a=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(c){l=[6,c],a=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Qd(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),a=0,e=0;e<t;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}var $u=(function(){function r(e,t){if(!Pl(e)||!Pl(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),r.prototype.reverse=function(){return new r(1/this.width,1/this.height)},r})();function ny(r,e){return r instanceof Ln&&r.shape.length===e}function t6(r){return ny(r,2)}function ef(r){return ny(r,3)}function cu(r){return ny(r,4)}function r6(r){return r%1!==0}function C5(r){return r%2===0}function a2(r,e){e===void 0&&(e=2);var t=Math.pow(10,e);return Math.floor(r*t)/t}function B5(r){return r&&r.width&&r.height}function n6(r,e){var t=r.width,n=r.height,a=e/Math.max(n,t);return new $u(Math.round(t*a),Math.round(n*a))}function gm(r){return r.reduce(function(e,t){return e.add(t)},new Fr(0,0)).div(new Fr(r.length,r.length))}function Uc(r,e,t){return Array(r).fill(0).map(function(n,a){return e+a*t})}function Pl(r){return!!r&&r!==1/0&&r!==-1/0&&!isNaN(r)||r===0}function o2(r){return Pl(r)&&0<=r&&r<=1}var Fr=(function(){function r(e,t){this._x=e,this._y=t}return Object.defineProperty(r.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),r.prototype.add=function(e){return new r(this.x+e.x,this.y+e.y)},r.prototype.sub=function(e){return new r(this.x-e.x,this.y-e.y)},r.prototype.mul=function(e){return new r(this.x*e.x,this.y*e.y)},r.prototype.div=function(e){return new r(this.x/e.x,this.y/e.y)},r.prototype.abs=function(){return new r(Math.abs(this.x),Math.abs(this.y))},r.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},r.prototype.floor=function(){return new r(Math.floor(this.x),Math.floor(this.y))},r})();var Oo=(function(){function r(e,t){t===void 0&&(t=!0);var n=e||{},a=[n.left,n.top,n.right,n.bottom].every(Pl),o=[n.x,n.y,n.width,n.height].every(Pl);if(!o&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(n));var i=o?[n.x,n.y,n.width,n.height]:[n.left,n.top,n.right-n.left,n.bottom-n.top],s=i[0],u=i[1],l=i[2],c=i[3];r.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",t),this._x=s,this._y=u,this._width=l,this._height=c}return r.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(Pl)},r.assertIsValidBox=function(e,t,n){if(n===void 0&&(n=!1),!r.isRect(e))throw new Error(t+" - invalid box: "+JSON.stringify(e)+", expected object with properties x, y, width, height");if(!n&&(e.width<0||e.height<0))throw new Error(t+" - width ("+e.width+") and height ("+e.height+") must be positive numbers")},Object.defineProperty(r.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topLeft",{get:function(){return new Fr(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topRight",{get:function(){return new Fr(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomLeft",{get:function(){return new Fr(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRight",{get:function(){return new Fr(this.right,this.bottom)},enumerable:!0,configurable:!0}),r.prototype.round=function(){var e=[this.x,this.y,this.width,this.height].map(function(i){return Math.round(i)}),t=e[0],n=e[1],a=e[2],o=e[3];return new r({x:t,y:n,width:a,height:o})},r.prototype.floor=function(){var e=[this.x,this.y,this.width,this.height].map(function(i){return Math.floor(i)}),t=e[0],n=e[1],a=e[2],o=e[3];return new r({x:t,y:n,width:a,height:o})},r.prototype.toSquare=function(){var e=this,t=e.x,n=e.y,a=e.width,o=e.height,i=Math.abs(a-o);return a<o&&(t-=i/2,a+=i),o<a&&(n-=i/2,o+=i),new r({x:t,y:n,width:a,height:o})},r.prototype.rescale=function(e){var t=B5(e)?e.width:e,n=B5(e)?e.height:e;return new r({x:this.x*t,y:this.y*n,width:this.width*t,height:this.height*n})},r.prototype.pad=function(e,t){var n=[this.x-e/2,this.y-t/2,this.width+e,this.height+t],a=n[0],o=n[1],i=n[2],s=n[3];return new r({x:a,y:o,width:i,height:s})},r.prototype.clipAtImageBorders=function(e,t){var n=this,a=n.x,o=n.y,i=n.right,s=n.bottom,u=Math.max(a,0),l=Math.max(o,0),c=i-u,A=s-l,d=Math.min(c,e-u),f=Math.min(A,t-l);return new r({x:u,y:l,width:d,height:f}).floor()},r.prototype.shift=function(e,t){var n=this,a=n.width,o=n.height,i=this.x+e,s=this.y+t;return new r({x:i,y:s,width:a,height:o})},r.prototype.padAtBorders=function(e,t){var n=this.width+1,a=this.height+1,o=1,i=1,s=n,u=a,l=this.left,c=this.top,A=this.right,d=this.bottom;return A>t&&(s=-A+t+n,A=t),d>e&&(u=-d+e+a,d=e),l<1&&(u=2-l,l=1),c<1&&(u=2-c,c=1),{dy:i,edy:u,dx:o,edx:s,y:c,ey:d,x:l,ex:A,w:n,h:a}},r.prototype.calibrate=function(e){return new r({left:this.left+e.left*this.width,top:this.top+e.top*this.height,right:this.right+e.right*this.width,bottom:this.bottom+e.bottom*this.height}).toSquare().round()},r})();var Hd=(function(r){pt(e,r);function e(t,n,a,o,i){return i===void 0&&(i=!1),r.call(this,{left:t,top:n,right:a,bottom:o},i)||this}return e})(Oo);var i2=(function(){function r(e,t,n,a,o){this._imageDims=new $u(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new Oo(a).rescale(this._imageDims)}return Object.defineProperty(r.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"relativeBox",{get:function(){return new Oo(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),r.prototype.forSize=function(e,t){return new r(this.score,this.classScore,this.className,this.relativeBox,{width:e,height:t})},r})();var Ra=(function(r){pt(e,r);function e(t,n,a){return r.call(this,t,t,"",n,a)||this}return e.prototype.forSize=function(t,n){var a=r.prototype.forSize.call(this,t,n),o=a.score,i=a.relativeBox,s=a.imageDims;return new e(o,i,s)},e})(i2);function a6(r,e,t){t===void 0&&(t=!0);var n=Math.max(0,Math.min(r.right,e.right)-Math.max(r.left,e.left)),a=Math.max(0,Math.min(r.bottom,e.bottom)-Math.max(r.top,e.top)),o=n*a;return t?o/(r.area+e.area-o):o/Math.min(r.area,e.area)}function o6(r){var e=r.map(function(s){return s.x}),t=r.map(function(s){return s.y}),n=e.reduce(function(s,u){return u<s?u:s},1/0),a=t.reduce(function(s,u){return u<s?u:s},1/0),o=e.reduce(function(s,u){return s<u?u:s},0),i=t.reduce(function(s,u){return s<u?u:s},0);return new Hd(n,a,o,i)}function Oc(r,e,t,n){n===void 0&&(n=!0);for(var a=e.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),o=[],i=function(){var s=a.pop();o.push(s);for(var u=a,l=[],c=0;c<u.length;c++){var A=u[c],d=r[s],f=r[A];l.push(a6(d,f,n))}a=a.filter(function(h,p){return l[p]<=t})};a.length>0;)i();return o}function Dl(r,e){return $e(function(){var t=e[0],n=e[1],a=e[2],o=Ps(Qd(r.shape.slice(0,3),[1]),t),i=Ps(Qd(r.shape.slice(0,3),[1]),n),s=Ps(Qd(r.shape.slice(0,3),[1]),a),u=Wn([o,i,s],3);return Fn(r,u)})}function i6(r,e){return e===void 0&&(e=!1),$e(function(){var t=r.shape.slice(1),n=t[0],a=t[1];if(n===a)return r;var o=Math.abs(n-a),i=Math.round(o*(e?.5:1)),s=n>a?2:1,u=function(f){var h=r.shape.slice();return h[s]=f,Ps(h,0)},l=u(i),c=o-l.shape[s],A=e&&c?u(c):null,d=[A,r,l].filter(function(f){return!!f}).map(function(f){return f.toFloat()});return Wn(d,s)})}function s2(r){return 1/(1+Math.exp(-r))}var vm=(function(r){pt(e,r);function e(t,n,a,o,i){return i===void 0&&(i=!1),r.call(this,{x:t,y:n,width:a,height:o},i)||this}return e})(Oo);var Wse=.5,zse=.43,jse=.45,Qc=(function(){function r(e,t,n){n===void 0&&(n=new Fr(0,0));var a=t.width,o=t.height;this._imgDims=new $u(a,o),this._shift=n,this._positions=e.map(function(i){return i.mul(new Fr(a,o)).add(n)})}return Object.defineProperty(r.prototype,"shift",{get:function(){return new Fr(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new Fr(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),r.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},r.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new Fr(e,t))},r.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},r.prototype.align=function(e,t){if(t===void 0&&(t={}),e){var n=e instanceof Ra?e.box.floor():new Oo(e);return this.shiftBy(n.x,n.y).align(null,t)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=a.useDlibAlignment,i=a.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(i)},r.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],a=e[2],o=function(A){return a.sub(A).magnitude()},i=(o(t)+o(n))/2,s=Math.floor(i/jse),u=gm(e),l=Math.floor(Math.max(0,u.x-Wse*s)),c=Math.floor(Math.max(0,u.y-zse*s));return new vm(l,c,Math.min(s,this.imageWidth+l),Math.min(s,this.imageHeight+c))},r.prototype.alignMinBbox=function(e){var t=o6(this.positions);return t.pad(t.width*e,t.height*e)},r.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},r})();var s6=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],gm([t[3],t[4]])]},e})(Qc);var u2=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getJawOutline=function(){return this.positions.slice(0,17)},e.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},e.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},e.prototype.getNose=function(){return this.positions.slice(27,36)},e.prototype.getLeftEye=function(){return this.positions.slice(36,42)},e.prototype.getRightEye=function(){return this.positions.slice(42,48)},e.prototype.getMouth=function(){return this.positions.slice(48,68)},e.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(gm)},e})(Qc);var S5=(function(){function r(e,t){this._label=e,this._distance=t}return Object.defineProperty(r.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),r.prototype.toString=function(e){return e===void 0&&(e=!0),""+this.label+(e?" ("+a2(this.distance)+")":"")},r})();var I5=(function(r){pt(e,r);function e(t,n){var a=r.call(this,t)||this;return a._label=n,a}return e.assertIsValidLabeledBox=function(t,n){if(Oo.assertIsValidBox(t,n),!Pl(t.label))throw new Error(n+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),e})(Oo);var ay=(function(){function r(e,t){if(typeof e!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(n){return!(n instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(r.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),r.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},r.fromJSON=function(e){var t=e.descriptors.map(function(n){return new Float32Array(n)});return new r(e.label,t)},r})();var $Qe=(function(r){pt(e,r);function e(t,n,a,o){var i=r.call(this,t,n)||this;return i._score=a,i._classScore=o,i}return e.assertIsValidPredictedBox=function(t,n){if(I5.assertIsValidLabeledBox(t,n),!o2(t.score)||!o2(t.classScore))throw new Error(n+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),e})(I5);function oy(r){return r.detection instanceof Ra}function ym(r,e){var t={detection:e};return Object.assign({},r,t)}function E5(){var r=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},e=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:r,readFile:e}}function l2(r){var e="";if(!r)try{r=Rx("fs")}catch(n){e=n.toString()}var t=r?function(n){return new Promise(function(a,o){r.readFile(n,function(i,s){return i?o(i):a(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+e)};return{readFile:t}}function L5(){var r=global.Canvas||global.HTMLCanvasElement,e=global.Image||global.HTMLImageElement,t=function(){if(r)return new r;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},n=function(){if(e)return new e;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=l2();return Ka({Canvas:r||(function(){function i(){}return i})(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||(function(){function i(){}return i})(),Image:e||(function(){function i(){}return i})(),ImageData:global.ImageData||(function(){function i(){}return i})(),Video:global.HTMLVideoElement||(function(){function i(){}return i})(),createCanvasElement:t,createImageElement:n,fetch:a},o)}function F5(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function T5(){return typeof global=="object"&&typeof Rx=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var ho;function Gse(){if(!ho)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return ho}function _5(r){ho=r}function k5(){F5()&&_5(E5()),T5()&&_5(L5())}function Kse(r){if(ho||k5(),!ho)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var e=r.Canvas,t=e===void 0?ho.Canvas:e,n=r.Image,a=n===void 0?ho.Image:n;ho.Canvas=t,ho.Image=a,ho.createCanvasElement=r.createCanvasElement||(function(){return new t}),ho.createImageElement=r.createImageElement||(function(){return new a}),ho.ImageData=r.ImageData||ho.ImageData,ho.Video=r.Video||ho.Video,ho.fetch=r.fetch||ho.fetch,ho.readFile=r.readFile||ho.readFile}var sn={getEnv:Gse,setEnv:_5,initialize:k5,createBrowserEnv:E5,createFileSystem:l2,createNodejsEnv:L5,monkeyPatch:Kse,isBrowser:F5,isNodejs:T5};k5();function xm(r){return!sn.isNodejs()&&typeof r=="string"?document.getElementById(r):r}function Qo(r){var e=sn.getEnv(),t=e.Canvas,n=e.CanvasRenderingContext2D;if(r instanceof n)return r;var a=xm(r);if(!(a instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=a.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}var Hc;(function(r){r.TOP_LEFT="TOP_LEFT",r.TOP_RIGHT="TOP_RIGHT",r.BOTTOM_LEFT="BOTTOM_LEFT",r.BOTTOM_RIGHT="BOTTOM_RIGHT"})(Hc||(Hc={}));var N5=(function(){function r(e){e===void 0&&(e={});var t=e.anchorPosition,n=e.backgroundColor,a=e.fontColor,o=e.fontSize,i=e.fontStyle,s=e.padding;this.anchorPosition=t||Hc.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=a||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=i||"Georgia",this.padding=s||4}return r})();var P5=(function(){function r(e,t,n){n===void 0&&(n={}),this.text=typeof e=="string"?[e]:e instanceof r?e.text:e,this.anchor=t,this.options=new N5(n)}return r.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map(function(n){return e.measureText(n).width}).reduce(function(n,a){return n<a?a:n},0)+2*t},r.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},r.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,a=n===Hc.BOTTOM_RIGHT||n===Hc.TOP_RIGHT,o=n===Hc.BOTTOM_LEFT||n===Hc.BOTTOM_RIGHT,i=this.measureWidth(e),s=this.measureHeight(),u=a?this.anchor.x-i:this.anchor.x,l=o?this.anchor.y-s:this.anchor.y;if(t){var c=t.width,A=t.height,d=Math.max(Math.min(u,c-i),0),f=Math.max(Math.min(l,A-s),0);return{x:d,y:f}}return{x:u,y:l}},r.prototype.draw=function(e){var t=xm(e),n=Qo(t),a=this.options,o=a.backgroundColor,i=a.fontColor,s=a.fontSize,u=a.fontStyle,l=a.padding;n.font=s+"px "+u;var c=this.measureWidth(n),A=this.measureHeight();n.fillStyle=o;var d=this.getUpperLeft(n,t);n.fillRect(d.x,d.y,c,A),n.fillStyle=i,this.text.forEach(function(f,h){var p=l+d.x,v=l+d.y+(h+1)*s;n.fillText(f,p,v)})},r})();var Xse=(function(){function r(e){e===void 0&&(e={});var t=e.boxColor,n=e.lineWidth,a=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=a;var i={anchorPosition:Hc.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new N5(Object.assign({},i,o))}return r})();var Yse=(function(){function r(e,t){t===void 0&&(t={}),this.box=new Oo(e),this.options=new Xse(t)}return r.prototype.draw=function(e){var t=Qo(e),n=this.options,a=n.boxColor,o=n.lineWidth,i=this.box,s=i.x,u=i.y,l=i.width,c=i.height;t.strokeStyle=a,t.lineWidth=o,t.strokeRect(s,u,l,c);var A=this.options.label;A&&new P5([A],{x:s-o/2,y:u},this.options.drawLabelOptions).draw(e)},r})();function c2(r){var e=sn.getEnv(),t=e.Image,n=e.Video;return r instanceof t&&r.complete||r instanceof n&&r.readyState>=3}function u6(r){return new Promise(function(e,t){if(r instanceof sn.getEnv().Canvas||c2(r))return e();function n(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",n),o.currentTarget.removeEventListener("error",a),e(o))}function a(o){o.currentTarget&&(o.currentTarget.removeEventListener("load",n),o.currentTarget.removeEventListener("error",a),t(o))}r.addEventListener("load",n),r.addEventListener("error",a)})}function iy(r){var e=sn.getEnv(),t=e.Image,n=e.Video;return r instanceof t?new $u(r.naturalWidth,r.naturalHeight):r instanceof n?new $u(r.videoWidth,r.videoHeight):new $u(r.width,r.height)}function Vd(r){var e=r.width,t=r.height,n=sn.getEnv().createCanvasElement,a=n();return a.width=e,a.height=t,a}function wm(r,e){var t=sn.getEnv().ImageData;if(!(r instanceof t)&&!c2(r))throw new Error("createCanvasFromMedia - media has not finished loading yet");var n=e||iy(r),a=n.width,o=n.height,i=Vd({width:a,height:o});return r instanceof t?Qo(i).putImageData(r,0,0):Qo(i).drawImage(r,0,0,a,o),i}function l6(r,e){return it(this,void 0,void 0,function(){var t,n,a,o,i,s;return st(this,function(u){switch(u.label){case 0:return t=e||sn.getEnv().createCanvasElement(),n=r.shape.slice(cu(r)?1:0),a=n[0],o=n[1],i=n[2],s=$e(function(){return r.as3D(a,o,i).toInt()}),[4,mm.toPixels(s,t)];case 1:return u.sent(),s.dispose(),[2,t]}})})}function D5(r){var e=sn.getEnv(),t=e.Image,n=e.Canvas,a=e.Video;return r instanceof t||r instanceof n||r instanceof a}function c6(r,e,t){t===void 0&&(t=!1);var n=sn.getEnv(),a=n.Image,o=n.Canvas;if(!(r instanceof a||r instanceof o))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=iy(r),s=e/Math.max(i.height,i.width),u=s*i.width,l=s*i.height,c=Vd({width:e,height:e}),A=r instanceof o?r:wm(r),d=Math.abs(u-l)/2,f=t&&u<l?d:0,h=t&&l<u?d:0;return Qo(c).drawImage(A,f,h,u,l),c}var qd=(function(){function r(e,t){var n=this;if(t===void 0&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(a,o){if(ef(a)){n._imageTensors[o]=a,n._inputDimensions[o]=a.shape;return}if(cu(a)){var i=a.shape[0];if(i!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+i+" passed, but not supported in input array");n._imageTensors[o]=a,n._inputDimensions[o]=a.shape.slice(1);return}var s=a instanceof sn.getEnv().Canvas?a:wm(a);n._canvases[o]=s,n._inputDimensions[o]=[s.height,s.width,3]})}return Object.defineProperty(r.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"reshapedInputDimensions",{get:function(){var e=this;return Uc(this.batchSize,0,1).map(function(t,n){return e.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),r.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},r.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},r.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},r.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},r.prototype.getReshapedInputDimensions=function(e){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var t=this.getInputWidth(e),n=this.getInputHeight(e);return n6({width:t,height:n},this.inputSize)},r.prototype.toBatchTensor=function(e,t){var n=this;return t===void 0&&(t=!0),this._inputSize=e,$e(function(){var a=Uc(n.batchSize,0,1).map(function(i){var s=n.getInput(i);if(s instanceof Ln){var u=cu(s)?s:s.expandDims();return u=i6(u,t),(u.shape[1]!==e||u.shape[2]!==e)&&(u=ty.resizeBilinear(u,[e,e])),u.as3D(e,e,3)}if(s instanceof sn.getEnv().Canvas)return mm.fromPixels(c6(s,e,t));throw new Error("toBatchTensor - at batchIdx "+i+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),o=Uo(a.map(function(i){return i.toFloat()})).as4D(n.batchSize,e,e,3);return o})},r})();function bn(r){return it(this,void 0,void 0,function(){var e,t,n;return st(this,function(a){switch(a.label){case 0:if(r instanceof qd)return[2,r];if(e=Array.isArray(r)?r:[r],!e.length)throw new Error("toNetInput - empty array passed as input");return t=function(o){return Array.isArray(r)?" at input index "+o+":":""},n=e.map(xm),n.forEach(function(o,i){if(!D5(o)&&!ef(o)&&!cu(o))throw typeof e[i]=="string"?new Error("toNetInput -"+t(i)+" string passed, but could not resolve HTMLElement for element id "+e[i]):new Error("toNetInput -"+t(i)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(cu(o)){var s=o.shape[0];if(s!==1)throw new Error("toNetInput -"+t(i)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(n.map(function(o){return D5(o)&&u6(o)}))];case 1:return a.sent(),[2,new qd(n,Array.isArray(r))]}})})}function sy(r,e){return it(this,void 0,void 0,function(){var t,n,a,o,i,s,u;return st(this,function(l){switch(l.label){case 0:return t=sn.getEnv().Canvas,n=r,r instanceof t?[3,5]:[4,bn(r)];case 1:if(a=l.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return o=a.getInput(0),o instanceof t?(i=o,[3,4]):[3,2];case 2:return[4,l6(o)];case 3:i=l.sent(),l.label=4;case 4:n=i,l.label=5;case 5:return s=Qo(n),u=e.map(function(c){return c instanceof Ra?c.forSize(n.width,n.height).box.floor():c}).map(function(c){return c.clipAtImageBorders(n.width,n.height)}),[2,u.map(function(c){var A=c.x,d=c.y,f=c.width,h=c.height,p=Vd({width:f,height:h});return Qo(p).putImageData(s.getImageData(A,d,f,h),0,0),p})]}})})}function uy(r,e){return it(this,void 0,void 0,function(){return st(this,function(t){if(!ef(r)&&!cu(r))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(cu(r)&&r.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,$e(function(){var n=r.shape.slice(cu(r)?1:0),a=n[0],o=n[1],i=n[2],s=e.map(function(l){return l instanceof Ra?l.forSize(o,a).box:l}).map(function(l){return l.clipAtImageBorders(o,a)}),u=s.map(function(l){var c=l.x,A=l.y,d=l.width,f=l.height;return A5(r.as3D(a,o,i),[A,c,0],[f,d,i])});return u})]})})}function A2(r,e){return it(this,void 0,void 0,function(){var t,n;return st(this,function(a){switch(a.label){case 0:return t=sn.getEnv().fetch,[4,t(r,e)];case 1:if(n=a.sent(),!(n.status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function A6(r){return it(this,void 0,void 0,function(){return st(this,function(e){switch(e.label){case 0:return[4,A2(r)];case 1:return[2,e.sent().json()]}})})}function f2(r,e){var t=e+"-weights_manifest.json";if(!r)return{modelBaseUri:"",manifestUri:t};if(r==="/")return{modelBaseUri:"/",manifestUri:"/"+t};var n=r.startsWith("http://")?"http://":r.startsWith("https://")?"https://":"";r=r.replace(n,"");var a=r.split("/").filter(function(s){return s}),o=r.endsWith(".json")?a[a.length-1]:t,i=n+(r.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return i=r.startsWith("/")?"/"+i:i,{modelBaseUri:i,manifestUri:i==="/"?"/"+o:i+"/"+o}}function f6(r,e){return it(this,void 0,void 0,function(){var t,n,a,o;return st(this,function(i){switch(i.label){case 0:return t=f2(r,e),n=t.manifestUri,a=t.modelBaseUri,[4,A6(n)];case 1:return o=i.sent(),[2,n2.loadWeights(o,a)]}})})}var So=(function(){function r(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(r.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),r.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e),n=t.obj,a=t.objProp;return n[a]},r.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),a=n.obj,o=n.objProp;a[o].dispose(),a[o]=t},r.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}})},r.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof kd})},r.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof kd)})},r.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var n=t.path,a=t.tensor;e.reassignParamFromPath(n,a.variable())})},r.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var n=t.path,a=t.tensor,o=Co(a.dataSync());a.dispose(),e.reassignParamFromPath(n,o)})},r.prototype.dispose=function(e){e===void 0&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},r.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},r.prototype.load=function(e){return it(this,void 0,void 0,function(){return st(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},r.prototype.loadFromUri=function(e){return it(this,void 0,void 0,function(){var t;return st(this,function(n){switch(n.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,f6(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},r.prototype.loadFromDisk=function(e){return it(this,void 0,void 0,function(){var t,n,a,o,i,s,u,l,c,A;return st(this,function(d){switch(d.label){case 0:if(e&&typeof e!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return t=sn.getEnv().readFile,n=f2(e,this.getDefaultModelName()),a=n.manifestUri,o=n.modelBaseUri,i=function(f){return Promise.all(f.map(function(h){return t(h).then(function(p){return p.buffer})}))},s=n2.weightsLoaderFactory(i),c=(l=JSON).parse,[4,t(a)];case 1:return u=c.apply(l,[d.sent().toString()]),[4,s(u,o)];case 2:return A=d.sent(),this.loadFromWeightMap(A),[2]}})})},r.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,a=t.params;this._paramMappings=n,this._params=a},r.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,a=t.params;this._paramMappings=n,this._params=a},r.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(o,i){if(!o.nextObj.hasOwnProperty(i))throw new Error("traversePropertyPath - object does not have property "+i+", for path "+e);return{obj:o.nextObj,objProp:i,nextObj:o.nextObj[i]}},{nextObj:this.params}),n=t.obj,a=t.objProp;if(!n||!a||!(n[a]instanceof Ln))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:a}},r})();function Ni(r,e,t){return $e(function(){var n=Zv(r,e.depthwise_filter,e.pointwise_filter,t,"same");return n=ur(n,e.bias),n})}function d2(r,e,t){return t===void 0&&(t=!1),$e(function(){var n=mn(t?ur(Bo(r,e.conv0.filters,[2,2],"same"),e.conv0.bias):Ni(r,e.conv0,[2,2])),a=Ni(n,e.conv1,[1,1]),o=mn(ur(n,a)),i=Ni(o,e.conv2,[1,1]);return mn(ur(n,ur(a,i)))})}function ly(r,e,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!0),$e(function(){var a=mn(t?ur(Bo(r,e.conv0.filters,n?[2,2]:[1,1],"same"),e.conv0.bias):Ni(r,e.conv0,n?[2,2]:[1,1])),o=Ni(a,e.conv1,[1,1]),i=mn(ur(a,o)),s=Ni(i,e.conv2,[1,1]),u=mn(ur(a,ur(o,s))),l=Ni(u,e.conv3,[1,1]);return mn(ur(a,ur(o,ur(s,l))))})}function ii(r,e,t,n){return t===void 0&&(t="same"),n===void 0&&(n=!1),$e(function(){var a=ur(Bo(r,e.filters,[1,1],t),e.bias);return n?mn(a):a})}function Io(r,e){Object.keys(r).forEach(function(t){e.some(function(n){return n.originalPath===t})||r[t].dispose()})}function tf(r,e){return function(t,n,a,o){var i=fo(r(t*n*a*a),[a,a,t,n]),s=Nn(r(n));return e.push({paramPath:o+"/filters"},{paramPath:o+"/bias"}),{filters:i,bias:s}}}function bm(r,e){return function(t,n,a){var o=_l(r(t*n),[t,n]),i=Nn(r(n));return e.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:o,bias:i}}}var R5=(function(){function r(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n}return r})();function Cm(r,e){return function(t,n,a){var o=fo(r(9*t),[3,3,t,1]),i=fo(r(t*n),[1,1,t,n]),s=Nn(r(n));return e.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new R5(o,i,s)}}function Bm(r){return function(e){var t=r(e+"/depthwise_filter",4),n=r(e+"/pointwise_filter",4),a=r(e+"/bias",1);return new R5(t,n,a)}}function si(r,e){return function(t,n,a){var o=r[t];if(!ny(o,n))throw new Error("expected weightMap["+t+"] to be a Tensor"+n+"D, instead have "+o);return e.push({originalPath:t,paramPath:a||t}),o}}function Eo(r){var e=r;function t(a){var o=e.slice(0,a);return e=e.slice(a),o}function n(){return e}return{extractWeights:t,getRemainingWeights:n}}function h2(r,e){var t=tf(r,e),n=Cm(r,e);function a(i,s,u,l){l===void 0&&(l=!1);var c=l?t(i,s,3,u+"/conv0"):n(i,s,u+"/conv0"),A=n(s,s,u+"/conv1"),d=n(s,s,u+"/conv2");return{conv0:c,conv1:A,conv2:d}}function o(i,s,u,l){l===void 0&&(l=!1);var c=a(i,s,u,l),A=c.conv0,d=c.conv1,f=c.conv2,h=n(s,s,u+"/conv3");return{conv0:A,conv1:d,conv2:f,conv3:h}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:o}}function d6(r){var e=[],t=Eo(r),n=t.extractWeights,a=t.getRemainingWeights,o=h2(n,e).extractDenseBlock4Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2"),l=o(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:i,dense1:s,dense2:u,dense3:l}}}function p2(r){return function(e){var t=r(e+"/filters",4),n=r(e+"/bias",1);return{filters:t,bias:n}}}function m2(r,e){var t=si(r,e),n=p2(t),a=Bm(t);function o(s,u){u===void 0&&(u=!1);var l=u?n(s+"/conv0"):a(s+"/conv0"),c=a(s+"/conv1"),A=a(s+"/conv2");return{conv0:l,conv1:c,conv2:A}}function i(s,u){u===void 0&&(u=!1);var l=u?n(s+"/conv0"):a(s+"/conv0"),c=a(s+"/conv1"),A=a(s+"/conv2"),d=a(s+"/conv3");return{conv0:l,conv1:c,conv2:A,conv3:d}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:i}}function h6(r){var e=[],t=m2(r,e).extractDenseBlock4Params,n={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2"),dense3:t("dense3")};return Io(r,e),{params:n,paramMappings:e}}var g2=(function(r){pt(e,r);function e(){return r.call(this,"FaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("FaceFeatureExtractor - load model before inference");return $e(function(){var a=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],i=Dl(a,o).div(lt(255)),s=ly(i,n.dense0,!0);return s=ly(s,n.dense1),s=ly(s,n.dense2),s=ly(s,n.dense3),s=Rc(s,[7,7],[2,2],"valid"),s})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},e.prototype.extractParamsFromWeigthMap=function(t){return h6(t)},e.prototype.extractParams=function(t){return d6(t)},e})(So);function is(r,e){return $e(function(){return ur(pm(r,e.weights),e.bias)})}function p6(r,e,t){var n=[],a=Eo(r),o=a.extractWeights,i=a.getRemainingWeights,s=bm(o,n),u=s(e,t,"fc");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:n,params:{fc:u}}}function m6(r){var e=[],t=si(r,e);function n(o){var i=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:i,bias:s}}var a={fc:n("fc")};return Io(r,e),{params:a,paramMappings:e}}function v2(r){var e={},t={};return Object.keys(r).forEach(function(n){var a=n.startsWith("fc")?t:e;a[n]=r[n]}),{featureExtractorMap:e,classifierMap:t}}var y2=(function(r){pt(e,r);function e(t,n){var a=r.call(this,t)||this;return a._faceFeatureExtractor=n,a}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var n=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return $e(function(){var o=t instanceof qd?n.faceFeatureExtractor.forwardInput(t):t;return is(o.as2D(o.shape[0],-1),a.fc)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),r.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var n=this.extractClassifierParams(t),a=n.params,o=n.paramMappings;this._params=a,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return p6(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},e.prototype.extractParamsFromWeigthMap=function(t){var n=v2(t),a=n.featureExtractorMap,o=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),m6(o)},e.prototype.extractParams=function(t){var n=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),o=a*n+a,i=t.slice(0,t.length-o),s=t.slice(t.length-o);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(s)},e})(So);var g6=["neutral","happy","sad","angry","fearful","disgusted","surprised"],x2=(function(){function r(e){var t=this;if(e.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);g6.forEach(function(n,a){t[n]=e[a]})}return r.prototype.asSortedArray=function(){var e=this;return g6.map(function(t){return{expression:t,probability:e[t]}}).sort(function(t,n){return n.probability-t.probability})},r})();var v6=(function(r){pt(e,r);function e(t){return t===void 0&&(t=new g2),r.call(this,"FaceExpressionNet",t)||this}return e.prototype.forwardInput=function(t){var n=this;return $e(function(){return ki(n.runNet(t))})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.predictExpressions=function(t){return it(this,void 0,void 0,function(){var n,a,o,i,s=this;return st(this,function(u){switch(u.label){case 0:return[4,bn(t)];case 1:return n=u.sent(),[4,this.forwardInput(n)];case 2:return a=u.sent(),[4,Promise.all(wn(a).map(function(l){return it(s,void 0,void 0,function(){var c;return st(this,function(A){switch(A.label){case 0:return[4,l.data()];case 1:return c=A.sent(),l.dispose(),[2,c]}})})}))];case 3:return o=u.sent(),a.dispose(),i=o.map(function(l){return new x2(l)}),[2,n.isBatchInput?i:i[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_expression_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e.prototype.getClassifierChannelsOut=function(){return 7},e})(y2);function M5(r,e){var t={expressions:e};return Object.assign({},r,t)}function w2(r){return oy(r)&&r.landmarks instanceof Qc&&r.unshiftedLandmarks instanceof Qc&&r.alignedRect instanceof Ra}function Sm(r,e){var t=r.detection.box,n=e.shiftBy(t.x,t.y),a=n.align(),o=r.detection.imageDims,i=new Ra(r.detection.score,a.rescale(o.reverse()),o),s={landmarks:n,unshiftedLandmarks:e,alignedRect:i};return Object.assign({},r,s)}var $se=(function(){function r(e){e===void 0&&(e={});var t=e.drawLines,n=t===void 0?!0:t,a=e.drawPoints,o=a===void 0?!0:a,i=e.lineWidth,s=e.lineColor,u=e.pointSize,l=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=i||1,this.pointSize=u||2,this.lineColor=s||"rgba(0, 255, 255, 1)",this.pointColor=l||"rgba(255, 0, 255, 1)"}return r})();var pqe=(function(){function r(e,t){t===void 0&&(t={}),this.faceLandmarks=e,this.options=new $se(t)}return r.prototype.draw=function(e){var t=Qo(e),n=this.options,a=n.drawLines,o=n.drawPoints,i=n.lineWidth,s=n.lineColor,u=n.pointSize,l=n.pointColor;if(a&&this.faceLandmarks instanceof u2&&(t.strokeStyle=s,t.lineWidth=i,ZA(t,this.faceLandmarks.getJawOutline()),ZA(t,this.faceLandmarks.getLeftEyeBrow()),ZA(t,this.faceLandmarks.getRightEyeBrow()),ZA(t,this.faceLandmarks.getNose()),ZA(t,this.faceLandmarks.getLeftEye(),!0),ZA(t,this.faceLandmarks.getRightEye(),!0),ZA(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=l,t.fillStyle=l;var c=function(A){t.beginPath(),t.arc(A.x,A.y,u,0,2*Math.PI),t.fill()};this.faceLandmarks.positions.forEach(c)}},r})();function Zse(r,e){var t=tf(r,e),n=Cm(r,e);function a(i,s,u){var l=n(i,s,u+"/separable_conv0"),c=n(s,s,u+"/separable_conv1"),A=t(i,s,1,u+"/expansion_conv");return{separable_conv0:l,separable_conv1:c,expansion_conv:A}}function o(i,s){var u=n(i,i,s+"/separable_conv0"),l=n(i,i,s+"/separable_conv1"),c=n(i,i,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:t,extractSeparableConvParams:n,extractReductionBlockParams:a,extractMainBlockParams:o}}function y6(r,e){var t=[],n=Eo(r),a=n.extractWeights,o=n.getRemainingWeights,i=Zse(a,t),s=i.extractConvParams,u=i.extractSeparableConvParams,l=i.extractReductionBlockParams,c=i.extractMainBlockParams,A=s(3,32,3,"entry_flow/conv_in"),d=l(32,64,"entry_flow/reduction_block_0"),f=l(64,128,"entry_flow/reduction_block_1"),h={conv_in:A,reduction_block_0:d,reduction_block_1:f},p={};Uc(e,0,1).forEach(function(I){p["main_block_"+I]=c(128,"middle_flow/main_block_"+I)});var v=l(128,256,"exit_flow/reduction_block"),g=u(256,512,"exit_flow/separable_conv"),B={reduction_block:v,separable_conv:g};if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{entry_flow:h,middle_flow:p,exit_flow:B}}}function eue(r,e){var t=si(r,e),n=p2(t),a=Bm(t);function o(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),c=n(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:l,expansion_conv:c}}function i(s){var u=a(s+"/separable_conv0"),l=a(s+"/separable_conv1"),c=a(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:n,extractSeparableConvParams:a,extractReductionBlockParams:o,extractMainBlockParams:i}}function x6(r,e){var t=[],n=eue(r,t),a=n.extractConvParams,o=n.extractSeparableConvParams,i=n.extractReductionBlockParams,s=n.extractMainBlockParams,u=a("entry_flow/conv_in"),l=i("entry_flow/reduction_block_0"),c=i("entry_flow/reduction_block_1"),A={conv_in:u,reduction_block_0:l,reduction_block_1:c},d={};Uc(e,0,1).forEach(function(v){d["main_block_"+v]=s("middle_flow/main_block_"+v)});var f=i("exit_flow/reduction_block"),h=o("exit_flow/separable_conv"),p={reduction_block:f,separable_conv:h};return Io(r,t),{params:{entry_flow:A,middle_flow:d,exit_flow:p},paramMappings:t}}function w6(r,e,t){return ur(Bo(r,e.filters,t,"same"),e.bias)}function U5(r,e,t){t===void 0&&(t=!0);var n=t?mn(r):r;return n=Ni(n,e.separable_conv0,[1,1]),n=Ni(mn(n),e.separable_conv1,[1,1]),n=fa(n,[3,3],[2,2],"same"),n=ur(n,w6(r,e.expansion_conv,[2,2])),n}function tue(r,e){var t=Ni(mn(r),e.separable_conv0,[1,1]);return t=Ni(mn(t),e.separable_conv1,[1,1]),t=Ni(mn(t),e.separable_conv2,[1,1]),t=ur(t,r),t}var b6=(function(r){pt(e,r);function e(t){var n=r.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return e.prototype.forwardInput=function(t){var n=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return $e(function(){var o=t.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=Dl(o,i).div(lt(256)),u=mn(w6(s,a.entry_flow.conv_in,[2,2]));return u=U5(u,a.entry_flow.reduction_block_0,!1),u=U5(u,a.entry_flow.reduction_block_1),Uc(n._numMainBlocks,0,1).forEach(function(l){u=tue(u,a.middle_flow["main_block_"+l])}),u=U5(u,a.exit_flow.reduction_block),u=mn(Ni(u,a.exit_flow.separable_conv,[1,1])),u})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"tiny_xception_model"},e.prototype.extractParamsFromWeigthMap=function(t){return x6(t,this._numMainBlocks)},e.prototype.extractParams=function(t){return y6(t,this._numMainBlocks)},e})(So);function C6(r){var e=[],t=Eo(r),n=t.extractWeights,a=t.getRemainingWeights,o=bm(n,e),i=o(512,1,"fc/age"),s=o(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{fc:{age:i,gender:s}}}}function B6(r){var e=[],t=si(r,e);function n(o){var i=t(o+"/weights",2),s=t(o+"/bias",1);return{weights:i,bias:s}}var a={fc:{age:n("fc/age"),gender:n("fc/gender")}};return Io(r,e),{params:a,paramMappings:e}}var Im;(function(r){r.FEMALE="female",r.MALE="male"})(Im||(Im={}));var S6=(function(r){pt(e,r);function e(t){t===void 0&&(t=new b6(2));var n=r.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Object.defineProperty(e.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),e.prototype.runNet=function(t){var n=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return $e(function(){var o=t instanceof qd?n.faceFeatureExtractor.forwardInput(t):t,i=Rc(o,[7,7],[2,2],"valid").as2D(o.shape[0],-1),s=is(i,a.fc.age).as1D(),u=is(i,a.fc.gender);return{age:s,gender:u}})},e.prototype.forwardInput=function(t){var n=this;return $e(function(){var a=n.runNet(t),o=a.age,i=a.gender;return{age:o,gender:ki(i)}})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.predictAgeAndGender=function(t){return it(this,void 0,void 0,function(){var n,a,o,i,s,u,l=this;return st(this,function(c){switch(c.label){case 0:return[4,bn(t)];case 1:return n=c.sent(),[4,this.forwardInput(n)];case 2:return a=c.sent(),o=wn(a.age),i=wn(a.gender),s=o.map(function(A,d){return{ageTensor:A,genderTensor:i[d]}}),[4,Promise.all(s.map(function(A){var d=A.ageTensor,f=A.genderTensor;return it(l,void 0,void 0,function(){var h,p,v,g,B;return st(this,function(I){switch(I.label){case 0:return[4,d.data()];case 1:return h=I.sent()[0],[4,f.data()];case 2:return p=I.sent()[0],v=p>.5,g=v?Im.MALE:Im.FEMALE,B=v?p:1-p,d.dispose(),f.dispose(),[2,{age:h,gender:g,genderProbability:B}]}})})}))];case 3:return u=c.sent(),a.age.dispose(),a.gender.dispose(),[2,n.isBatchInput?u:u[0]]}})})},e.prototype.getDefaultModelName=function(){return"age_gender_model"},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),r.prototype.dispose.call(this,t)},e.prototype.loadClassifierParams=function(t){var n=this.extractClassifierParams(t),a=n.params,o=n.paramMappings;this._params=a,this._paramMappings=o},e.prototype.extractClassifierParams=function(t){return C6(t)},e.prototype.extractParamsFromWeigthMap=function(t){var n=v2(t),a=n.featureExtractorMap,o=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),B6(o)},e.prototype.extractParams=function(t){var n=1539,a=t.slice(0,t.length-n),o=t.slice(t.length-n);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(o)},e})(So);var b2=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postProcess=function(t,n,a){var o=a.map(function(s){var u=s.width,l=s.height,c=n/Math.max(l,u);return{width:u*c,height:l*c}}),i=o.length;return $e(function(){var s=function(d,f){return Uo([Ps([68],d),Ps([68],f)],1).as2D(1,136).as1D()},u=function(d,f){var h=o[d],p=h.width,v=h.height;return f(p,v)?Math.abs(p-v)/2:0},l=function(d){return u(d,function(f,h){return f<h})},c=function(d){return u(d,function(f,h){return h<f})},A=t.mul(Ps([i,136],n)).sub(Uo(Array.from(Array(i),function(d,f){return s(l(f),c(f))}))).div(Uo(Array.from(Array(i),function(d,f){return s(o[f].width,o[f].height)})));return A})},e.prototype.forwardInput=function(t){var n=this;return $e(function(){var a=n.runNet(t);return n.postProcess(a,t.inputSize,t.inputDimensions.map(function(o){var i=o[0],s=o[1];return{height:i,width:s}}))})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.detectLandmarks=function(t){return it(this,void 0,void 0,function(){var n,a,o,i=this;return st(this,function(s){switch(s.label){case 0:return[4,bn(t)];case 1:return n=s.sent(),a=$e(function(){return wn(i.forwardInput(n))}),[4,Promise.all(a.map(function(u,l){return it(i,void 0,void 0,function(){var c,A,d,f,h;return st(this,function(p){switch(p.label){case 0:return d=(A=Array).from,[4,u.data()];case 1:return c=d.apply(A,[p.sent()]),f=c.filter(function(v,g){return C5(g)}),h=c.filter(function(v,g){return!C5(g)}),[2,new u2(Array(68).fill(0).map(function(v,g){return new Fr(f[g],h[g])}),{height:n.getInputHeight(l),width:n.getInputWidth(l)})]}})})}))];case 2:return o=s.sent(),a.forEach(function(u){return u.dispose()}),[2,n.isBatchInput?o:o[0]]}})})},e.prototype.getClassifierChannelsOut=function(){return 136},e})(y2);var C2=(function(r){pt(e,r);function e(t){return t===void 0&&(t=new g2),r.call(this,"FaceLandmark68Net",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},e.prototype.getClassifierChannelsIn=function(){return 256},e})(b2);function I6(r){var e=[],t=m2(r,e).extractDenseBlock3Params,n={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2")};return Io(r,e),{params:n,paramMappings:e}}function E6(r){var e=[],t=Eo(r),n=t.extractWeights,a=t.getRemainingWeights,o=h2(n,e).extractDenseBlock3Params,i=o(3,32,"dense0",!0),s=o(32,64,"dense1"),u=o(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:e,params:{dense0:i,dense1:s,dense2:u}}}var L6=(function(r){pt(e,r);function e(){return r.call(this,"TinyFaceFeatureExtractor")||this}return e.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("TinyFaceFeatureExtractor - load model before inference");return $e(function(){var a=t.toBatchTensor(112,!0),o=[122.782,117.001,104.298],i=Dl(a,o).div(lt(255)),s=d2(i,n.dense0,!0);return s=d2(s,n.dense1),s=d2(s,n.dense2),s=Rc(s,[14,14],[2,2],"valid"),s})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},e.prototype.extractParamsFromWeigthMap=function(t){return I6(t)},e.prototype.extractParams=function(t){return E6(t)},e})(So);var F6=(function(r){pt(e,r);function e(t){return t===void 0&&(t=new L6),r.call(this,"FaceLandmark68TinyNet",t)||this}return e.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},e.prototype.getClassifierChannelsIn=function(){return 128},e})(b2);var PWe=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(C2);function T6(r,e){return ur(ca(r,e.weights),e.biases)}function O5(r,e,t,n,a){a===void 0&&(a="same");var o=e.conv,i=o.filters,s=o.bias,u=Bo(r,i,t,a);return u=ur(u,s),u=T6(u,e.scale),n?mn(u):u}function _6(r,e){return O5(r,e,[1,1],!0)}function Q5(r,e){return O5(r,e,[1,1],!1)}function B2(r,e){return O5(r,e,[2,2],!0,"valid")}function rue(r,e){function t(s,u,l){var c=r(s),A=c.length/(u*l*l);if(r6(A))throw new Error("depth has to be an integer: "+A+", weights.length: "+c.length+", numFilters: "+u+", filterSize: "+l);return $e(function(){return lu(fo(c,[u,A,l,l]),[2,3,1,0])})}function n(s,u,l,c){var A=t(s,u,l),d=Nn(r(u));return e.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:A,bias:d}}function a(s,u){var l=Nn(r(s)),c=Nn(r(s));return e.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:l,biases:c}}function o(s,u,l,c){var A=n(s,u,l,c+"/conv"),d=a(u,c+"/scale");return{conv:A,scale:d}}function i(s,u,l,c,A){A===void 0&&(A=!1);var d=o((A?.5:1)*s,u,l,c+"/conv1"),f=o(s,u,l,c+"/conv2");return{conv1:d,conv2:f}}return{extractConvLayerParams:o,extractResidualLayerParams:i}}function k6(r){var e=Eo(r),t=e.extractWeights,n=e.getRemainingWeights,a=[],o=rue(t,a),i=o.extractConvLayerParams,s=o.extractResidualLayerParams,u=i(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),A=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),h=s(36864,64,3,"conv64_2"),p=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),B=s(147456,128,3,"conv128_2"),I=s(589824,256,3,"conv256_down",!0),S=s(589824,256,3,"conv256_1"),E=s(589824,256,3,"conv256_2"),T=s(589824,256,3,"conv256_down_out"),U=$e(function(){return lu(_l(t(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),n().length!==0)throw new Error("weights remaing after extract: "+n().length);var D={conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:A,conv64_down:d,conv64_1:f,conv64_2:h,conv64_3:p,conv128_down:v,conv128_1:g,conv128_2:B,conv256_down:I,conv256_1:S,conv256_2:E,conv256_down_out:T,fc:U};return{params:D,paramMappings:a}}function nue(r,e){var t=si(r,e);function n(i){var s=t(i+"/scale/weights",1),u=t(i+"/scale/biases",1);return{weights:s,biases:u}}function a(i){var s=t(i+"/conv/filters",4),u=t(i+"/conv/bias",1),l=n(i);return{conv:{filters:s,bias:u},scale:l}}function o(i){return{conv1:a(i+"/conv1"),conv2:a(i+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:o}}function N6(r){var e=[],t=nue(r,e),n=t.extractConvLayerParams,a=t.extractResidualLayerParams,o=n("conv32_down"),i=a("conv32_1"),s=a("conv32_2"),u=a("conv32_3"),l=a("conv64_down"),c=a("conv64_1"),A=a("conv64_2"),d=a("conv64_3"),f=a("conv128_down"),h=a("conv128_1"),p=a("conv128_2"),v=a("conv256_down"),g=a("conv256_1"),B=a("conv256_2"),I=a("conv256_down_out"),S=r.fc;if(e.push({originalPath:"fc",paramPath:"fc"}),!t6(S))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+S);var E={conv32_down:o,conv32_1:i,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:A,conv64_3:d,conv128_down:f,conv128_1:h,conv128_2:p,conv256_down:v,conv256_1:g,conv256_2:B,conv256_down_out:I,fc:S};return Io(r,e),{params:E,paramMappings:e}}function Ju(r,e){var t=_6(r,e.conv1);return t=Q5(t,e.conv2),t=ur(t,r),t=mn(t),t}function cy(r,e){var t=B2(r,e.conv1);t=Q5(t,e.conv2);var n=Rc(r,2,2,"valid"),a=Rn(n.shape),o=n.shape[3]!==t.shape[3],i=n.shape[1]!==t.shape[1]||n.shape[2]!==t.shape[2];if(i){var s=Qd(t.shape);s[1]=1;var u=Rn(s);t=Wn([t,u],1);var l=Qd(t.shape);l[2]=1;var c=Rn(l);t=Wn([t,c],2)}return n=o?Wn([n,a],3):n,t=ur(n,t),t=mn(t),t}var H5=(function(r){pt(e,r);function e(){return r.call(this,"FaceRecognitionNet")||this}return e.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("FaceRecognitionNet - load model before inference");return $e(function(){var a=t.toBatchTensor(150,!0).toFloat(),o=[122.782,117.001,104.298],i=Dl(a,o).div(lt(256)),s=B2(i,n.conv32_down);s=fa(s,3,2,"valid"),s=Ju(s,n.conv32_1),s=Ju(s,n.conv32_2),s=Ju(s,n.conv32_3),s=cy(s,n.conv64_down),s=Ju(s,n.conv64_1),s=Ju(s,n.conv64_2),s=Ju(s,n.conv64_3),s=cy(s,n.conv128_down),s=Ju(s,n.conv128_1),s=Ju(s,n.conv128_2),s=cy(s,n.conv256_down),s=Ju(s,n.conv256_1),s=Ju(s,n.conv256_2),s=cy(s,n.conv256_down_out);var u=s.mean([1,2]),l=pm(u,n.fc);return l})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.computeFaceDescriptor=function(t){return it(this,void 0,void 0,function(){var n,a,o,i=this;return st(this,function(s){switch(s.label){case 0:return[4,bn(t)];case 1:return n=s.sent(),a=$e(function(){return wn(i.forwardInput(n))}),[4,Promise.all(a.map(function(u){return u.data()}))];case 2:return o=s.sent(),a.forEach(function(u){return u.dispose()}),[2,n.isBatchInput?o:o[0]]}})})},e.prototype.getDefaultModelName=function(){return"face_recognition_model"},e.prototype.extractParamsFromWeigthMap=function(t){return N6(t)},e.prototype.extractParams=function(t){return k6(t)},e})(So);function V5(r,e){var t={descriptor:e};return Object.assign({},r,t)}function q5(r,e){var t={age:e};return Object.assign({},r,t)}function W5(r,e,t){var n={gender:e,genderProbability:t};return Object.assign({},r,n)}var Ay=(function(){function r(e){var t=e===void 0?{}:e,n=t.minFaceSize,a=t.scaleFactor,o=t.maxNumScales,i=t.scoreThresholds,s=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=a||.709,this._maxNumScales=o||10,this._scoreThresholds=i||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(r.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),r})();function aue(r,e){function t(u,l){var c=fo(r(9*u),[3,3,u,1]),A=Nn(r(u)),d=Nn(r(u)),f=Nn(r(u)),h=Nn(r(u));return e.push({paramPath:l+"/filters"},{paramPath:l+"/batch_norm_scale"},{paramPath:l+"/batch_norm_offset"},{paramPath:l+"/batch_norm_mean"},{paramPath:l+"/batch_norm_variance"}),{filters:c,batch_norm_scale:A,batch_norm_offset:d,batch_norm_mean:f,batch_norm_variance:h}}function n(u,l,c,A,d){var f=fo(r(u*l*c*c),[c,c,u,l]),h=Nn(r(l));return e.push({paramPath:A+"/filters"},{paramPath:A+"/"+(d?"batch_norm_offset":"bias")}),{filters:f,bias:h}}function a(u,l,c,A){var d=n(u,l,c,A,!0),f=d.filters,h=d.bias;return{filters:f,batch_norm_offset:h}}function o(u,l,c){var A=t(u,c+"/depthwise_conv"),d=a(u,l,1,c+"/pointwise_conv");return{depthwise_conv:A,pointwise_conv:d}}function i(){var u=a(3,32,3,"mobilenetv1/conv_0"),l=o(32,64,"mobilenetv1/conv_1"),c=o(64,128,"mobilenetv1/conv_2"),A=o(128,128,"mobilenetv1/conv_3"),d=o(128,256,"mobilenetv1/conv_4"),f=o(256,256,"mobilenetv1/conv_5"),h=o(256,512,"mobilenetv1/conv_6"),p=o(512,512,"mobilenetv1/conv_7"),v=o(512,512,"mobilenetv1/conv_8"),g=o(512,512,"mobilenetv1/conv_9"),B=o(512,512,"mobilenetv1/conv_10"),I=o(512,512,"mobilenetv1/conv_11"),S=o(512,1024,"mobilenetv1/conv_12"),E=o(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:l,conv_2:c,conv_3:A,conv_4:d,conv_5:f,conv_6:h,conv_7:p,conv_8:v,conv_9:g,conv_10:B,conv_11:I,conv_12:S,conv_13:E}}function s(){var u=a(1024,256,1,"prediction_layer/conv_0"),l=a(256,512,3,"prediction_layer/conv_1"),c=a(512,128,1,"prediction_layer/conv_2"),A=a(128,256,3,"prediction_layer/conv_3"),d=a(256,128,1,"prediction_layer/conv_4"),f=a(128,256,3,"prediction_layer/conv_5"),h=a(256,64,1,"prediction_layer/conv_6"),p=a(64,128,3,"prediction_layer/conv_7"),v=n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),g=n(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),B=n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),I=n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),S=n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),E=n(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),T=n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),U=n(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),D=n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),k=n(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),O=n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),N=n(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),P={box_encoding_predictor:v,class_predictor:g},j={box_encoding_predictor:B,class_predictor:I},z={box_encoding_predictor:S,class_predictor:E},ne={box_encoding_predictor:T,class_predictor:U},re={box_encoding_predictor:D,class_predictor:k},Y={box_encoding_predictor:O,class_predictor:N};return{conv_0:u,conv_1:l,conv_2:c,conv_3:A,conv_4:d,conv_5:f,conv_6:h,conv_7:p,box_predictor_0:P,box_predictor_1:j,box_predictor_2:z,box_predictor_3:ne,box_predictor_4:re,box_predictor_5:Y}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:s}}function P6(r){var e=[],t=Eo(r),n=t.extractWeights,a=t.getRemainingWeights,o=aue(n,e),i=o.extractMobilenetV1Params,s=o.extractPredictionLayerParams,u=i(),l=s(),c=Kb(n(5118*4),[1,5118,4]),A={extra_dim:c};if(e.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:A},paramMappings:e}}function oue(r,e){var t=si(r,e);function n(l,c,A){var d=t(l+"/Conv2d_"+c+"_pointwise/weights",4,A+"/filters"),f=t(l+"/Conv2d_"+c+"_pointwise/convolution_bn_offset",1,A+"/batch_norm_offset");return{filters:d,batch_norm_offset:f}}function a(l){var c="mobilenetv1/conv_"+l,A="MobilenetV1/Conv2d_"+l+"_depthwise",d=c+"/depthwise_conv",f=c+"/pointwise_conv",h=t(A+"/depthwise_weights",4,d+"/filters"),p=t(A+"/BatchNorm/gamma",1,d+"/batch_norm_scale"),v=t(A+"/BatchNorm/beta",1,d+"/batch_norm_offset"),g=t(A+"/BatchNorm/moving_mean",1,d+"/batch_norm_mean"),B=t(A+"/BatchNorm/moving_variance",1,d+"/batch_norm_variance");return{depthwise_conv:{filters:h,batch_norm_scale:p,batch_norm_offset:v,batch_norm_mean:g,batch_norm_variance:B},pointwise_conv:n("MobilenetV1",l,f)}}function o(){return{conv_0:n("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function i(l,c){var A=t(l+"/weights",4,c+"/filters"),d=t(l+"/biases",1,c+"/bias");return{filters:A,bias:d}}function s(l){var c=i("Prediction/BoxPredictor_"+l+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+l+"/box_encoding_predictor"),A=i("Prediction/BoxPredictor_"+l+"/ClassPredictor","prediction_layer/box_predictor_"+l+"/class_predictor");return{box_encoding_predictor:c,class_predictor:A}}function u(){return{conv_0:n("Prediction",0,"prediction_layer/conv_0"),conv_1:n("Prediction",1,"prediction_layer/conv_1"),conv_2:n("Prediction",2,"prediction_layer/conv_2"),conv_3:n("Prediction",3,"prediction_layer/conv_3"),conv_4:n("Prediction",4,"prediction_layer/conv_4"),conv_5:n("Prediction",5,"prediction_layer/conv_5"),conv_6:n("Prediction",6,"prediction_layer/conv_6"),conv_7:n("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:u}}function D6(r){var e=[],t=oue(r,e),n=t.extractMobilenetV1Params,a=t.extractPredictionLayerParams,o=r["Output/extra_dim"];if(e.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!ef(o))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+o);var i={mobilenetv1:n(),prediction_layer:a(),output_layer:{extra_dim:o}};return Io(r,e),{params:i,paramMappings:e}}function Au(r,e,t){return $e(function(){var n=Bo(r,e.filters,t,"same");return n=ur(n,e.batch_norm_offset),Xv(n,0,6)})}var iue=.0010000000474974513;function sue(r,e,t){return $e(function(){var n=Jv(r,e.filters,t,"same");return n=s5(n,e.batch_norm_mean,e.batch_norm_variance,e.batch_norm_offset,e.batch_norm_scale,iue),Xv(n,0,6)})}function uue(r){return[2,4,6,12].some(function(e){return e===r})?[2,2]:[1,1]}function R6(r,e){return $e(function(){var t=null,n=Au(r,e.conv_0,[2,2]),a=[e.conv_1,e.conv_2,e.conv_3,e.conv_4,e.conv_5,e.conv_6,e.conv_7,e.conv_8,e.conv_9,e.conv_10,e.conv_11,e.conv_12,e.conv_13];if(a.forEach(function(o,i){var s=i+1,u=uue(s);n=sue(n,o.depthwise_conv,u),n=Au(n,o.pointwise_conv,[1,1]),s===11&&(t=n)}),t===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:n,conv11:t}})}function M6(r,e,t,n,a){var o=r.shape[0],i=Math.min(t,o),s=e.map(function(c,A){return{score:c,boxIndex:A}}).filter(function(c){return c.score>a}).sort(function(c,A){return A.score-c.score}),u=function(c){return c<=n?1:0},l=[];return s.forEach(function(c){if(!(l.length>=i)){for(var A=c.score,d=l.length-1;d>=0;--d){var f=lue(r,c.boxIndex,l[d]);if(f!==0&&(c.score*=u(f),c.score<=a))break}A===c.score&&l.push(c.boxIndex)}}),l}function lue(r,e,t){var n=r.arraySync(),a=Math.min(n[e][0],n[e][2]),o=Math.min(n[e][1],n[e][3]),i=Math.max(n[e][0],n[e][2]),s=Math.max(n[e][1],n[e][3]),u=Math.min(n[t][0],n[t][2]),l=Math.min(n[t][1],n[t][3]),c=Math.max(n[t][0],n[t][2]),A=Math.max(n[t][1],n[t][3]),d=(i-a)*(s-o),f=(c-u)*(A-l);if(d<=0||f<=0)return 0;var h=Math.max(a,u),p=Math.max(o,l),v=Math.min(i,c),g=Math.min(s,A),B=Math.max(v-h,0)*Math.max(g-p,0);return B/(d+f-B)}function cue(r){var e=wn(lu(r,[1,0])),t=[Fn(e[2],e[0]),Fn(e[3],e[1])],n=[ur(e[0],uu(t[0],lt(2))),ur(e[1],uu(t[1],lt(2)))];return{sizes:t,centers:n}}function Aue(r,e){var t=cue(r),n=t.sizes,a=t.centers,o=wn(lu(e,[1,0])),i=uu(ca(Zb(uu(o[2],lt(5))),n[0]),lt(2)),s=ur(ca(uu(o[0],lt(10)),n[0]),a[0]),u=uu(ca(Zb(uu(o[3],lt(5))),n[1]),lt(2)),l=ur(ca(uu(o[1],lt(10)),n[1]),a[1]);return lu(Uo([Fn(s,i),Fn(l,u),ur(s,i),ur(l,u)]),[1,0])}function U6(r,e,t){return $e(function(){var n=r.shape[0],a=Aue(_i(_d(t.extra_dim,[n,1,1]),[-1,4]),_i(r,[-1,4]));a=_i(a,[n,a.shape[0]/n,4]);var o=i5(ju(e,[0,0,1],[-1,-1,-1])),i=ju(o,[0,0,0],[-1,-1,1]);i=_i(i,[n,i.shape[1]]);var s=wn(a),u=wn(i);return{boxes:s,scores:u}})}function Wd(r,e){return $e(function(){var t=r.shape[0],n=_i(ii(r,e.box_encoding_predictor),[t,-1,1,4]),a=_i(ii(r,e.class_predictor),[t,-1,3]);return{boxPredictionEncoding:n,classPrediction:a}})}function O6(r,e,t){return $e(function(){var n=Au(r,t.conv_0,[1,1]),a=Au(n,t.conv_1,[2,2]),o=Au(a,t.conv_2,[1,1]),i=Au(o,t.conv_3,[2,2]),s=Au(i,t.conv_4,[1,1]),u=Au(s,t.conv_5,[2,2]),l=Au(u,t.conv_6,[1,1]),c=Au(l,t.conv_7,[2,2]),A=Wd(e,t.box_predictor_0),d=Wd(r,t.box_predictor_1),f=Wd(a,t.box_predictor_2),h=Wd(i,t.box_predictor_3),p=Wd(u,t.box_predictor_4),v=Wd(c,t.box_predictor_5),g=Wn([A.boxPredictionEncoding,d.boxPredictionEncoding,f.boxPredictionEncoding,h.boxPredictionEncoding,p.boxPredictionEncoding,v.boxPredictionEncoding],1),B=Wn([A.classPrediction,d.classPrediction,f.classPrediction,h.classPrediction,p.classPrediction,v.classPrediction],1);return{boxPredictions:g,classPredictions:B}})}var rf=(function(){function r(e){var t=e===void 0?{}:e,n=t.minConfidence,a=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(r.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),r})();var S2=(function(r){pt(e,r);function e(){return r.call(this,"SsdMobilenetv1")||this}return e.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("SsdMobilenetv1 - load model before inference");return $e(function(){var a=t.toBatchTensor(512,!1).toFloat(),o=Fn(ca(a,lt(.007843137718737125)),lt(1)),i=R6(o,n.mobilenetv1),s=O6(i.out,i.conv11,n.prediction_layer),u=s.boxPredictions,l=s.classPredictions;return U6(u,l,n.output_layer)})},e.prototype.forward=function(t){return it(this,void 0,void 0,function(){var n;return st(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,bn(t)];case 1:return[2,n.apply(this,[a.sent()])]}})})},e.prototype.locateFaces=function(t,n){return n===void 0&&(n={}),it(this,void 0,void 0,function(){var a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D;return st(this,function(k){switch(k.label){case 0:return a=new rf(n),o=a.maxResults,i=a.minConfidence,[4,bn(t)];case 1:for(s=k.sent(),u=this.forwardInput(s),l=u.boxes,c=u.scores,A=l[0],d=c[0],f=1;f<l.length;f++)l[f].dispose(),c[f].dispose();return v=(p=Array).from,[4,d.data()];case 2:return h=v.apply(p,[k.sent()]),g=.5,B=M6(A,h,o,g,i),I=s.getReshapedInputDimensions(0),S=s.inputSize,E=S/I.width,T=S/I.height,U=A.arraySync(),D=B.map(function(O){var N=[Math.max(0,U[O][0]),Math.min(1,U[O][2])].map(function(Y){return Y*T}),P=N[0],j=N[1],z=[Math.max(0,U[O][1]),Math.min(1,U[O][3])].map(function(Y){return Y*E}),ne=z[0],re=z[1];return new Ra(h[O],new vm(ne,P,re-ne,j-P),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),A.dispose(),d.dispose(),[2,D]}})})},e.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},e.prototype.extractParamsFromWeigthMap=function(t){return D6(t)},e.prototype.extractParams=function(t){return P6(t)},e})(So);var Jze=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(S2);var Q6=.4,H6=[new Fr(.738768,.874946),new Fr(2.42204,2.65704),new Fr(4.30971,7.04493),new Fr(10.246,4.59428),new Fr(12.6868,11.8741)],V6=[new Fr(1.603231,2.094468),new Fr(6.041143,7.080126),new Fr(2.882459,3.518061),new Fr(4.266906,5.178857),new Fr(9.041765,10.66308)],q6=[117.001,114.697,97.404],W6="tiny_yolov2_model",z6="tiny_yolov2_separable_conv_model";var I2=function(r){return typeof r=="number"};function j6(r){if(!r)throw new Error("invalid config: "+r);if(typeof r.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+r.withSeparableConvs);if(!I2(r.iouThreshold)||r.iouThreshold<0||r.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+r.iouThreshold);if(!Array.isArray(r.classes)||!r.classes.length||!r.classes.every(function(e){return typeof e=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(r.classes));if(!Array.isArray(r.anchors)||!r.anchors.length||!r.anchors.map(function(e){return e||{}}).every(function(e){return I2(e.x)&&I2(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(r.anchors));if(r.meanRgb&&(!Array.isArray(r.meanRgb)||r.meanRgb.length!==3||!r.meanRgb.every(I2)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(r.meanRgb))}function Em(r){return $e(function(){var e=ca(r,lt(.10000000149011612));return ur(mn(Fn(r,e)),e)})}function Vc(r,e){return $e(function(){var t=Dc(r,[[0,0],[1,1],[1,1],[0,0]]);return t=Bo(t,e.conv.filters,[1,1],"valid"),t=Fn(t,e.bn.sub),t=ca(t,e.bn.truediv),t=ur(t,e.conv.bias),Em(t)})}function qc(r,e){return $e(function(){var t=Dc(r,[[0,0],[1,1],[1,1],[0,0]]);return t=Zv(t,e.depthwise_filter,e.pointwise_filter,[1,1],"valid"),t=ur(t,e.bias),Em(t)})}function fue(r,e){var t=tf(r,e);function n(i,s){var u=Nn(r(i)),l=Nn(r(i));return e.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:l}}function a(i,s,u){var l=t(i,s,3,u+"/conv"),c=n(s,u+"/bn");return{conv:l,bn:c}}var o=Cm(r,e);return{extractConvParams:t,extractConvWithBatchNormParams:a,extractSeparableConvParams:o}}function G6(r,e,t,n){var a=Eo(r),o=a.extractWeights,i=a.getRemainingWeights,s=[],u=fue(o,s),l=u.extractConvParams,c=u.extractConvWithBatchNormParams,A=u.extractSeparableConvParams,d;if(e.withSeparableConvs){var f=n[0],h=n[1],p=n[2],v=n[3],g=n[4],B=n[5],I=n[6],S=n[7],E=n[8],T=e.isFirstLayerConv2d?l(f,h,3,"conv0"):A(f,h,"conv0"),U=A(h,p,"conv1"),D=A(p,v,"conv2"),k=A(v,g,"conv3"),O=A(g,B,"conv4"),N=A(B,I,"conv5"),P=S?A(I,S,"conv6"):void 0,j=E?A(S,E,"conv7"):void 0,z=l(E||S||I,5*t,1,"conv8");d={conv0:T,conv1:U,conv2:D,conv3:k,conv4:O,conv5:N,conv6:P,conv7:j,conv8:z}}else{var f=n[0],h=n[1],p=n[2],v=n[3],g=n[4],B=n[5],I=n[6],S=n[7],E=n[8],T=c(f,h,"conv0"),U=c(h,p,"conv1"),D=c(p,v,"conv2"),k=c(v,g,"conv3"),O=c(g,B,"conv4"),N=c(B,I,"conv5"),P=c(I,S,"conv6"),j=c(S,E,"conv7"),z=l(E,5*t,1,"conv8");d={conv0:T,conv1:U,conv2:D,conv3:k,conv4:O,conv5:N,conv6:P,conv7:j,conv8:z}}if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:d,paramMappings:s}}function due(r,e){var t=si(r,e);function n(s){var u=t(s+"/sub",1),l=t(s+"/truediv",1);return{sub:u,truediv:l}}function a(s){var u=t(s+"/filters",4),l=t(s+"/bias",1);return{filters:u,bias:l}}function o(s){var u=a(s+"/conv"),l=n(s+"/bn");return{conv:u,bn:l}}var i=Bm(t);return{extractConvParams:a,extractConvWithBatchNormParams:o,extractSeparableConvParams:i}}function K6(r,e){var t=[],n=due(r,t),a=n.extractConvParams,o=n.extractConvWithBatchNormParams,i=n.extractSeparableConvParams,s;if(e.withSeparableConvs){var u=e.filterSizes&&e.filterSizes.length||9;s={conv0:e.isFirstLayerConv2d?a("conv0"):i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:u>7?i("conv6"):void 0,conv7:u>8?i("conv7"):void 0,conv8:a("conv8")}}else s={conv0:o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:o("conv6"),conv7:o("conv7"),conv8:a("conv8")};return Io(r,t),{params:s,paramMappings:t}}var X6;(function(r){r[r.XS=224]="XS",r[r.SM=320]="SM",r[r.MD=416]="MD",r[r.LG=608]="LG"})(X6||(X6={}));var zd=(function(){function r(e){var t=e===void 0?{}:e,n=t.inputSize,a=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(r.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),r})();var E2=(function(r){pt(e,r);function e(t){var n=r.call(this,"TinyYolov2")||this;return j6(t),n._config=t,n}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),e.prototype.runTinyYolov2=function(t,n){var a=Vc(t,n.conv0);return a=fa(a,[2,2],[2,2],"same"),a=Vc(a,n.conv1),a=fa(a,[2,2],[2,2],"same"),a=Vc(a,n.conv2),a=fa(a,[2,2],[2,2],"same"),a=Vc(a,n.conv3),a=fa(a,[2,2],[2,2],"same"),a=Vc(a,n.conv4),a=fa(a,[2,2],[2,2],"same"),a=Vc(a,n.conv5),a=fa(a,[2,2],[1,1],"same"),a=Vc(a,n.conv6),a=Vc(a,n.conv7),ii(a,n.conv8,"valid",!1)},e.prototype.runMobilenet=function(t,n){var a=this.config.isFirstLayerConv2d?Em(ii(t,n.conv0,"valid",!1)):qc(t,n.conv0);return a=fa(a,[2,2],[2,2],"same"),a=qc(a,n.conv1),a=fa(a,[2,2],[2,2],"same"),a=qc(a,n.conv2),a=fa(a,[2,2],[2,2],"same"),a=qc(a,n.conv3),a=fa(a,[2,2],[2,2],"same"),a=qc(a,n.conv4),a=fa(a,[2,2],[2,2],"same"),a=qc(a,n.conv5),a=fa(a,[2,2],[1,1],"same"),a=n.conv6?qc(a,n.conv6):a,a=n.conv7?qc(a,n.conv7):a,ii(a,n.conv8,"valid",!1)},e.prototype.forwardInput=function(t,n){var a=this,o=this.params;if(!o)throw new Error("TinyYolov2 - load model before inference");return $e(function(){var i=t.toBatchTensor(n,!1).toFloat();return i=a.config.meanRgb?Dl(i,a.config.meanRgb):i,i=i.div(lt(256)),a.config.withSeparableConvs?a.runMobilenet(i,o):a.runTinyYolov2(i,o)})},e.prototype.forward=function(t,n){return it(this,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,bn(t)];case 1:return[4,a.apply(this,[o.sent(),n])];case 2:return[2,o.sent()]}})})},e.prototype.detect=function(t,n){return n===void 0&&(n={}),it(this,void 0,void 0,function(){var a,o,i,s,u,l,c,A,d,f,h,p,v,g,B=this;return st(this,function(I){switch(I.label){case 0:return a=new zd(n),o=a.inputSize,i=a.scoreThreshold,[4,bn(t)];case 1:return s=I.sent(),[4,this.forwardInput(s,o)];case 2:return u=I.sent(),l=$e(function(){return wn(u)[0].expandDims()}),c={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(l,s.getReshapedInputDimensions(0),i)];case 3:return A=I.sent(),u.dispose(),l.dispose(),d=A.map(function(S){return S.box}),f=A.map(function(S){return S.score}),h=A.map(function(S){return S.classScore}),p=A.map(function(S){return B.config.classes[S.label]}),v=Oc(d.map(function(S){return S.rescale(o)}),f,this.config.iouThreshold,!0),g=v.map(function(S){return new i2(f[S],h[S],p[S],d[S],c)}),[2,g]}})})},e.prototype.getDefaultModelName=function(){return""},e.prototype.extractParamsFromWeigthMap=function(t){return K6(t,this.config)},e.prototype.extractParams=function(t){var n=this.config.filterSizes||e.DEFAULT_FILTER_SIZES,a=n?n.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return G6(t,this.config,this.boxEncodingSize,n)},e.prototype.extractBoxes=function(t,n,a){return it(this,void 0,void 0,function(){var o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D,k,O,N,P,j,z,ne,re,Y,J=this;return st(this,function(G){switch(G.label){case 0:return o=n.width,i=n.height,s=Math.max(o,i),u=s/o,l=s/i,c=t.shape[1],A=this.config.anchors.length,d=$e(function(){var Z=t.reshape([c,c,A,J.boxEncodingSize]),he=Z.slice([0,0,0,0],[c,c,A,4]),R=Z.slice([0,0,0,4],[c,c,A,1]),H=J.withClassScores?ki(Z.slice([0,0,0,5],[c,c,A,J.config.classes.length]),3):lt(0);return[he,R,H]}),f=d[0],h=d[1],p=d[2],v=[],[4,h.array()];case 1:return g=G.sent(),[4,f.array()];case 2:B=G.sent(),I=0,G.label=3;case 3:if(!(I<c))return[3,12];S=0,G.label=4;case 4:if(!(S<c))return[3,11];E=0,G.label=5;case 5:return E<A?(T=s2(g[I][S][E][0]),!a||T>a?(U=(S+s2(B[I][S][E][0]))/c*u,D=(I+s2(B[I][S][E][1]))/c*l,k=Math.exp(B[I][S][E][2])*this.config.anchors[E].x/c*u,O=Math.exp(B[I][S][E][3])*this.config.anchors[E].y/c*l,N=U-k/2,P=D-O/2,j={row:I,col:S,anchor:E},this.withClassScores?[4,this.extractPredictedClass(p,j)]:[3,7]):[3,9]):[3,10];case 6:return Y=G.sent(),[3,8];case 7:Y={classScore:1,label:0},G.label=8;case 8:z=Y,ne=z.classScore,re=z.label,v.push(Ka({box:new Hd(N,P,N+k,P+O),score:T,classScore:T*ne,label:re},j)),G.label=9;case 9:return E++,[3,5];case 10:return S++,[3,4];case 11:return I++,[3,3];case 12:return f.dispose(),h.dispose(),p.dispose(),[2,v]}})})},e.prototype.extractPredictedClass=function(t,n){return it(this,void 0,void 0,function(){var a,o,i,s;return st(this,function(u){switch(u.label){case 0:return a=n.row,o=n.col,i=n.anchor,[4,t.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(l,c){return s[a][o][i][c]}).map(function(l,c){return{classScore:l,label:c}}).reduce(function(l,c){return l.classScore>c.classScore?l:c})]}})})},e.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],e})(So);var z5=(function(r){pt(e,r);function e(t){t===void 0&&(t=!0);var n=this,a=Object.assign({},{withSeparableConvs:t,iouThreshold:Q6,classes:["face"]},t?{anchors:V6,meanRgb:q6}:{anchors:H6,withClassScores:!0});return n=r.call(this,a)||this,n}return Object.defineProperty(e.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,n){return it(this,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return[4,this.detect(t,n)];case 1:return a=o.sent(),[2,a.map(function(i){return new Ra(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return this.withSeparableConvs?z6:W6},e.prototype.extractParamsFromWeigthMap=function(t){return r.prototype.extractParamsFromWeigthMap.call(this,t)},e})(E2);var fy=(function(r){pt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return e})(zd);var Rl=(function(){function r(){}return r.prototype.then=function(e){return it(this,void 0,void 0,function(){var t;return st(this,function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},r.prototype.run=function(){return it(this,void 0,void 0,function(){return st(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},r})();function jd(r,e,t,n,a){return a===void 0&&(a=function(o){var i=o.alignedRect;return i}),it(this,void 0,void 0,function(){var o,i,s,u,l;return st(this,function(c){switch(c.label){case 0:return o=r.map(function(A){return w2(A)?a(A):A.detection}),s=n,s?[3,5]:e instanceof Ln?[4,uy(e,o)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,sy(e,o)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return i=s,[4,t(i)];case 6:return l=c.sent(),i.forEach(function(A){return A instanceof Ln&&A.dispose()}),[2,l]}})})}function Lm(r,e,t,n,a){return it(this,void 0,void 0,function(){var o=this;return st(this,function(i){return[2,jd([r],e,function(s){return it(o,void 0,void 0,function(){return st(this,function(u){return[2,t(s[0])]})})},n,a)]})})}function Y6(r){return $e(function(){return Uo(wn(r,3).reverse(),3)})}var dy=2,Gd=12;function hue(r,e){var t=tf(r,e),n=bm(r,e);function a(l,c){var A=Nn(r(l));return e.push({paramPath:c}),A}function o(l,c,A){A===void 0&&(A=!1);var d=t(l[0],l[1],3,c+"/conv1"),f=a(l[1],c+"/prelu1_alpha"),h=t(l[1],l[2],3,c+"/conv2"),p=a(l[2],c+"/prelu2_alpha"),v=t(l[2],l[3],A?2:3,c+"/conv3"),g=a(l[3],c+"/prelu3_alpha");return{conv1:d,prelu1_alpha:f,conv2:h,prelu2_alpha:p,conv3:v,prelu3_alpha:g}}function i(){var l=o([3,10,16,32],"pnet"),c=t(32,2,1,"pnet/conv4_1"),A=t(32,4,1,"pnet/conv4_2");return Ka(Ka({},l),{conv4_1:c,conv4_2:A})}function s(){var l=o([3,28,48,64],"rnet",!0),c=n(576,128,"rnet/fc1"),A=a(128,"rnet/prelu4_alpha"),d=n(128,2,"rnet/fc2_1"),f=n(128,4,"rnet/fc2_2");return Ka(Ka({},l),{fc1:c,prelu4_alpha:A,fc2_1:d,fc2_2:f})}function u(){var l=o([3,32,64,64],"onet"),c=t(64,128,2,"onet/conv4"),A=a(128,"onet/prelu4_alpha"),d=n(1152,256,"onet/fc1"),f=a(256,"onet/prelu5_alpha"),h=n(256,2,"onet/fc2_1"),p=n(256,4,"onet/fc2_2"),v=n(256,10,"onet/fc2_3");return Ka(Ka({},l),{conv4:c,prelu4_alpha:A,fc1:d,prelu5_alpha:f,fc2_1:h,fc2_2:p,fc2_3:v})}return{extractPNetParams:i,extractRNetParams:s,extractONetParams:u}}function $6(r){var e=Eo(r),t=e.extractWeights,n=e.getRemainingWeights,a=[],o=hue(t,a),i=o.extractPNetParams,s=o.extractRNetParams,u=o.extractONetParams,l=i(),c=s(),A=u();if(n().length!==0)throw new Error("weights remaing after extract: "+n().length);return{params:{pnet:l,rnet:c,onet:A},paramMappings:a}}function pue(r,e){var t=si(r,e);function n(c){var A=t(c+"/weights",4,c+"/filters"),d=t(c+"/bias",1);return{filters:A,bias:d}}function a(c){var A=t(c+"/weights",2),d=t(c+"/bias",1);return{weights:A,bias:d}}function o(c){return t(c,1)}function i(c){var A=n(c+"/conv1"),d=o(c+"/prelu1_alpha"),f=n(c+"/conv2"),h=o(c+"/prelu2_alpha"),p=n(c+"/conv3"),v=o(c+"/prelu3_alpha");return{conv1:A,prelu1_alpha:d,conv2:f,prelu2_alpha:h,conv3:p,prelu3_alpha:v}}function s(){var c=i("pnet"),A=n("pnet/conv4_1"),d=n("pnet/conv4_2");return Ka(Ka({},c),{conv4_1:A,conv4_2:d})}function u(){var c=i("rnet"),A=a("rnet/fc1"),d=o("rnet/prelu4_alpha"),f=a("rnet/fc2_1"),h=a("rnet/fc2_2");return Ka(Ka({},c),{fc1:A,prelu4_alpha:d,fc2_1:f,fc2_2:h})}function l(){var c=i("onet"),A=n("onet/conv4"),d=o("onet/prelu4_alpha"),f=a("onet/fc1"),h=o("onet/prelu5_alpha"),p=a("onet/fc2_1"),v=a("onet/fc2_2"),g=a("onet/fc2_3");return Ka(Ka({},c),{conv4:A,prelu4_alpha:d,fc1:f,prelu5_alpha:h,fc2_1:p,fc2_2:v,fc2_3:g})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:l}}function J6(r){var e=[],t=pue(r,e),n=t.extractPNetParams,a=t.extractRNetParams,o=t.extractONetParams,i=n(),s=a(),u=o();return Io(r,e),{params:{pnet:i,rnet:s,onet:u},paramMappings:e}}function hy(r,e){var t=e[0],n=e[1];return{height:Math.floor(t*r),width:Math.floor(n*r)}}function Z6(r,e,t){for(var n=t[0],a=t[1],o=Gd/r,i=[],s=Math.min(n,a)*o,u=0;s>=12;)i.push(o*Math.pow(e,u)),s=s*e,u+=1;return i}var Fm=(function(r){pt(e,r);function e(t,n,a,o){return r.call(this,{left:t,top:n,right:a,bottom:o},!0)||this}return e})(Oo);function L2(r){return $e(function(){return ca(Fn(r,lt(127.5)),lt(.0078125))})}function Wc(r,e){return $e(function(){return ur(mn(r),ca(e,Yv(mn(Yv(r)))))})}function Tm(r,e,t){return t===void 0&&(t=!1),$e(function(){var n=ii(r,e.conv1,"valid");return n=Wc(n,e.prelu1_alpha),n=fa(n,t?[2,2]:[3,3],[2,2],"same"),n=ii(n,e.conv2,"valid"),n=Wc(n,e.prelu2_alpha),n=t?n:fa(n,[3,3],[2,2],"valid"),n=ii(n,e.conv3,"valid"),n=Wc(n,e.prelu3_alpha),n})}function eQ(r,e){return $e(function(){var t=Tm(r,e,!0),n=ii(t,e.conv4_1,"valid"),a=ni(Ud(n,3),3),o=ki(Fn(n,a),3),i=ii(t,e.conv4_2,"valid");return{prob:o,regions:i}})}function mue(r,e){return $e(function(){var t=hy(e,r.shape.slice(1)),n=t.height,a=t.width,o=ty.resizeBilinear(r,[n,a]),i=L2(o);return lu(i,[0,2,1,3])})}function gue(r,e,t,n){for(var a=[],o=r.arraySync(),i=0;i<r.shape[0];i++)for(var s=0;s<r.shape[1];s++)o[i][s]>=n&&a.push(new Fr(s,i));var u=a.map(function(l){var c=new Hd(Math.round((l.y*dy+1)/t),Math.round((l.x*dy+1)/t),Math.round((l.y*dy+Gd)/t),Math.round((l.x*dy+Gd)/t)),A=o[l.y][l.x],d=e.arraySync(),f=new Fm(d[l.y][l.x][0],d[l.y][l.x][1],d[l.y][l.x][2],d[l.y][l.x][3]);return{cell:c,score:A,region:f}});return u}function tQ(r,e,t,n,a){a.stage1=[];var o=e.map(function(d){return $e(function(){var f={scale:d},h=mue(r,d),p=Date.now(),v=eQ(h,n),g=v.prob,B=v.regions;f.pnet=Date.now()-p;var I=wn(wn(g,3)[1])[0],S=wn(B)[0];return{scoresTensor:I,regionsTensor:S,scale:d,statsForScale:f}})}),i=o.map(function(d){var f=d.scoresTensor,h=d.regionsTensor,p=d.scale,v=d.statsForScale,g=gue(f,h,p,t);if(f.dispose(),h.dispose(),!g.length)return a.stage1.push(v),[];var B=Date.now(),I=Oc(g.map(function(S){return S.cell}),g.map(function(S){return S.score}),.5);return v.nms=Date.now()-B,v.numBoxes=I.length,a.stage1.push(v),I.map(function(S){return g[S]})}),s=i.reduce(function(d,f){return d.concat(f)},[]),u=[],l=[];if(s.length>0){var c=Date.now(),A=Oc(s.map(function(d){return d.cell}),s.map(function(d){return d.score}),.7);a.stage1_nms=Date.now()-c,l=A.map(function(d){return s[d].score}),u=A.map(function(d){return s[d]}).map(function(d){var f=d.cell,h=d.region;return new Hd(f.left+h.left*f.width,f.top+h.top*f.height,f.right+h.right*f.width,f.bottom+h.bottom*f.height).toSquare().round()})}return{boxes:u,scores:l}}function F2(r,e,t){var n=t.width,a=t.height;return it(this,void 0,void 0,function(){var o,i,s,u=this;return st(this,function(l){switch(l.label){case 0:return o=Qo(r),[4,Promise.all(e.map(function(c){return it(u,void 0,void 0,function(){var A,d,f,h,p,v,g,B;return st(this,function(I){return A=c.padAtBorders(r.height,r.width),d=A.y,f=A.ey,h=A.x,p=A.ex,v=h-1,g=d-1,B=o.getImageData(v,g,p-v,f-g),[2,sn.isNodejs()?wm(B):createImageBitmap(B)]})})}))];case 1:return i=l.sent(),s=[],i.forEach(function(c){var A=Vd({width:n,height:a}),d=Qo(A);d.drawImage(c,0,0,n,a);for(var f=d.getImageData(0,0,n,a).data,h=[],p=0;p<f.length;p+=4)h.push(f[p+2]),h.push(f[p+1]),h.push(f[p]);s.push(h)}),[2,s.map(function(c){var A=$e(function(){var d=lu(fo(c,[1,n,a,3]),[0,2,1,3]).toFloat();return L2(d)});return A})]}})})}function rQ(r,e){return $e(function(){var t=Tm(r,e),n=_i(t,[t.shape[0],e.fc1.weights.shape[0]]),a=is(n,e.fc1),o=Wc(a,e.prelu4_alpha),i=is(o,e.fc2_1),s=ni(Ud(i,1),1),u=ki(Fn(i,s),1),l=is(o,e.fc2_2),c=wn(u,1)[1];return{scores:c,regions:l}})}function nQ(r,e,t,n,a){return it(this,void 0,void 0,function(){var o,i,s,u,l,c,A,d,f,h,p,v,g,B;return st(this,function(I){switch(I.label){case 0:return o=Date.now(),[4,F2(r,e,{width:24,height:24})];case 1:return i=I.sent(),a.stage2_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map(function(S){var E=rQ(S,n);return S.dispose(),E}),a.stage2_rnet=Date.now()-o,u=s.length>1?Wn(s.map(function(S){return S.scores})):s[0].scores,A=(c=Array).from,[4,u.data()];case 2:return l=A.apply(c,[I.sent()]),u.dispose(),d=l.map(function(S,E){return{score:S,idx:E}}).filter(function(S){return S.score>t}).map(function(S){var E=S.idx;return E}),f=d.map(function(S){return e[S]}),h=d.map(function(S){return l[S]}),p=[],v=[],f.length>0&&(o=Date.now(),g=Oc(f,h,.7),a.stage2_nms=Date.now()-o,B=g.map(function(S){var E=s[d[S]].regions.arraySync();return new Fm(E[0][0],E[0][1],E[0][2],E[0][3])}),v=g.map(function(S){return h[S]}),p=g.map(function(S,E){return f[S].calibrate(B[E])})),s.forEach(function(S){S.regions.dispose(),S.scores.dispose()}),[2,{boxes:p,scores:v}]}})})}function aQ(r,e){return $e(function(){var t=Tm(r,e);t=fa(t,[2,2],[2,2],"same"),t=ii(t,e.conv4,"valid"),t=Wc(t,e.prelu4_alpha);var n=_i(t,[t.shape[0],e.fc1.weights.shape[0]]),a=is(n,e.fc1),o=Wc(a,e.prelu5_alpha),i=is(o,e.fc2_1),s=ni(Ud(i,1),1),u=ki(Fn(i,s),1),l=is(o,e.fc2_2),c=is(o,e.fc2_3),A=wn(u,1)[1];return{scores:A,regions:l,points:c}})}function oQ(r,e,t,n,a){return it(this,void 0,void 0,function(){var o,i,s,u,l,c,A,d,f,h,p,v,g,B,I;return st(this,function(S){switch(S.label){case 0:return o=Date.now(),[4,F2(r,e,{width:48,height:48})];case 1:return i=S.sent(),a.stage3_extractImagePatches=Date.now()-o,o=Date.now(),s=i.map(function(E){var T=aQ(E,n);return E.dispose(),T}),a.stage3_onet=Date.now()-o,u=s.length>1?Wn(s.map(function(E){return E.scores})):s[0].scores,A=(c=Array).from,[4,u.data()];case 2:return l=A.apply(c,[S.sent()]),u.dispose(),d=l.map(function(E,T){return{score:E,idx:T}}).filter(function(E){return E.score>t}).map(function(E){var T=E.idx;return T}),f=d.map(function(E){var T=s[E].regions.arraySync();return new Fm(T[0][0],T[0][1],T[0][2],T[0][3])}),h=d.map(function(E,T){return e[E].calibrate(f[T])}),p=d.map(function(E){return l[E]}),v=[],g=[],B=[],h.length>0&&(o=Date.now(),I=Oc(h,p,.7,!1),a.stage3_nms=Date.now()-o,v=I.map(function(E){return h[E]}),g=I.map(function(E){return p[E]}),B=I.map(function(E,T){return Array(5).fill(0).map(function(U,D){var k=s[E].points.arraySync();return new Fr(k[0][D]*(v[T].width+1)+v[T].left,k[0][D+5]*(v[T].height+1)+v[T].top)})})),s.forEach(function(E){E.regions.dispose(),E.scores.dispose(),E.points.dispose()}),[2,{boxes:v,scores:g,points:B}]}})})}var j5=(function(r){pt(e,r);function e(){return r.call(this,"Mtcnn")||this}return e.prototype.load=function(t){return it(this,void 0,void 0,function(){return st(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,r.prototype.load.call(this,t)]})})},e.prototype.loadFromDisk=function(t){return it(this,void 0,void 0,function(){return st(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,r.prototype.loadFromDisk.call(this,t)]})})},e.prototype.forwardInput=function(t,n){return n===void 0&&(n={}),it(this,void 0,void 0,function(){var a,o,i,s,u,l,c,A,d,f,h,p,v,g,B,I,S,E,T,U,D;return st(this,function(k){switch(k.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(o=t.canvases[0],!o)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return i={},s=Date.now(),u=$e(function(){return Y6(ni(mm.fromPixels(o)).toFloat())}),l=function(O){return u.dispose(),i.total=Date.now()-s,O},c=u.shape.slice(1),A=c[0],d=c[1],f=new Ay(n),h=f.minFaceSize,p=f.scaleFactor,v=f.maxNumScales,g=f.scoreThresholds,B=f.scaleSteps,I=(B||Z6(h,p,[A,d])).filter(function(O){var N=hy(O,[A,d]);return Math.min(N.width,N.height)>Gd}).slice(0,v),i.scales=I,i.pyramid=I.map(function(O){return hy(O,[A,d])}),S=Date.now(),[4,tQ(u,I,g[0],a.pnet,i)];case 1:return E=k.sent(),i.total_stage1=Date.now()-S,E.boxes.length?(i.stage2_numInputBoxes=E.boxes.length,S=Date.now(),[4,nQ(o,E.boxes,g[1],a.rnet,i)]):[2,l({results:[],stats:i})];case 2:return T=k.sent(),i.total_stage2=Date.now()-S,T.boxes.length?(i.stage3_numInputBoxes=T.boxes.length,S=Date.now(),[4,oQ(o,T.boxes,g[2],a.onet,i)]):[2,l({results:[],stats:i})];case 3:return U=k.sent(),i.total_stage3=Date.now()-S,D=U.boxes.map(function(O,N){return Sm(ym({},new Ra(U.scores[N],new vm(O.left/d,O.top/A,O.width/d,O.height/A),{height:A,width:d})),new s6(U.points[N].map(function(P){return P.sub(new Fr(O.left,O.top)).div(new Fr(O.width,O.height))}),{width:O.width,height:O.height}))}),[2,l({results:D,stats:i})]}})})},e.prototype.forward=function(t,n){return n===void 0&&(n={}),it(this,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,bn(t)];case 1:return[4,a.apply(this,[o.sent(),n])];case 2:return[2,o.sent().results]}})})},e.prototype.forwardWithStats=function(t,n){return n===void 0&&(n={}),it(this,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return a=this.forwardInput,[4,bn(t)];case 1:return[2,a.apply(this,[o.sent(),n])]}})})},e.prototype.getDefaultModelName=function(){return"mtcnn_model"},e.prototype.extractParamsFromWeigthMap=function(t){return J6(t)},e.prototype.extractParams=function(t){return $6(t)},e})(So);var iQ=.4,sQ=[new Fr(1.603231,2.094468),new Fr(6.041143,7.080126),new Fr(2.882459,3.518061),new Fr(4.266906,5.178857),new Fr(9.041765,10.66308)],uQ=[117.001,114.697,97.404];var G5=(function(r){pt(e,r);function e(){var t=this,n={withSeparableConvs:!0,iouThreshold:iQ,classes:["face"],anchors:sQ,meanRgb:uQ,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t=r.call(this,n)||this,t}return Object.defineProperty(e.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),e.prototype.locateFaces=function(t,n){return it(this,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return[4,this.detect(t,n)];case 1:return a=o.sent(),[2,a.map(function(i){return new Ra(i.score,i.relativeBox,{width:i.imageWidth,height:i.imageHeight})})]}})})},e.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},e.prototype.extractParamsFromWeigthMap=function(t){return r.prototype.extractParamsFromWeigthMap.call(this,t)},e})(E2);var wa={ssdMobilenetv1:new S2,tinyFaceDetector:new G5,tinyYolov2:new z5,mtcnn:new j5,faceLandmark68Net:new C2,faceLandmark68TinyNet:new F6,faceRecognitionNet:new H5,faceExpressionNet:new v6,ageGenderNet:new S6};var lQ=(function(r){pt(e,r);function e(t,n,a){var o=r.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=a,o}return e})(Rl);var py=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a=this;return st(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,jd(t,this.input,function(i){return it(a,void 0,void 0,function(){return st(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return wa.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=o.sent(),[2,t.map(function(i,s){return M5(i,n[s])})]}})})},e.prototype.withAgeAndGender=function(){return new gy(this,this.input)},e})(lQ);var my=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n;return st(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return t=a.sent(),t?[4,Lm(t,this.input,function(o){return wa.faceExpressionNet.predictExpressions(o)},this.extractedFaces)]:[2];case 2:return n=a.sent(),[2,M5(t,n)]}})})},e.prototype.withAgeAndGender=function(){return new vy(this,this.input)},e})(lQ);var _m=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Dm(this,this.input)},e})(py);var km=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Rm(this,this.input)},e})(my);var cQ=(function(r){pt(e,r);function e(t,n,a){var o=r.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=a,o}return e})(Rl);var gy=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a=this;return st(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,jd(t,this.input,function(i){return it(a,void 0,void 0,function(){return st(this,function(s){switch(s.label){case 0:return[4,Promise.all(i.map(function(u){return wa.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=o.sent(),[2,t.map(function(i,s){var u=n[s],l=u.age,c=u.gender,A=u.genderProbability;return q5(W5(i,c,A),l)})]}})})},e.prototype.withFaceExpressions=function(){return new py(this,this.input)},e})(cQ);var vy=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a,o,i;return st(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?[4,Lm(t,this.input,function(u){return wa.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return n=s.sent(),a=n.age,o=n.gender,i=n.genderProbability,[2,q5(W5(t,o,i),a)]}})})},e.prototype.withFaceExpressions=function(){return new my(this,this.input)},e})(cQ);var Nm=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new _m(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Dm(this,this.input)},e})(gy);var Pm=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.withFaceExpressions=function(){return new km(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Rm(this,this.input)},e})(vy);var AQ=(function(r){pt(e,r);function e(t,n){var a=r.call(this)||this;return a.parentTask=t,a.input=n,a}return e})(Rl);var Dm=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n;return st(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return t=a.sent(),[4,jd(t,this.input,function(o){return Promise.all(o.map(function(i){return wa.faceRecognitionNet.computeFaceDescriptor(i)}))},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return n=a.sent(),[2,n.map(function(o,i){return V5(t[i],o)})]}})})},e.prototype.withFaceExpressions=function(){return new _m(this,this.input)},e.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},e})(AQ);var Rm=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n;return st(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return t=a.sent(),t?[4,Lm(t,this.input,function(o){return wa.faceRecognitionNet.computeFaceDescriptor(o)},null,function(o){return o.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return n=a.sent(),[2,V5(t,n)]}})})},e.prototype.withFaceExpressions=function(){return new km(this,this.input)},e.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},e})(AQ);var fQ=(function(r){pt(e,r);function e(t,n,a){var o=r.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=a,o}return Object.defineProperty(e.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?wa.faceLandmark68TinyNet:wa.faceLandmark68Net},enumerable:!0,configurable:!0}),e})(Rl);var dQ=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a,o,i,s=this;return st(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return t=u.sent(),n=t.map(function(l){return l.detection}),this.input instanceof Ln?[4,uy(this.input,n)]:[3,3];case 2:return o=u.sent(),[3,5];case 3:return[4,sy(this.input,n)];case 4:o=u.sent(),u.label=5;case 5:return a=o,[4,Promise.all(a.map(function(l){return s.landmarkNet.detectLandmarks(l)}))];case 6:return i=u.sent(),a.forEach(function(l){return l instanceof Ln&&l.dispose()}),[2,t.map(function(l,c){return Sm(l,i[c])})]}})})},e.prototype.withFaceExpressions=function(){return new _m(this,this.input)},e.prototype.withAgeAndGender=function(){return new Nm(this,this.input)},e.prototype.withFaceDescriptors=function(){return new Dm(this,this.input)},e})(fQ);var hQ=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a,o,i;return st(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?(n=t.detection,this.input instanceof Ln?[4,uy(this.input,[n])]:[3,3]):[2];case 2:return o=s.sent(),[3,5];case 3:return[4,sy(this.input,[n])];case 4:o=s.sent(),s.label=5;case 5:return a=o,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return i=s.sent(),a.forEach(function(u){return u instanceof Ln&&u.dispose()}),[2,Sm(t,i)]}})})},e.prototype.withFaceExpressions=function(){return new km(this,this.input)},e.prototype.withAgeAndGender=function(){return new Pm(this,this.input)},e.prototype.withFaceDescriptor=function(){return new Rm(this,this.input)},e})(fQ);var pQ=(function(r){pt(e,r);function e(t,n){n===void 0&&(n=new rf);var a=r.call(this)||this;return a.input=t,a.options=n,a}return e})(Rl);var mQ=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n,a,o;return st(this,function(i){switch(i.label){case 0:return t=this,n=t.input,a=t.options,a instanceof Ay?[4,wa.mtcnn.forward(n,a)]:[3,2];case 1:return[2,i.sent().map(function(s){return s.detection})];case 2:if(o=a instanceof fy?function(s){return wa.tinyFaceDetector.locateFaces(s,a)}:a instanceof rf?function(s){return wa.ssdMobilenetv1.locateFaces(s,a)}:a instanceof zd?function(s){return wa.tinyYolov2.locateFaces(s,a)}:null,!o)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,o(n)]}})})},e.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(n){return it(t,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,n(a.map(function(i){return ym({},i)}))]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new dQ(this.runAndExtendWithFaceDetections(),this.input,t)},e.prototype.withFaceExpressions=function(){return new py(this.runAndExtendWithFaceDetections(),this.input)},e.prototype.withAgeAndGender=function(){return new gy(this.runAndExtendWithFaceDetections(),this.input)},e})(pQ);var gQ=(function(r){pt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.run=function(){return it(this,void 0,void 0,function(){var t,n;return st(this,function(a){switch(a.label){case 0:return[4,new mQ(this.input,this.options)];case 1:return t=a.sent(),n=t[0],t.forEach(function(o){o.score>n.score&&(n=o)}),[2,n]}})})},e.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(n){return it(t,void 0,void 0,function(){var a;return st(this,function(o){switch(o.label){case 0:return[4,this.run()];case 1:return a=o.sent(),[2,n(a?ym({},a):void 0)]}})})})},e.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new hQ(this.runAndExtendWithFaceDetection(),this.input,t)},e.prototype.withFaceExpressions=function(){return new my(this.runAndExtendWithFaceDetection(),this.input)},e.prototype.withAgeAndGender=function(){return new vy(this.runAndExtendWithFaceDetection(),this.input)},e})(pQ);function K5(r,e){return e===void 0&&(e=new rf),new gQ(r,e)}function T2(r,e){if(r.length!==e.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var t=Array.from(r),n=Array.from(e);return Math.sqrt(t.map(function(a,o){return a-n[o]}).reduce(function(a,o){return a+Math.pow(o,2)},0))}var qKe=(function(){function r(e,t){t===void 0&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,o=function(){return"person "+a++};this._labeledDescriptors=n.map(function(i){if(i instanceof ay)return i;if(i instanceof Float32Array)return new ay(o(),[i]);if(i.descriptor&&i.descriptor instanceof Float32Array)return new ay(o(),[i.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(r.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),r.prototype.computeMeanDistance=function(e,t){return t.map(function(n){return T2(n,e)}).reduce(function(n,a){return n+a},0)/(t.length||1)},r.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(n){var a=n.descriptors,o=n.label;return new S5(o,t.computeMeanDistance(e,a))}).reduce(function(n,a){return n.distance<a.distance?n:a})},r.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new S5("unknown",t.distance)},r.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},r.fromJSON=function(e){var t=e.labeledDescriptors.map(function(n){return ay.fromJSON(n)});return new r(t,e.distanceThreshold)},r})();var _2="/models",X5={isLoaded:!1,async loadModels(){if(!this.isLoaded)try{await Promise.all([wa.tinyFaceDetector.loadFromUri(_2),wa.faceLandmark68Net.loadFromUri(_2),wa.faceRecognitionNet.loadFromUri(_2),wa.faceExpressionNet.loadFromUri(_2)]),this.isLoaded=!0,console.log("FaceAPI Models Loaded")}catch(r){throw console.error("Failed to load FaceAPI models:",r),r}},async getFaceDescriptor(r){if(this.isLoaded||await this.loadModels(),r instanceof HTMLVideoElement){if(r.videoWidth===0||r.videoHeight===0)return}else if(r instanceof HTMLImageElement&&(r.naturalWidth===0||r.naturalHeight===0))return;try{let e=await K5(r,new fy).withFaceLandmarks().withFaceDescriptor();return e?e.descriptor:void 0}catch(e){console.warn("FaceAPI detection suppressed:",e);return}},async detectExpressions(r){if(this.isLoaded||await this.loadModels(),!(r instanceof HTMLVideoElement&&(r.videoWidth===0||r.videoHeight===0)))try{return(await K5(r,new fy).withFaceExpressions())?.expressions}catch{return}},getDistance(r,e){return T2(r,e)}};var yQ=({isOpen:r,onClose:e,employeeId:t,employeeName:n,onSuccess:a})=>{let o=(0,Gr.useRef)(null),[i,s]=(0,Gr.useState)("Cargando modelos..."),[u,l]=(0,Gr.useState)(!1),[c,A]=(0,Gr.useState)(!1),[d,f]=(0,Gr.useState)(null);(0,Gr.useEffect)(()=>{r&&(s("Cargando modelos de IA..."),X5.loadModels().then(()=>{s("Listo. Posiciona la cara en el centro."),l(!0)}).catch(p=>{f("Error cargando IA: "+p.message),s("Error")}))},[r]);let h=(0,Gr.useCallback)(async()=>{if(!(!o.current||!u)){A(!0),f(null),s("Analizando rostro...");try{let p=o.current.video;if(!p||p.readyState!==4)throw new Error("C\xE1mara no lista");let v=await X5.getFaceDescriptor(p);if(!v)throw new Error("No se detect\xF3 ninguna cara. Aseg\xFArate de tener buena iluminaci\xF3n y mirar de frente.");s("Enviando datos...");let g=Array.from(v);await bt.post("/kiosk/enroll",{employeeId:t,descriptor:g}),nt.success(`Cara de ${n} registrada correctamente.`),a(),e()}catch(p){console.error(p),f(p.message||"Error al procesar la imagen"),s("Error. Int\xE9ntalo de nuevo.")}finally{A(!1)}}},[t,n,u,e,a]);return r?Gr.default.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200"},Gr.default.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden border border-slate-200 dark:border-slate-800"},Gr.default.createElement("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center"},Gr.default.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},Gr.default.createElement(rv,{className:"text-blue-500"}),"Registro Facial"),Gr.default.createElement("button",{onClick:e,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors"},Gr.default.createElement(iu,{size:24}))),Gr.default.createElement("div",{className:"p-6 space-y-6"},Gr.default.createElement("div",{className:"relative aspect-video bg-black rounded-xl overflow-hidden shadow-inner border border-slate-800"},u?Gr.default.createElement(vQ.default,{ref:o,audio:!1,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"user"},className:"w-full h-full object-cover"}):Gr.default.createElement("div",{className:"absolute inset-0 flex items-center justify-center text-slate-500"},Gr.default.createElement(kn,{className:"animate-spin mr-2"})," Cargando c\xE1mara..."),Gr.default.createElement("div",{className:"absolute inset-0 border-4 border-white/20 rounded-xl pointer-events-none"},Gr.default.createElement("div",{className:"absolute inset-1/4 border-2 border-dashed border-white/50 rounded-lg"}))),Gr.default.createElement("div",{className:"text-center space-y-2"},Gr.default.createElement("p",{className:`text-sm font-medium ${d?"text-red-500":"text-slate-600 dark:text-slate-300"}`},d||i),d&&Gr.default.createElement("p",{className:"text-xs text-red-400 flex items-center justify-center gap-1"},Gr.default.createElement(QA,{size:12})," ",d)),Gr.default.createElement("div",{className:"flex gap-3"},Gr.default.createElement("button",{onClick:e,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition"},"Cancelar"),Gr.default.createElement("button",{onClick:h,disabled:!u||c,className:"flex-[2] px-4 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2"},c?Gr.default.createElement(kn,{className:"animate-spin"}):Gr.default.createElement(Ec,null),c?"Procesando...":"Capturar y Guardar"))))):null};var Kl=At(jt(),1);var sX=At(y8(),1);var Vm=At(jt(),1);var fle=At(jt(),1);var dle=(0,Vm.createContext)(void 0);var Ds=()=>{let r=(0,Vm.useContext)(dle);if(!r)throw new Error("useConfirm must be used within a ConfirmProvider");return r.confirm};var hS=[{id:"VACATION",label:"Vacaciones",bg:"bg-emerald-500",text:"text-emerald-700",light:"bg-emerald-50",icon:yv},{id:"SICK",label:"Baja M\xE9dica",bg:"bg-rose-500",text:"text-rose-700",light:"bg-rose-50",icon:Cd},{id:"BIRTH",label:"Nacimiento/Cuidado",bg:"bg-blue-500",text:"text-blue-700",light:"bg-blue-50",icon:ev},{id:"MEDICAL_HOURS",label:"Horas M\xE9dicas",bg:"bg-indigo-500",text:"text-indigo-700",light:"bg-indigo-50",icon:ri},{id:"PERSONAL",label:"Asuntos Propios",bg:"bg-amber-500",text:"text-amber-700",light:"bg-amber-50",icon:rs},{id:"OTHER",label:"Otros",bg:"bg-slate-500",text:"text-slate-700",light:"bg-slate-50",icon:VA}];function ck({employeeId:r}){let e=Ds(),[t,n]=(0,Kl.useState)(new Date),[a,o]=(0,Kl.useState)([]),[i,s]=(0,Kl.useState)({start:null,end:null}),[u,l]=(0,Kl.useState)(null),[c,A]=(0,Kl.useState)("VACATION"),[d,f]=(0,Kl.useState)(""),[h,p]=(0,Kl.useState)("");(0,Kl.useEffect)(()=>{g(),v()},[r]);let v=async()=>{try{let Y=await bt.get(`/employees/${r}`);l(Y.data||Y)}catch(Y){console.error(Y)}},g=async()=>{try{let Y=await bt.get(`/vacations/employee/${r}`);o(Y.data||Y||[])}catch(Y){console.error(Y)}},B=async Y=>{if(await e({title:"Eliminar Registro",message:"\xBFEst\xE1s seguro de que deseas eliminar este registro de ausencia? Esta acci\xF3n es definitiva.",confirmText:"S\xED, eliminar",cancelText:"Cancelar",type:"danger"}))try{await bt.delete(`/vacations/${Y}`),nt.success("Registro eliminado"),g(),v()}catch{nt.error("Error al eliminar")}},I=async Y=>{let{jsPDF:J}=await Promise.resolve().then(()=>(iX(),oX)),G=new J,Z=et=>new Promise((te,je)=>{let Ct=new Image;Ct.crossOrigin="Anonymous",Ct.src=et,Ct.onload=()=>{let ft=document.createElement("canvas");ft.width=Ct.width,ft.height=Ct.height,ft.getContext("2d")?.drawImage(Ct,0,0),te(ft.toDataURL("image/png"))},Ct.onerror=je}),he=P(Y.type),R=new Date(Y.startDate),H=new Date(Y.endDate),ae=R.toLocaleDateString(),le=H.toLocaleDateString(),pe=`${u?.firstName} ${u?.lastName||""}`,ve=Math.ceil((H.getTime()-R.getTime())/(1e3*60*60*24))+1,Se=GE(R,H),me=ve-Se,ke=JSON.stringify({t:"VACATION",id:Y.id,eid:r,d:new Date().toISOString()}),Re=await sX.default.toDataURL(ke,{width:100,margin:1});G.setProperties({title:`Justificante Ausencia - ${pe}`,subject:ke,author:"Empleados Manager APP",keywords:"justificante, absence, vacation, auto-assign",creator:"Empleados Manager APP"}),G.setFillColor(30,41,59),G.rect(0,0,210,50,"F");try{let et=`${EA}/assets/logo.png`,te=await Z(et);G.addImage(te,"PNG",15,10,30,30)}catch(et){console.warn("No se pudo cargar el logo:",et)}G.addImage(Re,"PNG",175,255,20,20),G.setTextColor(255,255,255),G.setFontSize(22),G.setFont("helvetica","bold"),G.text("JUSTIFICANTE DE AUSENCIA",115,25,{align:"center"}),G.setFontSize(9),G.setFont("helvetica","normal"),G.text("Documento oficial de control de presencia y gesti\xF3n RRHH",115,33,{align:"center"}),G.setDrawColor(255,255,255),G.setLineWidth(.5),G.line(60,40,190,40),G.setTextColor(30,41,59);let De=70;G.setFillColor(248,250,252),G.roundedRect(20,De-5,170,35,3,3,"F"),G.setFontSize(10),G.setFont("helvetica","bold"),G.text("INFORMACI\xD3N DEL EMPLEADO",25,De+5),G.setFontSize(11),G.setFont("helvetica","normal"),G.text(`Nombre completo: ${pe}`,25,De+15),G.text(`DNI / NIE: ${u?.dni||"-"}`,25,De+23),G.text(`Departamento: ${u?.department||"-"}`,100,De+15),G.text(`Puesto: ${u?.jobTitle||"-"}`,100,De+23),De+=45,G.setFontSize(10),G.setFont("helvetica","bold"),G.text("DETALLES DE LA AUSENCIA",25,De),G.setDrawColor(226,232,240),G.line(20,De+3,190,De+3),De+=15,G.setFont("helvetica","normal"),G.setFontSize(11),G.text("Concepto:",25,De),G.setFont("helvetica","bold"),G.text(he.toUpperCase(),70,De),De+=10,G.setFont("helvetica","normal"),G.text("Periodo:",25,De),G.text(`Del ${ae} al ${le}`,70,De),Y.reason&&(De+=10,G.text("Observaciones:",25,De),G.setFont("helvetica","italic"),G.text(Y.reason,70,De,{maxWidth:110}),De+=5),De+=20,G.setFillColor(241,245,249),G.rect(20,De,170,30,"F"),G.setFont("helvetica","bold"),G.setFontSize(9),G.text("DESGLOSE DE D\xCDAS",25,De+7),G.setFontSize(11),G.text("D\xEDas Naturales:",25,De+18),G.text(`${ve}`,60,De+18),G.text("D\xEDas Laborables:",75,De+18),G.setTextColor(37,99,235),G.text(`${Se}`,115,De+18),G.setTextColor(30,41,59),G.text("Festivos/Fines de Semana:",130,De+18),G.text(`${me}`,180,De+18),De+=50,G.setFontSize(9),G.setFont("helvetica","bold"),G.text("FIRMAS Y SELLOS",105,De,{align:"center"}),De+=10,G.setDrawColor(203,213,225),G.rect(25,De,75,35),G.rect(110,De,75,35),G.setFont("helvetica","normal"),G.setFontSize(8),G.text("Firma del Empleado",62.5,De+42,{align:"center"}),G.text("Sello y Firma de la Empresa",147.5,De+42,{align:"center"}),G.setTextColor(148,163,184),G.setFontSize(7);let ze=new Date().toLocaleString();G.text(`Documento generado autom\xE1ticamente el ${ze} - Empleados Manager APP`,105,285,{align:"center"}),G.save(`Justificante_${he.replace(/\s/g,"_")}_${pe.replace(/\s/g,"_")}.pdf`)},S=Y=>new Date(Y.getFullYear(),Y.getMonth()+1,0).getDate(),E=Y=>new Date(Y.getFullYear(),Y.getMonth(),1).getDay(),T=S(t),U=E(t),D=U===0?6:U-1,k=async Y=>{let J=new Date(t.getFullYear(),t.getMonth(),Y),G=O(Y);if(G){let Z=P(G.type);await e({title:"Detalle de Ausencia",message:React.createElement("div",{className:"text-left space-y-4"},React.createElement("div",{className:"space-y-2"},React.createElement("p",null,React.createElement("strong",null,"Tipo:")," ",Z),React.createElement("p",null,React.createElement("strong",null,"Periodo:")," Del ",new Date(G.startDate).toLocaleDateString()," al ",new Date(G.endDate).toLocaleDateString()),G.reason&&React.createElement("p",null,React.createElement("strong",null,"Motivo:")," ",G.reason)),React.createElement("button",{onClick:R=>{R.preventDefault(),document.dispatchEvent(new CustomEvent("close-confirm-dialog")),B(G.id)},className:"flex items-center gap-2 text-rose-500 hover:text-rose-600 font-bold text-sm transition-colors"},React.createElement(Dn,{size:16})," Eliminar este registro")),confirmText:"Descargar PDF",cancelText:"Cerrar",type:"info"})&&I(G);return}if(!i.start||i.start&&i.end)s({start:J,end:null}),nt.info(`Inicio: ${J.toLocaleDateString()}. Selecciona fin.`);else if(J<i.start)s({start:J,end:null});else{let Z=J;s(ae=>({...ae,end:Z}));let he=P(c),R=c==="OTHER"&&d?` [${d}]`:"";if(await e({title:"Registrar Ausencia",message:`\xBFEst\xE1s seguro de registrar ${he}${R} del ${i.start.toLocaleDateString()} al ${Z.toLocaleDateString()}?`,confirmText:"Registrar",cancelText:"Cancelar",type:"info"})){let ae=nt.loading("Registrando...");try{await bt.post("/vacations",{employeeId:r,startDate:i.start.toISOString(),endDate:Z.toISOString(),type:c,reason:c==="MEDICAL_HOURS"?h:c==="OTHER"?d:null}),nt.success(`${he} registrado con \xE9xito`,{id:ae}),s({start:null,end:null}),f(""),p(""),g(),v()}catch(le){let pe=le.message||"Error al registrar";nt.error(pe,{id:ae}),s({start:null,end:null})}}else s({start:null,end:null})}},O=Y=>{let J=new Date(t.getFullYear(),t.getMonth(),Y);return J.setHours(0,0,0,0),a.find(G=>{let Z=new Date(G.startDate),he=new Date(G.endDate);return Z.setHours(0,0,0,0),he.setHours(0,0,0,0),J>=Z&&J<=he})},N=Y=>{if(!i.start)return!1;let J=new Date(t.getFullYear(),t.getMonth(),Y);J.setHours(0,0,0,0);let G=new Date(i.start);if(G.setHours(0,0,0,0),i.end){let Z=new Date(i.end);return Z.setHours(0,0,0,0),J>=G&&J<=Z}return J.getTime()===G.getTime()},P=Y=>hS.find(J=>J.id===Y)?.label||Y,j=Y=>hS.find(J=>J.id===Y)?.bg||"bg-slate-500",z=a.reduce((Y,J)=>{if(J.type!=="VACATION")return Y;let G=new Date(J.startDate),Z=new Date(J.endDate);return G.getFullYear()===t.getFullYear()?Y+GE(G,Z):Y},0),re=(()=>{let Y=u?.vacationDaysTotal||30,J=u?.entryDate||u?.seniorityDate;if(!J)return Y;let G=new Date(J),Z=t.getFullYear(),he=G.getFullYear();if(he<Z)return Y;if(he===Z){let R=new Date(Z,0,1),H=new Date(Z,11,31),ae=Math.ceil((H.getTime()-R.getTime())/(1e3*60*60*24))+1,le=new Date(G);le.setHours(0,0,0,0);let pe=Math.ceil((H.getTime()-le.getTime())/(1e3*60*60*24))+1,ve=Math.round(Y*pe/ae);return Math.max(0,ve)}return 0})();return React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 p-6 shadow-sm"},React.createElement("div",{className:"space-y-6 mb-8"},React.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},React.createElement("div",null,React.createElement("h3",{className:"font-bold text-xl text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(Po,{className:"text-blue-600",size:24})," Calendario de Ausencias"),React.createElement("p",{className:"text-sm text-slate-500 mt-1"},"S\xE1bados/Domingos aislados no consumen cupo de vacaciones")),React.createElement("div",{className:"flex items-center gap-4 bg-slate-50 dark:bg-slate-800/50 px-4 py-2 rounded-xl border border-slate-100 dark:border-slate-800"},React.createElement("div",{className:"text-center"},React.createElement("p",{className:"text-[10px] uppercase font-bold text-slate-400"},"Cupo 30d"),React.createElement("p",{className:"text-md font-bold text-slate-700 dark:text-slate-200"},Math.max(0,re-z)," disp.")))),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},hS.map(Y=>{let J=Y.icon,G=c===Y.id;return React.createElement("button",{key:Y.id,onClick:()=>A(Y.id),className:`
                                    flex items-center gap-3 p-3 rounded-xl border transition-all text-left
                                    ${G?"bg-slate-900 dark:bg-white border-slate-900 dark:border-white text-white dark:text-slate-900 shadow-lg ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-slate-900":"bg-white dark:bg-slate-800/50 border-slate-100 dark:border-slate-800 text-slate-400 hover:border-blue-500 hover:text-slate-600"}
                            `},React.createElement("div",{className:`p-2 rounded-lg ${G?"bg-white/20":"bg-slate-50 dark:bg-slate-800"}`},React.createElement(J,{size:18,className:G?"text-white dark:text-slate-900":"text-slate-500"})),React.createElement("span",{className:"font-bold text-sm"},Y.label))})),c==="OTHER"&&React.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 animate-in fade-in slide-in-from-top-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block"},"Detalla el motivo (Opcional)"),React.createElement("input",{type:"text",placeholder:"Ej: Permiso por mudanza, formaci\xF3n...",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:d,onChange:Y=>f(Y.target.value)})),c==="MEDICAL_HOURS"&&React.createElement("div",{className:"bg-indigo-50 dark:bg-indigo-900/40 p-5 rounded-2xl border border-indigo-200 dark:border-indigo-800 shadow-sm animate-in fade-in zoom-in-95 duration-200 my-4"},React.createElement("div",{className:"flex items-center gap-2 mb-3"},React.createElement(ri,{size:18,className:"text-indigo-500"}),React.createElement("label",{className:"text-xs font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-wider"},"Registrar Horas M\xE9dicas")),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("input",{type:"number",step:"0.5",min:"0.5",placeholder:"Ej: 2.5",className:"w-36 bg-white dark:bg-slate-900 border-2 border-indigo-200 dark:border-indigo-800 rounded-xl px-4 py-3 text-lg font-black text-indigo-900 dark:text-white focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-inner",value:h,onChange:Y=>p(Y.target.value)}),React.createElement("div",null,React.createElement("p",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-100"},"Horas"),React.createElement("p",{className:"text-[10px] text-indigo-500 font-medium"},"Se reflejar\xE1 en el calendario"))))),React.createElement("div",{className:"flex justify-between items-center mb-6"},React.createElement("button",{onClick:()=>n(new Date(t.setMonth(t.getMonth()-1))),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg"},React.createElement(pd,{size:20})),React.createElement("span",{className:"font-semibold text-slate-700 dark:text-slate-200 capitalize w-48 text-center text-lg"},t.toLocaleString("default",{month:"long",year:"numeric"})),React.createElement("button",{onClick:()=>n(new Date(t.setMonth(t.getMonth()+1))),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg"},React.createElement(md,{size:20}))),React.createElement("div",{className:"grid grid-cols-7 gap-2 text-center mb-4"},["Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b","Dom"].map(Y=>React.createElement("div",{key:Y,className:"text-xs font-bold text-slate-400 uppercase tracking-wider"},Y))),React.createElement("div",{className:"grid grid-cols-7 gap-2"},Array.from({length:D}).map((Y,J)=>React.createElement("div",{key:`empty-${J}`})),Array.from({length:T}).map((Y,J)=>{let G=J+1,Z=new Date(t.getFullYear(),t.getMonth(),G),he=O(G),R=N(G),H=[6,0].includes(Z.getDay()),ae=Jp(Z);return React.createElement("button",{key:G,onClick:()=>k(G),className:`
                                min-h-[100px] md:min-h-[140px] rounded-2xl flex flex-col items-center justify-center text-sm font-bold transition-all relative overflow-hidden group
                                ${he?`${j(he.type)} text-white shadow-lg shadow-${j(he.type).split("-")[1]}-500/20`:R?"bg-blue-600 text-white shadow-lg shadow-blue-500/20 scale-105 z-10":ae?"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":H?"bg-slate-100 dark:bg-slate-800/80 text-slate-400 dark:text-slate-500":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-blue-50 dark:hover:bg-blue-900/40 hover:text-blue-600"}
                            `},React.createElement("span",{className:"text-lg relative z-10"},G),ae&&React.createElement(uv,{size:12,className:"absolute top-2 left-2 opacity-70"}),he&&React.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-end pb-2"},he.type==="MEDICAL_HOURS"&&he.reason&&React.createElement("div",{className:"bg-white/20 px-1.5 py-0.5 rounded text-[10px] font-black backdrop-blur-sm mb-1"},he.reason,"h"),React.createElement(Dn,{size:12,className:"opacity-0 group-hover:opacity-50 transition-opacity"})))})),React.createElement("div",{className:"mt-8 flex flex-wrap gap-4 text-xs font-medium"},hS.map(Y=>React.createElement("div",{key:Y.id,className:"flex items-center gap-2"},React.createElement("div",{className:`w-3 h-3 ${Y.bg} rounded-full`}),React.createElement("span",{className:"text-slate-500"},Y.label)))),React.createElement("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl flex gap-3 items-start border border-blue-100 dark:border-blue-800/30"},React.createElement(xd,{size:18,className:"text-blue-500 mt-0.5 shrink-0"}),React.createElement("p",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed"},"**Gesti\xF3n de Ausencias**: Selecciona el tipo arriba y haz clic en el rango del calendario. Para borrar, haz clic en un d\xEDa ya registrado. Las vacaciones solo descuentan del cupo si incluyen d\xEDas laborables.")))}var rA=At(jt(),1);function uX({employeeId:r}){let e=Ds(),[t,n]=(0,rA.useState)([]),[a,o]=(0,rA.useState)(!0),[i,s]=(0,rA.useState)(new Date),[u,l]=(0,rA.useState)(!1),[c,A]=(0,rA.useState)({totalHours:0,totalLunchHours:0,daysWorked:0,daysIncomplete:0}),[d,f]=(0,rA.useState)({date:new Date().toISOString().split("T")[0],checkIn:"",checkOut:"",lunchStart:"",lunchEnd:"",notes:""});(0,rA.useEffect)(()=>{h()},[r,i]);let h=async()=>{o(!0);try{let E=i.getFullYear(),T=i.getMonth()+1,U=await bt.get(`/time-entries/employee/${r}/month/${E}/${T}`);n(U.entries||[]),A(U.summary||{totalHours:0,totalLunchHours:0,daysWorked:0,daysIncomplete:0})}catch(E){console.error(E),nt.error("Error al cargar fichajes")}finally{o(!1)}},p=async()=>{try{let E={employeeId:r,date:d.date,checkIn:d.checkIn?`${d.date}T${d.checkIn}:00`:null,checkOut:d.checkOut?`${d.date}T${d.checkOut}:00`:null,lunchStart:d.lunchStart?`${d.date}T${d.lunchStart}:00`:null,lunchEnd:d.lunchEnd?`${d.date}T${d.lunchEnd}:00`:null,notes:d.notes||null};await bt.post("/time-entries",E),nt.success("Fichaje guardado correctamente"),l(!1),f({date:new Date().toISOString().split("T")[0],checkIn:"",checkOut:"",lunchStart:"",lunchEnd:"",notes:""}),h()}catch{nt.error("Error al guardar fichaje")}},v=async E=>{if(await e({title:"Eliminar Fichaje",message:"\xBFEst\xE1s seguro de eliminar este registro de fichaje?",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/time-entries/${E}`),nt.success("Fichaje eliminado"),h()}catch{nt.error("Error al eliminar fichaje")}},g=()=>{s(new Date(i.getFullYear(),i.getMonth()-1))},B=()=>{s(new Date(i.getFullYear(),i.getMonth()+1))},I=E=>E?new Date(E).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"--:--",S=E=>new Date(E).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"});return a?React.createElement("div",{className:"p-10 text-center animate-pulse"},"Cargando fichajes..."):React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement(ri,{className:"text-blue-500",size:24}),React.createElement("div",null,React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white"},"Control de Fichajes"),React.createElement("p",{className:"text-sm text-slate-500"},"Registro de entradas y salidas"))),React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 rounded-lg p-1"},React.createElement("button",{onClick:g,className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors"},React.createElement(pd,{size:18})),React.createElement("span",{className:"px-4 py-1 font-medium text-sm"},i.toLocaleDateString("es-ES",{month:"long",year:"numeric"})),React.createElement("button",{onClick:B,className:"p-2 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors"},React.createElement(md,{size:18}))),React.createElement("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},React.createElement(ta,{size:18}),"A\xF1adir Fichaje"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4"},React.createElement("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl"},React.createElement("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 text-sm font-medium mb-1"},React.createElement(ri,{size:16}),"Total Horas"),React.createElement("div",{className:"text-2xl font-bold text-slate-900 dark:text-white"},c.totalHours.toFixed(1),"h")),React.createElement("div",{className:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl"},React.createElement("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium mb-1"},React.createElement(Po,{size:16}),"D\xEDas Trabajados"),React.createElement("div",{className:"text-2xl font-bold text-slate-900 dark:text-white"},c.daysWorked)),React.createElement("div",{className:"p-4 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-xl"},React.createElement("div",{className:"flex items-center gap-2 text-orange-600 dark:text-orange-400 text-sm font-medium mb-1"},React.createElement(Yp,{size:16}),"Horas Pausa"),React.createElement("div",{className:"text-2xl font-bold text-slate-900 dark:text-white"},c.totalLunchHours.toFixed(1),"h")),React.createElement("div",{className:"p-4 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800/20 dark:to-slate-700/20 rounded-xl"},React.createElement("div",{className:"text-sm font-medium mb-1 text-slate-600 dark:text-slate-400"},"Promedio/D\xEDa"),React.createElement("div",{className:"text-2xl font-bold text-slate-900 dark:text-white"},c.daysWorked>0?(c.totalHours/c.daysWorked).toFixed(1):"0","h"))),React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800 overflow-hidden"},React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"w-full"},React.createElement("thead",{className:"bg-slate-50 dark:bg-slate-800"},React.createElement("tr",null,React.createElement("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Fecha"),React.createElement("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Entrada"),React.createElement("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Salida"),React.createElement("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Pausa"),React.createElement("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase"},"Total"),React.createElement("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase"},"Acciones"))),React.createElement("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800"},t.length===0?React.createElement("tr",null,React.createElement("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500"},"No hay fichajes registrados este mes")):t.map(E=>React.createElement("tr",{key:E.id,className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors"},React.createElement("td",{className:"px-4 py-3"},React.createElement("div",{className:"font-medium text-slate-900 dark:text-white"},S(E.date))),React.createElement("td",{className:"px-4 py-3 text-sm"},React.createElement("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400"},React.createElement(hv,{size:14}),I(E.checkIn))),React.createElement("td",{className:"px-4 py-3 text-sm"},React.createElement("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400"},React.createElement(pv,{size:14}),I(E.checkOut))),React.createElement("td",{className:"px-4 py-3 text-sm"},E.lunchStart&&E.lunchEnd?React.createElement("div",{className:"flex items-center gap-1 text-orange-600 dark:text-orange-400"},React.createElement(Yp,{size:14}),E.lunchHours.toFixed(1),"h"):React.createElement("span",{className:"text-slate-400"},"-")),React.createElement("td",{className:"px-4 py-3"},React.createElement("span",{className:"font-bold text-blue-600 dark:text-blue-400"},E.totalHours.toFixed(2),"h")),React.createElement("td",{className:"px-4 py-3 text-right"},React.createElement("button",{onClick:()=>v(E.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"},React.createElement(Dn,{size:16}))))))))),u&&React.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1)},React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-2xl w-full mx-4",onClick:E=>E.stopPropagation()},React.createElement("h3",{className:"text-xl font-bold mb-4 text-slate-900 dark:text-white"},"A\xF1adir Fichaje"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Fecha"),React.createElement("input",{type:"date",value:d.date,onChange:E=>f({...d,date:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Hora Entrada"),React.createElement("input",{type:"time",value:d.checkIn,onChange:E=>f({...d,checkIn:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Hora Salida"),React.createElement("input",{type:"time",value:d.checkOut,onChange:E=>f({...d,checkOut:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Inicio Pausa"),React.createElement("input",{type:"time",value:d.lunchStart,onChange:E=>f({...d,lunchStart:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Fin Pausa"),React.createElement("input",{type:"time",value:d.lunchEnd,onChange:E=>f({...d,lunchEnd:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Notas (opcional)"),React.createElement("textarea",{value:d.notes,onChange:E=>f({...d,notes:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",rows:2}))),React.createElement("div",{className:"flex gap-3 mt-6"},React.createElement("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors"},"Cancelar"),React.createElement("button",{onClick:p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Guardar")))))}var fs=At(jt(),1);var pS=At(jt(),1);var Ube={};function Ak({isOpen:r,onClose:e,fileUrl:t,title:n="Previsualizaci\xF3n de Documento",documentId:a,employeeId:o,onSigned:i}){let[s,u]=(0,pS.useState)(!1),[l,c]=(0,pS.useState)(!1),[A,d]=(0,pS.useState)(!1);if(!t)return null;let f=(Ube.env.VITE_API_URL||"http://localhost:3000").replace(/\/+$/,""),h=f.endsWith("/api")?f.slice(0,-4):f,p=t.startsWith("/")?t:`/${t}`,v=t.startsWith("http")?t:`${h}${p}`,g=async E=>{if(a){d(!0);try{await bt.post("/document-templates/sign",{documentId:a,signatureDataUrl:E}),nt.success("Documento firmado correctamente"),u(!1),i&&i(),e()}catch(T){nt.error(T.message||"Error al firmar el documento")}finally{d(!1)}}},B=()=>{let E=document.createElement("a");E.href=v,E.setAttribute("download",t.split("/").pop()||"documento.pdf"),document.body.appendChild(E),E.click(),E.remove()},I=()=>{let E=window.open(v,"_blank");E&&(E.onload=()=>{E.print()})},S=()=>{window.open(v,"_blank")};return React.createElement(kp,null,r&&React.createElement("div",{key:"preview-modal",className:"fixed inset-0 z-[110] flex items-center justify-center p-4 md:p-8"},React.createElement("div",{className:"bg-white p-8 rounded-xl shadow-xl"},React.createElement("h2",null,n),React.createElement("button",{onClick:e},"Cerrar"))))}var Obe=Math.pow(10,8)*24*60*60*1e3,Gtt=-Obe,mS=6048e5,lX=864e5;var Qbe=3600;var cX=Qbe*24,Ktt=cX*7,Hbe=cX*365.2425,Vbe=Hbe/12,Xtt=Vbe*3,fk=Symbol.for("constructDateFrom");function As(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&fk in r?r[fk](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ba(r,e){return As(e||r,r)}var qbe={};function If(){return qbe}function nA(r,e){let t=If(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Ba(r,e?.in),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ih(r,e){return nA(r,{...e,weekStartsOn:1})}function gS(r,e){let t=Ba(r,e?.in),n=t.getFullYear(),a=As(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);let o=Ih(a),i=As(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let s=Ih(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function dk(r){let e=Ba(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function vS(r,...e){let t=As.bind(null,r||e.find(n=>typeof n=="object"));return e.map(t)}function hk(r,e){let t=Ba(r,e?.in);return t.setHours(0,0,0,0),t}function yS(r,e,t){let[n,a]=vS(t?.in,r,e),o=hk(n),i=hk(a),s=+o-dk(o),u=+i-dk(i);return Math.round((s-u)/lX)}function AX(r,e){let t=gS(r,e),n=As(e?.in||r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ih(n)}function fX(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function dX(r){return!(!fX(r)&&typeof r!="number"||isNaN(+Ba(r)))}function pX(r,e,t){let[n,a]=vS(t?.in,r,e),o=hX(n,a),i=Math.abs(yS(n,a));n.setDate(n.getDate()-o*i);let s=+(hX(n,a)===-o),u=o*(i-s);return u===0?0:u}function hX(r,e){let t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function mX(r,e){let t=Ba(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var Wbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gX=(r,e,t)=>{let n,a=Wbe[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ef(r){return(e={})=>{let t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}var zbe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vX={date:Ef({formats:zbe,defaultWidth:"full"}),time:Ef({formats:jbe,defaultWidth:"full"}),dateTime:Ef({formats:Gbe,defaultWidth:"full"})};var Kbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yX=(r,e,t,n)=>Kbe[r];function xu(r){return(e,t)=>{let n=t?.context?String(t.context):"standalone",a;if(n==="formatting"&&r.formattingValues){let i=r.defaultFormattingWidth||r.defaultWidth,s=t?.width?String(t.width):i;a=r.formattingValues[s]||r.formattingValues[i]}else{let i=r.defaultWidth,s=t?.width?String(t.width):r.defaultWidth;a=r.values[s]||r.values[i]}let o=r.argumentCallback?r.argumentCallback(e):e;return a[o]}}var Xbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ybe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$be={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e2e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t2e=(r,e)=>{let t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},xX={ordinalNumber:t2e,era:xu({values:Xbe,defaultWidth:"wide"}),quarter:xu({values:Ybe,defaultWidth:"wide",argumentCallback:r=>r-1}),month:xu({values:$be,defaultWidth:"wide"}),day:xu({values:Jbe,defaultWidth:"wide"}),dayPeriod:xu({values:Zbe,defaultWidth:"wide",formattingValues:e2e,defaultFormattingWidth:"wide"})};function wu(r){return(e,t={})=>{let n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(a);if(!o)return null;let i=o[0],s=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],u=Array.isArray(s)?n2e(s,A=>A.test(i)):r2e(s,A=>A.test(i)),l;l=r.valueCallback?r.valueCallback(u):u,l=t.valueCallback?t.valueCallback(l):l;let c=e.slice(i.length);return{value:l,rest:c}}}function r2e(r,e){for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function n2e(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function xS(r){return(e,t={})=>{let n=e.match(r.matchPattern);if(!n)return null;let a=n[0],o=e.match(r.parsePattern);if(!o)return null;let i=r.valueCallback?r.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;let s=e.slice(a.length);return{value:i,rest:s}}}var a2e=/^(\d+)(th|st|nd|rd)?/i,o2e=/\d+/i,i2e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s2e={any:[/^b/i,/^(a|c)/i]},u2e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},l2e={any:[/1/i,/2/i,/3/i,/4/i]},c2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},A2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},f2e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d2e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},h2e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},p2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wX={ordinalNumber:xS({matchPattern:a2e,parsePattern:o2e,valueCallback:r=>parseInt(r,10)}),era:wu({matchPatterns:i2e,defaultMatchWidth:"wide",parsePatterns:s2e,defaultParseWidth:"any"}),quarter:wu({matchPatterns:u2e,defaultMatchWidth:"wide",parsePatterns:l2e,defaultParseWidth:"any",valueCallback:r=>r+1}),month:wu({matchPatterns:c2e,defaultMatchWidth:"wide",parsePatterns:A2e,defaultParseWidth:"any"}),day:wu({matchPatterns:f2e,defaultMatchWidth:"wide",parsePatterns:d2e,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:h2e,defaultMatchWidth:"any",parsePatterns:p2e,defaultParseWidth:"any"})};var pk={code:"en-US",formatDistance:gX,formatLong:vX,formatRelative:yX,localize:xX,match:wX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bX(r,e){let t=Ba(r,e?.in);return yS(t,mX(t))+1}function CX(r,e){let t=Ba(r,e?.in),n=+Ih(t)-+AX(t);return Math.round(n/mS)+1}function wS(r,e){let t=Ba(r,e?.in),n=t.getFullYear(),a=If(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=As(e?.in||r,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);let s=nA(i,e),u=As(e?.in||r,0);u.setFullYear(n,0,o),u.setHours(0,0,0,0);let l=nA(u,e);return+t>=+s?n+1:+t>=+l?n:n-1}function BX(r,e){let t=If(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=wS(r,e),o=As(e?.in||r,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),nA(o,e)}function SX(r,e){let t=Ba(r,e?.in),n=+nA(t,e)-+BX(t,e);return Math.round(n/mS)+1}function cn(r,e){let t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}var aA={y(r,e){let t=r.getFullYear(),n=t>0?t:1-t;return cn(e==="yy"?n%100:n,e.length)},M(r,e){let t=r.getMonth();return e==="M"?String(t+1):cn(t+1,2)},d(r,e){return cn(r.getDate(),e.length)},a(r,e){let t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];default:return t==="am"?"a.m.":"p.m."}},h(r,e){return cn(r.getHours()%12||12,e.length)},H(r,e){return cn(r.getHours(),e.length)},m(r,e){return cn(r.getMinutes(),e.length)},s(r,e){return cn(r.getSeconds(),e.length)},S(r,e){let t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return cn(a,e.length)}};var Bg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mk={G:function(r,e,t){let n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){let n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return aA.y(r,e)},Y:function(r,e,t,n){let a=wS(r,n),o=a>0?a:1-a;if(e==="YY"){let i=o%100;return cn(i,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):cn(o,e.length)},R:function(r,e){let t=gS(r);return cn(t,e.length)},u:function(r,e){let t=r.getFullYear();return cn(t,e.length)},Q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){let n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){let n=r.getMonth();switch(e){case"M":case"MM":return aA.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){let n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return cn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){let a=SX(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):cn(a,e.length)},I:function(r,e,t){let n=CX(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):cn(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):aA.d(r,e)},D:function(r,e,t){let n=bX(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):cn(n,e.length)},E:function(r,e,t){let n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){let a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return cn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){let a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return cn(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){let n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return cn(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){let a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){let n=r.getHours(),a;switch(n===12?a=Bg.noon:n===0?a=Bg.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){let n=r.getHours(),a;switch(n>=17?a=Bg.evening:n>=12?a=Bg.afternoon:n>=4?a=Bg.morning:a=Bg.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return aA.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):aA.H(r,e)},K:function(r,e,t){let n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):cn(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):cn(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):aA.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):aA.s(r,e)},S:function(r,e){return aA.S(r,e)},X:function(r,e,t){let n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return EX(n);case"XXXX":case"XX":return Eh(n);default:return Eh(n,":")}},x:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"x":return EX(n);case"xxxx":case"xx":return Eh(n);default:return Eh(n,":")}},O:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IX(n,":");default:return"GMT"+Eh(n,":")}},z:function(r,e,t){let n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IX(n,":");default:return"GMT"+Eh(n,":")}},t:function(r,e,t){let n=Math.trunc(+r/1e3);return cn(n,e.length)},T:function(r,e,t){return cn(+r,e.length)}};function IX(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+cn(o,2)}function EX(r,e){return r%60===0?(r>0?"-":"+")+cn(Math.abs(r)/60,2):Eh(r,e)}function Eh(r,e=""){let t=r>0?"-":"+",n=Math.abs(r),a=cn(Math.trunc(n/60),2),o=cn(n%60,2);return t+a+e+o}var LX=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},FX=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},m2e=(r,e)=>{let t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return LX(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",LX(n,e)).replace("{{time}}",FX(a,e))},TX={p:FX,P:m2e};var g2e=/^D+$/,v2e=/^Y+$/,y2e=["D","DD","YY","YYYY"];function _X(r){return g2e.test(r)}function kX(r){return v2e.test(r)}function NX(r,e,t){let n=x2e(r,e,t);if(console.warn(n),y2e.includes(r))throw new RangeError(n)}function x2e(r,e,t){let n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var w2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,b2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,C2e=/^'([^]*?)'?$/,B2e=/''/g,S2e=/[a-zA-Z]/;function pa(r,e,t){let n=If(),a=t?.locale??n.locale??pk,o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ba(r,t?.in);if(!dX(s))throw new RangeError("Invalid time value");let u=e.match(b2e).map(c=>{let A=c[0];if(A==="p"||A==="P"){let d=TX[A];return d(c,a.formatLong)}return c}).join("").match(w2e).map(c=>{if(c==="''")return{isToken:!1,value:"'"};let A=c[0];if(A==="'")return{isToken:!1,value:I2e(c)};if(mk[A])return{isToken:!0,value:c};if(A.match(S2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:c}});a.localize.preprocessor&&(u=a.localize.preprocessor(s,u));let l={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return u.map(c=>{if(!c.isToken)return c.value;let A=c.value;(!t?.useAdditionalWeekYearTokens&&kX(A)||!t?.useAdditionalDayOfYearTokens&&_X(A))&&NX(A,e,String(r));let d=mk[A[0]];return d(s,A,a.localize,l)}).join("")}function I2e(r){let e=r.match(C2e);return e?e[1].replace(B2e,"'"):r}var E2e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},PX=(r,e,t)=>{let n,a=E2e[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"en "+n:"hace "+n:n};var L2e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},F2e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},T2e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DX={date:Ef({formats:L2e,defaultWidth:"full"}),time:Ef({formats:F2e,defaultWidth:"full"}),dateTime:Ef({formats:T2e,defaultWidth:"full"})};var _2e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},k2e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},RX=(r,e,t,n)=>e.getHours()!==1?k2e[r]:_2e[r];var N2e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},P2e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},D2e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},R2e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},M2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},U2e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},O2e=(r,e)=>Number(r)+"\xBA",MX={ordinalNumber:O2e,era:xu({values:N2e,defaultWidth:"wide"}),quarter:xu({values:P2e,defaultWidth:"wide",argumentCallback:r=>Number(r)-1}),month:xu({values:D2e,defaultWidth:"wide"}),day:xu({values:R2e,defaultWidth:"wide"}),dayPeriod:xu({values:M2e,defaultWidth:"wide",formattingValues:U2e,defaultFormattingWidth:"wide"})};var Q2e=/^(\d+)()?/i,H2e=/\d+/i,V2e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},q2e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},W2e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},z2e={any:[/1/i,/2/i,/3/i,/4/i]},j2e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},G2e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},K2e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},X2e={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Y2e={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},$2e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},UX={ordinalNumber:xS({matchPattern:Q2e,parsePattern:H2e,valueCallback:function(r){return parseInt(r,10)}}),era:wu({matchPatterns:V2e,defaultMatchWidth:"wide",parsePatterns:q2e,defaultParseWidth:"any"}),quarter:wu({matchPatterns:W2e,defaultMatchWidth:"wide",parsePatterns:z2e,defaultParseWidth:"any",valueCallback:r=>r+1}),month:wu({matchPatterns:j2e,defaultMatchWidth:"wide",parsePatterns:G2e,defaultParseWidth:"any"}),day:wu({matchPatterns:K2e,defaultMatchWidth:"wide",parsePatterns:X2e,defaultParseWidth:"any"}),dayPeriod:wu({matchPatterns:Y2e,defaultMatchWidth:"any",parsePatterns:$2e,defaultParseWidth:"any"})};var oA={code:"es",formatDistance:PX,formatLong:DX,formatRelative:RX,localize:MX,match:UX,options:{weekStartsOn:1,firstWeekContainsDate:1}};var gk=[{id:"ALL",label:"Todos",color:"bg-slate-500"},{id:"DNI",label:"DNI / NIE",color:"bg-blue-500"},{id:"CONTRACT",label:"Contratos",color:"bg-emerald-500"},{id:"PAYROLL",label:"N\xF3minas",color:"bg-amber-500"},{id:"MEDICAL",label:"M\xE9dico / PRL",color:"bg-rose-500"},{id:"TRAINING",label:"Formaci\xF3n",color:"bg-indigo-500"},{id:"OTHER",label:"Otros",color:"bg-slate-400"}];function bS({employeeId:r}){let e=Ds(),[t,n]=(0,fs.useState)([]),[a,o]=(0,fs.useState)(!0),[i,s]=(0,fs.useState)("ALL"),[u,l]=(0,fs.useState)(!1),[c]=(0,fs.useState)(!1),[A,d]=(0,fs.useState)(!1),[f,h]=(0,fs.useState)(null),[p,v]=(0,fs.useState)(""),[g,B]=(0,fs.useState)(""),[I,S]=(0,fs.useState)("OTHER"),[E,T]=(0,fs.useState)("");(0,fs.useEffect)(()=>{U()},[r]);let U=async()=>{try{let P=await bt.get(`/documents/employee/${r}`);n(P.data||[])}catch{nt.error("Error al cargar documentos")}finally{o(!1)}},D=async P=>{let j=P.target.files?.[0];if(!j||!await e({title:"Subida Manual",message:`\xBFDeseas subir "${j.name}" de forma manual?`,confirmText:"Subir",type:"info"}))return;l(!0);let ne=new FormData;ne.append("employeeId",r),ne.append("file",j),ne.append("name",g||j.name),ne.append("category",I),E&&ne.append("expiryDate",E);try{await bt.post("/documents/upload",ne),nt.success("Documento subido correctamente"),d(!1),B(""),T(""),U()}catch{nt.error("Error al subir el archivo")}finally{l(!1),P.target&&(P.target.value="")}},k=async P=>{if(await e({title:"Eliminar Documento",message:"\xBFEst\xE1s seguro de eliminar este documento? Esta acci\xF3n no se puede deshacer.",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/documents/${P}`),nt.success("Documento eliminado"),U()}catch{nt.error("Error al eliminar")}},O=i==="ALL"?t:t.filter(P=>P.category===i),N=async P=>{try{let j=`${$f.replace(/\/+$/,"")}/documents/${P.id}/download`,z=await fetch(j,{credentials:"include"});if(!z.ok)throw new Error("Download failed");let ne=await z.blob(),re=window.URL.createObjectURL(ne),Y=document.createElement("a");Y.href=re,Y.download=P.name,document.body.appendChild(Y),Y.click(),Y.remove(),window.URL.revokeObjectURL(re)}catch(j){console.error(j);let z=$f.replace(/\/+$/,"");window.open(`${z}/documents/${P.id}/download`,"_blank")}};return a?React.createElement("div",{className:"p-10 text-center animate-pulse"},"Cargando expediente..."):React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},React.createElement("div",null,React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(rs,{className:"text-blue-600",size:24})," Expediente Digital"),React.createElement("p",{className:"text-sm text-slate-500"},"Gesti\xF3n de documentos personales y laborales")),React.createElement("button",{onClick:()=>d(!A),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/20"},React.createElement(Lc,{size:18}),A?"Cancelar Subida":"Subir Documento")),A&&React.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border-2 border-dashed border-blue-200 dark:border-blue-900 animate-in zoom-in-95 duration-200"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Nombre (Opcional)"),React.createElement("input",{type:"text",placeholder:"Ej: Contrato 2024",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:g,onChange:P=>B(P.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Categor\xEDa"),React.createElement("select",{className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:I,onChange:P=>S(P.target.value)},gk.filter(P=>P.id!=="ALL").map(P=>React.createElement("option",{key:P.id,value:P.id},P.label)))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Vencimiento (Opcional)"),React.createElement("input",{type:"date",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:E,onChange:P=>T(P.target.value)}))),React.createElement("label",{className:`
                        flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-xl cursor-pointer transition-all
                        ${u?"opacity-50 cursor-wait":"hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}
                        border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900
                    `},React.createElement("div",{className:"flex items-center gap-2 mb-2"},u?React.createElement(Lc,{className:"animate-bounce text-blue-500",size:32}):c?React.createElement(kn,{className:"animate-spin text-blue-500",size:32}):React.createElement(Lc,{className:"text-slate-400",size:32})),React.createElement("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300"},u?"Subiendo...":c?"Analizando documento...":"Selecciona un archivo (PDF, Imagen, Doc...)"),React.createElement("input",{type:"file",className:"hidden",onChange:D,disabled:u||c}))),React.createElement("div",{className:"flex flex-wrap gap-2"},gk.map(P=>React.createElement("button",{key:P.id,onClick:()=>s(P.id),className:`
                            px-4 py-1.5 rounded-full text-xs font-bold transition-all border
                            ${i===P.id?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 border-slate-900 dark:border-white":"bg-white dark:bg-slate-800 text-slate-500 border-slate-100 dark:border-slate-800 hover:border-blue-500"}
                        `},P.label))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},O.length>0?O.map(P=>{let j=gk.find(ne=>ne.id===P.category),z=P.expiryDate&&new Date(P.expiryDate)<new Date;return React.createElement("div",{key:P.id,className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm group hover:border-blue-500 transition-all flex flex-col justify-between"},React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"flex justify-between items-start"},React.createElement("div",{className:`p-2 rounded-lg ${j?.color||"bg-slate-500"} bg-opacity-10 text-opacity-100`},React.createElement(rs,{size:20,className:j?.color.replace("bg-","text-")})),React.createElement("div",{className:"flex gap-1"},React.createElement("button",{onClick:()=>{h(`/api/documents/${P.id}/download`),v(P.name)},className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all",title:"Previsualizar"},React.createElement(sv,{size:16})),React.createElement("button",{onClick:()=>N(P),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all",title:"Descargar"},React.createElement(vd,{size:16})),React.createElement("button",{onClick:()=>k(P.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-all"},React.createElement(Dn,{size:16})))),React.createElement("div",null,React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white truncate",title:P.name},P.name),React.createElement("div",{className:"flex items-center gap-2 mt-1"},React.createElement("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${j?.color} text-white`},j?.label),React.createElement("span",{className:"text-[10px] text-slate-400 font-medium whitespace-nowrap"},pa(new Date(P.uploadDate),"dd MMM yyyy",{locale:oA}))))),P.expiryDate&&React.createElement("div",{className:`mt-4 p-2 rounded-xl flex items-center gap-2 ${z?"bg-rose-50 dark:bg-rose-900/20 text-rose-600":"bg-blue-50 dark:bg-blue-900/10 text-blue-600"}`},z?React.createElement(zA,{size:14}):React.createElement(Po,{size:14}),React.createElement("span",{className:"text-[10px] font-bold"},"Vence: ",pa(new Date(P.expiryDate),"dd/MM/yyyy"))))}):React.createElement("div",{className:"col-span-full py-12 flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-800/20 rounded-2xl border-2 border-dashed border-slate-100 dark:border-slate-800"},React.createElement(qA,{className:"text-slate-300 mb-2",size:32}),React.createElement("p",{className:"text-slate-400 text-sm font-medium"},"No hay documentos en esta categor\xEDa"))),React.createElement(Ak,{isOpen:!!f,fileUrl:f||"",title:p,onClose:()=>h(null)}))}var Ha=At(jt(),1);function CS({employeeId:r}){let e=Ds(),[t,n]=(0,Ha.useState)([]),[a,o]=(0,Ha.useState)([]),[i,s]=(0,Ha.useState)([]),[u,l]=(0,Ha.useState)(!0),[c,A]=(0,Ha.useState)(!1),[d,f]=(0,Ha.useState)(!1),[h,p]=(0,Ha.useState)(!1),[v,g]=(0,Ha.useState)(!1),[B,I]=(0,Ha.useState)(pa(new Date,"yyyy-MM-dd")),[S,E]=(0,Ha.useState)("APTO"),[T,U]=(0,Ha.useState)(""),[D,k]=(0,Ha.useState)(""),[O,N]=(0,Ha.useState)("PRL"),[P,j]=(0,Ha.useState)(pa(new Date,"yyyy-MM-dd")),[z,ne]=(0,Ha.useState)(""),[re,Y]=(0,Ha.useState)(""),[J,G]=(0,Ha.useState)(""),[Z,he]=(0,Ha.useState)(pa(new Date,"yyyy-MM-dd"));(0,Ha.useEffect)(()=>{R()},[r]);let R=async()=>{try{let[me,ke,Re]=await Promise.all([bt.get(`/employees/${r}/medical-reviews`),bt.get(`/employees/${r}/trainings`),bt.get(`/assets?employeeId=${r}`)]);n(me.data||me||[]),o(ke.data||ke||[]),s(Re.data||Re||[])}catch(me){console.error(me)}finally{l(!1)}},H=async me=>{me.preventDefault(),A(!0);try{await bt.post(`/employees/${r}/medical-reviews`,{date:B,result:S,nextReviewDate:T||null}),nt.success("Revisi\xF3n m\xE9dica a\xF1adida"),f(!1),R()}catch{nt.error("Error al guardar la revisi\xF3n")}finally{A(!1)}},ae=async me=>{if(me.preventDefault(),!D)return nt.error("El nombre del curso es obligatorio");A(!0);try{await bt.post(`/employees/${r}/trainings`,{name:D,type:O,date:P,hours:z||null}),nt.success("Formaci\xF3n a\xF1adida"),p(!1),k(""),ne(""),R()}catch{nt.error("Error al guardar la formaci\xF3n")}finally{A(!1)}},le=async me=>{if(me.preventDefault(),!re)return nt.error("El nombre del material es obligatorio");A(!0);try{await bt.post("/assets",{employeeId:r,name:re,category:"EPI",size:J||null,assignedDate:Z}),nt.success("Material registrado"),g(!1),Y(""),G(""),R()}catch{nt.error("Error al guardar el material")}finally{A(!1)}},pe=async me=>{if(await e({title:"Eliminar Revisi\xF3n M\xE9dica",message:"\xBFEst\xE1s seguro de eliminar esta revisi\xF3n m\xE9dica?",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/employees/${r}/medical-reviews/${me}`),R()}catch{nt.error("Error al eliminar")}},ve=async me=>{if(await e({title:"Eliminar Formaci\xF3n",message:"\xBFEst\xE1s seguro de eliminar esta formaci\xF3n?",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/employees/${r}/trainings/${me}`),R()}catch{nt.error("Error al eliminar")}},Se=async me=>{if(await e({title:"Eliminar Registro de Material",message:"\xBFEst\xE1s seguro de eliminar este registro?",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/assets/${me}`),R()}catch{nt.error("Error al eliminar")}};return u?React.createElement("div",{className:"p-10 text-center animate-pulse text-slate-500"},"Cargando datos PRL..."):React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex justify-between items-center"},React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(Cd,{className:"text-rose-600",size:24})," Revisiones M\xE9dicas"),React.createElement("button",{onClick:()=>f(!d),className:`p-1.5 rounded-lg transition-all ${d?"bg-slate-100 dark:bg-slate-800 text-slate-500":"bg-rose-50 dark:bg-rose-900/30 text-rose-600 hover:bg-rose-100"}`},d?React.createElement(iu,{size:20}):React.createElement(ta,{size:20}))),d&&React.createElement("form",{onSubmit:H,className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 space-y-4 animate-in slide-in-from-top-2 duration-200"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Fecha Revisi\xF3n"),React.createElement("input",{type:"date",required:!0,className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:B,onChange:me=>I(me.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Resultado"),React.createElement("select",{className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:S,onChange:me=>E(me.target.value)},React.createElement("option",{value:"APTO"},"APTO"),React.createElement("option",{value:"NO APTO"},"NO APTO"),React.createElement("option",{value:"APTO CON LIMITACIONES"},"APTO CON LIMITACIONES"),React.createElement("option",{value:"PENDIENTE"},"PENDIENTE")))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Pr\xF3xima Revisi\xF3n (Opcional)"),React.createElement("input",{type:"date",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:T,onChange:me=>U(me.target.value)})),React.createElement("button",{disabled:c,type:"submit",className:"w-full bg-rose-600 text-white font-bold py-2 rounded-xl text-xs flex items-center justify-center gap-2 hover:bg-rose-700 transition-colors"},c?React.createElement(kn,{size:14,className:"animate-spin"}):React.createElement(Ec,{size:14}),"Guardar Revisi\xF3n")),React.createElement("div",{className:"space-y-4"},t.length>0?t.map(me=>React.createElement("div",{key:me.id,className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex justify-between items-center group"},React.createElement("div",null,React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:"font-bold text-slate-900 dark:text-white"},pa(new Date(me.date),"dd/MM/yyyy")),React.createElement("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${me.result==="APTO"?"bg-emerald-500":me.result==="NO APTO"?"bg-rose-500":"bg-amber-500"} text-white`},me.result)),me.nextReviewDate&&React.createElement("p",{className:"text-[10px] text-slate-500 mt-1 flex items-center gap-1"},React.createElement(Po,{size:10})," Pr\xF3xima: ",pa(new Date(me.nextReviewDate),"dd/MM/yyyy"))),React.createElement("button",{onClick:()=>pe(me.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1"},React.createElement(Dn,{size:14})))):React.createElement("p",{className:"text-sm text-slate-400 italic py-4"},"No hay revisiones m\xE9dicas registradas"))),React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex justify-between items-center"},React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(yd,{className:"text-indigo-600",size:24})," Cursos y Formaci\xF3n"),React.createElement("button",{onClick:()=>p(!h),className:`p-1.5 rounded-lg transition-all ${h?"bg-slate-100 dark:bg-slate-800 text-slate-500":"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 hover:bg-indigo-100"}`},h?React.createElement(iu,{size:20}):React.createElement(ta,{size:20}))),h&&React.createElement("form",{onSubmit:ae,className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-200 dark:border-slate-800 space-y-4 animate-in slide-in-from-top-2 duration-200"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Nombre del Curso"),React.createElement("input",{type:"text",required:!0,placeholder:"Ej: PRL 20h Construcci\xF3n",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:D,onChange:me=>k(me.target.value)})),React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Tipo"),React.createElement("select",{className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:O,onChange:me=>N(me.target.value)},React.createElement("option",{value:"PRL"},"PRL"),React.createElement("option",{value:"TECNICA"},"T\xC9CNICA"),React.createElement("option",{value:"HABILIDADES"},"HABILIDADES"),React.createElement("option",{value:"OTROS"},"OTROS"))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Fecha"),React.createElement("input",{type:"date",required:!0,className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:P,onChange:me=>j(me.target.value)}))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Horas (Opcional)"),React.createElement("input",{type:"number",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:z,onChange:me=>ne(me.target.value)})),React.createElement("button",{disabled:c,type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-2 rounded-xl text-xs flex items-center justify-center gap-2 hover:bg-indigo-700 transition-colors"},c?React.createElement(kn,{size:14,className:"animate-spin"}):React.createElement(Ec,{size:14}),"Guardar Formaci\xF3n")),React.createElement("div",{className:"space-y-4"},a.length>0?a.map(me=>React.createElement("div",{key:me.id,className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex justify-between items-center group"},React.createElement("div",null,React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white text-sm"},me.name),React.createElement("div",{className:"flex items-center gap-3 mt-1 text-[10px]"},React.createElement("span",{className:"font-bold text-slate-400 uppercase"},me.type),React.createElement("span",{className:"text-slate-500 flex items-center gap-1"},React.createElement(Po,{size:10})," ",pa(new Date(me.date),"dd/MM/yyyy")),me.hours&&me.hours>0&&React.createElement("span",{className:"text-indigo-600 font-bold"},me.hours,"h"))),React.createElement("button",{onClick:()=>ve(me.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1"},React.createElement(Dn,{size:14})))):React.createElement("p",{className:"text-sm text-slate-400 italic py-4"},"No hay cursos registrados"))),React.createElement("div",{className:"lg:col-span-2 space-y-6 pt-8 border-t border-slate-100 dark:border-slate-800"},React.createElement("div",{className:"flex justify-between items-center"},React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(ta,{className:"text-emerald-600",size:24})," Entrega de EPIS y Equipamiento"),React.createElement("button",{onClick:()=>g(!v),className:`p-1.5 rounded-lg transition-all ${v?"bg-slate-100 dark:bg-slate-800 text-slate-500":"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 hover:bg-emerald-100"}`},v?React.createElement(iu,{size:20}):React.createElement(ta,{size:20}))),v&&React.createElement("form",{onSubmit:le,className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 grid grid-cols-1 md:grid-cols-4 gap-4 animate-in slide-in-from-top-2 duration-200"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Material / EPI"),React.createElement("input",{type:"text",required:!0,placeholder:"Ej: Botas de seguridad",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:re,onChange:me=>Y(me.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Talla / Modelo"),React.createElement("input",{type:"text",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:J,onChange:me=>G(me.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase"},"Fecha Entrega"),React.createElement("input",{type:"date",required:!0,className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl px-3 py-2 text-xs",value:Z,onChange:me=>he(me.target.value)})),React.createElement("div",{className:"flex items-end"},React.createElement("button",{disabled:c,type:"submit",className:"w-full bg-emerald-600 text-white font-bold py-2 rounded-xl text-xs flex items-center justify-center gap-2 hover:bg-emerald-700 transition-colors h-[38px]"},c?React.createElement(kn,{size:14,className:"animate-spin"}):React.createElement(Ec,{size:14}),"Registrar Entrega"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},i.length>0?i.map(me=>React.createElement("div",{key:me.id,className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex justify-between items-center group"},React.createElement("div",null,React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white text-sm"},me.name),React.createElement("div",{className:"flex items-center gap-3 mt-1 text-[10px]"},me.size&&React.createElement("span",{className:"font-bold text-emerald-600"},"Talla: ",me.size),React.createElement("span",{className:"text-slate-500 flex items-center gap-1"},React.createElement(Po,{size:10})," ",me.assignedDate?pa(new Date(me.assignedDate),"dd/MM/yyyy"):"-"))),React.createElement("button",{onClick:()=>Se(me.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all p-1"},React.createElement(Dn,{size:14})))):React.createElement("p",{className:"text-sm text-slate-400 italic py-4 col-span-full text-center"},"No hay registros de equipamiento"))))}var Qi=At(jt(),1);var OX=[{id:"MEAL",label:"Dieta / Comida",color:"bg-amber-500"},{id:"TRAVEL",label:"Desplazamiento / Viaje",color:"bg-blue-500"},{id:"SUPPLIES",label:"Materiales / Suministros",color:"bg-emerald-500"},{id:"OTHER",label:"Otros",color:"bg-slate-500"}];function vk({employeeId:r,isAdmin:e=!1}){let t=Ds(),[n,a]=(0,Qi.useState)([]),[o,i]=(0,Qi.useState)(!0),[s,u]=(0,Qi.useState)(!1),[l,c]=(0,Qi.useState)(!1),[A,d]=(0,Qi.useState)(!1),[f,h]=(0,Qi.useState)("ALL"),[p,v]=(0,Qi.useState)("MEAL"),[g,B]=(0,Qi.useState)(""),[I,S]=(0,Qi.useState)(""),[E,T]=(0,Qi.useState)(pa(new Date,"yyyy-MM-dd")),[U,D]=(0,Qi.useState)("CASH"),[k,O]=(0,Qi.useState)(null);(0,Qi.useEffect)(()=>{N()},[r]);let N=async()=>{try{let Z=await bt.get(`/expenses/employee/${r}`);a(Z)}catch{nt.error("Error al cargar gastos")}finally{i(!1)}},P=async Z=>{let he=Z.target.files?.[0];if(!he)return;O(he),c(!0);let R=new FormData;R.append("receipt",he);try{let H=await bt.post("/expenses/ocr",R);H.suggestedAmount&&(B(H.suggestedAmount.toString()),nt.info(`Importe detectado: ${H.suggestedAmount}\u20AC`,{description:"Revisa que sea correcto antes de guardar."})),H.suggestedDate&&(T(H.suggestedDate),nt.info(`Fecha detectada: ${H.suggestedDate}`))}catch(H){console.error("Error al procesar OCR:",H)}finally{c(!1)}},j=async Z=>{if(Z.preventDefault(),!g||isNaN(parseFloat(g)))return nt.error("El importe no es v\xE1lido");u(!0);let he=new FormData;he.append("employeeId",r),he.append("category",p),he.append("amount",g),he.append("description",I),he.append("date",E),he.append("paymentMethod",U),k&&he.append("receipt",k);try{await bt.post("/expenses/upload",he),nt.success("Gasto registrado correctamente"),d(!1),z(),N()}catch{nt.error("Error al subir el gasto")}finally{u(!1)}},z=()=>{B(""),S(""),O(null),v("MEAL")},ne=async(Z,he)=>{try{await bt.put(`/expenses/${Z}/status`,{status:he}),nt.success(`Estado actualizado a ${he}`),N()}catch{nt.error("Error al actualizar estado")}},re=async Z=>{if(await t({title:"Eliminar Gasto",message:"\xBFEst\xE1s seguro de eliminar este gasto? Esta acci\xF3n no se puede deshacer.",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/expenses/${Z}`),nt.success("Gasto eliminado"),N()}catch{nt.error("Error al eliminar")}},Y=f==="ALL"?n:n.filter(Z=>Z.status===f),J=n.filter(Z=>Z.status==="APPROVED").reduce((Z,he)=>Z+he.amount,0),G=n.filter(Z=>Z.status==="PENDING").reduce((Z,he)=>Z+he.amount,0);return o?React.createElement("div",{className:"p-10 text-center animate-pulse"},"Cargando gastos..."):React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},React.createElement("div",null,React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(WA,{className:"text-emerald-600",size:24})," Gesti\xF3n de Gastos y Dietas"),React.createElement("div",{className:"flex gap-4 mt-1"},React.createElement("p",{className:"text-sm text-slate-500"},"Aprobados: ",React.createElement("span",{className:"font-bold text-emerald-600"},J.toFixed(2),"\u20AC")),React.createElement("p",{className:"text-sm text-slate-500"},"Pendientes: ",React.createElement("span",{className:"font-bold text-amber-600"},G.toFixed(2),"\u20AC")))),React.createElement("button",{onClick:()=>d(!A),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-xl font-bold transition-all shadow-lg shadow-emerald-500/20"},A?React.createElement(iu,{size:18}):React.createElement(ta,{size:18}),A?"Cancelar":"Nuevo Gasto")),A&&React.createElement("form",{onSubmit:j,className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-xl animate-in zoom-in-95 duration-200 space-y-4"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Fecha"),React.createElement("input",{type:"date",required:!0,className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:E,onChange:Z=>T(Z.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Categor\xEDa"),React.createElement("select",{className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:p,onChange:Z=>v(Z.target.value)},OX.map(Z=>React.createElement("option",{key:Z.id,value:Z.id},Z.label)))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Importe (\u20AC)"),React.createElement("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:g,onChange:Z=>B(Z.target.value)}))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Descripci\xF3n"),React.createElement("input",{type:"text",placeholder:"Ej: Comida cliente en Palma",className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:I,onChange:Z=>S(Z.target.value)})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"M\xE9todo de Pago"),React.createElement("select",{className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:U,onChange:Z=>D(Z.target.value)},React.createElement("option",{value:"CASH"},"Efectivo"),React.createElement("option",{value:"CARD"},"Tarjeta Empresa"),React.createElement("option",{value:"PERSONAL_CARD"},"Tarjeta Personal"),React.createElement("option",{value:"TRANSFER"},"Transferencia")))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-[10px] font-bold text-slate-400 uppercase ml-1"},"Recibo (Foto/PDF)"),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("label",{className:"flex-1 flex items-center justify-center p-4 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-xl cursor-pointer hover:bg-slate-50 transition-all relative overflow-hidden"},l&&React.createElement("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 flex items-center justify-center z-10 backdrop-blur-sm"},React.createElement(kn,{className:"animate-spin text-emerald-500 mr-2",size:16}),React.createElement("span",{className:"text-xs font-bold text-emerald-600"},"Extrayendo datos...")),React.createElement(Lc,{size:20,className:"mr-2 text-slate-400"}),React.createElement("span",{className:"text-sm text-slate-500"},k?k.name:"Subir justificante/ticket"),React.createElement("input",{type:"file",className:"hidden",onChange:P})),k&&React.createElement("button",{type:"button",onClick:()=>O(null),className:"p-2 text-rose-500"},React.createElement(iu,{size:20})))),React.createElement("button",{disabled:s,type:"submit",className:"w-full bg-slate-900 dark:bg-emerald-600 text-white font-bold py-3 rounded-xl disabled:opacity-50 flex items-center justify-center gap-2"},s?React.createElement(kn,{className:"animate-spin",size:20}):React.createElement(qu,{size:20}),"Confirmar y Subir Gasto")),React.createElement("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-800/50 p-1 rounded-xl w-fit"},["ALL","PENDING","APPROVED","REJECTED"].map(Z=>React.createElement("button",{key:Z,onClick:()=>h(Z),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all ${f===Z?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700"}`},Z==="ALL"?"Todos":Z==="PENDING"?"Pendientes":Z==="APPROVED"?"Aprobados":"Rechazados"))),React.createElement("div",{className:"space-y-4"},Y.length>0?Y.map(Z=>{let he=OX.find(R=>R.id===Z.category);return React.createElement("div",{key:Z.id,className:"bg-white dark:bg-slate-900 p-4 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm group hover:border-emerald-500 transition-all flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:`p-3 rounded-xl ${he?.color||"bg-slate-500"} bg-opacity-10 text-opacity-100`},React.createElement(ov,{size:20,className:he?.color.replace("bg-","text-")})),React.createElement("div",null,React.createElement("div",{className:"flex items-center gap-2"},React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white"},Z.amount.toFixed(2),"\u20AC"),React.createElement("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${Z.status==="APPROVED"?"bg-emerald-100 text-emerald-700":Z.status==="REJECTED"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"}`},Z.status)),React.createElement("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-0.5"},React.createElement(Po,{size:12})," ",pa(new Date(Z.date),"dd MMM yyyy",{locale:oA}),React.createElement("span",{className:"mx-1"},"\u2022"),he?.label),Z.description&&React.createElement("p",{className:"text-xs text-slate-400 mt-1"},Z.description))),React.createElement("div",{className:"flex items-center gap-2 w-full md:w-auto justify-end border-t md:border-t-0 pt-2 md:pt-0"},Z.receiptUrl&&React.createElement("a",{href:`${$f.replace(/\/+$/,"")}/expenses/${Z.id}/receipt`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all",title:"Ver Recibo"},React.createElement(iv,{size:16})),React.createElement("button",{onClick:()=>re(Z.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-all",title:"Eliminar"},React.createElement(Dn,{size:16})),e&&Z.status==="PENDING"&&React.createElement("div",{className:"flex gap-1 ml-2 pl-2 border-l border-slate-100 dark:border-slate-800"},React.createElement("button",{onClick:()=>ne(Z.id,"APPROVED"),className:"bg-emerald-500 text-white p-2 rounded-lg hover:bg-emerald-600 shadow-md shadow-emerald-500/20"},React.createElement(qu,{size:16})),React.createElement("button",{onClick:()=>ne(Z.id,"REJECTED"),className:"bg-rose-500 text-white p-2 rounded-lg hover:bg-rose-600 shadow-md shadow-rose-500/20"},React.createElement(HA,{size:16})))))}):React.createElement("div",{className:"py-12 flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-800/20 rounded-2xl border-2 border-dashed border-slate-100 dark:border-slate-800"},React.createElement(WA,{className:"text-slate-300 mb-2",size:32}),React.createElement("p",{className:"text-slate-400 text-sm font-medium"},"No hay gastos registrados"))))}var X1=At(jt(),1);function yk({employeeId:r}){let[e,t]=(0,X1.useState)([]),[n,a]=(0,X1.useState)(!0);(0,X1.useEffect)(()=>{(async()=>{try{let u=await bt.get(`/employees/${r}/timeline`);t(u.data?.data||u.data||[])}catch(u){console.error("Error fetching timeline",u)}finally{a(!1)}})()},[r]);let o=s=>{switch(s){case"ENTRY":return React.createElement(Iv,{size:18,className:"text-emerald-500"});case"EXIT":return React.createElement(Sv,{size:18,className:"text-red-500"});case"CONTRACT":return React.createElement(rs,{size:18,className:"text-blue-500"});case"PAYROLL":return React.createElement(WA,{size:18,className:"text-indigo-500"});case"MEDICAL":return React.createElement(cv,{size:18,className:"text-rose-500"});case"VACATION":return React.createElement(Po,{size:18,className:"text-orange-500"});case"TRAINING":return React.createElement(yd,{size:18,className:"text-purple-500"});case"EXPENSE":return React.createElement(J2e,{size:18,className:"text-amber-500"});case"INCIDENT":case"AUDIT":return React.createElement(bv,{size:18,className:"text-slate-500"});default:return React.createElement(gd,{size:18,className:"text-slate-400"})}},i=s=>{switch(s){case"ENTRY":return"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-900/30";case"EXIT":return"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-900/30";case"CONTRACT":return"bg-blue-50 dark:bg-blue-900/20 border-blue-100 dark:border-blue-900/30";case"PAYROLL":return"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-900/30";case"MEDICAL":return"bg-rose-50 dark:bg-rose-900/20 border-rose-100 dark:border-rose-900/30";case"AUDIT":case"INCIDENT":return"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700";default:return"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}};return n?React.createElement("div",{className:"flex flex-col gap-4 p-8 animate-pulse"},[1,2,3].map(s=>React.createElement("div",{key:s,className:"flex gap-4"},React.createElement("div",{className:"w-12 flex flex-col items-center"},React.createElement("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 mb-2"}),React.createElement("div",{className:"w-0.5 flex-1 bg-slate-200 dark:bg-slate-700"})),React.createElement("div",{className:"flex-1 h-24 bg-slate-50 dark:bg-slate-800 rounded-xl"})))):e.length===0?React.createElement("div",{className:"flex flex-col items-center justify-center p-12 text-slate-400"},React.createElement(Av,{size:48,className:"mb-4 opacity-20"}),React.createElement("p",null,"No hay historial disponible")):React.createElement("div",{className:"relative pl-4 space-y-6 max-w-3xl mx-auto py-8"},React.createElement("div",{className:"absolute top-0 bottom-0 left-[27px] w-0.5 bg-slate-200 dark:bg-slate-800"}),e.map((s,u)=>React.createElement("div",{key:`${s.id}-${u}`,className:"relative flex gap-6 group"},React.createElement("div",{className:"relative z-10 flex flex-col items-center"},React.createElement("div",{className:"w-14 h-14 rounded-full flex items-center justify-center bg-white dark:bg-slate-900 border-4 border-slate-50 dark:border-slate-800 shadow-sm group-hover:scale-110 transition-transform"},o(s.type))),React.createElement("div",{className:`flex-1 rounded-2xl p-5 border shadow-sm transition-all hover:shadow-md ${i(s.type)}`},React.createElement("div",{className:"flex justify-between items-start mb-2"},React.createElement("h3",{className:"font-bold text-slate-900 dark:text-white text-lg"},s.title),React.createElement("span",{className:"text-xs font-mono text-slate-500 dark:text-slate-400 bg-white/50 dark:bg-black/20 px-2 py-1 rounded-md"},pa(new Date(s.date),"dd MMM yyyy, HH:mm",{locale:oA}))),s.description&&React.createElement("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed whitespace-pre-line"},s.description),s.amount&&React.createElement("div",{className:"mt-3 inline-block font-mono font-bold text-emerald-600 bg-emerald-100/50 dark:bg-emerald-900/30 px-3 py-1 rounded-lg"},s.amount.toLocaleString("es-ES",{style:"currency",currency:"EUR"})),s.fileUrl&&React.createElement("a",{href:s.fileUrl.startsWith("http")?s.fileUrl:`${EA.replace(/\/+$/,"").replace(/\/api$/,"")}${s.fileUrl.startsWith("/")?"":"/"}${s.fileUrl}`,target:"_blank",rel:"noreferrer",className:"mt-3 inline-flex items-center gap-2 text-xs font-medium text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-lg transition-colors cursor-pointer"},React.createElement(rs,{size:14}),"Ver Documento")))))}var J2e=({size:r,className:e})=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e},React.createElement("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),React.createElement("line",{x1:"2",x2:"22",y1:"10",y2:"10"}));var xt=At(jt(),1);function xk({employeeId:r}){let[e,t]=(0,xt.useState)([]),[n,a]=(0,xt.useState)(!0),[o,i]=(0,xt.useState)(!1),[s,u]=(0,xt.useState)({category:"LAPTOP",name:"",serialNumber:"",size:"",assignedDate:new Date().toISOString().split("T")[0],notes:""});(0,xt.useEffect)(()=>{l()},[r]);let l=async()=>{try{let f=await bt.get(`/assets?employeeId=${r}`);t(f.data)}catch{nt.error("Error al cargar activos")}finally{a(!1)}},c=async f=>{f.preventDefault();try{await bt.post("/assets",{...s,employeeId:r}),nt.success("Activo asignado"),i(!1),u({category:"LAPTOP",name:"",serialNumber:"",size:"",assignedDate:new Date().toISOString().split("T")[0],notes:""}),l()}catch{nt.error("Error al asignar activo")}},A=async f=>{if(confirm("\xBFEliminar este activo?"))try{await bt.delete(`/assets/${f}`),nt.success("Activo eliminado"),l()}catch{nt.error("Error al eliminar")}},d=f=>f==="CLOTHING"?xt.default.createElement(Bv,{className:"w-4 h-4"}):xt.default.createElement(gv,{className:"w-4 h-4"});return n?xt.default.createElement("div",null,"Cargando activos..."):xt.default.createElement("div",{className:"space-y-6"},xt.default.createElement("div",{className:"flex justify-between items-center"},xt.default.createElement("h3",{className:"text-lg font-medium"},"Gesti\xF3n de Activos e Inventario"),xt.default.createElement("button",{onClick:()=>i(!o),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},xt.default.createElement(ta,{className:"w-4 h-4"}),"Asignar Activo")),o&&xt.default.createElement("form",{onSubmit:c,className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700 grid grid-cols-1 md:grid-cols-3 gap-4 animate-in fade-in slide-in-from-top-4 duration-300"},xt.default.createElement("div",null,xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"Categor\xEDa"),xt.default.createElement("select",{value:s.category,onChange:f=>u({...s,category:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors"},xt.default.createElement("option",{value:"LAPTOP"},"Port\xE1til / PC"),xt.default.createElement("option",{value:"MOBILE"},"Tel\xE9fono M\xF3vil"),xt.default.createElement("option",{value:"TOOLS"},"Herramientas"),xt.default.createElement("option",{value:"CLOTHING"},"Ropa / Uniforme"),xt.default.createElement("option",{value:"OTHER"},"Otro"))),xt.default.createElement("div",null,xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"Nombre / Modelo"),xt.default.createElement("input",{type:"text",required:!0,value:s.name,onChange:f=>u({...s,name:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: Dell Latitude 5420"})),xt.default.createElement("div",null,xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"N\xBA Serie / Identificador"),xt.default.createElement("input",{type:"text",value:s.serialNumber,onChange:f=>u({...s,serialNumber:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors"})),s.category==="CLOTHING"&&xt.default.createElement("div",null,xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"Talla"),xt.default.createElement("input",{type:"text",value:s.size,onChange:f=>u({...s,size:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: M, 42, XL"})),xt.default.createElement("div",null,xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"Fecha Asignaci\xF3n"),xt.default.createElement("input",{type:"date",value:s.assignedDate,onChange:f=>u({...s,assignedDate:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors"})),xt.default.createElement("div",{className:"md:col-span-2"},xt.default.createElement("label",{className:"block text-xs text-slate-400 mb-1"},"Notas"),xt.default.createElement("input",{type:"text",value:s.notes,onChange:f=>u({...s,notes:f.target.value}),className:"w-full bg-slate-900 border-slate-700 rounded-lg text-sm text-white px-3 py-2 outline-none focus:border-blue-500 transition-colors",placeholder:"Detalles adicionales..."})),xt.default.createElement("div",{className:"md:col-span-3 flex justify-end gap-2 pt-2"},xt.default.createElement("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm text-slate-400 hover:text-white transition-colors"},"Cancelar"),xt.default.createElement("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors"},"Confirmar Asignaci\xF3n"))),xt.default.createElement("div",{className:"overflow-x-auto"},xt.default.createElement("table",{className:"w-full text-left"},xt.default.createElement("thead",null,xt.default.createElement("tr",{className:"border-b border-slate-800 text-slate-400 text-sm"},xt.default.createElement("th",{className:"pb-3 pt-0 font-medium"},"Elemento"),xt.default.createElement("th",{className:"pb-3 pt-0 font-medium"},"Categor\xEDa"),xt.default.createElement("th",{className:"pb-3 pt-0 font-medium"},"Detalles"),xt.default.createElement("th",{className:"pb-3 pt-0 font-medium"},"Fecha"),xt.default.createElement("th",{className:"pb-3 pt-0 font-medium"},"Estado"),xt.default.createElement("th",{className:"pb-3 pt-0 font-medium text-right"},"Acciones"))),xt.default.createElement("tbody",{className:"divide-y divide-slate-800"},e.length===0?xt.default.createElement("tr",null,xt.default.createElement("td",{colSpan:6,className:"py-8 text-center text-slate-500 italic"},"No hay activos asignados a este empleado")):e.map(f=>xt.default.createElement("tr",{key:f.id,className:"group hover:bg-slate-800/30 transition-colors"},xt.default.createElement("td",{className:"py-4"},xt.default.createElement("div",{className:"font-medium text-white"},f.name),xt.default.createElement("div",{className:"text-xs text-slate-500"},f.notes)),xt.default.createElement("td",{className:"py-4"},xt.default.createElement("div",{className:"flex items-center gap-2 text-sm text-slate-300"},xt.default.createElement("span",{className:"p-1.5 bg-slate-800 rounded-lg text-blue-400"},d(f.category)),f.category)),xt.default.createElement("td",{className:"py-4 text-sm"},f.category==="CLOTHING"?xt.default.createElement("span",{className:"bg-purple-900/30 text-purple-400 px-2 py-0.5 rounded text-xs font-bold border border-purple-800/50"},"Talla: ",f.size||"N/A"):xt.default.createElement("span",{className:"text-slate-400"},f.serialNumber||"-")),xt.default.createElement("td",{className:"py-4 text-sm text-slate-400"},f.assignedDate?new Date(f.assignedDate).toLocaleDateString():"-"),xt.default.createElement("td",{className:"py-4"},xt.default.createElement("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${f.status==="ASSIGNED"?"bg-green-900/30 text-green-400 border border-green-800/50":"bg-slate-800 text-slate-400"}`},f.status)),xt.default.createElement("td",{className:"py-4 text-right"},xt.default.createElement("button",{onClick:()=>A(f.id),className:"p-2 text-slate-500 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100"},xt.default.createElement(Dn,{className:"w-4 h-4"})))))))))}var nr=At(jt(),1);function wk({employeeId:r}){let[e,t]=(0,nr.useState)([]),[n,a]=(0,nr.useState)(!0),[o,i]=(0,nr.useState)("ONBOARDING"),[s,u]=(0,nr.useState)(!1),[l,c]=(0,nr.useState)({title:"",description:"",deadline:""});(0,nr.useEffect)(()=>{A()},[r,o]);let A=async()=>{try{let g=await bt.get(`/checklists/employee/${r}?type=${o}`);t(g.data)}catch{nt.error("Error al cargar tareas")}finally{a(!1)}},d=async g=>{g.preventDefault();try{await bt.post("/checklists",{...l,employeeId:r,type:o}),nt.success("Tarea a\xF1adida"),u(!1),c({title:"",description:"",deadline:""}),A()}catch{nt.error("Error al crear tarea")}},f=async(g,B)=>{try{await bt.put(`/checklists/${g}/toggle`,{completed:!B}),A()}catch{nt.error("Error al actualizar")}},h=async g=>{try{if(!confirm("\xBFEliminar esta tarea?"))return;await bt.delete(`/checklists/${g}`),nt.success("Tarea eliminada"),A()}catch{nt.error("Error al eliminar")}};if(n)return nr.default.createElement("div",null,"Cargando checklists...");let p=e.filter(g=>g.completed).length,v=e.length>0?p/e.length*100:0;return nr.default.createElement("div",{className:"space-y-6"},nr.default.createElement("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4"},nr.default.createElement("div",{className:"flex bg-slate-800 p-1 rounded-xl border border-slate-700"},nr.default.createElement("button",{onClick:()=>i("ONBOARDING"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all ${o==="ONBOARDING"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`},"Onboarding"),nr.default.createElement("button",{onClick:()=>i("OFFBOARDING"),className:`px-6 py-2 rounded-lg text-sm font-semibold transition-all ${o==="OFFBOARDING"?"bg-red-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`},"Offboarding")),nr.default.createElement("button",{onClick:()=>u(!s),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 border border-slate-700 transition-colors"},nr.default.createElement(ta,{className:"w-4 h-4"}),"Nueva Tarea")),nr.default.createElement("div",{className:"bg-slate-800/50 p-6 rounded-2xl border border-slate-700"},nr.default.createElement("div",{className:"flex justify-between items-center mb-3"},nr.default.createElement("span",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider"},"Estado del Proceso"),nr.default.createElement("span",{className:"text-sm text-slate-400 font-mono"},p," / ",e.length)),nr.default.createElement("div",{className:"w-full bg-slate-900 rounded-full h-3 overflow-hidden border border-slate-800"},nr.default.createElement("div",{className:`h-full rounded-full transition-all duration-700 ease-out ${o==="ONBOARDING"?"bg-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)]":"bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]"}`,style:{width:`${v}%`}}))),s&&nr.default.createElement("form",{onSubmit:d,className:"bg-slate-800/80 p-5 rounded-2xl border border-blue-500/30 space-y-4 animate-in fade-in slide-in-from-top-4 duration-300 shadow-xl"},nr.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},nr.default.createElement("div",{className:"md:col-span-2"},nr.default.createElement("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1"},"T\xEDtulo de la Tarea"),nr.default.createElement("input",{type:"text",required:!0,value:l.title,onChange:g=>c({...l,title:g.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl text-sm text-white px-4 py-2.5 outline-none focus:border-blue-500 transition-colors",placeholder:"Ej: Entrega de llaves, Firma de contrato..."})),nr.default.createElement("div",null,nr.default.createElement("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1"},"Descripci\xF3n (Opcional)"),nr.default.createElement("input",{type:"text",value:l.description,onChange:g=>c({...l,description:g.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl text-sm text-white px-4 py-2.5 outline-none focus:border-blue-500 transition-colors",placeholder:"Detalles de la tarea..."})),nr.default.createElement("div",null,nr.default.createElement("label",{className:"block text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1.5 ml-1"},"Fecha L\xEDmite"),nr.default.createElement("input",{type:"date",value:l.deadline,onChange:g=>c({...l,deadline:g.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-xl text-sm text-white px-4 py-2.5 outline-none focus:border-blue-500 transition-colors"}))),nr.default.createElement("div",{className:"flex justify-end gap-3 pt-2"},nr.default.createElement("button",{type:"button",onClick:()=>u(!1),className:"px-6 py-2.5 text-sm text-slate-400 hover:text-white transition-colors"},"Cancelar"),nr.default.createElement("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-blue-900/20 transition-all hover:scale-[1.02] active:scale-[0.98]"},"A\xF1adir Tarea"))),nr.default.createElement("div",{className:"space-y-3"},e.length===0?nr.default.createElement("div",{className:"text-center py-16 bg-slate-800/10 rounded-3xl border-2 border-dashed border-slate-800"},nr.default.createElement(nv,{className:"w-16 h-16 text-slate-700 mx-auto mb-4 opacity-50"}),nr.default.createElement("p",{className:"text-slate-500 font-medium tracking-tight"},"No hay tareas configuradas para este proceso"),nr.default.createElement("button",{onClick:()=>u(!0),className:"text-blue-500 text-sm mt-2 hover:underline"},"Crear la primera tarea")):e.map(g=>nr.default.createElement("div",{key:g.id,className:`group p-4 rounded-2xl border transition-all flex items-start gap-4 ${g.completed?"bg-slate-900/40 border-slate-800 hover:bg-slate-900/60":"bg-slate-800/40 border-slate-700/50 hover:border-slate-500 hover:bg-slate-800/60"}`},nr.default.createElement("button",{onClick:()=>f(g.id,g.completed),className:`mt-1 transition-all transform hover:scale-110 ${g.completed?"text-green-500":"text-slate-600 hover:text-blue-500"}`},g.completed?nr.default.createElement(qu,{className:"w-6 h-6"}):nr.default.createElement(gd,{className:"w-6 h-6"})),nr.default.createElement("div",{className:"flex-1 min-w-0"},nr.default.createElement("div",{className:`text-base font-semibold leading-tight ${g.completed?"line-through text-slate-500":"text-slate-100"}`},g.title),g.description&&nr.default.createElement("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2"},g.description),nr.default.createElement("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 mt-2.5"},g.deadline&&nr.default.createElement("div",{className:"flex items-center gap-2 text-[10px] text-slate-500 uppercase tracking-widest font-black"},nr.default.createElement(ri,{className:"w-3 h-3 text-amber-500/70"}),"L\xEDmite: ",new Date(g.deadline).toLocaleDateString()),g.completedAt&&nr.default.createElement("div",{className:"text-[10px] text-green-500/70 uppercase tracking-widest font-black flex items-center gap-2"},nr.default.createElement("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Completada ",new Date(g.completedAt).toLocaleDateString()))),nr.default.createElement("button",{onClick:()=>h(g.id),className:"p-2 text-slate-700 hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100 transform translate-x-1 group-hover:translate-x-0"},nr.default.createElement(Dn,{className:"w-4.5 h-4.5"}))))))}var hi=At(jt(),1);function bk({employeeId:r}){let[e,t]=(0,hi.useState)([]),[n,a]=(0,hi.useState)([]),[o,i]=(0,hi.useState)(!0),[s,u]=(0,hi.useState)(!1),[l,c]=(0,hi.useState)(""),[A,d]=(0,hi.useState)(pa(new Date,"yyyy-MM-dd")),[f,h]=(0,hi.useState)(pa(new Date,"yyyy-MM-dd")),[p,v]=(0,hi.useState)(8),[g,B]=(0,hi.useState)(""),[I,S]=(0,hi.useState)(!1),[E,T]=(0,hi.useState)(""),[U,D]=(0,hi.useState)(""),[k,O]=(0,hi.useState)(""),N=(re,Y,J)=>(pX(new Date(Y),new Date(re))+1)*J;(0,hi.useEffect)(()=>{P()},[r]);let P=async()=>{i(!0);try{let[re,Y]=await Promise.all([bt.get("/projects"),bt.get(`/employee-project-work/employee/${r}`)]);t(re),a(Y)}catch{nt.error("Error al cargar datos de obras")}finally{i(!1)}},j=async re=>{if(re.preventDefault(),!l){nt.error("Selecciona una obra");return}if(new Date(A)>new Date(f)){nt.error("La fecha de inicio no puede ser posterior a la de fin");return}u(!0);try{await bt.post("/employee-project-work",{employeeId:r,projectId:l,startDate:A,endDate:f,hours:p,notes:g}),nt.success("Periodo de obra registrado"),B(""),P()}catch{nt.error("Error al guardar registro")}finally{u(!1)}},z=async()=>{if(!E||!U){nt.error("Nombre y c\xF3digo son obligatorios");return}try{let re=await bt.post("/projects",{name:E,code:U,destination:k});t([re,...e]),c(re.id),S(!1),T(""),D(""),O(""),nt.success("Obra creada correctamente")}catch{nt.error("Error al crear obra")}},ne=async re=>{if(confirm("\xBFEliminar este registro?"))try{await bt.delete(`/employee-project-work/${re}`),nt.success("Registro eliminado"),P()}catch{nt.error("Error al eliminar")}};return o?React.createElement("div",{className:"p-10 text-center animate-pulse"},React.createElement(kn,{className:"animate-spin mx-auto mb-4"})," Cargando obras..."):React.createElement("div",{className:"space-y-8"},React.createElement("div",{className:"flex justify-between items-center"},React.createElement("div",null,React.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(lv,{className:"text-amber-500",size:24})," Control de Obras y Destinos"),React.createElement("p",{className:"text-sm text-slate-500"},"Asignaci\xF3n de periodos de trabajo por proyecto"))),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},React.createElement("div",{className:"lg:col-span-1 bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm h-fit"},React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white mb-4"},"Registrar Periodo"),React.createElement("form",{onSubmit:j,className:"space-y-4"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase"},"Obra / Proyecto"),React.createElement("div",{className:"flex gap-2"},React.createElement("select",{value:l,onChange:re=>c(re.target.value),className:"flex-1 bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm outline-none ring-1 ring-slate-200 dark:ring-slate-700 focus:ring-2 focus:ring-blue-500"},React.createElement("option",{value:""},"Seleccionar obra..."),e.map(re=>React.createElement("option",{key:re.id,value:re.id},"[",re.code,"] ",re.name))),React.createElement("button",{type:"button",onClick:()=>S(!I),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 text-slate-600 dark:text-slate-400 hover:text-blue-600 transition-all",title:"Nueva Obra"},React.createElement(ta,{size:20})))),I&&React.createElement("div",{className:"p-4 bg-blue-50/50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 space-y-3 animate-in slide-in-from-top-2 duration-200"},React.createElement("input",{placeholder:"Nombre de obra",value:E,onChange:re=>T(re.target.value),className:"w-full bg-white dark:bg-slate-900 px-3 py-1.5 rounded-lg text-sm border-none ring-1 ring-blue-200 dark:ring-blue-900"}),React.createElement("input",{placeholder:"C\xF3digo (Ej: 24-001)",value:U,onChange:re=>D(re.target.value),className:"w-full bg-white dark:bg-slate-900 px-3 py-1.5 rounded-lg text-sm border-none ring-1 ring-blue-200 dark:ring-blue-900"}),React.createElement("input",{placeholder:"Destino (Ciudad/Lugar)",value:k,onChange:re=>O(re.target.value),className:"w-full bg-white dark:bg-slate-900 px-3 py-1.5 rounded-lg text-sm border-none ring-1 ring-blue-200 dark:ring-blue-900"}),React.createElement("button",{type:"button",onClick:z,className:"w-full bg-blue-600 text-white py-1.5 rounded-lg text-sm font-bold shadow-lg shadow-blue-500/20"},"Crear Obra")),React.createElement("div",{className:"space-y-3"},React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase"},"Fecha Inicio"),React.createElement("input",{type:"date",value:A,onChange:re=>d(re.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm outline-none ring-1 ring-slate-200 dark:ring-slate-700"})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase"},"Fecha Fin"),React.createElement("input",{type:"date",value:f,onChange:re=>h(re.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm outline-none ring-1 ring-slate-200 dark:ring-slate-700"})),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase"},"Horas por d\xEDa"),React.createElement("input",{type:"number",step:"0.5",value:p,onChange:re=>v(parseFloat(re.target.value)),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm outline-none ring-1 ring-slate-200 dark:ring-slate-700"}))),React.createElement("div",{className:"space-y-1"},React.createElement("label",{className:"text-xs font-bold text-slate-400 uppercase"},"Notas (Opcional)"),React.createElement("textarea",{value:g,onChange:re=>B(re.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-xl px-4 py-2 text-sm outline-none ring-1 ring-slate-200 dark:ring-slate-700 h-20 resize-none",placeholder:"Observaciones..."})),React.createElement("button",{disabled:s,className:"w-full bg-slate-900 dark:bg-white dark:text-slate-900 text-white py-3 rounded-xl font-bold transition-all hover:bg-slate-800 flex items-center justify-center gap-2"},s?React.createElement(kn,{className:"animate-spin",size:18}):React.createElement(ta,{size:18}),"Guardar Registro"))),React.createElement("div",{className:"lg:col-span-2"},React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm overflow-hidden"},React.createElement("table",{className:"w-full text-left text-sm"},React.createElement("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-500 uppercase text-[10px] font-bold tracking-wider"},React.createElement("tr",null,React.createElement("th",{className:"px-6 py-4"},"Periodo"),React.createElement("th",{className:"px-6 py-4"},"Obra / C\xF3digo"),React.createElement("th",{className:"px-6 py-4"},"Destino"),React.createElement("th",{className:"px-6 py-4 text-center"},"Horas"),React.createElement("th",{className:"px-6 py-4 text-right"},"Acciones"))),React.createElement("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800"},n.length===0?React.createElement("tr",null,React.createElement("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400 italic"},"No hay d\xEDas de obra registrados")):n.map(re=>React.createElement("tr",{key:re.id,className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/20 transition-all group"},React.createElement("td",{className:"px-6 py-4"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("div",{className:"text-center"},React.createElement("div",{className:"font-bold text-slate-900 dark:text-white truncate"},pa(new Date(re.startDate),"dd/MM/yy")),React.createElement("div",{className:"text-[10px] text-slate-500 uppercase"},pa(new Date(re.startDate),"EEE",{locale:oA}))),React.createElement(Z0,{size:14,className:"text-slate-300"}),React.createElement("div",{className:"text-center"},React.createElement("div",{className:"font-bold text-slate-900 dark:text-white truncate"},pa(new Date(re.endDate),"dd/MM/yy")),React.createElement("div",{className:"text-[10px] text-slate-500 uppercase"},pa(new Date(re.endDate),"EEE",{locale:oA}))))),React.createElement("td",{className:"px-6 py-4"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("div",null,React.createElement("div",{className:"font-bold text-blue-600 dark:text-blue-400 truncate max-w-[150px]"},re.project.name),React.createElement("div",{className:"text-xs text-slate-500 font-mono"},re.project.code)),re.notes&&React.createElement("div",{className:"relative group/note"},React.createElement(xd,{size:14,className:"text-slate-400 cursor-help"}),React.createElement("div",{className:"absolute left-0 bottom-full mb-2 w-48 p-2 bg-slate-800 text-white text-[10px] rounded-lg opacity-0 invisible group-hover/note:opacity-100 group-hover/note:visible transition-all z-50 shadow-xl border border-slate-700 pointer-events-none"},re.notes,React.createElement("div",{className:"absolute top-full left-2 border-8 border-transparent border-t-slate-800"}))))),React.createElement("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400"},React.createElement("div",{className:"flex items-center gap-1"},React.createElement(mv,{size:12,className:"text-slate-400"}),re.project.destination||"N/A")),React.createElement("td",{className:"px-6 py-4 text-center"},React.createElement("div",{className:"inline-flex flex-col items-center bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-xl min-w-[70px]"},React.createElement("div",{className:"text-xs font-bold text-slate-900 dark:text-white"},N(re.startDate,re.endDate,re.hours),"h"),React.createElement("div",{className:"text-[9px] text-slate-500 flex items-center gap-0.5"},React.createElement(ri,{size:8})," ",re.hours,"h/d\xEDa"))),React.createElement("td",{className:"px-6 py-4 text-right"},React.createElement("button",{onClick:()=>ne(re.id),className:"p-2 text-slate-300 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-all"},React.createElement(Dn,{size:16})))))))))))}var BS=At(jt(),1);function Ck({employeeId:r}){return BS.default.createElement("div",null,BS.default.createElement("h2",null,"Generador de Documentos"),BS.default.createElement("p",null,"ID Empleado: ",r))}var Lf=At(jt(),1);function Bk({employeeId:r}){let[e,t]=(0,Lf.useState)([]),[n,a]=(0,Lf.useState)(!0),[o,i]=(0,Lf.useState)(!1),[s,u]=(0,Lf.useState)(null),[l,c]=(0,Lf.useState)({month:"",year:new Date().getFullYear().toString(),bruto:"",neto:""});(0,Lf.useEffect)(()=>{A()},[r]);let A=async()=>{a(!0);try{let p=await bt.get(`/payroll/employee/${r}`);t(p.data||[])}catch(p){console.error(p),nt.error("Error al cargar n\xF3minas")}finally{a(!1)}},d=async()=>{try{if(!l.month||!l.year||!l.bruto||!l.neto){nt.error("Por favor rellena todos los campos");return}await bt.post("/payroll/manual",{employeeId:r,month:parseInt(l.month),year:parseInt(l.year),bruto:parseFloat(l.bruto),neto:parseFloat(l.neto)}),nt.success("N\xF3mina creada correctamente"),i(!1),c({month:"",year:new Date().getFullYear().toString(),bruto:"",neto:""}),A()}catch(p){console.error(p),nt.error("Error al crear n\xF3mina")}},f=p=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(p),h=p=>new Date(2e3,p-1,1).toLocaleString("es-ES",{month:"long"});return n?React.createElement("div",{className:"p-8 text-center animate-pulse text-slate-500"},"Cargando n\xF3minas..."):React.createElement("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2"},React.createElement(rs,{size:20,className:"text-blue-500"})," Historial de N\xF3minas"),React.createElement("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors"},React.createElement(ta,{size:16})," A\xF1adir N\xF3mina")),e.length===0?React.createElement("div",{className:"p-12 text-center bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-dashed border-slate-200 dark:border-slate-700"},React.createElement(rs,{className:"mx-auto text-slate-400 mb-4",size:48}),React.createElement("h3",{className:"text-lg font-medium text-slate-900 dark:text-white"},"Sin n\xF3minas registradas"),React.createElement("p",{className:"text-slate-500 text-sm mt-1"},"Este empleado no tiene n\xF3minas asociadas todav\xEDa.")):React.createElement("div",{className:"grid grid-cols-1 gap-4"},e.map(p=>React.createElement("div",{key:p.id,className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row items-center justify-between gap-6"},React.createElement("div",{className:"flex items-center gap-4 w-full md:w-auto"},React.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 p-3 rounded-lg font-bold text-center min-w-[60px]"},React.createElement("div",{className:"text-xs uppercase tracking-wider"},h(p.batch.month).slice(0,3)),React.createElement("div",{className:"text-lg"},p.batch.year)),React.createElement("div",null,React.createElement("h4",{className:"font-bold text-slate-900 dark:text-white capitalize"},"N\xF3mina ",h(p.batch.month)," ",p.batch.year),React.createElement("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1"},React.createElement("span",{className:"flex items-center gap-1"},React.createElement($p,{size:14})," Bruto: ",f(p.bruto)),React.createElement("span",{className:"flex items-center gap-1 text-green-600 font-medium"},React.createElement($p,{size:14})," Neto: ",f(p.neto))))),React.createElement("div",{className:"flex-1 hidden md:block border-l border-slate-100 dark:border-slate-700 pl-6"},p.items&&p.items.length>0?React.createElement("div",{className:"flex flex-wrap gap-2"},p.items.slice(0,3).map((v,g)=>React.createElement("span",{key:g,className:`text-xs px-2 py-1 rounded border ${v.type==="EARNING"?"bg-green-50 text-green-700 border-green-100":"bg-red-50 text-red-700 border-red-100"}`},v.concept)),p.items.length>3&&React.createElement("span",{className:"text-xs px-2 py-1 rounded bg-slate-50 text-slate-500 border border-slate-100"},"+",p.items.length-3," m\xE1s")):React.createElement("span",{className:"text-xs text-slate-400 italic"},"Sin desglose detallado")),React.createElement("div",{className:"flex gap-2 w-full md:w-auto"},React.createElement("button",{onClick:()=>u(p),className:"flex-1 md:flex-none px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-medium transition-colors"},"Ver Detalle"),React.createElement("button",{onClick:async()=>{try{nt.info("Generando PDF...");let v=await bt.get(`/payroll/${p.id}/pdf`,{responseType:"blob"});if(v.type==="application/json"){let I=await v.text(),S=JSON.parse(I);throw new Error(S.message||"Error al generar PDF")}let g=window.URL.createObjectURL(new Blob([v])),B=document.createElement("a");B.href=g,B.setAttribute("download",`Nomina_${p.batch.month}_${p.batch.year}.pdf`),document.body.appendChild(B),B.click(),B.parentNode?.removeChild(B),window.URL.revokeObjectURL(g),nt.success("PDF descargado")}catch(v){console.error("PDF Download Error:",v),nt.error(v.message||"Error al descargar PDF")}},className:"flex-1 md:flex-none px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2"},React.createElement(vd,{size:16})," PDF"))))),o&&React.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-md p-6 shadow-xl animate-in fade-in zoom-in duration-200"},React.createElement("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4"},"A\xF1adir N\xF3mina Manual"),React.createElement("div",{className:"space-y-4"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs font-medium text-slate-500 mb-1 block"},"Mes"),React.createElement("select",{value:l.month,onChange:p=>c({...l,month:p.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},React.createElement("option",{value:""},"Seleccionar..."),Array.from({length:12},(p,v)=>React.createElement("option",{key:v+1,value:v+1},new Date(2e3,v,1).toLocaleString("es-ES",{month:"long"}))))),React.createElement("div",null,React.createElement("label",{className:"text-xs font-medium text-slate-500 mb-1 block"},"A\xF1o"),React.createElement("input",{type:"number",value:l.year,onChange:p=>c({...l,year:p.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"}))),React.createElement("div",null,React.createElement("label",{className:"text-xs font-medium text-slate-500 mb-1 block"},"Salario Bruto (\u20AC)"),React.createElement("input",{type:"number",step:"0.01",value:l.bruto,onChange:p=>c({...l,bruto:p.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"0.00"})),React.createElement("div",null,React.createElement("label",{className:"text-xs font-medium text-slate-500 mb-1 block"},"Salario Neto (\u20AC)"),React.createElement("input",{type:"number",step:"0.01",value:l.neto,onChange:p=>c({...l,neto:p.target.value}),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"0.00"}))),React.createElement("div",{className:"flex justify-end gap-3 mt-6"},React.createElement("button",{onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors"},"Cancelar"),React.createElement("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors"},"Guardar")))),s&&React.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},React.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg p-6 shadow-xl animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto"},React.createElement("div",{className:"flex justify-between items-start mb-6"},React.createElement("div",null,React.createElement("h3",{className:"text-lg font-bold text-slate-900 dark:text-white"},"Desglose de N\xF3mina"),React.createElement("p",{className:"text-sm text-slate-500 capitalize"},h(s.batch.month)," ",s.batch.year)),React.createElement("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-slate-600"},"\xD7")),React.createElement("div",{className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},React.createElement("div",{className:"p-4 bg-slate-50 dark:bg-slate-800 rounded-xl"},React.createElement("div",{className:"text-sm text-slate-500 mb-1"},"Total Devengado"),React.createElement("div",{className:"text-2xl font-bold text-slate-900 dark:text-white"},f(s.bruto))),React.createElement("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl"},React.createElement("div",{className:"text-sm text-blue-600 dark:text-blue-400 mb-1"},"L\xEDquido a Percibir"),React.createElement("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300"},f(s.neto)))),React.createElement("div",{className:"space-y-3"},React.createElement("h4",{className:"text-sm font-medium text-slate-900 dark:text-white border-b pb-2"},"Deducciones y Aportaciones"),React.createElement("div",{className:"flex justify-between text-sm"},React.createElement("span",{className:"text-slate-500"},"SS Empresa"),React.createElement("span",{className:"font-medium"},f(s.ssEmpresa))),React.createElement("div",{className:"flex justify-between text-sm"},React.createElement("span",{className:"text-slate-500"},"SS Trabajador"),React.createElement("span",{className:"font-medium text-red-600"},"-",f(s.ssTrabajador))),React.createElement("div",{className:"flex justify-between text-sm"},React.createElement("span",{className:"text-slate-500"},"IRPF"),React.createElement("span",{className:"font-medium text-red-600"},"-",f(s.irpf)))),s.items&&s.items.length>0?React.createElement("div",{className:"border rounded-lg overflow-hidden"},React.createElement("table",{className:"w-full text-sm"},React.createElement("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-500"},React.createElement("tr",null,React.createElement("th",{className:"px-4 py-2 text-left font-medium"},"Concepto"),React.createElement("th",{className:"px-4 py-2 text-right font-medium"},"Importe"))),React.createElement("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700"},s.items.map((p,v)=>React.createElement("tr",{key:v},React.createElement("td",{className:"px-4 py-2 text-slate-700 dark:text-slate-300"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("span",{className:`w-2 h-2 rounded-full ${p.type==="EARNING"?"bg-green-500":"bg-red-500"}`}),p.concept)),React.createElement("td",{className:`px-4 py-2 text-right font-medium ${p.type==="EARNING"?"text-green-600":"text-red-600"}`},p.type==="EARNING"?"+":"-",f(p.amount))))))):React.createElement("div",{className:"text-center p-4 bg-slate-50 rounded-lg text-slate-500 text-sm italic"},"No hay detalle de conceptos disponible para esta n\xF3mina."),React.createElement("div",{className:"flex justify-end pt-4"},React.createElement("button",{onClick:()=>u(null),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 rounded-lg text-sm font-medium transition-colors"},"Cerrar"))))))}var Sg=At(jt(),1);var Z2e=(0,Sg.createContext)(void 0);function QX(){let r=(0,Sg.useContext)(Z2e);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}var eCe=["\xC1lava","Albacete","Alicante","Almer\xEDa","Asturias","\xC1vila","Badajoz","Baleares","Barcelona","Burgos","C\xE1ceres","C\xE1diz","Cantabria","Castell\xF3n","Ciudad Real","C\xF3rdoba","Cuenca","Gerona","Granada","Guadalajara","Guip\xFAzcoa","Huelva","Huesca","Ja\xE9n","La Coru\xF1a","La Rioja","Las Palmas","Le\xF3n","L\xE9rida","Lugo","Madrid","M\xE1laga","Murcia","Navarra","Orense","Palencia","Pontevedra","Salamanca","Santa Cruz de Tenerife","Segovia","Sevilla","Soria","Tarragona","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza","Ceuta","Melilla"],tCe=["Espa\xF1a","Portugal","Francia","Italia","Alemania","Reino Unido","Otro"],rCe=["Alar\xF3","Alc\xFAdia","Algaida","Andratx","Ariany","Art\xE0","Banyalbufar","Binissalem","B\xFAger","Bunyola","Calvi\xE0","Campanet","Campos","Capdepera","Consell","Costitx","Dei\xE0","Escorca","Esporles","Estellencs","Felanitx","Fornalutx","Inca","Lloret de Vistalegre","Lloseta","Llub\xED","Llucmajor","Manacor","Mancor de la Vall","Maria de la Salut","Marratx\xED","Montu\xEFri","Muro","Palma","Petra","Pollen\xE7a","Porreres","Puigpunyent","Sa Pobla","Sant Joan","Sant Lloren\xE7 des Cardassar","Santa Eug\xE8nia","Santa Margalida","Santa Mar\xEDa del Cam\xED","Santany\xED","Selva","Sencelles","Ses Salines","Sineu","S\xF3ller","Son Servera","Valldemossa","Vilafranca de Bonany"],nCe=["Ventas","Administraci\xF3n","Producci\xF3n","Log\xEDstica","IT","Recursos Humanos","Mantenimiento","Otros"],aCe=["Gerente","Director","Responsable","T\xE9cnico","Operario","Auxiliar","Administrativo","Vendedor","Otros"],oCe=["Grupo 1","Grupo 2","Grupo 3","Grupo 4","Grupo 5","Grupo 6","Grupo 7","Oficial de 1\xAA","Oficial de 2\xAA","Oficial de 3\xAA","Pe\xF3n","Otros"],iCe=["Indefinido","Temporal","Fijo Discontinuo","Pr\xE1cticas","Aprendizaje","Otros"],sCe=["Comercio","Textil","Madera","Hosteler\xEDa","Metal","Construcci\xF3n","Oficinas y Despachos","Propio de Empresa","Otros"];function uCe(r){let e=Ds(),{id:t}=LI(),{user:n}=QX(),a=r.employeeId||t,o=qx(),i=a==="new",s=n?.role==="admin",u=s,[l,c]=(0,W.useState)(i),[A,d]=(0,W.useState)(!i),[f,h]=(0,W.useState)(!1),[p,v]=(0,W.useState)("personal"),[g,B]=(0,W.useState)(!1),[I,S]=(0,W.useState)(!1),E=async()=>{B(!0);try{let R=await bt.post("/auth/generate-access",{employeeId:a});R.data?.hasEmail?nt.success("Disfruta del acceso. Se ha enviado un correo al empleado."):nt.success(`Clave generada: ${R.data?.password}`,{duration:1e4})}catch(R){nt.error(R.message||"Error al generar acceso")}finally{B(!1)}},[T,U]=(0,W.useState)({firstName:"",lastName:"",dni:"",email:"",phone:"",companyPhone:"",address:"",city:"",postalCode:"",subaccount465:"",socialSecurityNumber:"",iban:"",companyId:"",department:"",category:"",contractType:"",agreementType:"",jobTitle:"",entryDate:"",exitDate:"",callDate:"",contractInterruptionDate:"",lowDate:"",lowReason:"",dniExpiration:"",birthDate:"",country:"Espa\xF1a",province:"",registeredIn:"",drivingLicense:!1,drivingLicenseType:"",drivingLicenseExpiration:"",emergencyContacts:[],workingDayType:"COMPLETE",weeklyHours:"",gender:"",annualGrossSalary:"",monthlyGrossSalary:"",managerId:"",privateNotes:"",active:!0}),[D,k]=(0,W.useState)({name:"",phone:"",relationship:""}),[O,N]=(0,W.useState)(null),[P,j]=(0,W.useState)([]),[z,ne]=(0,W.useState)([]);(0,W.useEffect)(()=>{J(),re(),!i&&a&&(G(),Y())},[a]);let re=async()=>{try{let R=await bt.get("/employees"),H=R.data||R||[];Array.isArray(H)&&ne(H.filter(ae=>ae.id!==a))}catch(R){console.error(R)}},Y=async()=>{if(!i)try{await bt.get(`/audit/EMPLOYEE/${a}`)}catch(R){console.error(R)}},J=async()=>{try{let R=await bt.get("/companies");j(R.data||R||[])}catch(R){console.error(R)}},G=async()=>{try{let R=await bt.get(`/employees/${a}`),H=R.data||R;N(H),U({firstName:H.firstName||"",lastName:H.lastName||"",dni:H.dni||"",email:H.email||"",phone:H.phone||"",companyPhone:H.companyPhone||"",address:H.address||"",city:H.city||"",postalCode:H.postalCode||"",subaccount465:H.subaccount465||"",socialSecurityNumber:H.socialSecurityNumber||"",iban:H.iban||"",companyId:H.companyId||"",department:H.department||"",category:H.category||"",contractType:H.contractType||"",agreementType:H.agreementType||"",jobTitle:H.jobTitle||"",entryDate:H.entryDate?H.entryDate.split("T")[0]:H.seniorityDate?H.seniorityDate.split("T")[0]:"",exitDate:H.exitDate?H.exitDate.split("T")[0]:"",callDate:H.callDate?H.callDate.split("T")[0]:"",contractInterruptionDate:H.contractInterruptionDate?H.contractInterruptionDate.split("T")[0]:"",lowDate:H.lowDate?H.lowDate.split("T")[0]:"",lowReason:H.lowReason||"",dniExpiration:H.dniExpiration?H.dniExpiration.split("T")[0]:"",birthDate:H.birthDate?H.birthDate.split("T")[0]:"",country:H.country||"Espa\xF1a",province:H.province||"",registeredIn:H.registeredIn||"",drivingLicense:H.drivingLicense||!1,drivingLicenseType:H.drivingLicenseType||"",drivingLicenseExpiration:H.drivingLicenseExpiration?H.drivingLicenseExpiration.split("T")[0]:"",emergencyContacts:H.emergencyContacts||[],workingDayType:H.workingDayType||"COMPLETE",weeklyHours:H.weeklyHours||"",gender:H.gender||"",annualGrossSalary:H.annualGrossSalary||"",monthlyGrossSalary:H.monthlyGrossSalary||"",managerId:H.managerId||"",privateNotes:H.privateNotes||"",active:H.active})}catch(R){console.error(R)}finally{d(!1)}},Z=R=>{let{name:H,value:ae,type:le}=R.target;if(le==="checkbox"){let pe=R.target.checked;U(ve=>({...ve,[H]:pe}))}else U(pe=>{let ve={...pe,[H]:ae};if(H==="annualGrossSalary"&&ae){let Se=parseFloat(ae);isNaN(Se)||(ve.monthlyGrossSalary=(Se/12).toFixed(2))}else if(H==="monthlyGrossSalary"&&ae){let Se=parseFloat(ae);isNaN(Se)||(ve.annualGrossSalary=(Se*12).toFixed(2))}return ve})},he=async R=>{R.preventDefault(),h(!0);try{let H={...T,email:T.email?T.email:null,weeklyHours:T.weeklyHours?Number(T.weeklyHours):null,companyId:T.companyId?T.companyId:null,managerId:T.managerId?T.managerId:null,annualGrossSalary:T.annualGrossSalary?Number(T.annualGrossSalary):0,monthlyGrossSalary:T.monthlyGrossSalary?Number(T.monthlyGrossSalary):0};i?(await bt.post("/employees",H),nt.success("Empleado creado correctamente"),o("/employees")):(await bt.put(`/employees/${a}`,H),nt.success("Empleado actualizado correctamente"),c(!1),G())}catch(H){nt.error("Error al guardar: "+(H.response?.data?.error||H.message)),H.response?.data?.details&&console.error("Validation Details:",H.response.data.details)}finally{h(!1)}};return A?W.default.createElement("div",{className:"p-10 text-center animate-pulse text-slate-500"},"Cargando perfil..."):!l&&O?W.default.createElement("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500"},W.default.createElement(gp,{to:"/employees",className:"inline-flex items-center gap-2 text-slate-500 hover:text-blue-500 transition-colors"},W.default.createElement(Xp,{size:16})," Volver a Empleados"),W.default.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 border border-slate-100 dark:border-slate-800 shadow-sm flex flex-col md:flex-row justify-between items-start md:items-center gap-6"},W.default.createElement("div",{className:"flex items-center gap-6"},W.default.createElement("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg"},O.firstName?.charAt(0)||O.name?.charAt(0)),W.default.createElement("div",null,W.default.createElement("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white"},O.firstName||O.lastName?`${O.firstName||""} ${O.lastName||""}`.trim():O.name),W.default.createElement("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-slate-500 dark:text-slate-400 text-sm"},W.default.createElement("span",{className:"flex items-center gap-1"},W.default.createElement(av,{size:14})," ",O.dni),W.default.createElement("span",{className:"flex items-center gap-1"},W.default.createElement(tv,{size:14})," ",O.department),O.phone&&W.default.createElement("div",{className:"flex items-center gap-2"},W.default.createElement("span",{className:"flex items-center gap-1"},W.default.createElement(vv,{size:14})," ",O.phone),W.default.createElement("a",{href:`https://api.whatsapp.com/send?phone=${O.phone.replace(/\D/g,"").startsWith("34")?"":"34"}${O.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"p-1 px-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center gap-1 text-[10px] font-bold",title:"Abrir WhatsApp"},W.default.createElement(wd,{size:10})," WhatsApp")),O.gender&&W.default.createElement("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${O.gender==="MALE"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":O.gender==="FEMALE"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`},O.gender==="MALE"?"Hombre":O.gender==="FEMALE"?"Mujer":"Otro")))),u&&W.default.createElement("div",{className:"flex gap-3"},W.default.createElement("button",{onClick:E,disabled:g,className:"px-4 py-2 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 font-semibold rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors flex items-center gap-2 border border-indigo-100 dark:border-indigo-900/30"},g?W.default.createElement(kn,{size:18,className:"animate-spin"}):W.default.createElement(fv,{size:18}),"Generar Clave"),W.default.createElement("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 font-semibold rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors flex items-center gap-2 border border-purple-100 dark:border-purple-900/30"},W.default.createElement(wv,{size:18}),"Biometr\xEDa"),W.default.createElement("button",{onClick:async()=>{if(await e({title:"Dar de Baja Empleado",message:"\xBFEst\xE1s seguro de que deseas dar de baja a este empleado? Sus datos se conservar\xE1n en el sistema pero no aparecer\xE1n en el listado activo.",confirmText:"Dar de Baja",type:"danger"}))try{await bt.delete(`/employees/${a}`),nt.success("Empleado dado de baja correctamente"),o("/employees")}catch{nt.error("Error al dar de baja al empleado")}},className:"px-4 py-2 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 font-semibold rounded-lg hover:bg-rose-100 dark:hover:bg-rose-900/40 transition-colors flex items-center gap-2 border border-rose-100 dark:border-rose-900/30"},W.default.createElement(Dn,{size:18}),"Dar de Baja"),W.default.createElement("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30"},"Editar Perfil"))),W.default.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden"},W.default.createElement("div",{className:"border-b border-slate-100 dark:border-slate-800"},W.default.createElement("div",{className:"flex overflow-x-auto"},["resumen","nominas","cronograma",...s?["generar","expediente","prl","obras","activos","checklists","seguridad","privacidad","notas-rrhh"]:["prl"],"fichajes","vacaciones"].map(R=>W.default.createElement("button",{key:R,onClick:()=>v(R),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p==="personal"&&R==="resumen"||p===R?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`},R==="generar"?"Generar Doc.":R==="prl"?"PRL / Formaci\xF3n":R.charAt(0).toUpperCase()+R.slice(1))))),W.default.createElement("div",{className:"p-8"},W.default.createElement(kp,{mode:"wait"},W.default.createElement(Ab.div,{key:p,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2}},(p==="resumen"||p==="personal")&&W.default.createElement("div",{className:"space-y-8"},W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},W.default.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700"},W.default.createElement("p",{className:"text-slate-500 text-sm font-medium mb-1"},"Subcuenta Contable"),W.default.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white"},O.subaccount465)),W.default.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700"},W.default.createElement("p",{className:"text-slate-500 text-sm font-medium mb-1"},"Cupo Vacaciones"),W.default.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white"},O.vacationDaysTotal||30," d\xEDas")),W.default.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700"},W.default.createElement("p",{className:"text-slate-500 text-sm font-medium mb-1"},"Antig\xFCedad"),W.default.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white"},O.entryDate?new Date(O.entryDate).toLocaleDateString():O.seniorityDate?new Date(O.seniorityDate).toLocaleDateString():"--"))),W.default.createElement(cCe,{employeeId:a||"",category:O.category})),p==="generar"&&W.default.createElement(Ck,{employeeId:a||"",onDocumentGenerated:()=>v("expediente")}),p==="expediente"&&W.default.createElement(bS,{employeeId:a||""}),p==="prl"&&W.default.createElement(CS,{employeeId:a||""}),p==="obras"&&W.default.createElement(bk,{employeeId:a||""}),p==="cronograma"&&W.default.createElement(yk,{employeeId:a||""}),p==="activos"&&W.default.createElement(xk,{employeeId:a||""}),p==="checklists"&&W.default.createElement(wk,{employeeId:a||""}),p==="fichajes"&&W.default.createElement(uX,{employeeId:a||""}),p==="gastos"&&W.default.createElement(vk,{employeeId:a||"",isAdmin:s}),p==="vacaciones"&&W.default.createElement(ck,{employeeId:a||""}),p==="nominas"&&W.default.createElement(Bk,{employeeId:a||""}),p==="seguridad"&&W.default.createElement(ACe,{employeeId:a||"",employeeName:`${O.firstName} ${O.lastName}`}),p==="privacidad"&&W.default.createElement(lCe,{employeeId:a||"",employeeName:`${O.firstName} ${O.lastName}`}),p==="notas-rrhh"&&W.default.createElement(fCe,{value:T.privateNotes,onChange:R=>U(H=>({...H,privateNotes:R})),onSave:he,saving:f}))))),W.default.createElement(yQ,{isOpen:I,onClose:()=>S(!1),employeeId:a||"",employeeName:`${O.firstName} ${O.lastName}`,onSuccess:()=>nt.success("Biometr\xEDa actualizada")})):W.default.createElement("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500"},W.default.createElement("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4"},W.default.createElement(gp,{to:"/employees",className:"inline-flex items-center gap-2 text-slate-500 hover:text-blue-500 transition-colors self-start"},W.default.createElement(Xp,{size:16})," ",W.default.createElement("span",{className:"md:inline"},"Volver")),W.default.createElement("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto"},W.default.createElement("button",{type:"button",onClick:()=>i?o("/employees"):c(!1),className:"px-4 py-3 md:py-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg w-full md:w-auto text-center"},"Cancelar"),W.default.createElement("button",{disabled:f,onClick:he,className:"px-6 py-3 md:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50 w-full md:w-auto transition-all active:scale-95"},f?W.default.createElement(kn,{size:18,className:"animate-spin"}):W.default.createElement(bd,{size:18}),i?"Crear Empleado":"Guardar Cambios"))),W.default.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden"},W.default.createElement("div",{className:"border-b border-slate-100 dark:border-slate-800"},W.default.createElement("div",{className:"flex overflow-x-auto"},["personal","laboral","financiero","fechas","expediente","prl"].map(R=>W.default.createElement("button",{key:R,onClick:()=>v(R),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${p===R?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`},R==="prl"?"PRL / Formaci\xF3n":R.charAt(0).toUpperCase()+R.slice(1))))),W.default.createElement("div",{className:"p-8 min-h-[400px]"},W.default.createElement(kp,{mode:"wait"},W.default.createElement(Ab.div,{key:p,initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2}},W.default.createElement("form",{className:"max-w-4xl mx-auto space-y-8"},p==="personal"&&W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in duration-300"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Nombre ",W.default.createElement("span",{className:"text-red-500"},"*")),W.default.createElement("input",{name:"firstName",value:T.firstName,onChange:Z,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",placeholder:"Ej: Juan"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Apellidos ",W.default.createElement("span",{className:"text-red-500"},"*")),W.default.createElement("input",{name:"lastName",value:T.lastName,onChange:Z,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",placeholder:"Ej: P\xE9rez Garc\xEDa"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"DNI / NIE ",W.default.createElement("span",{className:"text-red-500"},"*")),W.default.createElement("input",{name:"dni",value:T.dni,onChange:Z,required:!0,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",placeholder:"12345678A"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Caducidad DNI"),W.default.createElement("input",{type:"date",name:"dniExpiration",value:T.dniExpiration,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Fecha Nacimiento"),W.default.createElement("input",{type:"date",name:"birthDate",value:T.birthDate,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Pa\xEDs"),W.default.createElement("select",{name:"country",value:T.country,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},tCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Provincia"),T.country==="Espa\xF1a"?W.default.createElement("select",{name:"province",value:T.province,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),eCe.map(R=>W.default.createElement("option",{key:R,value:R},R))):W.default.createElement("input",{name:"province",value:T.province,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",placeholder:"Provincia / Estado"}))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Empadronado en"),W.default.createElement("input",{list:"municipios-list",name:"registeredIn",value:T.registeredIn,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}),W.default.createElement("datalist",{id:"municipios-list"},rCe.map(R=>W.default.createElement("option",{key:R,value:R})))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Email"),W.default.createElement("input",{name:"email",value:T.email,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("div",{className:"flex justify-between items-center"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Tel\xE9fono"),T.phone&&W.default.createElement("a",{href:`https://api.whatsapp.com/send?phone=${T.phone.replace(/\D/g,"").startsWith("34")?"":"34"}${T.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-green-600 font-bold hover:underline flex items-center gap-1"},W.default.createElement(wd,{size:10})," WhatsApp")),W.default.createElement("input",{name:"phone",value:T.phone,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("div",{className:"flex justify-between items-center"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Tel\xE9fono de Empresa"),T.companyPhone&&W.default.createElement("a",{href:`https://api.whatsapp.com/send?phone=${T.companyPhone.replace(/\D/g,"").startsWith("34")?"":"34"}${T.companyPhone.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-green-600 font-bold hover:underline flex items-center gap-1"},W.default.createElement(wd,{size:10})," WhatsApp")),W.default.createElement("input",{name:"companyPhone",value:T.companyPhone,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800",placeholder:"Ej: 600..."})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"G\xE9nero"),W.default.createElement("select",{name:"gender",value:T.gender,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"No especificado"),W.default.createElement("option",{value:"MALE"},"Masculino"),W.default.createElement("option",{value:"FEMALE"},"Femenino"),W.default.createElement("option",{value:"OTHER"},"Otro"))),W.default.createElement("div",{className:"md:col-span-2 space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800"},W.default.createElement("h4",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider"},"Direcci\xF3n"),W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},W.default.createElement("div",{className:"md:col-span-1 space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Calle / N\xFAmero"),W.default.createElement("input",{name:"address",value:T.address,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Ciudad"),W.default.createElement("input",{name:"city",value:T.city,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"C\xF3digo Postal"),W.default.createElement("input",{name:"postalCode",value:T.postalCode,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})))),W.default.createElement("div",{className:"md:col-span-2 space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800"},W.default.createElement("h4",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider text-blue-600 dark:text-blue-400"},"Carnet de Conducir"),W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},W.default.createElement("div",{className:"flex items-center gap-2"},W.default.createElement("input",{type:"checkbox",name:"drivingLicense",checked:T.drivingLicense,onChange:Z,className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"\xBFTiene carnet?")),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Tipo de Carnet"),W.default.createElement("input",{name:"drivingLicenseType",value:T.drivingLicenseType,onChange:Z,disabled:!T.drivingLicense,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 disabled:opacity-50",placeholder:"Ej: B, C1..."})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Caducidad Carnet"),W.default.createElement("input",{type:"date",name:"drivingLicenseExpiration",value:T.drivingLicenseExpiration,onChange:Z,disabled:!T.drivingLicense,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 disabled:opacity-50"})))),W.default.createElement("div",{className:"md:col-span-2 space-y-4 pt-4 border-t border-slate-100 dark:border-slate-800"},W.default.createElement("div",{className:"flex justify-between items-center"},W.default.createElement("h4",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wider text-red-600 dark:text-red-400"},"Contactos de Emergencia (M\xE1x 5)"),W.default.createElement("span",{className:"text-xs text-slate-500"},T.emergencyContacts.length,"/5")),W.default.createElement("div",{className:"space-y-3"},T.emergencyContacts.map((R,H)=>W.default.createElement("div",{key:H,className:"flex gap-4 items-end bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800"},W.default.createElement("div",{className:"flex-1 space-y-1"},W.default.createElement("label",{className:"text-xs text-slate-500"},"Nombre"),W.default.createElement("div",{className:"font-medium text-slate-900 dark:text-slate-200"},R.name)),W.default.createElement("div",{className:"flex-1 space-y-1"},W.default.createElement("label",{className:"text-xs text-slate-500"},"Tel\xE9fono"),W.default.createElement("div",{className:"font-medium text-slate-900 dark:text-slate-200"},R.phone)),W.default.createElement("div",{className:"flex-1 space-y-1"},W.default.createElement("label",{className:"text-xs text-slate-500"},"Relaci\xF3n"),W.default.createElement("div",{className:"font-medium text-slate-900 dark:text-slate-200"},R.relationship||"-")),W.default.createElement("button",{type:"button",onClick:()=>{let ae=[...T.emergencyContacts];ae.splice(H,1),U(le=>({...le,emergencyContacts:ae}))},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"},W.default.createElement(Dn,{size:18}))))),T.emergencyContacts.length<5&&W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end bg-blue-50/50 dark:bg-blue-900/10 p-4 rounded-xl border border-blue-100 dark:border-blue-800 border-dashed"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-xs font-medium text-slate-700 dark:text-slate-300"},"Nombre"),W.default.createElement("input",{value:D.name,onChange:R=>k(H=>({...H,name:R.target.value})),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",placeholder:"Nombre completo"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-xs font-medium text-slate-700 dark:text-slate-300"},"Tel\xE9fono"),W.default.createElement("input",{value:D.phone,onChange:R=>k(H=>({...H,phone:R.target.value})),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",placeholder:"600..."})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-xs font-medium text-slate-700 dark:text-slate-300"},"Relaci\xF3n"),W.default.createElement("input",{value:D.relationship,onChange:R=>k(H=>({...H,relationship:R.target.value})),className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",placeholder:"Ej: Padre"})),W.default.createElement("button",{type:"button",disabled:!D.name||!D.phone,onClick:()=>{U(R=>({...R,emergencyContacts:[...R.emergencyContacts,D]})),k({name:"",phone:"",relationship:""})},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium flex items-center justify-center gap-2 h-[38px]"},W.default.createElement(ta,{size:16})," A\xF1adir")))),p==="laboral"&&W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in duration-300"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Empresa / Centro"),W.default.createElement("select",{name:"companyId",value:T.companyId,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar empresa..."),P.map(R=>W.default.createElement("option",{key:R.id,value:R.id},R.name)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Departamento"),W.default.createElement("select",{name:"department",value:T.department,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),nCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Puesto (Job Title)"),W.default.createElement("select",{name:"jobTitle",value:T.jobTitle,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),aCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Categor\xEDa"),W.default.createElement("select",{name:"category",value:T.category,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),oCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Tipo Contrato"),W.default.createElement("select",{name:"contractType",value:T.contractType,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),iCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Convenio"),W.default.createElement("select",{name:"agreementType",value:T.agreementType,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"},W.default.createElement("option",{value:""},"Seleccionar..."),sCe.map(R=>W.default.createElement("option",{key:R,value:R},R)))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 font-bold text-amber-600 dark:text-amber-400"},"Responsable Directo"),W.default.createElement("select",{name:"managerId",value:T.managerId,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-amber-200 dark:border-amber-900/30 bg-amber-50/20 dark:bg-amber-900/10"},W.default.createElement("option",{value:""},"Sin responsable asignado"),z.map(R=>W.default.createElement("option",{key:R.id,value:R.id},R.firstName," ",R.lastName," (",R.jobTitle,")")))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Tipo de Jornada"),W.default.createElement("select",{name:"workingDayType",value:T.workingDayType,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 font-bold text-blue-600 dark:text-blue-400"},W.default.createElement("option",{value:"COMPLETE"},"Jornada Completa"),W.default.createElement("option",{value:"PARTIAL"},"Jornada Parcial"))),T.workingDayType==="PARTIAL"&&W.default.createElement("div",{className:"space-y-2 animate-in slide-in-from-left duration-300"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Horas Semanales"),W.default.createElement("input",{type:"number",name:"weeklyHours",value:T.weeklyHours,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-blue-200 dark:border-blue-700 bg-blue-50/30 dark:bg-blue-900/10 font-bold",placeholder:"Ej: 20"}))),p==="financiero"&&W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in duration-300"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Subcuenta Contable (465)"),W.default.createElement("input",{name:"subaccount465",value:T.subaccount465,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"md:col-span-2 space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"IBAN"),W.default.createElement("input",{name:"iban",value:T.iban,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-slate-100 dark:border-slate-800"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2"},"Sueldo Bruto Anual",W.default.createElement("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded text-slate-500"},"\u20AC/A\xF1o")),W.default.createElement("input",{type:"number",step:"0.01",name:"annualGrossSalary",value:T.annualGrossSalary,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-green-200 dark:border-green-900/50 bg-green-50/30 dark:bg-green-900/10 font-bold text-green-700 dark:text-green-400",placeholder:"Ej: 24000"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2"},"Sueldo Bruto Mensual",W.default.createElement("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded text-slate-500"},"\u20AC/Mes (12 pagas)")),W.default.createElement("input",{type:"number",step:"0.01",name:"monthlyGrossSalary",value:T.monthlyGrossSalary,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-green-200 dark:border-green-900/50 bg-green-50/30 dark:bg-green-900/10 font-bold text-green-700 dark:text-green-400",placeholder:"Ej: 2000"})))),p==="fechas"&&W.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in fade-in duration-300"},W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Fecha Entrada / Antig\xFCedad"),W.default.createElement("input",{type:"date",name:"entryDate",value:T.entryDate,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),T.contractType==="Fijo Discontinuo"&&W.default.createElement(W.default.Fragment,null,W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Fecha Llamamiento"),W.default.createElement("input",{type:"date",name:"callDate",value:T.callDate,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Fecha Interrupci\xF3n de Contrato"),W.default.createElement("input",{type:"date",name:"contractInterruptionDate",value:T.contractInterruptionDate,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}))),W.default.createElement("div",{className:"space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Fecha Baja"),W.default.createElement("input",{type:"date",name:"lowDate",value:T.lowDate,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"})),W.default.createElement("div",{className:"md:col-span-2 space-y-2"},W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Motivo Baja"),W.default.createElement("input",{name:"lowReason",value:T.lowReason,onChange:Z,className:"w-full px-4 py-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800"}))),p==="expediente"&&!i&&W.default.createElement("div",{className:"animate-in fade-in duration-300"},W.default.createElement(bS,{employeeId:a||""})),p==="prl"&&!i&&W.default.createElement("div",{className:"animate-in fade-in duration-300"},W.default.createElement(CS,{employeeId:a||""})))))),W.default.createElement("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3"})))}function lCe({employeeId:r,employeeName:e}){let[t,n]=(0,W.useState)([]),[a,o]=(0,W.useState)(!0);(0,W.useEffect)(()=>{i()},[r]);let i=async()=>{try{let u=await bt.get(`/audit/EMPLOYEE/${r}`);n(u.data?.data||u.data||[])}catch(u){console.error(u)}finally{o(!1)}};return W.default.createElement("div",{className:"space-y-8 max-w-4xl"},W.default.createElement("div",{className:"bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800 p-6 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-6"},W.default.createElement("div",null,W.default.createElement("h3",{className:"text-lg font-bold text-blue-900 dark:text-blue-400 flex items-center gap-2"},W.default.createElement(xv,{size:20})," Derecho de Portabilidad (RGPD)"),W.default.createElement("p",{className:"text-sm text-blue-700 dark:text-blue-500 mt-1 max-w-xl"},"Descarga un archivo JSON con todos los datos registrados del empleado. Este documento cumple con el derecho de acceso y portabilidad.")),W.default.createElement("button",{onClick:async()=>{try{let u=await bt.get(`/employees/${r}/portability-report`,{responseType:"blob"}),l=window.URL.createObjectURL(new Blob([u.data])),c=document.createElement("a");c.href=l,c.setAttribute("download",`portabilidad_${e.replace(/\s+/g,"_")}.json`),document.body.appendChild(c),c.click(),c.parentNode?.removeChild(c),nt.success("Reporte de portabilidad generado correctamente")}catch{nt.error("Error al descargar el reporte")}},className:"px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-500/20 active:scale-95 whitespace-nowrap"},"Descargar Reporte JSON")),W.default.createElement("div",{className:"space-y-4"},W.default.createElement("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2"},W.default.createElement(ri,{size:20,className:"text-slate-400"})," Historial de Acceso y Modificaciones"),W.default.createElement("div",{className:"overflow-hidden rounded-xl border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-950"},W.default.createElement("table",{className:"w-full text-left text-sm"},W.default.createElement("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-500 uppercase text-[10px] font-bold tracking-widest"},W.default.createElement("tr",null,W.default.createElement("th",{className:"px-6 py-4"},"Acci\xF3n"),W.default.createElement("th",{className:"px-6 py-4"},"Usuario"),W.default.createElement("th",{className:"px-6 py-4 text-right"},"Fecha"))),W.default.createElement("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800"},a?W.default.createElement("tr",null,W.default.createElement("td",{colSpan:3,className:"p-8 text-center animate-pulse text-slate-400"},"Cargando registros...")):t.length===0?W.default.createElement("tr",null,W.default.createElement("td",{colSpan:3,className:"p-8 text-center text-slate-400 italic"},"No hay registros de actividad para este empleado")):t.map(u=>W.default.createElement("tr",{key:u.id,className:"hover:bg-slate-50/30 dark:hover:bg-slate-800/30 transition-colors"},W.default.createElement("td",{className:"px-6 py-4"},W.default.createElement("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-bold border uppercase tracking-wider ${u.action==="VIEW_SENSITIVE_DATA"?"bg-amber-100 text-amber-700 border-amber-200":u.action==="UPDATE"?"bg-blue-100 text-blue-700 border-blue-200":"bg-slate-100 text-slate-700 border-slate-200"}`},u.action==="VIEW_SENSITIVE_DATA"?"Consulta Datos":u.action)),W.default.createElement("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-400 font-medium"},u.user?`${u.user.firstName} ${u.user.lastName}`:"Sistema"),W.default.createElement("td",{className:"px-6 py-4 text-right text-slate-500 tabular-nums font-medium"},new Date(u.createdAt).toLocaleString()))))))))}function cCe({employeeId:r,category:e}){let t=Ds(),[n,a]=(0,W.useState)(0),[o,i]=(0,W.useState)(new Date().toISOString().split("T")[0]),[s,u]=(0,W.useState)("NORMAL"),[l,c]=(0,W.useState)({normal:0,holiday:0}),[A,d]=(0,W.useState)([]),[f,h]=(0,W.useState)(!0),p=s==="NORMAL"?l.normal:l.holiday;(0,W.useEffect)(()=>{if(!o)return;let S=new Date(o),E=S.getDay();E===0||E===6||Jp(S)?u("HOLIDAY"):u("NORMAL")},[o]),(0,W.useEffect)(()=>{if(!o)return;let S=new Date(o),E=S.getDay();E===0||E===6||Jp(S)?u("HOLIDAY"):u("NORMAL")},[o]);let v=async()=>{h(!0);try{let S=await bt.get("/overtime/rates"),T=(S.data||S||[]).find(D=>D.category===e);c({normal:T?.overtimeRate||0,holiday:T?.holidayOvertimeRate||0});let U=await bt.get(`/overtime/employee/${r}`);d(U.data||U||[])}catch(S){console.error(S)}finally{h(!1)}},g=async()=>{if(!(n<=0))try{await bt.post("/overtime",{employeeId:r,hours:n,rate:p,date:o?new Date(o):new Date}),nt.success("Horas extras registradas"),a(0),v()}catch{nt.error("Error al registrar horas")}},B=async S=>{if(await t({title:"Eliminar Registro",message:"\xBFEst\xE1s seguro de eliminar este registro de horas extras?",confirmText:"Eliminar",type:"danger"}))try{await bt.delete(`/overtime/${S}`),nt.success("Registro eliminado"),v()}catch{nt.error("Error al eliminar")}},I=S=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(S);return W.default.createElement("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 border border-slate-100 dark:border-slate-800 shadow-sm"},W.default.createElement("div",{className:"flex items-center justify-between mb-6"},W.default.createElement("div",{className:"flex items-center gap-3"},W.default.createElement("div",{className:"p-2 bg-amber-500 rounded-lg text-white"},W.default.createElement(ri,{size:20})),W.default.createElement("div",null,W.default.createElement("h2",{className:"text-xl font-bold text-slate-900 dark:text-white"},"Registro de Horas Extras"),W.default.createElement("div",{className:"flex items-center gap-2 text-slate-500 text-sm"},W.default.createElement("span",null,"Categor\xEDa: ",W.default.createElement("span",{className:"font-semibold text-amber-600"},e||"Sin categor\xEDa")),W.default.createElement("span",null,"\xB7"),W.default.createElement("span",null,"Tarifa Actual: ",W.default.createElement("span",{className:"font-semibold"},I(p),"/h")))))),W.default.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},W.default.createElement("div",{className:"lg:col-span-1 space-y-4"},W.default.createElement("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 space-y-4"},W.default.createElement("div",null,W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-2"},"Fecha"),W.default.createElement("input",{type:"date",value:o,onChange:S=>i(S.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 outline-none focus:ring-2 focus:ring-amber-500"})),W.default.createElement("div",null,W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-2"},"Tipo de Hora"),W.default.createElement("div",{className:"flex p-1 bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700"},W.default.createElement("button",{onClick:()=>u("NORMAL"),className:`flex-1 py-1 px-3 text-xs font-medium rounded-md transition-colors ${s==="NORMAL"?"bg-amber-100 text-amber-700":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`},"Normal"),W.default.createElement("button",{onClick:()=>u("HOLIDAY"),className:`flex-1 py-1 px-3 text-xs font-medium rounded-md transition-colors ${s==="HOLIDAY"?"bg-indigo-100 text-indigo-700":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`},"Festivo/Finde"))),W.default.createElement("div",null,W.default.createElement("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 block mb-2"},"Cantidad de Horas"),W.default.createElement("div",{className:"flex gap-2"},W.default.createElement("input",{type:"number",value:n||"",onChange:S=>a(parseFloat(S.target.value)),className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Ej: 2.5"}),W.default.createElement("button",{onClick:g,className:"px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors flex items-center gap-2"},W.default.createElement(ta,{size:18})," A\xF1adir"))),n>0&&W.default.createElement("div",{className:"mt-2 p-3 bg-white dark:bg-slate-900 rounded border border-slate-100 dark:border-slate-700 text-center"},W.default.createElement("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1"},"Total Estimado"),W.default.createElement("p",{className:"text-lg font-bold text-slate-900 dark:text-white"},I(n*p)))),W.default.createElement("div",{className:"p-4 rounded-xl border border-amber-100 dark:border-amber-900/30 bg-amber-50/30 dark:bg-amber-900/10"},W.default.createElement("h4",{className:"text-sm font-bold text-amber-700 dark:text-amber-400 mb-1"},"Nota importante"),W.default.createElement("p",{className:"text-xs text-slate-600 dark:text-slate-400"},"Las tarifas se configuran en el apartado de Ajustes del sistema seg\xFAn el convenio vigente."))),W.default.createElement("div",{className:"lg:col-span-2"},W.default.createElement("div",{className:"overflow-hidden rounded-xl border border-slate-100 dark:border-slate-800 relative min-h-[200px]"},f&&W.default.createElement("div",{className:"absolute inset-0 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-10"},W.default.createElement(kn,{className:"animate-spin text-amber-500",size:32})),W.default.createElement("table",{className:"w-full text-left text-sm"},W.default.createElement("thead",{className:"bg-slate-50 dark:bg-slate-800/50 text-slate-500 uppercase text-[10px] font-bold tracking-wider"},W.default.createElement("tr",null,W.default.createElement("th",{className:"px-4 py-3"},"Fecha"),W.default.createElement("th",{className:"px-4 py-3 text-center"},"Horas"),W.default.createElement("th",{className:"px-4 py-3 text-center"},"Precio/h"),W.default.createElement("th",{className:"px-4 py-3 text-right"},"Total"),W.default.createElement("th",{className:"px-4 py-3"}))),W.default.createElement("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800"},!f&&A.length===0?W.default.createElement("tr",null,W.default.createElement("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-400 italic"},"No hay horas extras registradas")):A.map(S=>W.default.createElement("tr",{key:S.id,className:"hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors"},W.default.createElement("td",{className:"px-4 py-3 text-slate-700 dark:text-slate-300"},new Date(S.date).toLocaleDateString()),W.default.createElement("td",{className:"px-4 py-3 text-center font-semibold text-slate-900 dark:text-white"},S.hours,"h"),W.default.createElement("td",{className:"px-4 py-3 text-center text-slate-500"},I(S.rate)),W.default.createElement("td",{className:"px-4 py-3 text-right font-bold text-blue-600"},I(S.total)),W.default.createElement("td",{className:"px-4 py-3 text-right"},W.default.createElement("button",{onClick:()=>B(S.id),className:"text-slate-300 hover:text-red-500 p-1"},W.default.createElement(Dn,{size:14})))))))))))}function ACe({employeeId:r,employeeName:e}){let[t,n]=(0,W.useState)(!1);return W.default.createElement("div",{className:"space-y-6 max-w-2xl mx-auto"},W.default.createElement("div",{className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-2xl p-8 shadow-sm text-center"},W.default.createElement("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4"},W.default.createElement(Cv,{size:32,className:"text-blue-600 dark:text-blue-400"})),W.default.createElement("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2"},"Acceso al Portal del Empleado"),W.default.createElement("p",{className:"text-slate-500 dark:text-slate-400 mb-8 max-w-md mx-auto"},"Genera o restablece las credenciales de acceso para ",W.default.createElement("strong",null,e),". El sistema enviar\xE1 autom\xE1ticamente un correo electr\xF3nico con el DNI (usuario) y una nueva contrase\xF1a."),W.default.createElement("button",{onClick:async()=>{n(!0);try{let o=await bt.post("/auth/generate-access",{employeeId:r});o.success&&nt.success(`Acceso generado. Credenciales enviadas a: ${o.data.email}`)}catch(o){nt.error(o.message||"Error al generar acceso")}finally{n(!1)}},disabled:t,className:"w-full max-w-xs mx-auto py-3 bg-blue-600 text-white font-bold rounded-xl shadow-xl shadow-blue-500/20 hover:bg-blue-700 hover:-translate-y-0.5 transition-all disabled:opacity-50 disabled:hover:translate-y-0 flex items-center justify-center gap-2"},t?W.default.createElement(kn,{className:"animate-spin",size:20}):W.default.createElement(dv,{size:20}),t?"Generando...":"Habilitar / Restablecer Acceso"),W.default.createElement("p",{className:"text-xs text-slate-400 mt-4 font-medium uppercase tracking-wider"},"Se enviar\xE1 un correo a la direcci\xF3n personal")))}function fCe({value:r,onChange:e,onSave:t,saving:n}){return W.default.createElement("div",{className:"space-y-6"},W.default.createElement("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/30 p-6 rounded-2xl"},W.default.createElement("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-400 flex items-center gap-2 mb-4"},W.default.createElement(bd,{size:20,className:"text-amber-600"})," Notas Administrativas Privadas"),W.default.createElement("p",{className:"text-sm text-amber-700 dark:text-amber-500 mb-4 italic"},"* Estas notas son estrictamente confidenciales y solo visibles por el equipo de RRHH / Administraci\xF3n."),W.default.createElement("textarea",{value:r,onChange:a=>e(a.target.value),placeholder:"Escribe aqu\xED notas sobre el empleado (comportamiento, incidencias, recordatorios...)",className:"w-full h-64 p-4 rounded-xl border border-amber-200 dark:border-amber-900/50 bg-white dark:bg-slate-950 focus:ring-2 focus:ring-amber-500 outline-none text-slate-700 dark:text-slate-200"}),W.default.createElement("div",{className:"flex justify-end mt-4"},W.default.createElement("button",{onClick:t,disabled:n,className:"px-6 py-2 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-700 transition-all flex items-center gap-2 disabled:opacity-50"},n?W.default.createElement(kn,{size:18,className:"animate-spin"}):W.default.createElement(bd,{size:18}),"Guardar Nota"))))}})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)

html2canvas/dist/html2canvas.js:
  (*!
   * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
   * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
   * Released under MIT License
   *)
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE *)

svg-pathdata/lib/SVGPathData.module.js:
tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

jspdf/dist/jspdf.es.min.js:
  (** @license
   *
   * jsPDF - PDF Document creation from JavaScript
   * Version 4.1.0 Built on 2026-02-02T10:38:25.210Z
   *                      CommitID 00000000
   *
   * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2015-2025 yWorks GmbH, http://www.yworks.com
   *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
   *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, https://github.com/willowsystems
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   *)
  (**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   *)
  (**
   * @license
   * Joseph Myers does not specify a particular license for his work.
   *
   * Author: Joseph Myers
   * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
   *
   * Modified by: Owen Leong
   *)
  (**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   *)
  (**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   *)
  (**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.
  
    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:
  
    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.
  
    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  *)
  (**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   *)
  (** ====================================================================
   * @license
   * jsPDF XMP metadata plugin
   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   *)

react-router/dist/development/chunk-JZWAC4HX.mjs:
react-router/dist/development/index.mjs:
  (**
   * react-router v7.13.0
   *
   * Copyright (c) Remix Software Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   *)

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/arrow-left.js:
lucide-react/dist/esm/icons/arrow-right.js:
lucide-react/dist/esm/icons/baby.js:
lucide-react/dist/esm/icons/building.js:
lucide-react/dist/esm/icons/calendar.js:
lucide-react/dist/esm/icons/camera.js:
lucide-react/dist/esm/icons/check.js:
lucide-react/dist/esm/icons/chevron-left.js:
lucide-react/dist/esm/icons/chevron-right.js:
lucide-react/dist/esm/icons/circle-alert.js:
lucide-react/dist/esm/icons/circle-check.js:
lucide-react/dist/esm/icons/circle-x.js:
lucide-react/dist/esm/icons/circle.js:
lucide-react/dist/esm/icons/clipboard-list.js:
lucide-react/dist/esm/icons/clock.js:
lucide-react/dist/esm/icons/coffee.js:
lucide-react/dist/esm/icons/credit-card.js:
lucide-react/dist/esm/icons/dollar-sign.js:
lucide-react/dist/esm/icons/download.js:
lucide-react/dist/esm/icons/ellipsis.js:
lucide-react/dist/esm/icons/euro.js:
lucide-react/dist/esm/icons/external-link.js:
lucide-react/dist/esm/icons/eye.js:
lucide-react/dist/esm/icons/file-text.js:
lucide-react/dist/esm/icons/funnel.js:
lucide-react/dist/esm/icons/gift.js:
lucide-react/dist/esm/icons/graduation-cap.js:
lucide-react/dist/esm/icons/hard-hat.js:
lucide-react/dist/esm/icons/heart-pulse.js:
lucide-react/dist/esm/icons/history.js:
lucide-react/dist/esm/icons/info.js:
lucide-react/dist/esm/icons/key.js:
lucide-react/dist/esm/icons/loader-circle.js:
lucide-react/dist/esm/icons/lock.js:
lucide-react/dist/esm/icons/log-in.js:
lucide-react/dist/esm/icons/log-out.js:
lucide-react/dist/esm/icons/map-pin.js:
lucide-react/dist/esm/icons/message-circle.js:
lucide-react/dist/esm/icons/package.js:
lucide-react/dist/esm/icons/phone.js:
lucide-react/dist/esm/icons/plane.js:
lucide-react/dist/esm/icons/plus.js:
lucide-react/dist/esm/icons/receipt.js:
lucide-react/dist/esm/icons/save.js:
lucide-react/dist/esm/icons/scale.js:
lucide-react/dist/esm/icons/scan-face.js:
lucide-react/dist/esm/icons/shield-alert.js:
lucide-react/dist/esm/icons/shield-check.js:
lucide-react/dist/esm/icons/stethoscope.js:
lucide-react/dist/esm/icons/tag.js:
lucide-react/dist/esm/icons/trash-2.js:
lucide-react/dist/esm/icons/triangle-alert.js:
lucide-react/dist/esm/icons/upload.js:
lucide-react/dist/esm/icons/user-minus.js:
lucide-react/dist/esm/icons/user-plus.js:
lucide-react/dist/esm/icons/x.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.562.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

@tensorflow/tfjs-core/dist/tf-core.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC. All Rights Reserved.
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   * =============================================================================
   *)
*/
